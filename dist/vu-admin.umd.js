(function(yt,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],i):(yt=typeof globalThis<"u"?globalThis:yt||self,i(yt.VuAdmin={},yt.Vue))})(this,function(yt,i){"use strict";var Ax=Object.defineProperty;var Tx=(yt,i,$t)=>i in yt?Ax(yt,i,{enumerable:!0,configurable:!0,writable:!0,value:$t}):yt[i]=$t;var G=(yt,i,$t)=>Tx(yt,typeof i!="symbol"?i+"":i,$t);var $t="top",oe="bottom",ae="right",te="left",_i="auto",Xn=[$t,oe,ae,te],Sn="start",Zn="end",cl="clippingParents",Sr="viewport",Jn="popper",hl="reference",Br=Xn.reduce(function(e,t){return e.concat([t+"-"+Sn,t+"-"+Zn])},[]),Or=[].concat(Xn,[_i]).reduce(function(e,t){return e.concat([t,t+"-"+Sn,t+"-"+Zn])},[]),dl="beforeRead",ul="read",fl="afterRead",pl="beforeMain",ml="main",gl="afterMain",bl="beforeWrite",yl="write",El="afterWrite",_l=[dl,ul,fl,pl,ml,gl,bl,yl,El];function ve(e){return e?(e.nodeName||"").toLowerCase():null}function le(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Bn(e){var t=le(e).Element;return e instanceof t||e instanceof Element}function he(e){var t=le(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Lr(e){if(typeof ShadowRoot>"u")return!1;var t=le(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function au(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var s=t.styles[n]||{},r=t.attributes[n]||{},o=t.elements[n];!he(o)||!ve(o)||(Object.assign(o.style,s),Object.keys(r).forEach(function(l){var a=r[l];a===!1?o.removeAttribute(l):o.setAttribute(l,a===!0?"":a)}))})}function lu(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(s){var r=t.elements[s],o=t.attributes[s]||{},l=Object.keys(t.styles.hasOwnProperty(s)?t.styles[s]:n[s]),a=l.reduce(function(c,h){return c[h]="",c},{});!he(r)||!ve(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(c){r.removeAttribute(c)}))})}}const Vr={name:"applyStyles",enabled:!0,phase:"write",fn:au,effect:lu,requires:["computeStyles"]};function De(e){return e.split("-")[0]}var On=Math.max,wi=Math.min,Qn=Math.round;function Ir(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function wl(){return!/^((?!chrome|android).)*safari/i.test(Ir())}function ts(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var s=e.getBoundingClientRect(),r=1,o=1;t&&he(e)&&(r=e.offsetWidth>0&&Qn(s.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Qn(s.height)/e.offsetHeight||1);var l=Bn(e)?le(e):window,a=l.visualViewport,c=!wl()&&n,h=(s.left+(c&&a?a.offsetLeft:0))/r,f=(s.top+(c&&a?a.offsetTop:0))/o,u=s.width/r,m=s.height/o;return{width:u,height:m,top:f,right:h+u,bottom:f+m,left:h,x:h,y:f}}function vr(e){var t=ts(e),n=e.offsetWidth,s=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:s}}function kl(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Lr(n)){var s=t;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Ke(e){return le(e).getComputedStyle(e)}function cu(e){return["table","td","th"].indexOf(ve(e))>=0}function fn(e){return((Bn(e)?e.ownerDocument:e.document)||window.document).documentElement}function ki(e){return ve(e)==="html"?e:e.assignedSlot||e.parentNode||(Lr(e)?e.host:null)||fn(e)}function Nl(e){return!he(e)||Ke(e).position==="fixed"?null:e.offsetParent}function hu(e){var t=/firefox/i.test(Ir()),n=/Trident/i.test(Ir());if(n&&he(e)){var s=Ke(e);if(s.position==="fixed")return null}var r=ki(e);for(Lr(r)&&(r=r.host);he(r)&&["html","body"].indexOf(ve(r))<0;){var o=Ke(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Is(e){for(var t=le(e),n=Nl(e);n&&cu(n)&&Ke(n).position==="static";)n=Nl(n);return n&&(ve(n)==="html"||ve(n)==="body"&&Ke(n).position==="static")?t:n||hu(e)||t}function Dr(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function vs(e,t,n){return On(e,wi(t,n))}function du(e,t,n){var s=vs(e,t,n);return s>n?n:s}function Al(){return{top:0,right:0,bottom:0,left:0}}function Tl(e){return Object.assign({},Al(),e)}function Cl(e,t){return t.reduce(function(n,s){return n[s]=e,n},{})}var uu=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Tl(typeof t!="number"?t:Cl(t,Xn))};function fu(e){var t,n=e.state,s=e.name,r=e.options,o=n.elements.arrow,l=n.modifiersData.popperOffsets,a=De(n.placement),c=Dr(a),h=[te,ae].indexOf(a)>=0,f=h?"height":"width";if(!(!o||!l)){var u=uu(r.padding,n),m=vr(o),b=c==="y"?$t:te,y=c==="y"?oe:ae,k=n.rects.reference[f]+n.rects.reference[c]-l[c]-n.rects.popper[f],T=l[c]-n.rects.reference[c],S=Is(o),$=S?c==="y"?S.clientHeight||0:S.clientWidth||0:0,q=k/2-T/2,H=u[b],U=$-m[f]-u[y],z=$/2-m[f]/2+q,at=vs(H,z,U),lt=c;n.modifiersData[s]=(t={},t[lt]=at,t.centerOffset=at-z,t)}}function pu(e){var t=e.state,n=e.options,s=n.element,r=s===void 0?"[data-popper-arrow]":s;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||kl(t.elements.popper,r)&&(t.elements.arrow=r))}const Fl={name:"arrow",enabled:!0,phase:"main",fn:fu,effect:pu,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function es(e){return e.split("-")[1]}var mu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gu(e,t){var n=e.x,s=e.y,r=t.devicePixelRatio||1;return{x:Qn(n*r)/r||0,y:Qn(s*r)/r||0}}function xl(e){var t,n=e.popper,s=e.popperRect,r=e.placement,o=e.variation,l=e.offsets,a=e.position,c=e.gpuAcceleration,h=e.adaptive,f=e.roundOffsets,u=e.isFixed,m=l.x,b=m===void 0?0:m,y=l.y,k=y===void 0?0:y,T=typeof f=="function"?f({x:b,y:k}):{x:b,y:k};b=T.x,k=T.y;var S=l.hasOwnProperty("x"),$=l.hasOwnProperty("y"),q=te,H=$t,U=window;if(h){var z=Is(n),at="clientHeight",lt="clientWidth";if(z===le(n)&&(z=fn(n),Ke(z).position!=="static"&&a==="absolute"&&(at="scrollHeight",lt="scrollWidth")),z=z,r===$t||(r===te||r===ae)&&o===Zn){H=oe;var A=u&&z===U&&U.visualViewport?U.visualViewport.height:z[at];k-=A-s.height,k*=c?1:-1}if(r===te||(r===$t||r===oe)&&o===Zn){q=ae;var v=u&&z===U&&U.visualViewport?U.visualViewport.width:z[lt];b-=v-s.width,b*=c?1:-1}}var g=Object.assign({position:a},h&&mu),N=f===!0?gu({x:b,y:k},le(n)):{x:b,y:k};if(b=N.x,k=N.y,c){var _;return Object.assign({},g,(_={},_[H]=$?"0":"",_[q]=S?"0":"",_.transform=(U.devicePixelRatio||1)<=1?"translate("+b+"px, "+k+"px)":"translate3d("+b+"px, "+k+"px, 0)",_))}return Object.assign({},g,(t={},t[H]=$?k+"px":"",t[q]=S?b+"px":"",t.transform="",t))}function bu(e){var t=e.state,n=e.options,s=n.gpuAcceleration,r=s===void 0?!0:s,o=n.adaptive,l=o===void 0?!0:o,a=n.roundOffsets,c=a===void 0?!0:a,h={placement:De(t.placement),variation:es(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,xl(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,xl(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const $r={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bu,data:{}};var Ni={passive:!0};function yu(e){var t=e.state,n=e.instance,s=e.options,r=s.scroll,o=r===void 0?!0:r,l=s.resize,a=l===void 0?!0:l,c=le(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(f){f.addEventListener("scroll",n.update,Ni)}),a&&c.addEventListener("resize",n.update,Ni),function(){o&&h.forEach(function(f){f.removeEventListener("scroll",n.update,Ni)}),a&&c.removeEventListener("resize",n.update,Ni)}}const Mr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:yu,data:{}};var Eu={left:"right",right:"left",bottom:"top",top:"bottom"};function Ai(e){return e.replace(/left|right|bottom|top/g,function(t){return Eu[t]})}var _u={start:"end",end:"start"};function Sl(e){return e.replace(/start|end/g,function(t){return _u[t]})}function Rr(e){var t=le(e),n=t.pageXOffset,s=t.pageYOffset;return{scrollLeft:n,scrollTop:s}}function qr(e){return ts(fn(e)).left+Rr(e).scrollLeft}function wu(e,t){var n=le(e),s=fn(e),r=n.visualViewport,o=s.clientWidth,l=s.clientHeight,a=0,c=0;if(r){o=r.width,l=r.height;var h=wl();(h||!h&&t==="fixed")&&(a=r.offsetLeft,c=r.offsetTop)}return{width:o,height:l,x:a+qr(e),y:c}}function ku(e){var t,n=fn(e),s=Rr(e),r=(t=e.ownerDocument)==null?void 0:t.body,o=On(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=On(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-s.scrollLeft+qr(e),c=-s.scrollTop;return Ke(r||n).direction==="rtl"&&(a+=On(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:l,x:a,y:c}}function Pr(e){var t=Ke(e),n=t.overflow,s=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function Bl(e){return["html","body","#document"].indexOf(ve(e))>=0?e.ownerDocument.body:he(e)&&Pr(e)?e:Bl(ki(e))}function Ds(e,t){var n;t===void 0&&(t=[]);var s=Bl(e),r=s===((n=e.ownerDocument)==null?void 0:n.body),o=le(s),l=r?[o].concat(o.visualViewport||[],Pr(s)?s:[]):s,a=t.concat(l);return r?a:a.concat(Ds(ki(l)))}function jr(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Nu(e,t){var n=ts(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Ol(e,t,n){return t===Sr?jr(wu(e,n)):Bn(t)?Nu(t,n):jr(ku(fn(e)))}function Au(e){var t=Ds(ki(e)),n=["absolute","fixed"].indexOf(Ke(e).position)>=0,s=n&&he(e)?Is(e):e;return Bn(s)?t.filter(function(r){return Bn(r)&&kl(r,s)&&ve(r)!=="body"}):[]}function Tu(e,t,n,s){var r=t==="clippingParents"?Au(e):[].concat(t),o=[].concat(r,[n]),l=o[0],a=o.reduce(function(c,h){var f=Ol(e,h,s);return c.top=On(f.top,c.top),c.right=wi(f.right,c.right),c.bottom=wi(f.bottom,c.bottom),c.left=On(f.left,c.left),c},Ol(e,l,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ll(e){var t=e.reference,n=e.element,s=e.placement,r=s?De(s):null,o=s?es(s):null,l=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,c;switch(r){case $t:c={x:l,y:t.y-n.height};break;case oe:c={x:l,y:t.y+t.height};break;case ae:c={x:t.x+t.width,y:a};break;case te:c={x:t.x-n.width,y:a};break;default:c={x:t.x,y:t.y}}var h=r?Dr(r):null;if(h!=null){var f=h==="y"?"height":"width";switch(o){case Sn:c[h]=c[h]-(t[f]/2-n[f]/2);break;case Zn:c[h]=c[h]+(t[f]/2-n[f]/2);break}}return c}function ns(e,t){t===void 0&&(t={});var n=t,s=n.placement,r=s===void 0?e.placement:s,o=n.strategy,l=o===void 0?e.strategy:o,a=n.boundary,c=a===void 0?cl:a,h=n.rootBoundary,f=h===void 0?Sr:h,u=n.elementContext,m=u===void 0?Jn:u,b=n.altBoundary,y=b===void 0?!1:b,k=n.padding,T=k===void 0?0:k,S=Tl(typeof T!="number"?T:Cl(T,Xn)),$=m===Jn?hl:Jn,q=e.rects.popper,H=e.elements[y?$:m],U=Tu(Bn(H)?H:H.contextElement||fn(e.elements.popper),c,f,l),z=ts(e.elements.reference),at=Ll({reference:z,element:q,placement:r}),lt=jr(Object.assign({},q,at)),A=m===Jn?lt:z,v={top:U.top-A.top+S.top,bottom:A.bottom-U.bottom+S.bottom,left:U.left-A.left+S.left,right:A.right-U.right+S.right},g=e.modifiersData.offset;if(m===Jn&&g){var N=g[r];Object.keys(v).forEach(function(_){var C=[ae,oe].indexOf(_)>=0?1:-1,O=[$t,oe].indexOf(_)>=0?"y":"x";v[_]+=N[O]*C})}return v}function Cu(e,t){t===void 0&&(t={});var n=t,s=n.placement,r=n.boundary,o=n.rootBoundary,l=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,h=c===void 0?Or:c,f=es(s),u=f?a?Br:Br.filter(function(y){return es(y)===f}):Xn,m=u.filter(function(y){return h.indexOf(y)>=0});m.length===0&&(m=u);var b=m.reduce(function(y,k){return y[k]=ns(e,{placement:k,boundary:r,rootBoundary:o,padding:l})[De(k)],y},{});return Object.keys(b).sort(function(y,k){return b[y]-b[k]})}function Fu(e){if(De(e)===_i)return[];var t=Ai(e);return[Sl(e),t,Sl(t)]}function xu(e){var t=e.state,n=e.options,s=e.name;if(!t.modifiersData[s]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,l=n.altAxis,a=l===void 0?!0:l,c=n.fallbackPlacements,h=n.padding,f=n.boundary,u=n.rootBoundary,m=n.altBoundary,b=n.flipVariations,y=b===void 0?!0:b,k=n.allowedAutoPlacements,T=t.options.placement,S=De(T),$=S===T,q=c||($||!y?[Ai(T)]:Fu(T)),H=[T].concat(q).reduce(function(tt,R){return tt.concat(De(R)===_i?Cu(t,{placement:R,boundary:f,rootBoundary:u,padding:h,flipVariations:y,allowedAutoPlacements:k}):R)},[]),U=t.rects.reference,z=t.rects.popper,at=new Map,lt=!0,A=H[0],v=0;v<H.length;v++){var g=H[v],N=De(g),_=es(g)===Sn,C=[$t,oe].indexOf(N)>=0,O=C?"width":"height",w=ns(t,{placement:g,boundary:f,rootBoundary:u,altBoundary:m,padding:h}),F=C?_?ae:te:_?oe:$t;U[O]>z[O]&&(F=Ai(F));var P=Ai(F),j=[];if(o&&j.push(w[N]<=0),a&&j.push(w[F]<=0,w[P]<=0),j.every(function(tt){return tt})){A=g,lt=!1;break}at.set(g,j)}if(lt)for(var M=y?3:1,J=function(R){var W=H.find(function(dt){var Z=at.get(dt);if(Z)return Z.slice(0,R).every(function(ct){return ct})});if(W)return A=W,"break"},Y=M;Y>0;Y--){var nt=J(Y);if(nt==="break")break}t.placement!==A&&(t.modifiersData[s]._skip=!0,t.placement=A,t.reset=!0)}}const Vl={name:"flip",enabled:!0,phase:"main",fn:xu,requiresIfExists:["offset"],data:{_skip:!1}};function Il(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function vl(e){return[$t,ae,oe,te].some(function(t){return e[t]>=0})}function Su(e){var t=e.state,n=e.name,s=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,l=ns(t,{elementContext:"reference"}),a=ns(t,{altBoundary:!0}),c=Il(l,s),h=Il(a,r,o),f=vl(c),u=vl(h);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":u})}const Dl={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Su};function Bu(e,t,n){var s=De(e),r=[te,$t].indexOf(s)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,l=o[0],a=o[1];return l=l||0,a=(a||0)*r,[te,ae].indexOf(s)>=0?{x:a,y:l}:{x:l,y:a}}function Ou(e){var t=e.state,n=e.options,s=e.name,r=n.offset,o=r===void 0?[0,0]:r,l=Or.reduce(function(f,u){return f[u]=Bu(u,t.rects,o),f},{}),a=l[t.placement],c=a.x,h=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=h),t.modifiersData[s]=l}const $l={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ou};function Lu(e){var t=e.state,n=e.name;t.modifiersData[n]=Ll({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const Ur={name:"popperOffsets",enabled:!0,phase:"read",fn:Lu,data:{}};function Vu(e){return e==="x"?"y":"x"}function Iu(e){var t=e.state,n=e.options,s=e.name,r=n.mainAxis,o=r===void 0?!0:r,l=n.altAxis,a=l===void 0?!1:l,c=n.boundary,h=n.rootBoundary,f=n.altBoundary,u=n.padding,m=n.tether,b=m===void 0?!0:m,y=n.tetherOffset,k=y===void 0?0:y,T=ns(t,{boundary:c,rootBoundary:h,padding:u,altBoundary:f}),S=De(t.placement),$=es(t.placement),q=!$,H=Dr(S),U=Vu(H),z=t.modifiersData.popperOffsets,at=t.rects.reference,lt=t.rects.popper,A=typeof k=="function"?k(Object.assign({},t.rects,{placement:t.placement})):k,v=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),g=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(z){if(o){var _,C=H==="y"?$t:te,O=H==="y"?oe:ae,w=H==="y"?"height":"width",F=z[H],P=F+T[C],j=F-T[O],M=b?-lt[w]/2:0,J=$===Sn?at[w]:lt[w],Y=$===Sn?-lt[w]:-at[w],nt=t.elements.arrow,tt=b&&nt?vr(nt):{width:0,height:0},R=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Al(),W=R[C],dt=R[O],Z=vs(0,at[w],tt[w]),ct=q?at[w]/2-M-Z-W-v.mainAxis:J-Z-W-v.mainAxis,ht=q?-at[w]/2+M+Z+dt+v.mainAxis:Y+Z+dt+v.mainAxis,L=t.elements.arrow&&Is(t.elements.arrow),V=L?H==="y"?L.clientTop||0:L.clientLeft||0:0,I=(_=g==null?void 0:g[H])!=null?_:0,K=F+ct-I-V,xt=F+ht-I,we=vs(b?wi(P,K):P,F,b?On(j,xt):j);z[H]=we,N[H]=we-F}if(a){var Ve,an=H==="x"?$t:te,ln=H==="x"?oe:ae,Ht=z[U],ee=U==="y"?"height":"width",ke=Ht+T[an],Mt=Ht-T[ln],Et=[$t,te].indexOf(S)!==-1,st=(Ve=g==null?void 0:g[U])!=null?Ve:0,rt=Et?ke:Ht-at[ee]-lt[ee]-st+v.altAxis,ft=Et?Ht+at[ee]+lt[ee]-st-v.altAxis:Mt,pt=b&&Et?du(rt,Ht,ft):vs(b?rt:ke,Ht,b?ft:Mt);z[U]=pt,N[U]=pt-Ht}t.modifiersData[s]=N}}const Ml={name:"preventOverflow",enabled:!0,phase:"main",fn:Iu,requiresIfExists:["offset"]};function vu(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Du(e){return e===le(e)||!he(e)?Rr(e):vu(e)}function $u(e){var t=e.getBoundingClientRect(),n=Qn(t.width)/e.offsetWidth||1,s=Qn(t.height)/e.offsetHeight||1;return n!==1||s!==1}function Mu(e,t,n){n===void 0&&(n=!1);var s=he(t),r=he(t)&&$u(t),o=fn(t),l=ts(e,r,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!n)&&((ve(t)!=="body"||Pr(o))&&(a=Du(t)),he(t)?(c=ts(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=qr(o))),{x:l.left+a.scrollLeft-c.x,y:l.top+a.scrollTop-c.y,width:l.width,height:l.height}}function Ru(e){var t=new Map,n=new Set,s=[];e.forEach(function(o){t.set(o.name,o)});function r(o){n.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(a){if(!n.has(a)){var c=t.get(a);c&&r(c)}}),s.push(o)}return e.forEach(function(o){n.has(o.name)||r(o)}),s}function qu(e){var t=Ru(e);return _l.reduce(function(n,s){return n.concat(t.filter(function(r){return r.phase===s}))},[])}function Pu(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function ju(e){var t=e.reduce(function(n,s){var r=n[s.name];return n[s.name]=r?Object.assign({},r,s,{options:Object.assign({},r.options,s.options),data:Object.assign({},r.data,s.data)}):s,n},{});return Object.keys(t).map(function(n){return t[n]})}var Rl={placement:"bottom",modifiers:[],strategy:"absolute"};function ql(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Ti(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,s=n===void 0?[]:n,r=t.defaultOptions,o=r===void 0?Rl:r;return function(a,c,h){h===void 0&&(h=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},Rl,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},u=[],m=!1,b={state:f,setOptions:function(S){var $=typeof S=="function"?S(f.options):S;k(),f.options=Object.assign({},o,f.options,$),f.scrollParents={reference:Bn(a)?Ds(a):a.contextElement?Ds(a.contextElement):[],popper:Ds(c)};var q=qu(ju([].concat(s,f.options.modifiers)));return f.orderedModifiers=q.filter(function(H){return H.enabled}),y(),b.update()},forceUpdate:function(){if(!m){var S=f.elements,$=S.reference,q=S.popper;if(ql($,q)){f.rects={reference:Mu($,Is(q),f.options.strategy==="fixed"),popper:vr(q)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(v){return f.modifiersData[v.name]=Object.assign({},v.data)});for(var H=0;H<f.orderedModifiers.length;H++){if(f.reset===!0){f.reset=!1,H=-1;continue}var U=f.orderedModifiers[H],z=U.fn,at=U.options,lt=at===void 0?{}:at,A=U.name;typeof z=="function"&&(f=z({state:f,options:lt,name:A,instance:b})||f)}}}},update:Pu(function(){return new Promise(function(T){b.forceUpdate(),T(f)})}),destroy:function(){k(),m=!0}};if(!ql(a,c))return b;b.setOptions(h).then(function(T){!m&&h.onFirstUpdate&&h.onFirstUpdate(T)});function y(){f.orderedModifiers.forEach(function(T){var S=T.name,$=T.options,q=$===void 0?{}:$,H=T.effect;if(typeof H=="function"){var U=H({state:f,name:S,instance:b,options:q}),z=function(){};u.push(U||z)}})}function k(){u.forEach(function(T){return T()}),u=[]}return b}}var Uu=Ti(),Hu=[Mr,Ur,$r,Vr],zu=Ti({defaultModifiers:Hu}),Wu=[Mr,Ur,$r,Vr,$l,Vl,Ml,Fl,Dl],Hr=Ti({defaultModifiers:Wu});const Pl=Object.freeze(Object.defineProperty({__proto__:null,afterMain:gl,afterRead:fl,afterWrite:El,applyStyles:Vr,arrow:Fl,auto:_i,basePlacements:Xn,beforeMain:pl,beforeRead:dl,beforeWrite:bl,bottom:oe,clippingParents:cl,computeStyles:$r,createPopper:Hr,createPopperBase:Uu,createPopperLite:zu,detectOverflow:ns,end:Zn,eventListeners:Mr,flip:Vl,hide:Dl,left:te,main:ml,modifierPhases:_l,offset:$l,placements:Or,popper:Jn,popperGenerator:Ti,popperOffsets:Ur,preventOverflow:Ml,read:ul,reference:hl,right:ae,start:Sn,top:$t,variationPlacements:Br,viewport:Sr,write:yl},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.5 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const pn=new Map,zr={set(e,t,n){pn.has(e)||pn.set(e,new Map);const s=pn.get(e);if(!s.has(t)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(t,n)},get(e,t){return pn.has(e)&&pn.get(e).get(t)||null},remove(e,t){if(!pn.has(e))return;const n=pn.get(e);n.delete(t),n.size===0&&pn.delete(e)}},Ku=1e6,Gu=1e3,Wr="transitionend",jl=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),e),Yu=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),Xu=e=>{do e+=Math.floor(Math.random()*Ku);while(document.getElementById(e));return e},Zu=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const s=Number.parseFloat(t),r=Number.parseFloat(n);return!s&&!r?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*Gu)},Ul=e=>{e.dispatchEvent(new Event(Wr))},Ge=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),mn=e=>Ge(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(jl(e)):null,ss=e=>{if(!Ge(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const s=e.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return t},gn=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",Hl=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?Hl(e.parentNode):null},Ci=()=>{},$s=e=>{e.offsetHeight},zl=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Kr=[],Ju=e=>{document.readyState==="loading"?(Kr.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of Kr)t()}),Kr.push(e)):e()},de=()=>document.documentElement.dir==="rtl",ue=e=>{Ju(()=>{const t=zl();if(t){const n=e.NAME,s=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=s,e.jQueryInterface)}})},se=(e,t=[],n=e)=>typeof e=="function"?e.call(...t):n,Wl=(e,t,n=!0)=>{if(!n){se(e);return}const r=Zu(t)+5;let o=!1;const l=({target:a})=>{a===t&&(o=!0,t.removeEventListener(Wr,l),se(e))};t.addEventListener(Wr,l),setTimeout(()=>{o||Ul(t)},r)},Gr=(e,t,n,s)=>{const r=e.length;let o=e.indexOf(t);return o===-1?!n&&s?e[r-1]:e[0]:(o+=n?1:-1,s&&(o=(o+r)%r),e[Math.max(0,Math.min(o,r-1))])},Qu=/[^.]*(?=\..*)\.|.*/,tf=/\..*/,ef=/::\d+$/,Yr={};let Kl=1;const Gl={mouseenter:"mouseover",mouseleave:"mouseout"},nf=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Yl(e,t){return t&&`${t}::${Kl++}`||e.uidEvent||Kl++}function Xl(e){const t=Yl(e);return e.uidEvent=t,Yr[t]=Yr[t]||{},Yr[t]}function sf(e,t){return function n(s){return Zr(s,{delegateTarget:e}),n.oneOff&&D.off(e,s.type,t),t.apply(e,[s])}}function rf(e,t,n){return function s(r){const o=e.querySelectorAll(t);for(let{target:l}=r;l&&l!==this;l=l.parentNode)for(const a of o)if(a===l)return Zr(r,{delegateTarget:l}),s.oneOff&&D.off(e,r.type,t,n),n.apply(l,[r])}}function Zl(e,t,n=null){return Object.values(e).find(s=>s.callable===t&&s.delegationSelector===n)}function Jl(e,t,n){const s=typeof t=="string",r=s?n:t||n;let o=tc(e);return nf.has(o)||(o=e),[s,r,o]}function Ql(e,t,n,s,r){if(typeof t!="string"||!e)return;let[o,l,a]=Jl(t,n,s);t in Gl&&(l=(y=>function(k){if(!k.relatedTarget||k.relatedTarget!==k.delegateTarget&&!k.delegateTarget.contains(k.relatedTarget))return y.call(this,k)})(l));const c=Xl(e),h=c[a]||(c[a]={}),f=Zl(h,l,o?n:null);if(f){f.oneOff=f.oneOff&&r;return}const u=Yl(l,t.replace(Qu,"")),m=o?rf(e,n,l):sf(e,l);m.delegationSelector=o?n:null,m.callable=l,m.oneOff=r,m.uidEvent=u,h[u]=m,e.addEventListener(a,m,o)}function Xr(e,t,n,s,r){const o=Zl(t[n],s,r);o&&(e.removeEventListener(n,o,!!r),delete t[n][o.uidEvent])}function of(e,t,n,s){const r=t[n]||{};for(const[o,l]of Object.entries(r))o.includes(s)&&Xr(e,t,n,l.callable,l.delegationSelector)}function tc(e){return e=e.replace(tf,""),Gl[e]||e}const D={on(e,t,n,s){Ql(e,t,n,s,!1)},one(e,t,n,s){Ql(e,t,n,s,!0)},off(e,t,n,s){if(typeof t!="string"||!e)return;const[r,o,l]=Jl(t,n,s),a=l!==t,c=Xl(e),h=c[l]||{},f=t.startsWith(".");if(typeof o<"u"){if(!Object.keys(h).length)return;Xr(e,c,l,o,r?n:null);return}if(f)for(const u of Object.keys(c))of(e,c,u,t.slice(1));for(const[u,m]of Object.entries(h)){const b=u.replace(ef,"");(!a||t.includes(b))&&Xr(e,c,l,m.callable,m.delegationSelector)}},trigger(e,t,n){if(typeof t!="string"||!e)return null;const s=zl(),r=tc(t),o=t!==r;let l=null,a=!0,c=!0,h=!1;o&&s&&(l=s.Event(t,n),s(e).trigger(l),a=!l.isPropagationStopped(),c=!l.isImmediatePropagationStopped(),h=l.isDefaultPrevented());const f=Zr(new Event(t,{bubbles:a,cancelable:!0}),n);return h&&f.preventDefault(),c&&e.dispatchEvent(f),f.defaultPrevented&&l&&l.preventDefault(),f}};function Zr(e,t={}){for(const[n,s]of Object.entries(t))try{e[n]=s}catch{Object.defineProperty(e,n,{configurable:!0,get(){return s}})}return e}function ec(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function Jr(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Ye={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${Jr(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${Jr(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let r=s.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1),t[r]=ec(e.dataset[s])}return t},getDataAttribute(e,t){return ec(e.getAttribute(`data-bs-${Jr(t)}`))}};class Ms{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){const s=Ge(n)?Ye.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...Ge(n)?Ye.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[s,r]of Object.entries(n)){const o=t[s],l=Ge(o)?"element":Yu(o);if(!new RegExp(r).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${l}" but expected type "${r}".`)}}}const af="5.3.5";class Ne extends Ms{constructor(t,n){super(),t=mn(t),t&&(this._element=t,this._config=this._getConfig(n),zr.set(this._element,this.constructor.DATA_KEY,this))}dispose(){zr.remove(this._element,this.constructor.DATA_KEY),D.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,s=!0){Wl(t,n,s)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return zr.get(mn(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return af}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Qr=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?n.trim():null}return t?t.split(",").map(n=>jl(n)).join(","):null},ot={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(n=>n.matches(t))},parents(e,t){const n=[];let s=e.parentNode.closest(t);for(;s;)n.push(s),s=s.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(n=>!gn(n)&&ss(n))},getSelectorFromElement(e){const t=Qr(e);return t&&ot.findOne(t)?t:null},getElementFromSelector(e){const t=Qr(e);return t?ot.findOne(t):null},getMultipleElementsFromSelector(e){const t=Qr(e);return t?ot.find(t):[]}},Fi=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,s=e.NAME;D.on(document,n,`[data-bs-dismiss="${s}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),gn(this))return;const o=ot.getElementFromSelector(this)||this.closest(`.${s}`);e.getOrCreateInstance(o)[t]()})},lf="alert",nc=".bs.alert",cf=`close${nc}`,hf=`closed${nc}`,df="fade",uf="show";class xi extends Ne{static get NAME(){return lf}close(){if(D.trigger(this._element,cf).defaultPrevented)return;this._element.classList.remove(uf);const n=this._element.classList.contains(df);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),D.trigger(this._element,hf),this.dispose()}static jQueryInterface(t){return this.each(function(){const n=xi.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}Fi(xi,"close"),ue(xi);const ff="button",pf=".bs.button",mf=".data-api",gf="active",sc='[data-bs-toggle="button"]',bf=`click${pf}${mf}`;class Si extends Ne{static get NAME(){return ff}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(gf))}static jQueryInterface(t){return this.each(function(){const n=Si.getOrCreateInstance(this);t==="toggle"&&n[t]()})}}D.on(document,bf,sc,e=>{e.preventDefault();const t=e.target.closest(sc);Si.getOrCreateInstance(t).toggle()}),ue(Si);const yf="swipe",is=".bs.swipe",Ef=`touchstart${is}`,_f=`touchmove${is}`,wf=`touchend${is}`,kf=`pointerdown${is}`,Nf=`pointerup${is}`,Af="touch",Tf="pen",Cf="pointer-event",Ff=40,xf={endCallback:null,leftCallback:null,rightCallback:null},Sf={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Bi extends Ms{constructor(t,n){super(),this._element=t,!(!t||!Bi.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return xf}static get DefaultType(){return Sf}static get NAME(){return yf}dispose(){D.off(this._element,is)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),se(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=Ff)return;const n=t/this._deltaX;this._deltaX=0,n&&se(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(D.on(this._element,kf,t=>this._start(t)),D.on(this._element,Nf,t=>this._end(t)),this._element.classList.add(Cf)):(D.on(this._element,Ef,t=>this._start(t)),D.on(this._element,_f,t=>this._move(t)),D.on(this._element,wf,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===Tf||t.pointerType===Af)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Bf="carousel",bn=".bs.carousel",ic=".data-api",Of="ArrowLeft",Lf="ArrowRight",Vf=500,Rs="next",rs="prev",os="left",Oi="right",If=`slide${bn}`,to=`slid${bn}`,vf=`keydown${bn}`,Df=`mouseenter${bn}`,$f=`mouseleave${bn}`,Mf=`dragstart${bn}`,Rf=`load${bn}${ic}`,qf=`click${bn}${ic}`,rc="carousel",Li="active",Pf="slide",jf="carousel-item-end",Uf="carousel-item-start",Hf="carousel-item-next",zf="carousel-item-prev",oc=".active",ac=".carousel-item",Wf=oc+ac,Kf=".carousel-item img",Gf=".carousel-indicators",Yf="[data-bs-slide], [data-bs-slide-to]",Xf='[data-bs-ride="carousel"]',Zf={[Of]:Oi,[Lf]:os},Jf={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Qf={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class qs extends Ne{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ot.findOne(Gf,this._element),this._addEventListeners(),this._config.ride===rc&&this.cycle()}static get Default(){return Jf}static get DefaultType(){return Qf}static get NAME(){return Bf}next(){this._slide(Rs)}nextWhenVisible(){!document.hidden&&ss(this._element)&&this.next()}prev(){this._slide(rs)}pause(){this._isSliding&&Ul(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){D.one(this._element,to,()=>this.cycle());return}this.cycle()}}to(t){const n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding){D.one(this._element,to,()=>this.to(t));return}const s=this._getItemIndex(this._getActive());if(s===t)return;const r=t>s?Rs:rs;this._slide(r,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&D.on(this._element,vf,t=>this._keydown(t)),this._config.pause==="hover"&&(D.on(this._element,Df,()=>this.pause()),D.on(this._element,$f,()=>this._maybeEnableCycle())),this._config.touch&&Bi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of ot.find(Kf,this._element))D.on(s,Mf,r=>r.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(os)),rightCallback:()=>this._slide(this._directionToOrder(Oi)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Vf+this._config.interval))}};this._swipeHelper=new Bi(this._element,n)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const n=Zf[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const n=ot.findOne(oc,this._indicatorsElement);n.classList.remove(Li),n.removeAttribute("aria-current");const s=ot.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);s&&(s.classList.add(Li),s.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;const s=this._getActive(),r=t===Rs,o=n||Gr(this._getItems(),s,r,this._config.wrap);if(o===s)return;const l=this._getItemIndex(o),a=b=>D.trigger(this._element,b,{relatedTarget:o,direction:this._orderToDirection(t),from:this._getItemIndex(s),to:l});if(a(If).defaultPrevented||!s||!o)return;const h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=o;const f=r?Uf:jf,u=r?Hf:zf;o.classList.add(u),$s(o),s.classList.add(f),o.classList.add(f);const m=()=>{o.classList.remove(f,u),o.classList.add(Li),s.classList.remove(Li,u,f),this._isSliding=!1,a(to)};this._queueCallback(m,s,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(Pf)}_getActive(){return ot.findOne(Wf,this._element)}_getItems(){return ot.find(ac,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return de()?t===os?rs:Rs:t===os?Rs:rs}_orderToDirection(t){return de()?t===rs?os:Oi:t===rs?Oi:os}static jQueryInterface(t){return this.each(function(){const n=qs.getOrCreateInstance(this,t);if(typeof t=="number"){n.to(t);return}if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}D.on(document,qf,Yf,function(e){const t=ot.getElementFromSelector(this);if(!t||!t.classList.contains(rc))return;e.preventDefault();const n=qs.getOrCreateInstance(t),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(Ye.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()}),D.on(window,Rf,()=>{const e=ot.find(Xf);for(const t of e)qs.getOrCreateInstance(t)}),ue(qs);const tp="collapse",Ps=".bs.collapse",ep=".data-api",np=`show${Ps}`,sp=`shown${Ps}`,ip=`hide${Ps}`,rp=`hidden${Ps}`,op=`click${Ps}${ep}`,eo="show",as="collapse",Vi="collapsing",ap="collapsed",lp=`:scope .${as} .${as}`,cp="collapse-horizontal",hp="width",dp="height",up=".collapse.show, .collapse.collapsing",no='[data-bs-toggle="collapse"]',fp={parent:null,toggle:!0},pp={parent:"(null|element)",toggle:"boolean"};class js extends Ne{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];const s=ot.find(no);for(const r of s){const o=ot.getSelectorFromElement(r),l=ot.find(o).filter(a=>a===this._element);o!==null&&l.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return fp}static get DefaultType(){return pp}static get NAME(){return tp}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(up).filter(a=>a!==this._element).map(a=>js.getOrCreateInstance(a,{toggle:!1}))),t.length&&t[0]._isTransitioning||D.trigger(this._element,np).defaultPrevented)return;for(const a of t)a.hide();const s=this._getDimension();this._element.classList.remove(as),this._element.classList.add(Vi),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Vi),this._element.classList.add(as,eo),this._element.style[s]="",D.trigger(this._element,sp)},l=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[s]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||D.trigger(this._element,ip).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,$s(this._element),this._element.classList.add(Vi),this._element.classList.remove(as,eo);for(const r of this._triggerArray){const o=ot.getElementFromSelector(r);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(Vi),this._element.classList.add(as),D.trigger(this._element,rp)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(t=this._element){return t.classList.contains(eo)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=mn(t.parent),t}_getDimension(){return this._element.classList.contains(cp)?hp:dp}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(no);for(const n of t){const s=ot.getElementFromSelector(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(t){const n=ot.find(lp,this._config.parent);return ot.find(t,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(t,n){if(t.length)for(const s of t)s.classList.toggle(ap,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(t){const n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){const s=js.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t]()}})}}D.on(document,op,no,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(const t of ot.getMultipleElementsFromSelector(this))js.getOrCreateInstance(t,{toggle:!1}).toggle()}),ue(js);const lc="dropdown",Ln=".bs.dropdown",so=".data-api",mp="Escape",cc="Tab",gp="ArrowUp",hc="ArrowDown",bp=2,yp=`hide${Ln}`,Ep=`hidden${Ln}`,_p=`show${Ln}`,wp=`shown${Ln}`,dc=`click${Ln}${so}`,uc=`keydown${Ln}${so}`,kp=`keyup${Ln}${so}`,ls="show",Np="dropup",Ap="dropend",Tp="dropstart",Cp="dropup-center",Fp="dropdown-center",Vn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',xp=`${Vn}.${ls}`,Ii=".dropdown-menu",Sp=".navbar",Bp=".navbar-nav",Op=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Lp=de()?"top-end":"top-start",Vp=de()?"top-start":"top-end",Ip=de()?"bottom-end":"bottom-start",vp=de()?"bottom-start":"bottom-end",Dp=de()?"left-start":"right-start",$p=de()?"right-start":"left-start",Mp="top",Rp="bottom",qp={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Pp={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class $e extends Ne{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=ot.next(this._element,Ii)[0]||ot.prev(this._element,Ii)[0]||ot.findOne(Ii,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return qp}static get DefaultType(){return Pp}static get NAME(){return lc}toggle(){return this._isShown()?this.hide():this.show()}show(){if(gn(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!D.trigger(this._element,_p,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Bp))for(const s of[].concat(...document.body.children))D.on(s,"mouseover",Ci);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ls),this._element.classList.add(ls),D.trigger(this._element,wp,t)}}hide(){if(gn(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!D.trigger(this._element,yp,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))D.off(s,"mouseover",Ci);this._popper&&this._popper.destroy(),this._menu.classList.remove(ls),this._element.classList.remove(ls),this._element.setAttribute("aria-expanded","false"),Ye.removeDataAttribute(this._menu,"popper"),D.trigger(this._element,Ep,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Ge(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${lc.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof Pl>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let t=this._element;this._config.reference==="parent"?t=this._parent:Ge(this._config.reference)?t=mn(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=Hr(t,this._menu,n)}_isShown(){return this._menu.classList.contains(ls)}_getPlacement(){const t=this._parent;if(t.classList.contains(Ap))return Dp;if(t.classList.contains(Tp))return $p;if(t.classList.contains(Cp))return Mp;if(t.classList.contains(Fp))return Rp;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Np)?n?Vp:Lp:n?vp:Ip}_detectNavbar(){return this._element.closest(Sp)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ye.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...se(this._config.popperConfig,[void 0,t])}}_selectMenuItem({key:t,target:n}){const s=ot.find(Op,this._menu).filter(r=>ss(r));s.length&&Gr(s,n,t===hc,!s.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){const n=$e.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===bp||t.type==="keyup"&&t.key!==cc)return;const n=ot.find(xp);for(const s of n){const r=$e.getInstance(s);if(!r||r._config.autoClose===!1)continue;const o=t.composedPath(),l=o.includes(r._menu);if(o.includes(r._element)||r._config.autoClose==="inside"&&!l||r._config.autoClose==="outside"&&l||r._menu.contains(t.target)&&(t.type==="keyup"&&t.key===cc||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const a={relatedTarget:r._element};t.type==="click"&&(a.clickEvent=t),r._completeHide(a)}}static dataApiKeydownHandler(t){const n=/input|textarea/i.test(t.target.tagName),s=t.key===mp,r=[gp,hc].includes(t.key);if(!r&&!s||n&&!s)return;t.preventDefault();const o=this.matches(Vn)?this:ot.prev(this,Vn)[0]||ot.next(this,Vn)[0]||ot.findOne(Vn,t.delegateTarget.parentNode),l=$e.getOrCreateInstance(o);if(r){t.stopPropagation(),l.show(),l._selectMenuItem(t);return}l._isShown()&&(t.stopPropagation(),l.hide(),o.focus())}}D.on(document,uc,Vn,$e.dataApiKeydownHandler),D.on(document,uc,Ii,$e.dataApiKeydownHandler),D.on(document,dc,$e.clearMenus),D.on(document,kp,$e.clearMenus),D.on(document,dc,Vn,function(e){e.preventDefault(),$e.getOrCreateInstance(this).toggle()}),ue($e);const fc="backdrop",jp="fade",pc="show",mc=`mousedown.bs.${fc}`,Up={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Hp={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class gc extends Ms{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Up}static get DefaultType(){return Hp}static get NAME(){return fc}show(t){if(!this._config.isVisible){se(t);return}this._append();const n=this._getElement();this._config.isAnimated&&$s(n),n.classList.add(pc),this._emulateAnimation(()=>{se(t)})}hide(t){if(!this._config.isVisible){se(t);return}this._getElement().classList.remove(pc),this._emulateAnimation(()=>{this.dispose(),se(t)})}dispose(){this._isAppended&&(D.off(this._element,mc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(jp),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=mn(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),D.on(t,mc,()=>{se(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){Wl(t,this._getElement(),this._config.isAnimated)}}const zp="focustrap",vi=".bs.focustrap",Wp=`focusin${vi}`,Kp=`keydown.tab${vi}`,Gp="Tab",Yp="forward",bc="backward",Xp={autofocus:!0,trapElement:null},Zp={autofocus:"boolean",trapElement:"element"};class yc extends Ms{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Xp}static get DefaultType(){return Zp}static get NAME(){return zp}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),D.off(document,vi),D.on(document,Wp,t=>this._handleFocusin(t)),D.on(document,Kp,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,D.off(document,vi))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const s=ot.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===bc?s[s.length-1].focus():s[0].focus()}_handleKeydown(t){t.key===Gp&&(this._lastTabNavDirection=t.shiftKey?bc:Yp)}}const Ec=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_c=".sticky-top",Di="padding-right",wc="margin-right";class io{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Di,n=>n+t),this._setElementAttributes(Ec,Di,n=>n+t),this._setElementAttributes(_c,wc,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Di),this._resetElementAttributes(Ec,Di),this._resetElementAttributes(_c,wc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,s){const r=this.getWidth(),o=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+r)return;this._saveInitialAttribute(l,n);const a=window.getComputedStyle(l).getPropertyValue(n);l.style.setProperty(n,`${s(Number.parseFloat(a))}px`)};this._applyManipulationCallback(t,o)}_saveInitialAttribute(t,n){const s=t.style.getPropertyValue(n);s&&Ye.setDataAttribute(t,n,s)}_resetElementAttributes(t,n){const s=r=>{const o=Ye.getDataAttribute(r,n);if(o===null){r.style.removeProperty(n);return}Ye.removeDataAttribute(r,n),r.style.setProperty(n,o)};this._applyManipulationCallback(t,s)}_applyManipulationCallback(t,n){if(Ge(t)){n(t);return}for(const s of ot.find(t,this._element))n(s)}}const Jp="modal",fe=".bs.modal",Qp=".data-api",tm="Escape",em=`hide${fe}`,nm=`hidePrevented${fe}`,kc=`hidden${fe}`,Nc=`show${fe}`,sm=`shown${fe}`,im=`resize${fe}`,rm=`click.dismiss${fe}`,om=`mousedown.dismiss${fe}`,am=`keydown.dismiss${fe}`,lm=`click${fe}${Qp}`,Ac="modal-open",cm="fade",Tc="show",ro="modal-static",hm=".modal.show",dm=".modal-dialog",um=".modal-body",fm='[data-bs-toggle="modal"]',pm={backdrop:!0,focus:!0,keyboard:!0},mm={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class In extends Ne{constructor(t,n){super(t,n),this._dialog=ot.findOne(dm,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new io,this._addEventListeners()}static get Default(){return pm}static get DefaultType(){return mm}static get NAME(){return Jp}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||D.trigger(this._element,Nc,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ac),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||D.trigger(this._element,em).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Tc),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){D.off(window,fe),D.off(this._dialog,fe),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new gc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new yc({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=ot.findOne(um,this._dialog);n&&(n.scrollTop=0),$s(this._element),this._element.classList.add(Tc);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,D.trigger(this._element,sm,{relatedTarget:t})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){D.on(this._element,am,t=>{if(t.key===tm){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),D.on(window,im,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),D.on(this._element,om,t=>{D.one(this._element,rm,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ac),this._resetAdjustments(),this._scrollBar.reset(),D.trigger(this._element,kc)})}_isAnimated(){return this._element.classList.contains(cm)}_triggerBackdropTransition(){if(D.trigger(this._element,nm).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(ro)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(ro),this._queueCallback(()=>{this._element.classList.remove(ro),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!t){const r=de()?"paddingLeft":"paddingRight";this._element.style[r]=`${n}px`}if(!s&&t){const r=de()?"paddingRight":"paddingLeft";this._element.style[r]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){const s=In.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t](n)}})}}D.on(document,lm,fm,function(e){const t=ot.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),D.one(t,Nc,r=>{r.defaultPrevented||D.one(t,kc,()=>{ss(this)&&this.focus()})});const n=ot.findOne(hm);n&&In.getInstance(n).hide(),In.getOrCreateInstance(t).toggle(this)}),Fi(In),ue(In);const gm="offcanvas",Xe=".bs.offcanvas",Cc=".data-api",bm=`load${Xe}${Cc}`,ym="Escape",Fc="show",xc="showing",Sc="hiding",Em="offcanvas-backdrop",Bc=".offcanvas.show",_m=`show${Xe}`,wm=`shown${Xe}`,km=`hide${Xe}`,Oc=`hidePrevented${Xe}`,Lc=`hidden${Xe}`,Nm=`resize${Xe}`,Am=`click${Xe}${Cc}`,Tm=`keydown.dismiss${Xe}`,Cm='[data-bs-toggle="offcanvas"]',Fm={backdrop:!0,keyboard:!0,scroll:!1},xm={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class yn extends Ne{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Fm}static get DefaultType(){return xm}static get NAME(){return gm}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||D.trigger(this._element,_m,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new io().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(xc);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Fc),this._element.classList.remove(xc),D.trigger(this._element,wm,{relatedTarget:t})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||D.trigger(this._element,km).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Sc),this._backdrop.hide();const n=()=>{this._element.classList.remove(Fc,Sc),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new io().reset(),D.trigger(this._element,Lc)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){D.trigger(this._element,Oc);return}this.hide()},n=!!this._config.backdrop;return new gc({className:Em,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new yc({trapElement:this._element})}_addEventListeners(){D.on(this._element,Tm,t=>{if(t.key===ym){if(this._config.keyboard){this.hide();return}D.trigger(this._element,Oc)}})}static jQueryInterface(t){return this.each(function(){const n=yn.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}D.on(document,Am,Cm,function(e){const t=ot.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),gn(this))return;D.one(t,Lc,()=>{ss(this)&&this.focus()});const n=ot.findOne(Bc);n&&n!==t&&yn.getInstance(n).hide(),yn.getOrCreateInstance(t).toggle(this)}),D.on(window,bm,()=>{for(const e of ot.find(Bc))yn.getOrCreateInstance(e).show()}),D.on(window,Nm,()=>{for(const e of ot.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&yn.getOrCreateInstance(e).hide()}),Fi(yn),ue(yn);const Vc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Sm=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Bm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Om=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?Sm.has(n)?!!Bm.test(e.nodeValue):!0:t.filter(s=>s instanceof RegExp).some(s=>s.test(n))};function Lm(e,t,n){if(!e.length)return e;if(n&&typeof n=="function")return n(e);const r=new window.DOMParser().parseFromString(e,"text/html"),o=[].concat(...r.body.querySelectorAll("*"));for(const l of o){const a=l.nodeName.toLowerCase();if(!Object.keys(t).includes(a)){l.remove();continue}const c=[].concat(...l.attributes),h=[].concat(t["*"]||[],t[a]||[]);for(const f of c)Om(f,h)||l.removeAttribute(f.nodeName)}return r.body.innerHTML}const Vm="TemplateFactory",Im={allowList:Vc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},vm={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Dm={entry:"(string|element|function|null)",selector:"(string|element)"};class $m extends Ms{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Im}static get DefaultType(){return vm}static get NAME(){return Vm}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[r,o]of Object.entries(this._config.content))this._setContent(t,o,r);const n=t.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[n,s]of Object.entries(t))super._typeCheckConfig({selector:n,entry:s},Dm)}_setContent(t,n,s){const r=ot.findOne(s,t);if(r){if(n=this._resolvePossibleFunction(n),!n){r.remove();return}if(Ge(n)){this._putElementInTemplate(mn(n),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(n);return}r.textContent=n}}_maybeSanitize(t){return this._config.sanitize?Lm(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return se(t,[void 0,this])}_putElementInTemplate(t,n){if(this._config.html){n.innerHTML="",n.append(t);return}n.textContent=t.textContent}}const Mm="tooltip",Rm=new Set(["sanitize","allowList","sanitizeFn"]),oo="fade",qm="modal",$i="show",Pm=".tooltip-inner",Ic=`.${qm}`,vc="hide.bs.modal",Us="hover",ao="focus",jm="click",Um="manual",Hm="hide",zm="hidden",Wm="show",Km="shown",Gm="inserted",Ym="click",Xm="focusin",Zm="focusout",Jm="mouseenter",Qm="mouseleave",tg={AUTO:"auto",TOP:"top",RIGHT:de()?"left":"right",BOTTOM:"bottom",LEFT:de()?"right":"left"},eg={allowList:Vc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ng={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let Mi=class ru extends Ne{constructor(t,n){if(typeof Pl>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return eg}static get DefaultType(){return ng}static get NAME(){return Mm}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),D.off(this._element.closest(Ic),vc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=D.trigger(this._element,this.constructor.eventName(Wm)),s=(Hl(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!s)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(r),D.trigger(this._element,this.constructor.eventName(Gm))),this._popper=this._createPopper(r),r.classList.add($i),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))D.on(a,"mouseover",Ci);const l=()=>{D.trigger(this._element,this.constructor.eventName(Km)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||D.trigger(this._element,this.constructor.eventName(Hm)).defaultPrevented)return;if(this._getTipElement().classList.remove($i),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))D.off(r,"mouseover",Ci);this._activeTrigger[jm]=!1,this._activeTrigger[ao]=!1,this._activeTrigger[Us]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),D.trigger(this._element,this.constructor.eventName(zm)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove(oo,$i),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=Xu(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(oo),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new $m({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Pm]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(oo)}_isShown(){return this.tip&&this.tip.classList.contains($i)}_createPopper(t){const n=se(this._config.placement,[this,t,this._element]),s=tg[n.toUpperCase()];return Hr(this._element,t,this._getPopperConfig(s))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_resolvePossibleFunction(t){return se(t,[this._element,this._element])}_getPopperConfig(t){const n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...se(this._config.popperConfig,[void 0,n])}}_setListeners(){const t=this._config.trigger.split(" ");for(const n of t)if(n==="click")D.on(this._element,this.constructor.eventName(Ym),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==Um){const s=n===Us?this.constructor.eventName(Jm):this.constructor.eventName(Xm),r=n===Us?this.constructor.eventName(Qm):this.constructor.eventName(Zm);D.on(this._element,s,this._config.selector,o=>{const l=this._initializeOnDelegatedTarget(o);l._activeTrigger[o.type==="focusin"?ao:Us]=!0,l._enter()}),D.on(this._element,r,this._config.selector,o=>{const l=this._initializeOnDelegatedTarget(o);l._activeTrigger[o.type==="focusout"?ao:Us]=l._element.contains(o.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},D.on(this._element.closest(Ic),vc,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const n=Ye.getDataAttributes(this._element);for(const s of Object.keys(n))Rm.has(s)&&delete n[s];return t={...n,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:mn(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[n,s]of Object.entries(this._config))this.constructor.Default[n]!==s&&(t[n]=s);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const n=ru.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}};ue(Mi);const sg="popover",ig=".popover-header",rg=".popover-body",og={...Mi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},ag={...Mi.DefaultType,content:"(null|string|element|function)"};class lo extends Mi{static get Default(){return og}static get DefaultType(){return ag}static get NAME(){return sg}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[ig]:this._getTitle(),[rg]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const n=lo.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}ue(lo);const lg="scrollspy",co=".bs.scrollspy",cg=".data-api",hg=`activate${co}`,Dc=`click${co}`,dg=`load${co}${cg}`,ug="dropdown-item",cs="active",fg='[data-bs-spy="scroll"]',ho="[href]",pg=".nav, .list-group",$c=".nav-link",mg=`${$c}, .nav-item > ${$c}, .list-group-item`,gg=".dropdown",bg=".dropdown-toggle",yg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Eg={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ri extends Ne{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return yg}static get DefaultType(){return Eg}static get NAME(){return lg}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=mn(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(D.off(this._config.target,Dc),D.on(this._config.target,Dc,ho,t=>{const n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();const s=this._rootElement||window,r=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:r,behavior:"smooth"});return}s.scrollTop=r}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),t)}_observerCallback(t){const n=l=>this._targetLinks.get(`#${l.target.id}`),s=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(n(l))},r=(this._rootElement||document.documentElement).scrollTop,o=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const l of t){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(l));continue}const a=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&a){if(s(l),!r)return;continue}!o&&!a&&s(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=ot.find(ho,this._config.target);for(const n of t){if(!n.hash||gn(n))continue;const s=ot.findOne(decodeURI(n.hash),this._element);ss(s)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,s))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(cs),this._activateParents(t),D.trigger(this._element,hg,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(ug)){ot.findOne(bg,t.closest(gg)).classList.add(cs);return}for(const n of ot.parents(t,pg))for(const s of ot.prev(n,mg))s.classList.add(cs)}_clearActiveClass(t){t.classList.remove(cs);const n=ot.find(`${ho}.${cs}`,t);for(const s of n)s.classList.remove(cs)}static jQueryInterface(t){return this.each(function(){const n=Ri.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}D.on(window,dg,()=>{for(const e of ot.find(fg))Ri.getOrCreateInstance(e)}),ue(Ri);const _g="tab",vn=".bs.tab",wg=`hide${vn}`,kg=`hidden${vn}`,Ng=`show${vn}`,Ag=`shown${vn}`,Tg=`click${vn}`,Cg=`keydown${vn}`,Fg=`load${vn}`,xg="ArrowLeft",Mc="ArrowRight",Sg="ArrowUp",Rc="ArrowDown",uo="Home",qc="End",Dn="active",Pc="fade",fo="show",Bg="dropdown",jc=".dropdown-toggle",Og=".dropdown-menu",po=`:not(${jc})`,Lg='.list-group, .nav, [role="tablist"]',Vg=".nav-item, .list-group-item",Ig=`.nav-link${po}, .list-group-item${po}, [role="tab"]${po}`,Uc='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',mo=`${Ig}, ${Uc}`,vg=`.${Dn}[data-bs-toggle="tab"], .${Dn}[data-bs-toggle="pill"], .${Dn}[data-bs-toggle="list"]`;class hs extends Ne{constructor(t){super(t),this._parent=this._element.closest(Lg),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),D.on(this._element,Cg,n=>this._keydown(n)))}static get NAME(){return _g}show(){const t=this._element;if(this._elemIsActive(t))return;const n=this._getActiveElem(),s=n?D.trigger(n,wg,{relatedTarget:t}):null;D.trigger(t,Ng,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){if(!t)return;t.classList.add(Dn),this._activate(ot.getElementFromSelector(t));const s=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(fo);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),D.trigger(t,Ag,{relatedTarget:n})};this._queueCallback(s,t,t.classList.contains(Pc))}_deactivate(t,n){if(!t)return;t.classList.remove(Dn),t.blur(),this._deactivate(ot.getElementFromSelector(t));const s=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(fo);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),D.trigger(t,kg,{relatedTarget:n})};this._queueCallback(s,t,t.classList.contains(Pc))}_keydown(t){if(![xg,Mc,Sg,Rc,uo,qc].includes(t.key))return;t.stopPropagation(),t.preventDefault();const n=this._getChildren().filter(r=>!gn(r));let s;if([uo,qc].includes(t.key))s=n[t.key===uo?0:n.length-1];else{const r=[Mc,Rc].includes(t.key);s=Gr(n,t.target,r,!0)}s&&(s.focus({preventScroll:!0}),hs.getOrCreateInstance(s).show())}_getChildren(){return ot.find(mo,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const n=this._elemIsActive(t),s=this._getOuterElement(t);t.setAttribute("aria-selected",n),s!==t&&this._setAttributeIfNotExists(s,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const n=ot.getElementFromSelector(t);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,n){const s=this._getOuterElement(t);if(!s.classList.contains(Bg))return;const r=(o,l)=>{const a=ot.findOne(o,s);a&&a.classList.toggle(l,n)};r(jc,Dn),r(Og,fo),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,s){t.hasAttribute(n)||t.setAttribute(n,s)}_elemIsActive(t){return t.classList.contains(Dn)}_getInnerElement(t){return t.matches(mo)?t:ot.findOne(mo,t)}_getOuterElement(t){return t.closest(Vg)||t}static jQueryInterface(t){return this.each(function(){const n=hs.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}D.on(document,Tg,Uc,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!gn(this)&&hs.getOrCreateInstance(this).show()}),D.on(window,Fg,()=>{for(const e of ot.find(vg))hs.getOrCreateInstance(e)}),ue(hs);const Dg="toast",En=".bs.toast",$g=`mouseover${En}`,Mg=`mouseout${En}`,Rg=`focusin${En}`,qg=`focusout${En}`,Pg=`hide${En}`,jg=`hidden${En}`,Ug=`show${En}`,Hg=`shown${En}`,zg="fade",Hc="hide",qi="show",Pi="showing",Wg={animation:"boolean",autohide:"boolean",delay:"number"},Kg={animation:!0,autohide:!0,delay:5e3};class ji extends Ne{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Kg}static get DefaultType(){return Wg}static get NAME(){return Dg}show(){if(D.trigger(this._element,Ug).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(zg);const n=()=>{this._element.classList.remove(Pi),D.trigger(this._element,Hg),this._maybeScheduleHide()};this._element.classList.remove(Hc),$s(this._element),this._element.classList.add(qi,Pi),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||D.trigger(this._element,Pg).defaultPrevented)return;const n=()=>{this._element.classList.add(Hc),this._element.classList.remove(Pi,qi),D.trigger(this._element,jg)};this._element.classList.add(Pi),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(qi),super.dispose()}isShown(){return this._element.classList.contains(qi)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=t.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){D.on(this._element,$g,t=>this._onInteraction(t,!0)),D.on(this._element,Mg,t=>this._onInteraction(t,!1)),D.on(this._element,Rg,t=>this._onInteraction(t,!0)),D.on(this._element,qg,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const n=ji.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}Fi(ji),ue(ji);function go(e){return{all:e=e||new Map,on:function(t,n){var s=e.get(t);s?s.push(n):e.set(t,[n])},off:function(t,n){var s=e.get(t);s&&(n?s.splice(s.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var s=e.get(t);s&&s.slice().map(function(r){r(n)}),(s=e.get("*"))&&s.slice().map(function(r){r(t,n)})}}}function Ui(e,t){for(const n in t)t[n]instanceof Object&&n in e&&Object.assign(t[n],Ui(e[n],t[n]));return Object.assign(e||{},t)}function $n(e,t,n,s){try{return typeof e=="function"?e(t,n,s):e}catch(r){return console.error(r),null}}async function ds(e){try{return{data:await e.json(),error:null}}catch(t){return{data:void 0,error:t}}}function us(e,t){let n=[];if(t&&t.errors)for(let s of t.errors)n.push({message:s.message,timeout:3500,priority:"danger"});else e.status>=400&&e.status<=511&&n.push({message:e.status+(e.statusText?" "+e.statusText:""),timeout:3500,priority:"danger"});return n.length>0?n:null}function Ze(e,t,n,s){if(t.options||(t.options={}),t.options.headers||(t.options.headers={}),e!="GET"&&(t.options.headers["Content-Type"]||(t.options.headers["Content-Type"]="application/json")),s&&s.header)for(let r of Object.keys(s.header))t.options.headers[r]=s.header[r];return t.options.body=void 0,t.options.method=e,n&&Object.assign(t.options,n),t.debug&&console.log("FETCH OPTIONS",t.options),t.options}function Je(e,t,n,s){let r=!1,o=Object.assign({},s||{});return s&&(s.filter&&(o.filter=JSON.stringify(s.filter)),s.order&&(o.order=JSON.stringify(s.order)),r=Object.keys(o).length),t.url+(n?"/"+n:"")+(r?"?"+new URLSearchParams(o).toString():"")}function Hs(e,t="-"){return e.toString().normalize("NFKD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\_/g,"-").replace(/\-\-+/g,"-").replace(/\-$/g,"")}function Gg(e){let t=[];for(let n of e)t.push(Hi(n));return t}function Hi(e,t="",n={}){for(let s in e){let r=t?t+"."+s:s;typeof e[s]=="object"&&!Array.isArray(e[s])?Hi(e[s],r,n):n[r]=e[s]}return n}function Yg(e){let t={};for(let n in e){let s=n.split(".");s.reduce((r,o,l)=>r[o]||(r[o]=isNaN(Number(s[l+1]))?s.length-1===l?e[n]:{}:[]),t)}return t}function fs(e,t,n,s){const r=(o,l)=>!o||!l?o:o.replace(/{\s*(.*?)\s*}/g,(a,c)=>l[c]?l[c]:"");return!t||(s=s||document.documentElement.lang,!s||!t[s])||!t[s][e]?r(e,n):r(t[s][e])}function Xg(e,t,n=";"){const s=t.map(o=>o.title?o.title:o.name.charAt(0).toUpperCase()+o.name.slice(1)).join(n),r=e.map(o=>t.map(l=>{let a=o[l.name];return l.template?l.template(a,o,e):a!==void 0?a:""}).join(n));return[s,...r].join(`
`)}function Zg(e,t="export.csv"){e="\uFEFF"+e;const n=new Blob([e],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(n),r=document.createElement("a");r.href=s,r.download=t,r.click(),URL.revokeObjectURL(s)}function Jg(e){return[...new Set(e)]}function bo(e,t){e.indexOf(t)>=0?e.splice(e.indexOf(t),1):e.push(t)}function yo(e,t){for(let n of t)e.indexOf(n.value)<0&&e.push(n.value)}function Eo(e,t){for(let n of t)e.indexOf(n.value)<0?e.push(n.value):e.splice(e.indexOf(n.value),1)}function _o(e){e.length=0}function wo(e,t){t<=0||t>=e.length||([e[t-1],e[t]]=[e[t],e[t-1]])}function ko(e,t){t<=0||t>=e.length||(console.log(e[t-1],e[t]),[e[t-1],e[t]]=[e[t],e[t-1]])}function Qg(e,t){Object.keys(e).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n](t))})}function t1(e,t){return e<1024?e+(t?" Byte":""):e<1048576?(e/1024).toFixed(0)+(t?'<span class="text-muted fw-light"> KB</span>':""):e<1073741824?(e/1048576).toFixed(2)+(t?'<span class="text-muted fw-light"> MB</span>':""):(e/1073741824).toFixed(2)+(t?'<span class="text-muted fw-light"> GB</span>':"")}function e1(e){return e.split(".").reverse()[0]}var zc=typeof global=="object"&&global&&global.Object===Object&&global,n1=typeof self=="object"&&self&&self.Object===Object&&self,Me=zc||n1||Function("return this")(),_n=Me.Symbol,Wc=Object.prototype,s1=Wc.hasOwnProperty,i1=Wc.toString,zs=_n?_n.toStringTag:void 0;function r1(e){var t=s1.call(e,zs),n=e[zs];try{e[zs]=void 0;var s=!0}catch{}var r=i1.call(e);return s&&(t?e[zs]=n:delete e[zs]),r}var o1=Object.prototype,a1=o1.toString;function l1(e){return a1.call(e)}var c1="[object Null]",h1="[object Undefined]",Kc=_n?_n.toStringTag:void 0;function ps(e){return e==null?e===void 0?h1:c1:Kc&&Kc in Object(e)?r1(e):l1(e)}function Qe(e){return e!=null&&typeof e=="object"}var Mn=Array.isArray;function wn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Gc(e){return e}var d1="[object AsyncFunction]",u1="[object Function]",f1="[object GeneratorFunction]",p1="[object Proxy]";function No(e){if(!wn(e))return!1;var t=ps(e);return t==u1||t==f1||t==d1||t==p1}var Ao=Me["__core-js_shared__"],Yc=function(){var e=/[^.]+$/.exec(Ao&&Ao.keys&&Ao.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function m1(e){return!!Yc&&Yc in e}var g1=Function.prototype,b1=g1.toString;function Rn(e){if(e!=null){try{return b1.call(e)}catch{}try{return e+""}catch{}}return""}var y1=/[\\^$.*+?()[\]{}|]/g,E1=/^\[object .+?Constructor\]$/,_1=Function.prototype,w1=Object.prototype,k1=_1.toString,N1=w1.hasOwnProperty,A1=RegExp("^"+k1.call(N1).replace(y1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function T1(e){if(!wn(e)||m1(e))return!1;var t=No(e)?A1:E1;return t.test(Rn(e))}function C1(e,t){return e==null?void 0:e[t]}function qn(e,t){var n=C1(e,t);return T1(n)?n:void 0}var To=qn(Me,"WeakMap"),Xc=Object.create,F1=function(){function e(){}return function(t){if(!wn(t))return{};if(Xc)return Xc(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function x1(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function S1(e,t){var n=-1,s=e.length;for(t||(t=Array(s));++n<s;)t[n]=e[n];return t}var B1=800,O1=16,L1=Date.now;function V1(e){var t=0,n=0;return function(){var s=L1(),r=O1-(s-n);if(n=s,r>0){if(++t>=B1)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function I1(e){return function(){return e}}var zi=function(){try{var e=qn(Object,"defineProperty");return e({},"",{}),e}catch{}}(),v1=zi?function(e,t){return zi(e,"toString",{configurable:!0,enumerable:!1,value:I1(t),writable:!0})}:Gc,D1=V1(v1);function $1(e,t){for(var n=-1,s=e==null?0:e.length;++n<s&&t(e[n],n,e)!==!1;);return e}var M1=9007199254740991,R1=/^(?:0|[1-9]\d*)$/;function Zc(e,t){var n=typeof e;return t=t??M1,!!t&&(n=="number"||n!="symbol"&&R1.test(e))&&e>-1&&e%1==0&&e<t}function Co(e,t,n){t=="__proto__"&&zi?zi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ws(e,t){return e===t||e!==e&&t!==t}var q1=Object.prototype,P1=q1.hasOwnProperty;function Jc(e,t,n){var s=e[t];(!(P1.call(e,t)&&Ws(s,n))||n===void 0&&!(t in e))&&Co(e,t,n)}function j1(e,t,n,s){var r=!n;n||(n={});for(var o=-1,l=t.length;++o<l;){var a=t[o],c=void 0;c===void 0&&(c=e[a]),r?Co(n,a,c):Jc(n,a,c)}return n}var Qc=Math.max;function U1(e,t,n){return t=Qc(t===void 0?e.length-1:t,0),function(){for(var s=arguments,r=-1,o=Qc(s.length-t,0),l=Array(o);++r<o;)l[r]=s[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=s[r];return a[t]=n(l),x1(e,this,a)}}function H1(e,t){return D1(U1(e,t,Gc),e+"")}var z1=9007199254740991;function th(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=z1}function Wi(e){return e!=null&&th(e.length)&&!No(e)}function W1(e,t,n){if(!wn(n))return!1;var s=typeof t;return(s=="number"?Wi(n)&&Zc(t,n.length):s=="string"&&t in n)?Ws(n[t],e):!1}function K1(e){return H1(function(t,n){var s=-1,r=n.length,o=r>1?n[r-1]:void 0,l=r>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(r--,o):void 0,l&&W1(n[0],n[1],l)&&(o=r<3?void 0:o,r=1),t=Object(t);++s<r;){var a=n[s];a&&e(t,a,s,o)}return t})}var G1=Object.prototype;function Fo(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||G1;return e===n}function Y1(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}var X1="[object Arguments]";function eh(e){return Qe(e)&&ps(e)==X1}var nh=Object.prototype,Z1=nh.hasOwnProperty,J1=nh.propertyIsEnumerable,xo=eh(function(){return arguments}())?eh:function(e){return Qe(e)&&Z1.call(e,"callee")&&!J1.call(e,"callee")};function Q1(){return!1}var sh=typeof yt=="object"&&yt&&!yt.nodeType&&yt,ih=sh&&typeof module=="object"&&module&&!module.nodeType&&module,t0=ih&&ih.exports===sh,rh=t0?Me.Buffer:void 0,e0=rh?rh.isBuffer:void 0,Ks=e0||Q1,n0="[object Arguments]",s0="[object Array]",i0="[object Boolean]",r0="[object Date]",o0="[object Error]",a0="[object Function]",l0="[object Map]",c0="[object Number]",h0="[object Object]",d0="[object RegExp]",u0="[object Set]",f0="[object String]",p0="[object WeakMap]",m0="[object ArrayBuffer]",g0="[object DataView]",b0="[object Float32Array]",y0="[object Float64Array]",E0="[object Int8Array]",_0="[object Int16Array]",w0="[object Int32Array]",k0="[object Uint8Array]",N0="[object Uint8ClampedArray]",A0="[object Uint16Array]",T0="[object Uint32Array]",kt={};kt[b0]=kt[y0]=kt[E0]=kt[_0]=kt[w0]=kt[k0]=kt[N0]=kt[A0]=kt[T0]=!0,kt[n0]=kt[s0]=kt[m0]=kt[i0]=kt[g0]=kt[r0]=kt[o0]=kt[a0]=kt[l0]=kt[c0]=kt[h0]=kt[d0]=kt[u0]=kt[f0]=kt[p0]=!1;function C0(e){return Qe(e)&&th(e.length)&&!!kt[ps(e)]}function So(e){return function(t){return e(t)}}var oh=typeof yt=="object"&&yt&&!yt.nodeType&&yt,Gs=oh&&typeof module=="object"&&module&&!module.nodeType&&module,F0=Gs&&Gs.exports===oh,Bo=F0&&zc.process,ms=function(){try{var e=Gs&&Gs.require&&Gs.require("util").types;return e||Bo&&Bo.binding&&Bo.binding("util")}catch{}}(),ah=ms&&ms.isTypedArray,Oo=ah?So(ah):C0,x0=Object.prototype,S0=x0.hasOwnProperty;function lh(e,t){var n=Mn(e),s=!n&&xo(e),r=!n&&!s&&Ks(e),o=!n&&!s&&!r&&Oo(e),l=n||s||r||o,a=l?Y1(e.length,String):[],c=a.length;for(var h in e)(t||S0.call(e,h))&&!(l&&(h=="length"||r&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Zc(h,c)))&&a.push(h);return a}function ch(e,t){return function(n){return e(t(n))}}var B0=ch(Object.keys,Object),O0=Object.prototype,L0=O0.hasOwnProperty;function V0(e){if(!Fo(e))return B0(e);var t=[];for(var n in Object(e))L0.call(e,n)&&n!="constructor"&&t.push(n);return t}function I0(e){return Wi(e)?lh(e):V0(e)}function v0(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var D0=Object.prototype,$0=D0.hasOwnProperty;function M0(e){if(!wn(e))return v0(e);var t=Fo(e),n=[];for(var s in e)s=="constructor"&&(t||!$0.call(e,s))||n.push(s);return n}function hh(e){return Wi(e)?lh(e,!0):M0(e)}var Ys=qn(Object,"create");function R0(){this.__data__=Ys?Ys(null):{},this.size=0}function q0(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var P0="__lodash_hash_undefined__",j0=Object.prototype,U0=j0.hasOwnProperty;function H0(e){var t=this.__data__;if(Ys){var n=t[e];return n===P0?void 0:n}return U0.call(t,e)?t[e]:void 0}var z0=Object.prototype,W0=z0.hasOwnProperty;function K0(e){var t=this.__data__;return Ys?t[e]!==void 0:W0.call(t,e)}var G0="__lodash_hash_undefined__";function Y0(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ys&&t===void 0?G0:t,this}function Pn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Pn.prototype.clear=R0,Pn.prototype.delete=q0,Pn.prototype.get=H0,Pn.prototype.has=K0,Pn.prototype.set=Y0;function X0(){this.__data__=[],this.size=0}function Ki(e,t){for(var n=e.length;n--;)if(Ws(e[n][0],t))return n;return-1}var Z0=Array.prototype,J0=Z0.splice;function Q0(e){var t=this.__data__,n=Ki(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():J0.call(t,n,1),--this.size,!0}function tb(e){var t=this.__data__,n=Ki(t,e);return n<0?void 0:t[n][1]}function eb(e){return Ki(this.__data__,e)>-1}function nb(e,t){var n=this.__data__,s=Ki(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}function tn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}tn.prototype.clear=X0,tn.prototype.delete=Q0,tn.prototype.get=tb,tn.prototype.has=eb,tn.prototype.set=nb;var Xs=qn(Me,"Map");function sb(){this.size=0,this.__data__={hash:new Pn,map:new(Xs||tn),string:new Pn}}function ib(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Gi(e,t){var n=e.__data__;return ib(t)?n[typeof t=="string"?"string":"hash"]:n.map}function rb(e){var t=Gi(this,e).delete(e);return this.size-=t?1:0,t}function ob(e){return Gi(this,e).get(e)}function ab(e){return Gi(this,e).has(e)}function lb(e,t){var n=Gi(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}function jn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}jn.prototype.clear=sb,jn.prototype.delete=rb,jn.prototype.get=ob,jn.prototype.has=ab,jn.prototype.set=lb;function cb(e,t){for(var n=-1,s=t.length,r=e.length;++n<s;)e[r+n]=t[n];return e}var dh=ch(Object.getPrototypeOf,Object),hb="[object Object]",db=Function.prototype,ub=Object.prototype,uh=db.toString,fb=ub.hasOwnProperty,pb=uh.call(Object);function mb(e){if(!Qe(e)||ps(e)!=hb)return!1;var t=dh(e);if(t===null)return!0;var n=fb.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&uh.call(n)==pb}function gb(){this.__data__=new tn,this.size=0}function bb(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function yb(e){return this.__data__.get(e)}function Eb(e){return this.__data__.has(e)}var _b=200;function wb(e,t){var n=this.__data__;if(n instanceof tn){var s=n.__data__;if(!Xs||s.length<_b-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new jn(s)}return n.set(e,t),this.size=n.size,this}function Re(e){var t=this.__data__=new tn(e);this.size=t.size}Re.prototype.clear=gb,Re.prototype.delete=bb,Re.prototype.get=yb,Re.prototype.has=Eb,Re.prototype.set=wb;var fh=typeof yt=="object"&&yt&&!yt.nodeType&&yt,ph=fh&&typeof module=="object"&&module&&!module.nodeType&&module,kb=ph&&ph.exports===fh,mh=kb?Me.Buffer:void 0,gh=mh?mh.allocUnsafe:void 0;function bh(e,t){if(t)return e.slice();var n=e.length,s=gh?gh(n):new e.constructor(n);return e.copy(s),s}function Nb(e,t){for(var n=-1,s=e==null?0:e.length,r=0,o=[];++n<s;){var l=e[n];t(l,n,e)&&(o[r++]=l)}return o}function Ab(){return[]}var Tb=Object.prototype,Cb=Tb.propertyIsEnumerable,yh=Object.getOwnPropertySymbols,Fb=yh?function(e){return e==null?[]:(e=Object(e),Nb(yh(e),function(t){return Cb.call(e,t)}))}:Ab;function xb(e,t,n){var s=t(e);return Mn(e)?s:cb(s,n(e))}function Lo(e){return xb(e,I0,Fb)}var Vo=qn(Me,"DataView"),Io=qn(Me,"Promise"),vo=qn(Me,"Set"),Eh="[object Map]",Sb="[object Object]",_h="[object Promise]",wh="[object Set]",kh="[object WeakMap]",Nh="[object DataView]",Bb=Rn(Vo),Ob=Rn(Xs),Lb=Rn(Io),Vb=Rn(vo),Ib=Rn(To),Ae=ps;(Vo&&Ae(new Vo(new ArrayBuffer(1)))!=Nh||Xs&&Ae(new Xs)!=Eh||Io&&Ae(Io.resolve())!=_h||vo&&Ae(new vo)!=wh||To&&Ae(new To)!=kh)&&(Ae=function(e){var t=ps(e),n=t==Sb?e.constructor:void 0,s=n?Rn(n):"";if(s)switch(s){case Bb:return Nh;case Ob:return Eh;case Lb:return _h;case Vb:return wh;case Ib:return kh}return t});var vb=Object.prototype,Db=vb.hasOwnProperty;function $b(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Db.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Yi=Me.Uint8Array;function Do(e){var t=new e.constructor(e.byteLength);return new Yi(t).set(new Yi(e)),t}function Mb(e,t){var n=Do(e.buffer);return new e.constructor(n,e.byteOffset,e.byteLength)}var Rb=/\w*$/;function qb(e){var t=new e.constructor(e.source,Rb.exec(e));return t.lastIndex=e.lastIndex,t}var Ah=_n?_n.prototype:void 0,Th=Ah?Ah.valueOf:void 0;function Pb(e){return Th?Object(Th.call(e)):{}}function Ch(e,t){var n=t?Do(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var jb="[object Boolean]",Ub="[object Date]",Hb="[object Map]",zb="[object Number]",Wb="[object RegExp]",Kb="[object Set]",Gb="[object String]",Yb="[object Symbol]",Xb="[object ArrayBuffer]",Zb="[object DataView]",Jb="[object Float32Array]",Qb="[object Float64Array]",ty="[object Int8Array]",ey="[object Int16Array]",ny="[object Int32Array]",sy="[object Uint8Array]",iy="[object Uint8ClampedArray]",ry="[object Uint16Array]",oy="[object Uint32Array]";function ay(e,t,n){var s=e.constructor;switch(t){case Xb:return Do(e);case jb:case Ub:return new s(+e);case Zb:return Mb(e);case Jb:case Qb:case ty:case ey:case ny:case sy:case iy:case ry:case oy:return Ch(e,n);case Hb:return new s;case zb:case Gb:return new s(e);case Wb:return qb(e);case Kb:return new s;case Yb:return Pb(e)}}function Fh(e){return typeof e.constructor=="function"&&!Fo(e)?F1(dh(e)):{}}var ly="[object Map]";function cy(e){return Qe(e)&&Ae(e)==ly}var xh=ms&&ms.isMap,hy=xh?So(xh):cy,dy="[object Set]";function uy(e){return Qe(e)&&Ae(e)==dy}var Sh=ms&&ms.isSet,fy=Sh?So(Sh):uy,py=1,Bh="[object Arguments]",my="[object Array]",gy="[object Boolean]",by="[object Date]",yy="[object Error]",Oh="[object Function]",Ey="[object GeneratorFunction]",_y="[object Map]",wy="[object Number]",Lh="[object Object]",ky="[object RegExp]",Ny="[object Set]",Ay="[object String]",Ty="[object Symbol]",Cy="[object WeakMap]",Fy="[object ArrayBuffer]",xy="[object DataView]",Sy="[object Float32Array]",By="[object Float64Array]",Oy="[object Int8Array]",Ly="[object Int16Array]",Vy="[object Int32Array]",Iy="[object Uint8Array]",vy="[object Uint8ClampedArray]",Dy="[object Uint16Array]",$y="[object Uint32Array]",wt={};wt[Bh]=wt[my]=wt[Fy]=wt[xy]=wt[gy]=wt[by]=wt[Sy]=wt[By]=wt[Oy]=wt[Ly]=wt[Vy]=wt[_y]=wt[wy]=wt[Lh]=wt[ky]=wt[Ny]=wt[Ay]=wt[Ty]=wt[Iy]=wt[vy]=wt[Dy]=wt[$y]=!0,wt[yy]=wt[Oh]=wt[Cy]=!1;function Xi(e,t,n,s,r,o){var l,a=t&py;if(l!==void 0)return l;if(!wn(e))return e;var c=Mn(e);if(c)l=$b(e);else{var h=Ae(e),f=h==Oh||h==Ey;if(Ks(e))return bh(e,a);if(h==Lh||h==Bh||f&&!r)l=f?{}:Fh(e);else{if(!wt[h])return r?e:{};l=ay(e,h,a)}}o||(o=new Re);var u=o.get(e);if(u)return u;o.set(e,l),fy(e)?e.forEach(function(y){l.add(Xi(y,t,n,y,e,o))}):hy(e)&&e.forEach(function(y,k){l.set(k,Xi(y,t,n,k,e,o))});var m=Lo,b=c?void 0:m(e);return $1(b||e,function(y,k){b&&(k=y,y=e[k]),Jc(l,k,Xi(y,t,n,k,e,o))}),l}var My=1,Ry=4;function gs(e){return Xi(e,My|Ry)}var qy="__lodash_hash_undefined__";function Py(e){return this.__data__.set(e,qy),this}function jy(e){return this.__data__.has(e)}function Zi(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new jn;++t<n;)this.add(e[t])}Zi.prototype.add=Zi.prototype.push=Py,Zi.prototype.has=jy;function Uy(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}function Hy(e,t){return e.has(t)}var zy=1,Wy=2;function Vh(e,t,n,s,r,o){var l=n&zy,a=e.length,c=t.length;if(a!=c&&!(l&&c>a))return!1;var h=o.get(e),f=o.get(t);if(h&&f)return h==t&&f==e;var u=-1,m=!0,b=n&Wy?new Zi:void 0;for(o.set(e,t),o.set(t,e);++u<a;){var y=e[u],k=t[u];if(s)var T=l?s(k,y,u,t,e,o):s(y,k,u,e,t,o);if(T!==void 0){if(T)continue;m=!1;break}if(b){if(!Uy(t,function(S,$){if(!Hy(b,$)&&(y===S||r(y,S,n,s,o)))return b.push($)})){m=!1;break}}else if(!(y===k||r(y,k,n,s,o))){m=!1;break}}return o.delete(e),o.delete(t),m}function Ky(e){var t=-1,n=Array(e.size);return e.forEach(function(s,r){n[++t]=[r,s]}),n}function Gy(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}var Yy=1,Xy=2,Zy="[object Boolean]",Jy="[object Date]",Qy="[object Error]",tE="[object Map]",eE="[object Number]",nE="[object RegExp]",sE="[object Set]",iE="[object String]",rE="[object Symbol]",oE="[object ArrayBuffer]",aE="[object DataView]",Ih=_n?_n.prototype:void 0,$o=Ih?Ih.valueOf:void 0;function lE(e,t,n,s,r,o,l){switch(n){case aE:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case oE:return!(e.byteLength!=t.byteLength||!o(new Yi(e),new Yi(t)));case Zy:case Jy:case eE:return Ws(+e,+t);case Qy:return e.name==t.name&&e.message==t.message;case nE:case iE:return e==t+"";case tE:var a=Ky;case sE:var c=s&Yy;if(a||(a=Gy),e.size!=t.size&&!c)return!1;var h=l.get(e);if(h)return h==t;s|=Xy,l.set(e,t);var f=Vh(a(e),a(t),s,r,o,l);return l.delete(e),f;case rE:if($o)return $o.call(e)==$o.call(t)}return!1}var cE=1,hE=Object.prototype,dE=hE.hasOwnProperty;function uE(e,t,n,s,r,o){var l=n&cE,a=Lo(e),c=a.length,h=Lo(t),f=h.length;if(c!=f&&!l)return!1;for(var u=c;u--;){var m=a[u];if(!(l?m in t:dE.call(t,m)))return!1}var b=o.get(e),y=o.get(t);if(b&&y)return b==t&&y==e;var k=!0;o.set(e,t),o.set(t,e);for(var T=l;++u<c;){m=a[u];var S=e[m],$=t[m];if(s)var q=l?s($,S,m,t,e,o):s(S,$,m,e,t,o);if(!(q===void 0?S===$||r(S,$,n,s,o):q)){k=!1;break}T||(T=m=="constructor")}if(k&&!T){var H=e.constructor,U=t.constructor;H!=U&&"constructor"in e&&"constructor"in t&&!(typeof H=="function"&&H instanceof H&&typeof U=="function"&&U instanceof U)&&(k=!1)}return o.delete(e),o.delete(t),k}var fE=1,vh="[object Arguments]",Dh="[object Array]",Ji="[object Object]",pE=Object.prototype,$h=pE.hasOwnProperty;function mE(e,t,n,s,r,o){var l=Mn(e),a=Mn(t),c=l?Dh:Ae(e),h=a?Dh:Ae(t);c=c==vh?Ji:c,h=h==vh?Ji:h;var f=c==Ji,u=h==Ji,m=c==h;if(m&&Ks(e)){if(!Ks(t))return!1;l=!0,f=!1}if(m&&!f)return o||(o=new Re),l||Oo(e)?Vh(e,t,n,s,r,o):lE(e,t,c,n,s,r,o);if(!(n&fE)){var b=f&&$h.call(e,"__wrapped__"),y=u&&$h.call(t,"__wrapped__");if(b||y){var k=b?e.value():e,T=y?t.value():t;return o||(o=new Re),r(k,T,n,s,o)}}return m?(o||(o=new Re),uE(e,t,n,s,r,o)):!1}function Mh(e,t,n,s,r){return e===t?!0:e==null||t==null||!Qe(e)&&!Qe(t)?e!==e&&t!==t:mE(e,t,n,s,Mh,r)}function gE(e){return function(t,n,s){for(var r=-1,o=Object(t),l=s(t),a=l.length;a--;){var c=l[++r];if(n(o[c],c,o)===!1)break}return t}}var bE=gE();function Mo(e,t,n){(n!==void 0&&!Ws(e[t],n)||n===void 0&&!(t in e))&&Co(e,t,n)}function yE(e){return Qe(e)&&Wi(e)}function Ro(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function EE(e){return j1(e,hh(e))}function _E(e,t,n,s,r,o,l){var a=Ro(e,n),c=Ro(t,n),h=l.get(c);if(h){Mo(e,n,h);return}var f=o?o(a,c,n+"",e,t,l):void 0,u=f===void 0;if(u){var m=Mn(c),b=!m&&Ks(c),y=!m&&!b&&Oo(c);f=c,m||b||y?Mn(a)?f=a:yE(a)?f=S1(a):b?(u=!1,f=bh(c,!0)):y?(u=!1,f=Ch(c,!0)):f=[]:mb(c)||xo(c)?(f=a,xo(a)?f=EE(a):(!wn(a)||No(a))&&(f=Fh(c))):u=!1}u&&(l.set(c,f),r(f,c,s,o,l),l.delete(c)),Mo(e,n,f)}function Rh(e,t,n,s,r){e!==t&&bE(t,function(o,l){if(r||(r=new Re),wn(o))_E(e,t,l,n,Rh,s,r);else{var a=s?s(Ro(e,l),o,l+"",e,t,r):void 0;a===void 0&&(a=o),Mo(e,l,a)}},hh)}function qo(e,t){return Mh(e,t)}var kn=K1(function(e,t,n){Rh(e,t,n)}),et=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(et||{});class qe{constructor(t,n,s={}){this.attrName=t,this.keyName=n;const r=et.TYPE&et.ATTRIBUTE;this.scope=s.scope!=null?s.scope&et.LEVEL|r:et.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(t){return Array.from(t.attributes).map(n=>n.name)}add(t,n){return this.canAdd(t,n)?(t.setAttribute(this.keyName,n),!0):!1}canAdd(t,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const n=t.getAttribute(this.keyName);return this.canAdd(t,n)&&n?n:""}}class bs extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const qh=class al{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,n=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(n){let s=null;try{s=t.parentNode}catch{return null}return this.find(s,n)}return null}create(t,n,s){const r=this.query(n);if(r==null)throw new bs(`Unable to create ${n} blot`);const o=r,l=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:o.create(s),a=new o(t,l,s);return al.blots.set(a.domNode,a),a}find(t,n=!1){return al.find(t,n)}query(t,n=et.ANY){let s;return typeof t=="string"?s=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?s=this.types.text:typeof t=="number"?t&et.LEVEL&et.BLOCK?s=this.types.block:t&et.LEVEL&et.INLINE&&(s=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(r=>(s=this.classes[r],!!s)),s=s||this.tags[t.tagName]),s==null?null:"scope"in s&&n&et.LEVEL&s.scope&&n&et.TYPE&s.scope?s:null}register(...t){return t.map(n=>{const s="blotName"in n,r="attrName"in n;if(!s&&!r)throw new bs("Invalid definition");if(s&&n.blotName==="abstract")throw new bs("Cannot register abstract class");const o=s?n.blotName:r?n.attrName:void 0;return this.types[o]=n,r?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):s&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(l=>l.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(l=>{(this.tags[l]==null||n.className==null)&&(this.tags[l]=n)}))),n})}};qh.blots=new WeakMap;let ys=qh;function Ph(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${t}-`)===0)}class wE extends qe{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(t,n){return this.canAdd(t,n)?(this.remove(t),t.classList.add(`${this.keyName}-${n}`),!0):!1}remove(t){Ph(t,this.keyName).forEach(n=>{t.classList.remove(n)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const n=(Ph(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,n)?n:""}}const Te=wE;function Po(e){const t=e.split("-"),n=t.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return t[0]+n}class kE extends qe{static keys(t){return(t.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(t,n){return this.canAdd(t,n)?(t.style[Po(this.keyName)]=n,!0):!1}remove(t){t.style[Po(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const n=t.style[Po(this.keyName)];return this.canAdd(t,n)?n:""}}const Nn=kE;class NE{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,n){n?t.add(this.domNode,n)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=ys.find(this.domNode);if(t==null)return;const n=qe.keys(this.domNode),s=Te.keys(this.domNode),r=Nn.keys(this.domNode);n.concat(s).concat(r).forEach(o=>{const l=t.scroll.query(o,et.ATTRIBUTE);l instanceof qe&&(this.attributes[l.attrName]=l)})}copy(t){Object.keys(this.attributes).forEach(n=>{const s=this.attributes[n].value(this.domNode);t.format(n,s)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,n)=>(t[n]=this.attributes[n].value(this.domNode),t),{})}}const Qi=NE,jh=class{constructor(t,n){this.scroll=t,this.domNode=n,ys.blots.set(n,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new bs("Blot definition missing tagName");let n,s;return Array.isArray(this.tagName)?(typeof t=="string"?(s=t.toUpperCase(),parseInt(s,10).toString()===s&&(s=parseInt(s,10))):typeof t=="number"&&(s=t),typeof s=="number"?n=document.createElement(this.tagName[s-1]):s&&this.tagName.indexOf(s)>-1?n=document.createElement(s):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),ys.blots.delete(this.domNode)}deleteAt(t,n){this.isolate(t,n).remove()}formatAt(t,n,s,r){const o=this.isolate(t,n);if(this.scroll.query(s,et.BLOT)!=null&&r)o.wrap(s,r);else if(this.scroll.query(s,et.ATTRIBUTE)!=null){const l=this.scroll.create(this.statics.scope);o.wrap(l),l.format(s,r)}}insertAt(t,n,s){const r=s==null?this.scroll.create("text",n):this.scroll.create(n,s),o=this.split(t);this.parent.insertBefore(r,o||void 0)}isolate(t,n){const s=this.split(t);if(s==null)throw new Error("Attempt to isolate at end");return s.split(n),s}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,n){const s=typeof t=="string"?this.scroll.create(t,n):t;return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),s}split(t,n){return t===0?this:this.next}update(t,n){}wrap(t,n){const s=typeof t=="string"?this.scroll.create(t,n):t;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new bs(`Cannot wrap ${t}`);return s.appendChild(this),s}};jh.blotName="abstract";let Uh=jh;const Hh=class extends Uh{static value(t){return!0}index(t,n){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(t,n){let s=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(s+=1),[this.parent.domNode,s]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Hh.scope=et.INLINE_BLOT;const Yt=Hh;class AE{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const n=t.slice(1);this.append(...n)}}at(t){const n=this.iterator();let s=n();for(;s&&t>0;)t-=1,s=n();return s}contains(t){const n=this.iterator();let s=n();for(;s;){if(s===t)return!0;s=n()}return!1}indexOf(t){const n=this.iterator();let s=n(),r=0;for(;s;){if(s===t)return r;r+=1,s=n()}return-1}insertBefore(t,n){t!=null&&(this.remove(t),t.next=n,n!=null?(t.prev=n.prev,n.prev!=null&&(n.prev.next=t),n.prev=t,n===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let n=0,s=this.head;for(;s!=null;){if(s===t)return n;n+=s.length(),s=s.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const n=t;return t!=null&&(t=t.next),n}}find(t,n=!1){const s=this.iterator();let r=s();for(;r;){const o=r.length();if(t<o||n&&t===o&&(r.next==null||r.next.length()!==0))return[r,t];t-=o,r=s()}return[null,0]}forEach(t){const n=this.iterator();let s=n();for(;s;)t(s),s=n()}forEachAt(t,n,s){if(n<=0)return;const[r,o]=this.find(t);let l=t-o;const a=this.iterator(r);let c=a();for(;c&&l<t+n;){const h=c.length();t>l?s(c,t-l,Math.min(n,l+h-t)):s(c,0,Math.min(h,t+n-l)),l+=h,c=a()}}map(t){return this.reduce((n,s)=>(n.push(t(s)),n),[])}reduce(t,n){const s=this.iterator();let r=s();for(;r;)n=t(n,r),r=s();return n}}function zh(e,t){const n=t.find(e);if(n)return n;try{return t.create(e)}catch{const s=t.create(et.INLINE);return Array.from(e.childNodes).forEach(r=>{s.domNode.appendChild(r)}),e.parentNode&&e.parentNode.replaceChild(s.domNode,e),s.attach(),s}}const Wh=class xn extends Uh{constructor(t,n){super(t,n),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,xn.uiClass&&this.uiNode.classList.add(xn.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new AE,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const n=zh(t,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof bs)return;throw n}})}deleteAt(t,n){if(t===0&&n===this.length())return this.remove();this.children.forEachAt(t,n,(s,r,o)=>{s.deleteAt(r,o)})}descendant(t,n=0){const[s,r]=this.children.find(n);return t.blotName==null&&t(s)||t.blotName!=null&&s instanceof t?[s,r]:s instanceof xn?s.descendant(t,r):[null,-1]}descendants(t,n=0,s=Number.MAX_VALUE){let r=[],o=s;return this.children.forEachAt(n,s,(l,a,c)=>{(t.blotName==null&&t(l)||t.blotName!=null&&l instanceof t)&&r.push(l),l instanceof xn&&(r=r.concat(l.descendants(t,a,o))),o-=c}),r}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(n=>{t||this.statics.allowedChildren.some(s=>n instanceof s)||(n.statics.scope===et.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),t=!0):n instanceof xn?n.unwrap():n.remove())})}formatAt(t,n,s,r){this.children.forEachAt(t,n,(o,l,a)=>{o.formatAt(l,a,s,r)})}insertAt(t,n,s){const[r,o]=this.children.find(t);if(r)r.insertAt(o,n,s);else{const l=s==null?this.scroll.create("text",n):this.scroll.create(n,s);this.appendChild(l)}}insertBefore(t,n){t.parent!=null&&t.parent.children.remove(t);let s=null;this.children.insertBefore(t,n||null),t.parent=this,n!=null&&(s=n.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(t.domNode,s),t.attach()}length(){return this.children.reduce((t,n)=>t+n.length(),0)}moveChildren(t,n){this.children.forEach(s=>{t.insertBefore(s,n)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(t,n=!1){const[s,r]=this.children.find(t,n),o=[[this,t]];return s instanceof xn?o.concat(s.path(r,n)):(s!=null&&o.push([s,r]),o)}removeChild(t){this.children.remove(t)}replaceWith(t,n){const s=typeof t=="string"?this.scroll.create(t,n):t;return s instanceof xn&&this.moveChildren(s),super.replaceWith(s)}split(t,n=!1){if(!n){if(t===0)return this;if(t===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(t,this.length(),(r,o,l)=>{const a=r.split(o,n);a!=null&&s.appendChild(a)}),s}splitAfter(t){const n=this.clone();for(;t.next!=null;)n.appendChild(t.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,n){const s=[],r=[];t.forEach(o=>{o.target===this.domNode&&o.type==="childList"&&(s.push(...o.addedNodes),r.push(...o.removedNodes))}),r.forEach(o=>{if(o.parentNode!=null&&o.tagName!=="IFRAME"&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const l=this.scroll.find(o);l!=null&&(l.domNode.parentNode==null||l.domNode.parentNode===this.domNode)&&l.detach()}),s.filter(o=>o.parentNode===this.domNode&&o!==this.uiNode).sort((o,l)=>o===l?0:o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(o=>{let l=null;o.nextSibling!=null&&(l=this.scroll.find(o.nextSibling));const a=zh(o,this.scroll);(a.next!==l||a.next==null)&&(a.parent!=null&&a.parent.removeChild(this),this.insertBefore(a,l||void 0))}),this.enforceAllowedChildren()}};Wh.uiClass="";const Ce=Wh;function TE(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}const Es=class Vs extends Ce{static create(t){return super.create(t)}static formats(t,n){const s=n.query(Vs.blotName);if(!(s!=null&&t.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new Qi(this.domNode)}format(t,n){if(t===this.statics.blotName&&!n)this.children.forEach(s=>{s instanceof Vs||(s=s.wrap(Vs.blotName,!0)),this.attributes.copy(s)}),this.unwrap();else{const s=this.scroll.query(t,et.INLINE);if(s==null)return;s instanceof qe?this.attributes.attribute(s,n):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n)}}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(t[this.statics.blotName]=n),t}formatAt(t,n,s,r){this.formats()[s]!=null||this.scroll.query(s,et.ATTRIBUTE)?this.isolate(t,n).format(s,r):super.formatAt(t,n,s,r)}optimize(t){super.optimize(t);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const s=this.next;s instanceof Vs&&s.prev===this&&TE(n,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(t,n){const s=super.replaceWith(t,n);return this.attributes.copy(s),s}update(t,n){super.update(t,n),t.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(t,n){const s=super.wrap(t,n);return s instanceof Vs&&this.attributes.move(s),s}};Es.allowedChildren=[Es,Yt],Es.blotName="inline",Es.scope=et.INLINE_BLOT,Es.tagName="SPAN";const jo=Es,_s=class ll extends Ce{static create(t){return super.create(t)}static formats(t,n){const s=n.query(ll.blotName);if(!(s!=null&&t.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new Qi(this.domNode)}format(t,n){const s=this.scroll.query(t,et.BLOCK);s!=null&&(s instanceof qe?this.attributes.attribute(s,n):t===this.statics.blotName&&!n?this.replaceWith(ll.blotName):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n))}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(t[this.statics.blotName]=n),t}formatAt(t,n,s,r){this.scroll.query(s,et.BLOCK)!=null?this.format(s,r):super.formatAt(t,n,s,r)}insertAt(t,n,s){if(s==null||this.scroll.query(n,et.INLINE)!=null)super.insertAt(t,n,s);else{const r=this.split(t);if(r!=null){const o=this.scroll.create(n,s);r.parent.insertBefore(o,r)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,n){const s=super.replaceWith(t,n);return this.attributes.copy(s),s}update(t,n){super.update(t,n),t.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};_s.blotName="block",_s.scope=et.BLOCK_BLOT,_s.tagName="P",_s.allowedChildren=[jo,_s,Yt];const Zs=_s,Uo=class extends Ce{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,n){super.deleteAt(t,n),this.enforceAllowedChildren()}formatAt(t,n,s,r){super.formatAt(t,n,s,r),this.enforceAllowedChildren()}insertAt(t,n,s){super.insertAt(t,n,s),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Uo.blotName="container",Uo.scope=et.BLOCK_BLOT;const tr=Uo;class CE extends Yt{static formats(t,n){}format(t,n){super.formatAt(0,this.length(),t,n)}formatAt(t,n,s,r){t===0&&n===this.length()?this.format(s,r):super.formatAt(t,n,s,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const ce=CE,FE={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},xE=100,ws=class extends Ce{constructor(t,n){super(null,n),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(s=>{this.update(s)}),this.observer.observe(this.domNode,FE),this.attach()}create(t,n){return this.registry.create(this,t,n)}find(t,n=!1){const s=this.registry.find(t,n);return s?s.scroll===this?s:n?this.find(s.scroll.domNode.parentNode,!0):null:null}query(t,n=et.ANY){return this.registry.query(t,n)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,n){this.update(),t===0&&n===this.length()?this.children.forEach(s=>{s.remove()}):super.deleteAt(t,n)}formatAt(t,n,s,r){this.update(),super.formatAt(t,n,s,r)}insertAt(t,n,s){this.update(),super.insertAt(t,n,s)}optimize(t=[],n={}){super.optimize(n);const s=n.mutationsMap||new WeakMap;let r=Array.from(this.observer.takeRecords());for(;r.length>0;)t.push(r.pop());const o=(c,h=!0)=>{c==null||c===this||c.domNode.parentNode!=null&&(s.has(c.domNode)||s.set(c.domNode,[]),h&&o(c.parent))},l=c=>{s.has(c.domNode)&&(c instanceof Ce&&c.children.forEach(l),s.delete(c.domNode),c.optimize(n))};let a=t;for(let c=0;a.length>0;c+=1){if(c>=xE)throw new Error("[Parchment] Maximum optimize iterations reached");for(a.forEach(h=>{const f=this.find(h.target,!0);f!=null&&(f.domNode===h.target&&(h.type==="childList"?(o(this.find(h.previousSibling,!1)),Array.from(h.addedNodes).forEach(u=>{const m=this.find(u,!1);o(m,!1),m instanceof Ce&&m.children.forEach(b=>{o(b,!1)})})):h.type==="attributes"&&o(f.prev)),o(f))}),this.children.forEach(l),a=Array.from(this.observer.takeRecords()),r=a.slice();r.length>0;)t.push(r.pop())}}update(t,n={}){t=t||this.observer.takeRecords();const s=new WeakMap;t.map(r=>{const o=this.find(r.target,!0);return o==null?null:s.has(o.domNode)?(s.get(o.domNode).push(r),null):(s.set(o.domNode,[r]),o)}).forEach(r=>{r!=null&&r!==this&&s.has(r.domNode)&&r.update(s.get(r.domNode)||[],n)}),n.mutationsMap=s,s.has(this.domNode)&&super.update(s.get(this.domNode),n),this.optimize(t,n)}};ws.blotName="scroll",ws.defaultChild=Zs,ws.allowedChildren=[Zs,tr],ws.scope=et.BLOCK_BLOT,ws.tagName="DIV";const Ho=ws,zo=class ou extends Yt{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,n){super(t,n),this.text=this.statics.value(this.domNode)}deleteAt(t,n){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+n)}index(t,n){return this.domNode===t?n:-1}insertAt(t,n,s){s==null?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,n,s)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof ou&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,n=!1){return[this.domNode,t]}split(t,n=!1){if(!n){if(t===0)return this;if(t===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(t,n){t.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};zo.blotName="text",zo.scope=et.INLINE_BLOT;const er=zo,SE=Object.freeze(Object.defineProperty({__proto__:null,Attributor:qe,AttributorStore:Qi,BlockBlot:Zs,ClassAttributor:Te,ContainerBlot:tr,EmbedBlot:ce,InlineBlot:jo,LeafBlot:Yt,ParentBlot:Ce,Registry:ys,Scope:et,ScrollBlot:Ho,StyleAttributor:Nn,TextBlot:er},Symbol.toStringTag,{value:"Module"}));var en=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nr={exports:{}},Wo,Gh;function BE(){if(Gh)return Wo;Gh=1;var e=-1,t=1,n=0;function s(g,N,_,C,O){if(g===N)return g?[[n,g]]:[];if(_!=null){var w=A(g,N,_);if(w)return w}var F=a(g,N),P=g.substring(0,F);g=g.substring(F),N=N.substring(F),F=h(g,N);var j=g.substring(g.length-F);g=g.substring(0,g.length-F),N=N.substring(0,N.length-F);var M=r(g,N);return P&&M.unshift([n,P]),j&&M.push([n,j]),$(M,O),C&&u(M),M}function r(g,N){var _;if(!g)return[[t,N]];if(!N)return[[e,g]];var C=g.length>N.length?g:N,O=g.length>N.length?N:g,w=C.indexOf(O);if(w!==-1)return _=[[t,C.substring(0,w)],[n,O],[t,C.substring(w+O.length)]],g.length>N.length&&(_[0][0]=_[2][0]=e),_;if(O.length===1)return[[e,g],[t,N]];var F=f(g,N);if(F){var P=F[0],j=F[1],M=F[2],J=F[3],Y=F[4],nt=s(P,M),tt=s(j,J);return nt.concat([[n,Y]],tt)}return o(g,N)}function o(g,N){for(var _=g.length,C=N.length,O=Math.ceil((_+C)/2),w=O,F=2*O,P=new Array(F),j=new Array(F),M=0;M<F;M++)P[M]=-1,j[M]=-1;P[w+1]=0,j[w+1]=0;for(var J=_-C,Y=J%2!==0,nt=0,tt=0,R=0,W=0,dt=0;dt<O;dt++){for(var Z=-dt+nt;Z<=dt-tt;Z+=2){var ct=w+Z,ht;Z===-dt||Z!==dt&&P[ct-1]<P[ct+1]?ht=P[ct+1]:ht=P[ct-1]+1;for(var L=ht-Z;ht<_&&L<C&&g.charAt(ht)===N.charAt(L);)ht++,L++;if(P[ct]=ht,ht>_)tt+=2;else if(L>C)nt+=2;else if(Y){var V=w+J-Z;if(V>=0&&V<F&&j[V]!==-1){var I=_-j[V];if(ht>=I)return l(g,N,ht,L)}}}for(var K=-dt+R;K<=dt-W;K+=2){var V=w+K,I;K===-dt||K!==dt&&j[V-1]<j[V+1]?I=j[V+1]:I=j[V-1]+1;for(var xt=I-K;I<_&&xt<C&&g.charAt(_-I-1)===N.charAt(C-xt-1);)I++,xt++;if(j[V]=I,I>_)W+=2;else if(xt>C)R+=2;else if(!Y){var ct=w+J-K;if(ct>=0&&ct<F&&P[ct]!==-1){var ht=P[ct],L=w+ht-ct;if(I=_-I,ht>=I)return l(g,N,ht,L)}}}}return[[e,g],[t,N]]}function l(g,N,_,C){var O=g.substring(0,_),w=N.substring(0,C),F=g.substring(_),P=N.substring(C),j=s(O,w),M=s(F,P);return j.concat(M)}function a(g,N){if(!g||!N||g.charAt(0)!==N.charAt(0))return 0;for(var _=0,C=Math.min(g.length,N.length),O=C,w=0;_<O;)g.substring(w,O)==N.substring(w,O)?(_=O,w=_):C=O,O=Math.floor((C-_)/2+_);return q(g.charCodeAt(O-1))&&O--,O}function c(g,N){var _=g.length,C=N.length;if(_==0||C==0)return 0;_>C?g=g.substring(_-C):_<C&&(N=N.substring(0,_));var O=Math.min(_,C);if(g==N)return O;for(var w=0,F=1;;){var P=g.substring(O-F),j=N.indexOf(P);if(j==-1)return w;F+=j,(j==0||g.substring(O-F)==N.substring(0,F))&&(w=F,F++)}}function h(g,N){if(!g||!N||g.slice(-1)!==N.slice(-1))return 0;for(var _=0,C=Math.min(g.length,N.length),O=C,w=0;_<O;)g.substring(g.length-O,g.length-w)==N.substring(N.length-O,N.length-w)?(_=O,w=_):C=O,O=Math.floor((C-_)/2+_);return H(g.charCodeAt(g.length-O))&&O--,O}function f(g,N){var _=g.length>N.length?g:N,C=g.length>N.length?N:g;if(_.length<4||C.length*2<_.length)return null;function O(tt,R,W){for(var dt=tt.substring(W,W+Math.floor(tt.length/4)),Z=-1,ct="",ht,L,V,I;(Z=R.indexOf(dt,Z+1))!==-1;){var K=a(tt.substring(W),R.substring(Z)),xt=h(tt.substring(0,W),R.substring(0,Z));ct.length<xt+K&&(ct=R.substring(Z-xt,Z)+R.substring(Z,Z+K),ht=tt.substring(0,W-xt),L=tt.substring(W+K),V=R.substring(0,Z-xt),I=R.substring(Z+K))}return ct.length*2>=tt.length?[ht,L,V,I,ct]:null}var w=O(_,C,Math.ceil(_.length/4)),F=O(_,C,Math.ceil(_.length/2)),P;if(!w&&!F)return null;F?w?P=w[4].length>F[4].length?w:F:P=F:P=w;var j,M,J,Y;g.length>N.length?(j=P[0],M=P[1],J=P[2],Y=P[3]):(J=P[0],Y=P[1],j=P[2],M=P[3]);var nt=P[4];return[j,M,J,Y,nt]}function u(g){for(var N=!1,_=[],C=0,O=null,w=0,F=0,P=0,j=0,M=0;w<g.length;)g[w][0]==n?(_[C++]=w,F=j,P=M,j=0,M=0,O=g[w][1]):(g[w][0]==t?j+=g[w][1].length:M+=g[w][1].length,O&&O.length<=Math.max(F,P)&&O.length<=Math.max(j,M)&&(g.splice(_[C-1],0,[e,O]),g[_[C-1]+1][0]=t,C--,C--,w=C>0?_[C-1]:-1,F=0,P=0,j=0,M=0,O=null,N=!0)),w++;for(N&&$(g),S(g),w=1;w<g.length;){if(g[w-1][0]==e&&g[w][0]==t){var J=g[w-1][1],Y=g[w][1],nt=c(J,Y),tt=c(Y,J);nt>=tt?(nt>=J.length/2||nt>=Y.length/2)&&(g.splice(w,0,[n,Y.substring(0,nt)]),g[w-1][1]=J.substring(0,J.length-nt),g[w+1][1]=Y.substring(nt),w++):(tt>=J.length/2||tt>=Y.length/2)&&(g.splice(w,0,[n,J.substring(0,tt)]),g[w-1][0]=t,g[w-1][1]=Y.substring(0,Y.length-tt),g[w+1][0]=e,g[w+1][1]=J.substring(tt),w++),w++}w++}}var m=/[^a-zA-Z0-9]/,b=/\s/,y=/[\r\n]/,k=/\n\r?\n$/,T=/^\r?\n\r?\n/;function S(g){function N(tt,R){if(!tt||!R)return 6;var W=tt.charAt(tt.length-1),dt=R.charAt(0),Z=W.match(m),ct=dt.match(m),ht=Z&&W.match(b),L=ct&&dt.match(b),V=ht&&W.match(y),I=L&&dt.match(y),K=V&&tt.match(k),xt=I&&R.match(T);return K||xt?5:V||I?4:Z&&!ht&&L?3:ht||L?2:Z||ct?1:0}for(var _=1;_<g.length-1;){if(g[_-1][0]==n&&g[_+1][0]==n){var C=g[_-1][1],O=g[_][1],w=g[_+1][1],F=h(C,O);if(F){var P=O.substring(O.length-F);C=C.substring(0,C.length-F),O=P+O.substring(0,O.length-F),w=P+w}for(var j=C,M=O,J=w,Y=N(C,O)+N(O,w);O.charAt(0)===w.charAt(0);){C+=O.charAt(0),O=O.substring(1)+w.charAt(0),w=w.substring(1);var nt=N(C,O)+N(O,w);nt>=Y&&(Y=nt,j=C,M=O,J=w)}g[_-1][1]!=j&&(j?g[_-1][1]=j:(g.splice(_-1,1),_--),g[_][1]=M,J?g[_+1][1]=J:(g.splice(_+1,1),_--))}_++}}function $(g,N){g.push([n,""]);for(var _=0,C=0,O=0,w="",F="",P;_<g.length;){if(_<g.length-1&&!g[_][1]){g.splice(_,1);continue}switch(g[_][0]){case t:O++,F+=g[_][1],_++;break;case e:C++,w+=g[_][1],_++;break;case n:var j=_-O-C-1;if(N){if(j>=0&&z(g[j][1])){var M=g[j][1].slice(-1);if(g[j][1]=g[j][1].slice(0,-1),w=M+w,F=M+F,!g[j][1]){g.splice(j,1),_--;var J=j-1;g[J]&&g[J][0]===t&&(O++,F=g[J][1]+F,J--),g[J]&&g[J][0]===e&&(C++,w=g[J][1]+w,J--),j=J}}if(U(g[_][1])){var M=g[_][1].charAt(0);g[_][1]=g[_][1].slice(1),w+=M,F+=M}}if(_<g.length-1&&!g[_][1]){g.splice(_,1);break}if(w.length>0||F.length>0){w.length>0&&F.length>0&&(P=a(F,w),P!==0&&(j>=0?g[j][1]+=F.substring(0,P):(g.splice(0,0,[n,F.substring(0,P)]),_++),F=F.substring(P),w=w.substring(P)),P=h(F,w),P!==0&&(g[_][1]=F.substring(F.length-P)+g[_][1],F=F.substring(0,F.length-P),w=w.substring(0,w.length-P)));var Y=O+C;w.length===0&&F.length===0?(g.splice(_-Y,Y),_=_-Y):w.length===0?(g.splice(_-Y,Y,[t,F]),_=_-Y+1):F.length===0?(g.splice(_-Y,Y,[e,w]),_=_-Y+1):(g.splice(_-Y,Y,[e,w],[t,F]),_=_-Y+2)}_!==0&&g[_-1][0]===n?(g[_-1][1]+=g[_][1],g.splice(_,1)):_++,O=0,C=0,w="",F="";break}}g[g.length-1][1]===""&&g.pop();var nt=!1;for(_=1;_<g.length-1;)g[_-1][0]===n&&g[_+1][0]===n&&(g[_][1].substring(g[_][1].length-g[_-1][1].length)===g[_-1][1]?(g[_][1]=g[_-1][1]+g[_][1].substring(0,g[_][1].length-g[_-1][1].length),g[_+1][1]=g[_-1][1]+g[_+1][1],g.splice(_-1,1),nt=!0):g[_][1].substring(0,g[_+1][1].length)==g[_+1][1]&&(g[_-1][1]+=g[_+1][1],g[_][1]=g[_][1].substring(g[_+1][1].length)+g[_+1][1],g.splice(_+1,1),nt=!0)),_++;nt&&$(g,N)}function q(g){return g>=55296&&g<=56319}function H(g){return g>=56320&&g<=57343}function U(g){return H(g.charCodeAt(0))}function z(g){return q(g.charCodeAt(g.length-1))}function at(g){for(var N=[],_=0;_<g.length;_++)g[_][1].length>0&&N.push(g[_]);return N}function lt(g,N,_,C){return z(g)||U(C)?null:at([[n,g],[e,N],[t,_],[n,C]])}function A(g,N,_){var C=typeof _=="number"?{index:_,length:0}:_.oldRange,O=typeof _=="number"?null:_.newRange,w=g.length,F=N.length;if(C.length===0&&(O===null||O.length===0)){var P=C.index,j=g.slice(0,P),M=g.slice(P),J=O?O.index:null;t:{var Y=P+F-w;if(J!==null&&J!==Y||Y<0||Y>F)break t;var nt=N.slice(0,Y),tt=N.slice(Y);if(tt!==M)break t;var R=Math.min(P,Y),W=j.slice(0,R),dt=nt.slice(0,R);if(W!==dt)break t;var Z=j.slice(R),ct=nt.slice(R);return lt(W,Z,ct,M)}t:{if(J!==null&&J!==P)break t;var ht=P,nt=N.slice(0,ht),tt=N.slice(ht);if(nt!==j)break t;var L=Math.min(w-ht,F-ht),V=M.slice(M.length-L),I=tt.slice(tt.length-L);if(V!==I)break t;var Z=M.slice(0,M.length-L),ct=tt.slice(0,tt.length-L);return lt(j,Z,ct,V)}}if(C.length>0&&O&&O.length===0)t:{var W=g.slice(0,C.index),V=g.slice(C.index+C.length),R=W.length,L=V.length;if(F<R+L)break t;var dt=N.slice(0,R),I=N.slice(F-L);if(W!==dt||V!==I)break t;var Z=g.slice(R,w-L),ct=N.slice(R,F-L);return lt(W,Z,ct,V)}return null}function v(g,N,_,C){return s(g,N,_,C,!0)}return v.INSERT=t,v.DELETE=e,v.EQUAL=n,Wo=v,Wo}var Js={exports:{}};Js.exports;var Yh;function Xh(){return Yh||(Yh=1,function(e,t){var n=200,s="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",l="[object Array]",a="[object Boolean]",c="[object Date]",h="[object Error]",f="[object Function]",u="[object GeneratorFunction]",m="[object Map]",b="[object Number]",y="[object Object]",k="[object Promise]",T="[object RegExp]",S="[object Set]",$="[object String]",q="[object Symbol]",H="[object WeakMap]",U="[object ArrayBuffer]",z="[object DataView]",at="[object Float32Array]",lt="[object Float64Array]",A="[object Int8Array]",v="[object Int16Array]",g="[object Int32Array]",N="[object Uint8Array]",_="[object Uint8ClampedArray]",C="[object Uint16Array]",O="[object Uint32Array]",w=/[\\^$.*+?()[\]{}|]/g,F=/\w*$/,P=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,M={};M[o]=M[l]=M[U]=M[z]=M[a]=M[c]=M[at]=M[lt]=M[A]=M[v]=M[g]=M[m]=M[b]=M[y]=M[T]=M[S]=M[$]=M[q]=M[N]=M[_]=M[C]=M[O]=!0,M[h]=M[f]=M[H]=!1;var J=typeof en=="object"&&en&&en.Object===Object&&en,Y=typeof self=="object"&&self&&self.Object===Object&&self,nt=J||Y||Function("return this")(),tt=t&&!t.nodeType&&t,R=tt&&!0&&e&&!e.nodeType&&e,W=R&&R.exports===tt;function dt(d,p){return d.set(p[0],p[1]),d}function Z(d,p){return d.add(p),d}function ct(d,p){for(var E=-1,x=d?d.length:0;++E<x&&p(d[E],E,d)!==!1;);return d}function ht(d,p){for(var E=-1,x=p.length,ut=d.length;++E<x;)d[ut+E]=p[E];return d}function L(d,p,E,x){for(var ut=-1,it=d?d.length:0;++ut<it;)E=p(E,d[ut],ut,d);return E}function V(d,p){for(var E=-1,x=Array(d);++E<d;)x[E]=p(E);return x}function I(d,p){return d==null?void 0:d[p]}function K(d){var p=!1;if(d!=null&&typeof d.toString!="function")try{p=!!(d+"")}catch{}return p}function xt(d){var p=-1,E=Array(d.size);return d.forEach(function(x,ut){E[++p]=[ut,x]}),E}function we(d,p){return function(E){return d(p(E))}}function Ve(d){var p=-1,E=Array(d.size);return d.forEach(function(x){E[++p]=x}),E}var an=Array.prototype,ln=Function.prototype,Ht=Object.prototype,ee=nt["__core-js_shared__"],ke=function(){var d=/[^.]+$/.exec(ee&&ee.keys&&ee.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),Mt=ln.toString,Et=Ht.hasOwnProperty,st=Ht.toString,rt=RegExp("^"+Mt.call(Et).replace(w,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ft=W?nt.Buffer:void 0,pt=nt.Symbol,zt=nt.Uint8Array,Nt=we(Object.getPrototypeOf,Object),Rt=Object.create,qt=Ht.propertyIsEnumerable,Pt=an.splice,St=Object.getOwnPropertySymbols,At=ft?ft.isBuffer:void 0,Lt=we(Object.keys,Object),Bt=Ie(nt,"DataView"),Tt=Ie(nt,"Map"),_t=Ie(nt,"Promise"),Ot=Ie(nt,"Set"),Vt=Ie(nt,"WeakMap"),Ct=Ie(Object,"create"),It=ne(Bt),Ft=ne(Tt),vt=ne(_t),Dt=ne(Ot),ui=ne(Vt),Cn=pt?pt.prototype:void 0,gr=Cn?Cn.valueOf:void 0;function cn(d){var p=-1,E=d?d.length:0;for(this.clear();++p<E;){var x=d[p];this.set(x[0],x[1])}}function Aa(){this.__data__=Ct?Ct(null):{}}function Ta(d){return this.has(d)&&delete this.__data__[d]}function Ca(d){var p=this.__data__;if(Ct){var E=p[d];return E===s?void 0:E}return Et.call(p,d)?p[d]:void 0}function br(d){var p=this.__data__;return Ct?p[d]!==void 0:Et.call(p,d)}function fi(d,p){var E=this.__data__;return E[d]=Ct&&p===void 0?s:p,this}cn.prototype.clear=Aa,cn.prototype.delete=Ta,cn.prototype.get=Ca,cn.prototype.has=br,cn.prototype.set=fi;function Kt(d){var p=-1,E=d?d.length:0;for(this.clear();++p<E;){var x=d[p];this.set(x[0],x[1])}}function Fa(){this.__data__=[]}function xa(d){var p=this.__data__,E=Ss(p,d);if(E<0)return!1;var x=p.length-1;return E==x?p.pop():Pt.call(p,E,1),!0}function Sa(d){var p=this.__data__,E=Ss(p,d);return E<0?void 0:p[E][1]}function Ba(d){return Ss(this.__data__,d)>-1}function Oa(d,p){var E=this.__data__,x=Ss(E,d);return x<0?E.push([d,p]):E[x][1]=p,this}Kt.prototype.clear=Fa,Kt.prototype.delete=xa,Kt.prototype.get=Sa,Kt.prototype.has=Ba,Kt.prototype.set=Oa;function Zt(d){var p=-1,E=d?d.length:0;for(this.clear();++p<E;){var x=d[p];this.set(x[0],x[1])}}function La(){this.__data__={hash:new cn,map:new(Tt||Kt),string:new cn}}function Va(d){return Gn(this,d).delete(d)}function Ia(d){return Gn(this,d).get(d)}function va(d){return Gn(this,d).has(d)}function Da(d,p){return Gn(this,d).set(d,p),this}Zt.prototype.clear=La,Zt.prototype.delete=Va,Zt.prototype.get=Ia,Zt.prototype.has=va,Zt.prototype.set=Da;function ie(d){this.__data__=new Kt(d)}function $a(){this.__data__=new Kt}function Ma(d){return this.__data__.delete(d)}function Ra(d){return this.__data__.get(d)}function qa(d){return this.__data__.has(d)}function Pa(d,p){var E=this.__data__;if(E instanceof Kt){var x=E.__data__;if(!Tt||x.length<n-1)return x.push([d,p]),this;E=this.__data__=new Zt(x)}return E.set(d,p),this}ie.prototype.clear=$a,ie.prototype.delete=Ma,ie.prototype.get=Ra,ie.prototype.has=qa,ie.prototype.set=Pa;function xs(d,p){var E=bi(d)||Os(d)?V(d.length,String):[],x=E.length,ut=!!x;for(var it in d)Et.call(d,it)&&!(ut&&(it=="length"||el(it,x)))&&E.push(it);return E}function yr(d,p,E){var x=d[p];(!(Et.call(d,p)&&Nr(x,E))||E===void 0&&!(p in d))&&(d[p]=E)}function Ss(d,p){for(var E=d.length;E--;)if(Nr(d[E][0],p))return E;return-1}function He(d,p){return d&&gi(p,Ei(p),d)}function pi(d,p,E,x,ut,it,gt){var mt;if(x&&(mt=it?x(d,ut,it,gt):x(d)),mt!==void 0)return mt;if(!We(d))return d;var jt=bi(d);if(jt){if(mt=Qa(d),!p)return Xa(d,mt)}else{var bt=dn(d),Jt=bt==f||bt==u;if(Ar(d))return Bs(d,p);if(bt==y||bt==o||Jt&&!it){if(K(d))return it?d:{};if(mt=ze(Jt?{}:d),!p)return Za(d,He(mt,d))}else{if(!M[bt])return it?d:{};mt=tl(d,bt,pi,p)}}gt||(gt=new ie);var re=gt.get(d);if(re)return re;if(gt.set(d,mt),!jt)var Ut=E?Ja(d):Ei(d);return ct(Ut||d,function(Qt,Gt){Ut&&(Gt=Qt,Qt=d[Gt]),yr(mt,Gt,pi(Qt,p,E,x,Gt,d,gt))}),mt}function ja(d){return We(d)?Rt(d):{}}function Ua(d,p,E){var x=p(d);return bi(d)?x:ht(x,E(d))}function Ha(d){return st.call(d)}function za(d){if(!We(d)||sl(d))return!1;var p=yi(d)||K(d)?rt:P;return p.test(ne(d))}function Wa(d){if(!wr(d))return Lt(d);var p=[];for(var E in Object(d))Et.call(d,E)&&E!="constructor"&&p.push(E);return p}function Bs(d,p){if(p)return d.slice();var E=new d.constructor(d.length);return d.copy(E),E}function mi(d){var p=new d.constructor(d.byteLength);return new zt(p).set(new zt(d)),p}function Kn(d,p){var E=p?mi(d.buffer):d.buffer;return new d.constructor(E,d.byteOffset,d.byteLength)}function Er(d,p,E){var x=p?E(xt(d),!0):xt(d);return L(x,dt,new d.constructor)}function _r(d){var p=new d.constructor(d.source,F.exec(d));return p.lastIndex=d.lastIndex,p}function Ka(d,p,E){var x=p?E(Ve(d),!0):Ve(d);return L(x,Z,new d.constructor)}function Ga(d){return gr?Object(gr.call(d)):{}}function Ya(d,p){var E=p?mi(d.buffer):d.buffer;return new d.constructor(E,d.byteOffset,d.length)}function Xa(d,p){var E=-1,x=d.length;for(p||(p=Array(x));++E<x;)p[E]=d[E];return p}function gi(d,p,E,x){E||(E={});for(var ut=-1,it=p.length;++ut<it;){var gt=p[ut],mt=void 0;yr(E,gt,mt===void 0?d[gt]:mt)}return E}function Za(d,p){return gi(d,hn(d),p)}function Ja(d){return Ua(d,Ei,hn)}function Gn(d,p){var E=d.__data__;return nl(p)?E[typeof p=="string"?"string":"hash"]:E.map}function Ie(d,p){var E=I(d,p);return za(E)?E:void 0}var hn=St?we(St,Object):rl,dn=Ha;(Bt&&dn(new Bt(new ArrayBuffer(1)))!=z||Tt&&dn(new Tt)!=m||_t&&dn(_t.resolve())!=k||Ot&&dn(new Ot)!=S||Vt&&dn(new Vt)!=H)&&(dn=function(d){var p=st.call(d),E=p==y?d.constructor:void 0,x=E?ne(E):void 0;if(x)switch(x){case It:return z;case Ft:return m;case vt:return k;case Dt:return S;case ui:return H}return p});function Qa(d){var p=d.length,E=d.constructor(p);return p&&typeof d[0]=="string"&&Et.call(d,"index")&&(E.index=d.index,E.input=d.input),E}function ze(d){return typeof d.constructor=="function"&&!wr(d)?ja(Nt(d)):{}}function tl(d,p,E,x){var ut=d.constructor;switch(p){case U:return mi(d);case a:case c:return new ut(+d);case z:return Kn(d,x);case at:case lt:case A:case v:case g:case N:case _:case C:case O:return Ya(d,x);case m:return Er(d,x,E);case b:case $:return new ut(d);case T:return _r(d);case S:return Ka(d,x,E);case q:return Ga(d)}}function el(d,p){return p=p??r,!!p&&(typeof d=="number"||j.test(d))&&d>-1&&d%1==0&&d<p}function nl(d){var p=typeof d;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?d!=="__proto__":d===null}function sl(d){return!!ke&&ke in d}function wr(d){var p=d&&d.constructor,E=typeof p=="function"&&p.prototype||Ht;return d===E}function ne(d){if(d!=null){try{return Mt.call(d)}catch{}try{return d+""}catch{}}return""}function kr(d){return pi(d,!0,!0)}function Nr(d,p){return d===p||d!==d&&p!==p}function Os(d){return il(d)&&Et.call(d,"callee")&&(!qt.call(d,"callee")||st.call(d)==o)}var bi=Array.isArray;function Ls(d){return d!=null&&Tr(d.length)&&!yi(d)}function il(d){return Cr(d)&&Ls(d)}var Ar=At||ol;function yi(d){var p=We(d)?st.call(d):"";return p==f||p==u}function Tr(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=r}function We(d){var p=typeof d;return!!d&&(p=="object"||p=="function")}function Cr(d){return!!d&&typeof d=="object"}function Ei(d){return Ls(d)?xs(d):Wa(d)}function rl(){return[]}function ol(){return!1}e.exports=kr}(Js,Js.exports)),Js.exports}var Qs={exports:{}};Qs.exports;var Zh;function Jh(){return Zh||(Zh=1,function(e,t){var n=200,s="__lodash_hash_undefined__",r=1,o=2,l=9007199254740991,a="[object Arguments]",c="[object Array]",h="[object AsyncFunction]",f="[object Boolean]",u="[object Date]",m="[object Error]",b="[object Function]",y="[object GeneratorFunction]",k="[object Map]",T="[object Number]",S="[object Null]",$="[object Object]",q="[object Promise]",H="[object Proxy]",U="[object RegExp]",z="[object Set]",at="[object String]",lt="[object Symbol]",A="[object Undefined]",v="[object WeakMap]",g="[object ArrayBuffer]",N="[object DataView]",_="[object Float32Array]",C="[object Float64Array]",O="[object Int8Array]",w="[object Int16Array]",F="[object Int32Array]",P="[object Uint8Array]",j="[object Uint8ClampedArray]",M="[object Uint16Array]",J="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,nt=/^\[object .+?Constructor\]$/,tt=/^(?:0|[1-9]\d*)$/,R={};R[_]=R[C]=R[O]=R[w]=R[F]=R[P]=R[j]=R[M]=R[J]=!0,R[a]=R[c]=R[g]=R[f]=R[N]=R[u]=R[m]=R[b]=R[k]=R[T]=R[$]=R[U]=R[z]=R[at]=R[v]=!1;var W=typeof en=="object"&&en&&en.Object===Object&&en,dt=typeof self=="object"&&self&&self.Object===Object&&self,Z=W||dt||Function("return this")(),ct=t&&!t.nodeType&&t,ht=ct&&!0&&e&&!e.nodeType&&e,L=ht&&ht.exports===ct,V=L&&W.process,I=function(){try{return V&&V.binding&&V.binding("util")}catch{}}(),K=I&&I.isTypedArray;function xt(d,p){for(var E=-1,x=d==null?0:d.length,ut=0,it=[];++E<x;){var gt=d[E];p(gt,E,d)&&(it[ut++]=gt)}return it}function we(d,p){for(var E=-1,x=p.length,ut=d.length;++E<x;)d[ut+E]=p[E];return d}function Ve(d,p){for(var E=-1,x=d==null?0:d.length;++E<x;)if(p(d[E],E,d))return!0;return!1}function an(d,p){for(var E=-1,x=Array(d);++E<d;)x[E]=p(E);return x}function ln(d){return function(p){return d(p)}}function Ht(d,p){return d.has(p)}function ee(d,p){return d==null?void 0:d[p]}function ke(d){var p=-1,E=Array(d.size);return d.forEach(function(x,ut){E[++p]=[ut,x]}),E}function Mt(d,p){return function(E){return d(p(E))}}function Et(d){var p=-1,E=Array(d.size);return d.forEach(function(x){E[++p]=x}),E}var st=Array.prototype,rt=Function.prototype,ft=Object.prototype,pt=Z["__core-js_shared__"],zt=rt.toString,Nt=ft.hasOwnProperty,Rt=function(){var d=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),qt=ft.toString,Pt=RegExp("^"+zt.call(Nt).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),St=L?Z.Buffer:void 0,At=Z.Symbol,Lt=Z.Uint8Array,Bt=ft.propertyIsEnumerable,Tt=st.splice,_t=At?At.toStringTag:void 0,Ot=Object.getOwnPropertySymbols,Vt=St?St.isBuffer:void 0,Ct=Mt(Object.keys,Object),It=hn(Z,"DataView"),Ft=hn(Z,"Map"),vt=hn(Z,"Promise"),Dt=hn(Z,"Set"),ui=hn(Z,"WeakMap"),Cn=hn(Object,"create"),gr=ne(It),cn=ne(Ft),Aa=ne(vt),Ta=ne(Dt),Ca=ne(ui),br=At?At.prototype:void 0,fi=br?br.valueOf:void 0;function Kt(d){var p=-1,E=d==null?0:d.length;for(this.clear();++p<E;){var x=d[p];this.set(x[0],x[1])}}function Fa(){this.__data__=Cn?Cn(null):{},this.size=0}function xa(d){var p=this.has(d)&&delete this.__data__[d];return this.size-=p?1:0,p}function Sa(d){var p=this.__data__;if(Cn){var E=p[d];return E===s?void 0:E}return Nt.call(p,d)?p[d]:void 0}function Ba(d){var p=this.__data__;return Cn?p[d]!==void 0:Nt.call(p,d)}function Oa(d,p){var E=this.__data__;return this.size+=this.has(d)?0:1,E[d]=Cn&&p===void 0?s:p,this}Kt.prototype.clear=Fa,Kt.prototype.delete=xa,Kt.prototype.get=Sa,Kt.prototype.has=Ba,Kt.prototype.set=Oa;function Zt(d){var p=-1,E=d==null?0:d.length;for(this.clear();++p<E;){var x=d[p];this.set(x[0],x[1])}}function La(){this.__data__=[],this.size=0}function Va(d){var p=this.__data__,E=Bs(p,d);if(E<0)return!1;var x=p.length-1;return E==x?p.pop():Tt.call(p,E,1),--this.size,!0}function Ia(d){var p=this.__data__,E=Bs(p,d);return E<0?void 0:p[E][1]}function va(d){return Bs(this.__data__,d)>-1}function Da(d,p){var E=this.__data__,x=Bs(E,d);return x<0?(++this.size,E.push([d,p])):E[x][1]=p,this}Zt.prototype.clear=La,Zt.prototype.delete=Va,Zt.prototype.get=Ia,Zt.prototype.has=va,Zt.prototype.set=Da;function ie(d){var p=-1,E=d==null?0:d.length;for(this.clear();++p<E;){var x=d[p];this.set(x[0],x[1])}}function $a(){this.size=0,this.__data__={hash:new Kt,map:new(Ft||Zt),string:new Kt}}function Ma(d){var p=Ie(this,d).delete(d);return this.size-=p?1:0,p}function Ra(d){return Ie(this,d).get(d)}function qa(d){return Ie(this,d).has(d)}function Pa(d,p){var E=Ie(this,d),x=E.size;return E.set(d,p),this.size+=E.size==x?0:1,this}ie.prototype.clear=$a,ie.prototype.delete=Ma,ie.prototype.get=Ra,ie.prototype.has=qa,ie.prototype.set=Pa;function xs(d){var p=-1,E=d==null?0:d.length;for(this.__data__=new ie;++p<E;)this.add(d[p])}function yr(d){return this.__data__.set(d,s),this}function Ss(d){return this.__data__.has(d)}xs.prototype.add=xs.prototype.push=yr,xs.prototype.has=Ss;function He(d){var p=this.__data__=new Zt(d);this.size=p.size}function pi(){this.__data__=new Zt,this.size=0}function ja(d){var p=this.__data__,E=p.delete(d);return this.size=p.size,E}function Ua(d){return this.__data__.get(d)}function Ha(d){return this.__data__.has(d)}function za(d,p){var E=this.__data__;if(E instanceof Zt){var x=E.__data__;if(!Ft||x.length<n-1)return x.push([d,p]),this.size=++E.size,this;E=this.__data__=new ie(x)}return E.set(d,p),this.size=E.size,this}He.prototype.clear=pi,He.prototype.delete=ja,He.prototype.get=Ua,He.prototype.has=Ha,He.prototype.set=za;function Wa(d,p){var E=Os(d),x=!E&&Nr(d),ut=!E&&!x&&Ls(d),it=!E&&!x&&!ut&&Cr(d),gt=E||x||ut||it,mt=gt?an(d.length,String):[],jt=mt.length;for(var bt in d)Nt.call(d,bt)&&!(gt&&(bt=="length"||ut&&(bt=="offset"||bt=="parent")||it&&(bt=="buffer"||bt=="byteLength"||bt=="byteOffset")||tl(bt,jt)))&&mt.push(bt);return mt}function Bs(d,p){for(var E=d.length;E--;)if(kr(d[E][0],p))return E;return-1}function mi(d,p,E){var x=p(d);return Os(d)?x:we(x,E(d))}function Kn(d){return d==null?d===void 0?A:S:_t&&_t in Object(d)?dn(d):wr(d)}function Er(d){return We(d)&&Kn(d)==a}function _r(d,p,E,x,ut){return d===p?!0:d==null||p==null||!We(d)&&!We(p)?d!==d&&p!==p:Ka(d,p,E,x,_r,ut)}function Ka(d,p,E,x,ut,it){var gt=Os(d),mt=Os(p),jt=gt?c:ze(d),bt=mt?c:ze(p);jt=jt==a?$:jt,bt=bt==a?$:bt;var Jt=jt==$,re=bt==$,Ut=jt==bt;if(Ut&&Ls(d)){if(!Ls(p))return!1;gt=!0,Jt=!1}if(Ut&&!Jt)return it||(it=new He),gt||Cr(d)?gi(d,p,E,x,ut,it):Za(d,p,jt,E,x,ut,it);if(!(E&r)){var Qt=Jt&&Nt.call(d,"__wrapped__"),Gt=re&&Nt.call(p,"__wrapped__");if(Qt||Gt){var Fn=Qt?d.value():d,un=Gt?p.value():p;return it||(it=new He),ut(Fn,un,E,x,it)}}return Ut?(it||(it=new He),Ja(d,p,E,x,ut,it)):!1}function Ga(d){if(!Tr(d)||nl(d))return!1;var p=Ar(d)?Pt:nt;return p.test(ne(d))}function Ya(d){return We(d)&&yi(d.length)&&!!R[Kn(d)]}function Xa(d){if(!sl(d))return Ct(d);var p=[];for(var E in Object(d))Nt.call(d,E)&&E!="constructor"&&p.push(E);return p}function gi(d,p,E,x,ut,it){var gt=E&r,mt=d.length,jt=p.length;if(mt!=jt&&!(gt&&jt>mt))return!1;var bt=it.get(d);if(bt&&it.get(p))return bt==p;var Jt=-1,re=!0,Ut=E&o?new xs:void 0;for(it.set(d,p),it.set(p,d);++Jt<mt;){var Qt=d[Jt],Gt=p[Jt];if(x)var Fn=gt?x(Gt,Qt,Jt,p,d,it):x(Qt,Gt,Jt,d,p,it);if(Fn!==void 0){if(Fn)continue;re=!1;break}if(Ut){if(!Ve(p,function(un,Yn){if(!Ht(Ut,Yn)&&(Qt===un||ut(Qt,un,E,x,it)))return Ut.push(Yn)})){re=!1;break}}else if(!(Qt===Gt||ut(Qt,Gt,E,x,it))){re=!1;break}}return it.delete(d),it.delete(p),re}function Za(d,p,E,x,ut,it,gt){switch(E){case N:if(d.byteLength!=p.byteLength||d.byteOffset!=p.byteOffset)return!1;d=d.buffer,p=p.buffer;case g:return!(d.byteLength!=p.byteLength||!it(new Lt(d),new Lt(p)));case f:case u:case T:return kr(+d,+p);case m:return d.name==p.name&&d.message==p.message;case U:case at:return d==p+"";case k:var mt=ke;case z:var jt=x&r;if(mt||(mt=Et),d.size!=p.size&&!jt)return!1;var bt=gt.get(d);if(bt)return bt==p;x|=o,gt.set(d,p);var Jt=gi(mt(d),mt(p),x,ut,it,gt);return gt.delete(d),Jt;case lt:if(fi)return fi.call(d)==fi.call(p)}return!1}function Ja(d,p,E,x,ut,it){var gt=E&r,mt=Gn(d),jt=mt.length,bt=Gn(p),Jt=bt.length;if(jt!=Jt&&!gt)return!1;for(var re=jt;re--;){var Ut=mt[re];if(!(gt?Ut in p:Nt.call(p,Ut)))return!1}var Qt=it.get(d);if(Qt&&it.get(p))return Qt==p;var Gt=!0;it.set(d,p),it.set(p,d);for(var Fn=gt;++re<jt;){Ut=mt[re];var un=d[Ut],Yn=p[Ut];if(x)var iu=gt?x(Yn,un,Ut,p,d,it):x(un,Yn,Ut,d,p,it);if(!(iu===void 0?un===Yn||ut(un,Yn,E,x,it):iu)){Gt=!1;break}Fn||(Fn=Ut=="constructor")}if(Gt&&!Fn){var Fr=d.constructor,xr=p.constructor;Fr!=xr&&"constructor"in d&&"constructor"in p&&!(typeof Fr=="function"&&Fr instanceof Fr&&typeof xr=="function"&&xr instanceof xr)&&(Gt=!1)}return it.delete(d),it.delete(p),Gt}function Gn(d){return mi(d,Ei,Qa)}function Ie(d,p){var E=d.__data__;return el(p)?E[typeof p=="string"?"string":"hash"]:E.map}function hn(d,p){var E=ee(d,p);return Ga(E)?E:void 0}function dn(d){var p=Nt.call(d,_t),E=d[_t];try{d[_t]=void 0;var x=!0}catch{}var ut=qt.call(d);return x&&(p?d[_t]=E:delete d[_t]),ut}var Qa=Ot?function(d){return d==null?[]:(d=Object(d),xt(Ot(d),function(p){return Bt.call(d,p)}))}:rl,ze=Kn;(It&&ze(new It(new ArrayBuffer(1)))!=N||Ft&&ze(new Ft)!=k||vt&&ze(vt.resolve())!=q||Dt&&ze(new Dt)!=z||ui&&ze(new ui)!=v)&&(ze=function(d){var p=Kn(d),E=p==$?d.constructor:void 0,x=E?ne(E):"";if(x)switch(x){case gr:return N;case cn:return k;case Aa:return q;case Ta:return z;case Ca:return v}return p});function tl(d,p){return p=p??l,!!p&&(typeof d=="number"||tt.test(d))&&d>-1&&d%1==0&&d<p}function el(d){var p=typeof d;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?d!=="__proto__":d===null}function nl(d){return!!Rt&&Rt in d}function sl(d){var p=d&&d.constructor,E=typeof p=="function"&&p.prototype||ft;return d===E}function wr(d){return qt.call(d)}function ne(d){if(d!=null){try{return zt.call(d)}catch{}try{return d+""}catch{}}return""}function kr(d,p){return d===p||d!==d&&p!==p}var Nr=Er(function(){return arguments}())?Er:function(d){return We(d)&&Nt.call(d,"callee")&&!Bt.call(d,"callee")},Os=Array.isArray;function bi(d){return d!=null&&yi(d.length)&&!Ar(d)}var Ls=Vt||ol;function il(d,p){return _r(d,p)}function Ar(d){if(!Tr(d))return!1;var p=Kn(d);return p==b||p==y||p==h||p==H}function yi(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=l}function Tr(d){var p=typeof d;return d!=null&&(p=="object"||p=="function")}function We(d){return d!=null&&typeof d=="object"}var Cr=K?ln(K):Ya;function Ei(d){return bi(d)?Wa(d):Xa(d)}function rl(){return[]}function ol(){return!1}e.exports=il}(Qs,Qs.exports)),Qs.exports}var sr={},Qh;function OE(){if(Qh)return sr;Qh=1,Object.defineProperty(sr,"__esModule",{value:!0});const e=Xh(),t=Jh();var n;return function(s){function r(c={},h={},f=!1){typeof c!="object"&&(c={}),typeof h!="object"&&(h={});let u=e(h);f||(u=Object.keys(u).reduce((m,b)=>(u[b]!=null&&(m[b]=u[b]),m),{}));for(const m in c)c[m]!==void 0&&h[m]===void 0&&(u[m]=c[m]);return Object.keys(u).length>0?u:void 0}s.compose=r;function o(c={},h={}){typeof c!="object"&&(c={}),typeof h!="object"&&(h={});const f=Object.keys(c).concat(Object.keys(h)).reduce((u,m)=>(t(c[m],h[m])||(u[m]=h[m]===void 0?null:h[m]),u),{});return Object.keys(f).length>0?f:void 0}s.diff=o;function l(c={},h={}){c=c||{};const f=Object.keys(h).reduce((u,m)=>(h[m]!==c[m]&&c[m]!==void 0&&(u[m]=h[m]),u),{});return Object.keys(c).reduce((u,m)=>(c[m]!==h[m]&&h[m]===void 0&&(u[m]=null),u),f)}s.invert=l;function a(c,h,f=!1){if(typeof c!="object")return h;if(typeof h!="object")return;if(!f)return h;const u=Object.keys(h).reduce((m,b)=>(c[b]===void 0&&(m[b]=h[b]),m),{});return Object.keys(u).length>0?u:void 0}s.transform=a}(n||(n={})),sr.default=n,sr}var ir={},td;function ed(){if(td)return ir;td=1,Object.defineProperty(ir,"__esModule",{value:!0});var e;return function(t){function n(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.retain=="object"&&s.retain!==null?1:typeof s.insert=="string"?s.insert.length:1}t.length=n}(e||(e={})),ir.default=e,ir}var rr={},nd;function LE(){if(nd)return rr;nd=1,Object.defineProperty(rr,"__esModule",{value:!0});const e=ed();class t{constructor(s){this.ops=s,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(s){s||(s=1/0);const r=this.ops[this.index];if(r){const o=this.offset,l=e.default.length(r);if(s>=l-o?(s=l-o,this.index+=1,this.offset=0):this.offset+=s,typeof r.delete=="number")return{delete:s};{const a={};return r.attributes&&(a.attributes=r.attributes),typeof r.retain=="number"?a.retain=s:typeof r.retain=="object"&&r.retain!==null?a.retain=r.retain:typeof r.insert=="string"?a.insert=r.insert.substr(o,s):a.insert=r.insert,a}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const s=this.ops[this.index];return s?typeof s.delete=="number"?"delete":typeof s.retain=="number"||typeof s.retain=="object"&&s.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const s=this.offset,r=this.index,o=this.next(),l=this.ops.slice(this.index);return this.offset=s,this.index=r,[o].concat(l)}}else return[]}}return rr.default=t,rr}var sd;function VE(){return sd||(sd=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const n=BE(),s=Xh(),r=Jh(),o=OE();t.AttributeMap=o.default;const l=ed();t.Op=l.default;const a=LE();t.OpIterator=a.default;const c="\0",h=(u,m)=>{if(typeof u!="object"||u===null)throw new Error(`cannot retain a ${typeof u}`);if(typeof m!="object"||m===null)throw new Error(`cannot retain a ${typeof m}`);const b=Object.keys(u)[0];if(!b||b!==Object.keys(m)[0])throw new Error(`embed types not matched: ${b} != ${Object.keys(m)[0]}`);return[b,u[b],m[b]]};class f{constructor(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]}static registerEmbed(m,b){this.handlers[m]=b}static unregisterEmbed(m){delete this.handlers[m]}static getHandler(m){const b=this.handlers[m];if(!b)throw new Error(`no handlers for embed type "${m}"`);return b}insert(m,b){const y={};return typeof m=="string"&&m.length===0?this:(y.insert=m,b!=null&&typeof b=="object"&&Object.keys(b).length>0&&(y.attributes=b),this.push(y))}delete(m){return m<=0?this:this.push({delete:m})}retain(m,b){if(typeof m=="number"&&m<=0)return this;const y={retain:m};return b!=null&&typeof b=="object"&&Object.keys(b).length>0&&(y.attributes=b),this.push(y)}push(m){let b=this.ops.length,y=this.ops[b-1];if(m=s(m),typeof y=="object"){if(typeof m.delete=="number"&&typeof y.delete=="number")return this.ops[b-1]={delete:y.delete+m.delete},this;if(typeof y.delete=="number"&&m.insert!=null&&(b-=1,y=this.ops[b-1],typeof y!="object"))return this.ops.unshift(m),this;if(r(m.attributes,y.attributes)){if(typeof m.insert=="string"&&typeof y.insert=="string")return this.ops[b-1]={insert:y.insert+m.insert},typeof m.attributes=="object"&&(this.ops[b-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof y.retain=="number")return this.ops[b-1]={retain:y.retain+m.retain},typeof m.attributes=="object"&&(this.ops[b-1].attributes=m.attributes),this}}return b===this.ops.length?this.ops.push(m):this.ops.splice(b,0,m),this}chop(){const m=this.ops[this.ops.length-1];return m&&typeof m.retain=="number"&&!m.attributes&&this.ops.pop(),this}filter(m){return this.ops.filter(m)}forEach(m){this.ops.forEach(m)}map(m){return this.ops.map(m)}partition(m){const b=[],y=[];return this.forEach(k=>{(m(k)?b:y).push(k)}),[b,y]}reduce(m,b){return this.ops.reduce(m,b)}changeLength(){return this.reduce((m,b)=>b.insert?m+l.default.length(b):b.delete?m-b.delete:m,0)}length(){return this.reduce((m,b)=>m+l.default.length(b),0)}slice(m=0,b=1/0){const y=[],k=new a.default(this.ops);let T=0;for(;T<b&&k.hasNext();){let S;T<m?S=k.next(m-T):(S=k.next(b-T),y.push(S)),T+=l.default.length(S)}return new f(y)}compose(m){const b=new a.default(this.ops),y=new a.default(m.ops),k=[],T=y.peek();if(T!=null&&typeof T.retain=="number"&&T.attributes==null){let $=T.retain;for(;b.peekType()==="insert"&&b.peekLength()<=$;)$-=b.peekLength(),k.push(b.next());T.retain-$>0&&y.next(T.retain-$)}const S=new f(k);for(;b.hasNext()||y.hasNext();)if(y.peekType()==="insert")S.push(y.next());else if(b.peekType()==="delete")S.push(b.next());else{const $=Math.min(b.peekLength(),y.peekLength()),q=b.next($),H=y.next($);if(H.retain){const U={};if(typeof q.retain=="number")U.retain=typeof H.retain=="number"?$:H.retain;else if(typeof H.retain=="number")q.retain==null?U.insert=q.insert:U.retain=q.retain;else{const at=q.retain==null?"insert":"retain",[lt,A,v]=h(q[at],H.retain),g=f.getHandler(lt);U[at]={[lt]:g.compose(A,v,at==="retain")}}const z=o.default.compose(q.attributes,H.attributes,typeof q.retain=="number");if(z&&(U.attributes=z),S.push(U),!y.hasNext()&&r(S.ops[S.ops.length-1],U)){const at=new f(b.rest());return S.concat(at).chop()}}else typeof H.delete=="number"&&(typeof q.retain=="number"||typeof q.retain=="object"&&q.retain!==null)&&S.push(H)}return S.chop()}concat(m){const b=new f(this.ops.slice());return m.ops.length>0&&(b.push(m.ops[0]),b.ops=b.ops.concat(m.ops.slice(1))),b}diff(m,b){if(this.ops===m.ops)return new f;const y=[this,m].map(q=>q.map(H=>{if(H.insert!=null)return typeof H.insert=="string"?H.insert:c;const U=q===m?"on":"with";throw new Error("diff() called "+U+" non-document")}).join("")),k=new f,T=n(y[0],y[1],b,!0),S=new a.default(this.ops),$=new a.default(m.ops);return T.forEach(q=>{let H=q[1].length;for(;H>0;){let U=0;switch(q[0]){case n.INSERT:U=Math.min($.peekLength(),H),k.push($.next(U));break;case n.DELETE:U=Math.min(H,S.peekLength()),S.next(U),k.delete(U);break;case n.EQUAL:U=Math.min(S.peekLength(),$.peekLength(),H);const z=S.next(U),at=$.next(U);r(z.insert,at.insert)?k.retain(U,o.default.diff(z.attributes,at.attributes)):k.push(at).delete(U);break}H-=U}}),k.chop()}eachLine(m,b=`
`){const y=new a.default(this.ops);let k=new f,T=0;for(;y.hasNext();){if(y.peekType()!=="insert")return;const S=y.peek(),$=l.default.length(S)-y.peekLength(),q=typeof S.insert=="string"?S.insert.indexOf(b,$)-$:-1;if(q<0)k.push(y.next());else if(q>0)k.push(y.next(q));else{if(m(k,y.next(1).attributes||{},T)===!1)return;T+=1,k=new f}}k.length()>0&&m(k,{},T)}invert(m){const b=new f;return this.reduce((y,k)=>{if(k.insert)b.delete(l.default.length(k));else{if(typeof k.retain=="number"&&k.attributes==null)return b.retain(k.retain),y+k.retain;if(k.delete||typeof k.retain=="number"){const T=k.delete||k.retain;return m.slice(y,y+T).forEach($=>{k.delete?b.push($):k.retain&&k.attributes&&b.retain(l.default.length($),o.default.invert(k.attributes,$.attributes))}),y+T}else if(typeof k.retain=="object"&&k.retain!==null){const T=m.slice(y,y+1),S=new a.default(T.ops).next(),[$,q,H]=h(k.retain,S.insert),U=f.getHandler($);return b.retain({[$]:U.invert(q,H)},o.default.invert(k.attributes,S.attributes)),y+1}}return y},0),b.chop()}transform(m,b=!1){if(b=!!b,typeof m=="number")return this.transformPosition(m,b);const y=m,k=new a.default(this.ops),T=new a.default(y.ops),S=new f;for(;k.hasNext()||T.hasNext();)if(k.peekType()==="insert"&&(b||T.peekType()!=="insert"))S.retain(l.default.length(k.next()));else if(T.peekType()==="insert")S.push(T.next());else{const $=Math.min(k.peekLength(),T.peekLength()),q=k.next($),H=T.next($);if(q.delete)continue;if(H.delete)S.push(H);else{const U=q.retain,z=H.retain;let at=typeof z=="object"&&z!==null?z:$;if(typeof U=="object"&&U!==null&&typeof z=="object"&&z!==null){const lt=Object.keys(U)[0];if(lt===Object.keys(z)[0]){const A=f.getHandler(lt);A&&(at={[lt]:A.transform(U[lt],z[lt],b)})}}S.retain(at,o.default.transform(q.attributes,H.attributes,b))}}return S.chop()}transformPosition(m,b=!1){b=!!b;const y=new a.default(this.ops);let k=0;for(;y.hasNext()&&k<=m;){const T=y.peekLength(),S=y.peekType();if(y.next(),S==="delete"){m-=Math.min(T,m-k);continue}else S==="insert"&&(k<m||!b)&&(m+=T);k+=T}return m}}f.Op=l.default,f.OpIterator=a.default,f.AttributeMap=o.default,f.handlers={},t.default=f,e.exports=f,e.exports.default=f}(nr,nr.exports)),nr.exports}var pe=VE();const Q=Kh(pe);class Fe extends ce{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Fe.blotName="break",Fe.tagName="BR";let xe=class extends er{};const IE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function or(e){return e.replace(/[&<>"']/g,t=>IE[t])}const Ue=class Ue extends jo{static compare(t,n){const s=Ue.order.indexOf(t),r=Ue.order.indexOf(n);return s>=0||r>=0?s-r:t===n?0:t<n?-1:1}formatAt(t,n,s,r){if(Ue.compare(this.statics.blotName,s)<0&&this.scroll.query(s,et.BLOT)){const o=this.isolate(t,n);r&&o.wrap(s,r)}else super.formatAt(t,n,s,r)}optimize(t){if(super.optimize(t),this.parent instanceof Ue&&Ue.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};G(Ue,"allowedChildren",[Ue,Fe,ce,xe]),G(Ue,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Pe=Ue;const id=1;class Wt extends Zs{constructor(){super(...arguments);G(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=rd(this)),this.cache.delta}deleteAt(n,s){super.deleteAt(n,s),this.cache={}}formatAt(n,s,r,o){s<=0||(this.scroll.query(r,et.BLOCK)?n+s===this.length()&&this.format(r,o):super.formatAt(n,Math.min(s,this.length()-n-1),r,o),this.cache={})}insertAt(n,s,r){if(r!=null){super.insertAt(n,s,r),this.cache={};return}if(s.length===0)return;const o=s.split(`
`),l=o.shift();l.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),l):this.children.tail.insertAt(this.children.tail.length(),l),this.cache={});let a=this;o.reduce((c,h)=>(a=a.split(c,!0),a.insertAt(0,h),h.length),n+l.length)}insertBefore(n,s){const{head:r}=this.children;super.insertBefore(n,s),r instanceof Fe&&r.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+id),this.cache.length}moveChildren(n,s){super.moveChildren(n,s),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s&&(n===0||n>=this.length()-id)){const o=this.clone();return n===0?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}const r=super.split(n,s);return this.cache={},r}}Wt.blotName="block",Wt.tagName="P",Wt.defaultChild=Fe,Wt.allowedChildren=[Fe,Pe,ce,xe];class me extends ce{attach(){super.attach(),this.attributes=new Qi(this.domNode)}delta(){return new Q().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,n){const s=this.scroll.query(t,et.BLOCK_ATTRIBUTE);s!=null&&this.attributes.attribute(s,n)}formatAt(t,n,s,r){this.format(s,r)}insertAt(t,n,s){if(s!=null){super.insertAt(t,n,s);return}const r=n.split(`
`),o=r.pop(),l=r.map(c=>{const h=this.scroll.create(Wt.blotName);return h.insertAt(0,c),h}),a=this.split(t);l.forEach(c=>{this.parent.insertBefore(c,a)}),o&&this.parent.insertBefore(this.scroll.create("text",o),a)}}me.scope=et.BLOCK_BLOT;function rd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(Yt).reduce((n,s)=>s.length()===0?n:n.insert(s.value(),ge(s,{},t)),new Q).insert(`
`,ge(e))}function ge(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(t={...t,...e.formats()},n&&delete t["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?t:ge(e.parent,t,n)}const _e=class _e extends ce{static value(){}constructor(t,n,s){super(t,n),this.selection=s,this.textNode=document.createTextNode(_e.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,n){if(this.savedLength!==0){super.format(t,n);return}let s=this,r=0;for(;s!=null&&s.statics.scope!==et.BLOCK_BLOT;)r+=s.offset(s.parent),s=s.parent;s!=null&&(this.savedLength=_e.CONTENTS.length,s.optimize(),s.formatAt(r,_e.CONTENTS.length,t,n),this.savedLength=0)}index(t,n){return t===this.textNode?0:super.index(t,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof xe?this.prev:null,s=n?n.length():0,r=this.next instanceof xe?this.next:null,o=r?r.text:"",{textNode:l}=this,a=l.data.split(_e.CONTENTS).join("");l.data=_e.CONTENTS;let c;if(n)c=n,(a||r)&&(n.insertAt(n.length(),a+o),r&&r.remove());else if(r)c=r,r.insertAt(0,a);else{const h=document.createTextNode(a);c=this.scroll.create(h),this.parent.insertBefore(c,this)}if(this.remove(),t){const h=(m,b)=>n&&m===n.domNode?b:m===l?s+b-1:r&&m===r.domNode?s+a.length+b:null,f=h(t.start.node,t.start.offset),u=h(t.end.node,t.end.offset);if(f!==null&&u!==null)return{startNode:c.domNode,startOffset:f,endNode:c.domNode,endOffset:u}}return null}update(t,n){if(t.some(s=>s.type==="characterData"&&s.target===this.textNode)){const s=this.restore();s&&(n.range=s)}}optimize(t){super.optimize(t);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=_e.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};G(_e,"blotName","cursor"),G(_e,"className","ql-cursor"),G(_e,"tagName","span"),G(_e,"CONTENTS","\uFEFF");let ks=_e;var Ko={exports:{}},od;function vE(){return od||(od=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function r(c,h,f){this.fn=c,this.context=h,this.once=f||!1}function o(c,h,f,u,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var b=new r(f,u||c,m),y=n?n+h:h;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],b]:c._events[y].push(b):(c._events[y]=b,c._eventsCount++),c}function l(c,h){--c._eventsCount===0?c._events=new s:delete c._events[h]}function a(){this._events=new s,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],f,u;if(this._eventsCount===0)return h;for(u in f=this._events)t.call(f,u)&&h.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},a.prototype.listeners=function(h){var f=n?n+h:h,u=this._events[f];if(!u)return[];if(u.fn)return[u.fn];for(var m=0,b=u.length,y=new Array(b);m<b;m++)y[m]=u[m].fn;return y},a.prototype.listenerCount=function(h){var f=n?n+h:h,u=this._events[f];return u?u.fn?1:u.length:0},a.prototype.emit=function(h,f,u,m,b,y){var k=n?n+h:h;if(!this._events[k])return!1;var T=this._events[k],S=arguments.length,$,q;if(T.fn){switch(T.once&&this.removeListener(h,T.fn,void 0,!0),S){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,f),!0;case 3:return T.fn.call(T.context,f,u),!0;case 4:return T.fn.call(T.context,f,u,m),!0;case 5:return T.fn.call(T.context,f,u,m,b),!0;case 6:return T.fn.call(T.context,f,u,m,b,y),!0}for(q=1,$=new Array(S-1);q<S;q++)$[q-1]=arguments[q];T.fn.apply(T.context,$)}else{var H=T.length,U;for(q=0;q<H;q++)switch(T[q].once&&this.removeListener(h,T[q].fn,void 0,!0),S){case 1:T[q].fn.call(T[q].context);break;case 2:T[q].fn.call(T[q].context,f);break;case 3:T[q].fn.call(T[q].context,f,u);break;case 4:T[q].fn.call(T[q].context,f,u,m);break;default:if(!$)for(U=1,$=new Array(S-1);U<S;U++)$[U-1]=arguments[U];T[q].fn.apply(T[q].context,$)}}return!0},a.prototype.on=function(h,f,u){return o(this,h,f,u,!1)},a.prototype.once=function(h,f,u){return o(this,h,f,u,!0)},a.prototype.removeListener=function(h,f,u,m){var b=n?n+h:h;if(!this._events[b])return this;if(!f)return l(this,b),this;var y=this._events[b];if(y.fn)y.fn===f&&(!m||y.once)&&(!u||y.context===u)&&l(this,b);else{for(var k=0,T=[],S=y.length;k<S;k++)(y[k].fn!==f||m&&!y[k].once||u&&y[k].context!==u)&&T.push(y[k]);T.length?this._events[b]=T.length===1?T[0]:T:l(this,b)}return this},a.prototype.removeAllListeners=function(h){var f;return h?(f=n?n+h:h,this._events[f]&&l(this,f)):(this._events=new s,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a}(Ko)),Ko.exports}var DE=vE();const $E=Kh(DE),Go=new WeakMap,Yo=["error","warn","log","info"];let Xo="warn";function ad(e){if(Xo&&Yo.indexOf(e)<=Yo.indexOf(Xo)){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];console[e](...n)}}function nn(e){return Yo.reduce((t,n)=>(t[n]=ad.bind(console,n,e),t),{})}nn.level=e=>{Xo=e},ad.level=nn.level;const Zo=nn("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(e=>{document.addEventListener(e,function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];Array.from(document.querySelectorAll(".ql-container")).forEach(r=>{const o=Go.get(r);o&&o.emitter&&o.emitter.handleDOM(...n)})})});class X extends $E{constructor(){super(),this.domListeners={},this.on("error",Zo.error)}emit(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return Zo.log.call(Zo,...n),super.emit(...n)}handleDOM(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];(this.domListeners[t.type]||[]).forEach(o=>{let{node:l,handler:a}=o;(t.target===l||l.contains(t.target))&&a(t,...s)})}listenDOM(t,n,s){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:n,handler:s})}}G(X,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),G(X,"sources",{API:"api",SILENT:"silent",USER:"user"});const Jo=nn("quill:selection");class Un{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=n}}class ME{constructor(t,n){this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Un(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,X.sources.USER),1)}),this.emitter.on(X.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const s=this.getNativeRange();s!=null&&s.start.node!==this.cursor.textNode&&this.emitter.once(X.events.SCROLL_UPDATE,(r,o)=>{try{this.root.contains(s.start.node)&&this.root.contains(s.end.node)&&this.setNativeRange(s.start.node,s.start.offset,s.end.node,s.end.offset);const l=o.some(a=>a.type==="characterData"||a.type==="childList"||a.type==="attributes"&&a.target===this.root);this.update(l?X.sources.SILENT:r)}catch{}})}),this.emitter.on(X.events.SCROLL_OPTIMIZE,(s,r)=>{if(r.range){const{startNode:o,startOffset:l,endNode:a,endOffset:c}=r.range;this.setNativeRange(o,l,a,c),this.update(X.sources.SILENT)}}),this.update(X.sources.SILENT)}handleComposition(){this.emitter.on(X.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(X.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(X.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,n){this.scroll.update();const s=this.getNativeRange();if(!(s==null||!s.native.collapsed||this.scroll.query(t,et.BLOCK))){if(s.start.node!==this.cursor.textNode){const r=this.scroll.find(s.start.node,!1);if(r==null)return;if(r instanceof Yt){const o=r.split(s.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,s.start.node);this.cursor.attach()}this.cursor.format(t,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const s=this.scroll.length();t=Math.min(t,s-1),n=Math.min(t+n,s-1)-t;let r,[o,l]=this.scroll.leaf(t);if(o==null)return null;if(n>0&&l===o.length()){const[f]=this.scroll.leaf(t+1);if(f){const[u]=this.scroll.line(t),[m]=this.scroll.line(t+1);u===m&&(o=f,l=0)}}[r,l]=o.position(l,!0);const a=document.createRange();if(n>0)return a.setStart(r,l),[o,l]=this.scroll.leaf(t+n),o==null?null:([r,l]=o.position(l,!0),a.setEnd(r,l),a.getBoundingClientRect());let c="left",h;if(r instanceof Text){if(!r.data.length)return null;l<r.data.length?(a.setStart(r,l),a.setEnd(r,l+1)):(a.setStart(r,l-1),a.setEnd(r,l),c="right"),h=a.getBoundingClientRect()}else{if(!(o.domNode instanceof Element))return null;h=o.domNode.getBoundingClientRect(),l>0&&(c="right")}return{bottom:h.top+h.height,height:h.height,left:h[c],right:h[c],top:h.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const n=t.getRangeAt(0);if(n==null)return null;const s=this.normalizeNative(n);return Jo.info("getNativeRange",s),s}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Qo(this.root,document.activeElement)}normalizedToRange(t){const n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);const s=n.map(l=>{const[a,c]=l,h=this.scroll.find(a,!0),f=h.offset(this.scroll);return c===0?f:h instanceof Yt?f+h.index(a,c):f+h.length()}),r=Math.min(Math.max(...s),this.scroll.length()-1),o=Math.min(r,...s);return new Un(o,r-o)}normalizeNative(t){if(!Qo(this.root,t.startContainer)||!t.collapsed&&!Qo(this.root,t.endContainer))return null;const n={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[n.start,n.end].forEach(s=>{let{node:r,offset:o}=s;for(;!(r instanceof Text)&&r.childNodes.length>0;)if(r.childNodes.length>o)r=r.childNodes[o],o=0;else if(r.childNodes.length===o)r=r.lastChild,r instanceof Text?o=r.data.length:r.childNodes.length>0?o=r.childNodes.length:o=r.childNodes.length+1;else break;s.node=r,s.offset=o}),n}rangeToNative(t){const n=this.scroll.length(),s=(r,o)=>{r=Math.min(n-1,r);const[l,a]=this.scroll.leaf(r);return l?l.position(a,o):[null,-1]};return[...s(t.index,!1),...s(t.index+t.length,!0)]}setNativeRange(t,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Jo.info("setNativeRange",t,n,s,r),t!=null&&(this.root.parentNode==null||t.parentNode==null||s.parentNode==null))return;const l=document.getSelection();if(l!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:a}=this.getNativeRange()||{};if(a==null||o||t!==a.startContainer||n!==a.startOffset||s!==a.endContainer||r!==a.endOffset){t instanceof Element&&t.tagName==="BR"&&(n=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),s instanceof Element&&s.tagName==="BR"&&(r=Array.from(s.parentNode.childNodes).indexOf(s),s=s.parentNode);const c=document.createRange();c.setStart(t,n),c.setEnd(s,r),l.removeAllRanges(),l.addRange(c)}}else l.removeAllRanges(),this.root.blur()}setRange(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:X.sources.API;if(typeof n=="string"&&(s=n,n=!1),Jo.info("setRange",t),t!=null){const r=this.rangeToNative(t);this.setNativeRange(...r,n)}else this.setNativeRange(null);this.update(s)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:X.sources.USER;const n=this.lastRange,[s,r]=this.getRange();if(this.lastRange=s,this.lastNative=r,this.lastRange!=null&&(this.savedRange=this.lastRange),!qo(n,this.lastRange)){if(!this.composing&&r!=null&&r.native.collapsed&&r.start.node!==this.cursor.textNode){const l=this.cursor.restore();l&&this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)}const o=[X.events.SELECTION_CHANGE,gs(this.lastRange),gs(n),t];this.emitter.emit(X.events.EDITOR_CHANGE,...o),t!==X.sources.SILENT&&this.emitter.emit(...o)}}}function Qo(e,t){try{t.parentNode}catch{return!1}return e.contains(t)}const RE=/^[ -~]*$/;class qE{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const s=ld(t),r=new Q;return jE(s.ops.slice()).reduce((l,a)=>{const c=pe.Op.length(a);let h=a.attributes||{},f=!1,u=!1;if(a.insert!=null){if(r.retain(c),typeof a.insert=="string"){const y=a.insert;u=!y.endsWith(`
`)&&(n<=l||!!this.scroll.descendant(me,l)[0]),this.scroll.insertAt(l,y);const[k,T]=this.scroll.line(l);let S=kn({},ge(k));if(k instanceof Wt){const[$]=k.descendant(Yt,T);$&&(S=kn(S,ge($)))}h=pe.AttributeMap.diff(S,h)||{}}else if(typeof a.insert=="object"){const y=Object.keys(a.insert)[0];if(y==null)return l;const k=this.scroll.query(y,et.INLINE)!=null;if(k)(n<=l||this.scroll.descendant(me,l)[0])&&(u=!0);else if(l>0){const[T,S]=this.scroll.descendant(Yt,l-1);T instanceof xe?T.value()[S]!==`
`&&(f=!0):T instanceof ce&&T.statics.scope===et.INLINE_BLOT&&(f=!0)}if(this.scroll.insertAt(l,y,a.insert[y]),k){const[T]=this.scroll.descendant(Yt,l);if(T){const S=kn({},ge(T));h=pe.AttributeMap.diff(S,h)||{}}}}n+=c}else if(r.push(a),a.retain!==null&&typeof a.retain=="object"){const y=Object.keys(a.retain)[0];if(y==null)return l;this.scroll.updateEmbedAt(l,y,a.retain[y])}Object.keys(h).forEach(y=>{this.scroll.formatAt(l,c,y,h[y])});const m=f?1:0,b=u?1:0;return n+=m+b,r.retain(m),r.delete(b),l+c+m+b},0),r.reduce((l,a)=>typeof a.delete=="number"?(this.scroll.deleteAt(l,a.delete),l):l+pe.Op.length(a),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(s)}deleteText(t,n){return this.scroll.deleteAt(t,n),this.update(new Q().retain(t).delete(n))}formatLine(t,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(s).forEach(o=>{this.scroll.lines(t,Math.max(n,1)).forEach(l=>{l.format(o,s[o])})}),this.scroll.optimize();const r=new Q().retain(t).retain(n,gs(s));return this.update(r)}formatText(t,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(s).forEach(o=>{this.scroll.formatAt(t,n,o,s[o])});const r=new Q().retain(t).retain(n,gs(s));return this.update(r)}getContents(t,n){return this.delta.slice(t,t+n)}getDelta(){return this.scroll.lines().reduce((t,n)=>t.concat(n.delta()),new Q)}getFormat(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=[],r=[];n===0?this.scroll.path(t).forEach(a=>{const[c]=a;c instanceof Wt?s.push(c):c instanceof Yt&&r.push(c)}):(s=this.scroll.lines(t,n),r=this.scroll.descendants(Yt,t,n));const[o,l]=[s,r].map(a=>{const c=a.shift();if(c==null)return{};let h=ge(c);for(;Object.keys(h).length>0;){const f=a.shift();if(f==null)return h;h=PE(ge(f),h)}return h});return{...o,...l}}getHTML(t,n){const[s,r]=this.scroll.line(t);if(s){const o=s.length();return s.length()>=r+n&&!(r===0&&n===o)?ti(s,r,n,!0):ti(this.scroll,t,n,!0)}return""}getText(t,n){return this.getContents(t,n).filter(s=>typeof s.insert=="string").map(s=>s.insert).join("")}insertContents(t,n){const s=ld(n),r=new Q().retain(t).concat(s);return this.scroll.insertContents(t,s),this.update(r)}insertEmbed(t,n,s){return this.scroll.insertAt(t,n,s),this.update(new Q().retain(t).insert({[n]:s}))}insertText(t,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,n),Object.keys(s).forEach(r=>{this.scroll.formatAt(t,n.length,r,s[r])}),this.update(new Q().retain(t).insert(n,gs(s)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==Wt.blotName)return!1;const n=t;return n.children.length>1?!1:n.children.head instanceof Fe}removeFormat(t,n){const s=this.getText(t,n),[r,o]=this.scroll.line(t+n);let l=0,a=new Q;r!=null&&(l=r.length()-o,a=r.delta().slice(o,o+l-1).insert(`
`));const h=this.getContents(t,n+l).diff(new Q().insert(s).concat(a)),f=new Q().retain(t).concat(h);return this.applyDelta(f)}update(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const r=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(RE)&&this.scroll.find(n[0].target)){const o=this.scroll.find(n[0].target),l=ge(o),a=o.offset(this.scroll),c=n[0].oldValue.replace(ks.CONTENTS,""),h=new Q().insert(c),f=new Q().insert(o.value()),u=s&&{oldRange:cd(s.oldRange,-a),newRange:cd(s.newRange,-a)};t=new Q().retain(a).concat(h.diff(f,u)).reduce((b,y)=>y.insert?b.insert(y.insert,l):b.push(y),new Q),this.delta=r.compose(t)}else this.delta=this.getDelta(),(!t||!qo(r.compose(t),this.delta))&&(t=r.diff(this.delta,s));return t}}function Ns(e,t,n){if(e.length===0){const[b]=ta(n.pop());return t<=0?`</li></${b}>`:`</li></${b}>${Ns([],t-1,n)}`}const[{child:s,offset:r,length:o,indent:l,type:a},...c]=e,[h,f]=ta(a);if(l>t)return n.push(a),l===t+1?`<${h}><li${f}>${ti(s,r,o)}${Ns(c,l,n)}`:`<${h}><li>${Ns(e,t+1,n)}`;const u=n[n.length-1];if(l===t&&a===u)return`</li><li${f}>${ti(s,r,o)}${Ns(c,l,n)}`;const[m]=ta(n.pop());return`</li></${m}>${Ns(e,t-1,n)}`}function ti(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(t,n);if(e instanceof xe)return or(e.value().slice(t,t+n)).replaceAll(" ","&nbsp;");if(e instanceof Ce){if(e.statics.blotName==="list-container"){const h=[];return e.children.forEachAt(t,n,(f,u,m)=>{const b="formats"in f&&typeof f.formats=="function"?f.formats():{};h.push({child:f,offset:u,length:m,indent:b.indent||0,type:b.list})}),Ns(h,-1,[])}const r=[];if(e.children.forEachAt(t,n,(h,f,u)=>{r.push(ti(h,f,u))}),s||e.statics.blotName==="list")return r.join("");const{outerHTML:o,innerHTML:l}=e.domNode,[a,c]=o.split(`>${l}<`);return a==="<table"?`<table style="border: 1px solid #000;">${r.join("")}<${c}`:`${a}>${r.join("")}<${c}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function PE(e,t){return Object.keys(t).reduce((n,s)=>{if(e[s]==null)return n;const r=t[s];return r===e[s]?n[s]=r:Array.isArray(r)?r.indexOf(e[s])<0?n[s]=r.concat([e[s]]):n[s]=r:n[s]=[r,e[s]],n},{})}function ta(e){const t=e==="ordered"?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function ld(e){return e.reduce((t,n)=>{if(typeof n.insert=="string"){const s=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(s,n.attributes)}return t.push(n)},new Q)}function cd(e,t){let{index:n,length:s}=e;return new Un(n+t,s)}function jE(e){const t=[];return e.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((r,o)=>{o&&t.push({insert:`
`,attributes:n.attributes}),r&&t.push({insert:r,attributes:n.attributes})}):t.push(n)}),t}class Se{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=n}}G(Se,"DEFAULTS",{});const ar="\uFEFF";class ea extends ce{constructor(t,n){super(t,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(s=>{this.contentNode.appendChild(s)}),this.leftGuard=document.createTextNode(ar),this.rightGuard=document.createTextNode(ar),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,n)}restore(t){let n=null,s;const r=t.data.split(ar).join("");if(t===this.leftGuard)if(this.prev instanceof xe){const o=this.prev.length();this.prev.insertAt(o,r),n={startNode:this.prev.domNode,startOffset:o+r.length}}else s=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(s),this),n={startNode:s,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof xe?(this.next.insertAt(0,r),n={startNode:this.next.domNode,startOffset:r.length}):(s=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(s),this.next),n={startNode:s,startOffset:r.length}));return t.data=ar,n}update(t,n){t.forEach(s=>{if(s.type==="characterData"&&(s.target===this.leftGuard||s.target===this.rightGuard)){const r=this.restore(s.target);r&&(n.range=r)}})}}class UE{constructor(t,n){G(this,"isComposing",!1);this.scroll=t,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const n=t.target instanceof Node?this.scroll.find(t.target,!0):null;n&&!(n instanceof ea)&&(this.emitter.emit(X.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(X.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(X.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(X.events.COMPOSITION_END,t),this.isComposing=!1}}const hi=class hi{constructor(t,n){G(this,"modules",{});this.quill=t,this.options=n}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const n=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new n(this.quill,this.options.modules[t]||{}),this.modules[t]}};G(hi,"DEFAULTS",{modules:{}}),G(hi,"themes",{default:hi});let As=hi;const HE=e=>e.parentElement||e.getRootNode().host||null,zE=e=>{const t=e.getBoundingClientRect(),n="offsetWidth"in e&&Math.abs(t.width)/e.offsetWidth||1,s="offsetHeight"in e&&Math.abs(t.height)/e.offsetHeight||1;return{top:t.top,right:t.left+e.clientWidth*n,bottom:t.top+e.clientHeight*s,left:t.left}},lr=e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},hd=(e,t,n,s,r,o)=>e<n&&t>s?0:e<n?-(n-e+r):t>s?t-e>s-n?e+r-n:t-s+o:0,WE=(e,t)=>{var o,l,a;const n=e.ownerDocument;let s=t,r=e;for(;r;){const c=r===n.body,h=c?{top:0,right:((o=window.visualViewport)==null?void 0:o.width)??n.documentElement.clientWidth,bottom:((l=window.visualViewport)==null?void 0:l.height)??n.documentElement.clientHeight,left:0}:zE(r),f=getComputedStyle(r),u=hd(s.left,s.right,h.left,h.right,lr(f.scrollPaddingLeft),lr(f.scrollPaddingRight)),m=hd(s.top,s.bottom,h.top,h.bottom,lr(f.scrollPaddingTop),lr(f.scrollPaddingBottom));if(u||m)if(c)(a=n.defaultView)==null||a.scrollBy(u,m);else{const{scrollLeft:b,scrollTop:y}=r;m&&(r.scrollTop+=m),u&&(r.scrollLeft+=u);const k=r.scrollLeft-b,T=r.scrollTop-y;s={left:s.left-k,top:s.top-T,right:s.right-k,bottom:s.bottom-T}}r=c||f.position==="fixed"?null:HE(r)}},KE=100,GE=["block","break","cursor","inline","scroll","text"],YE=(e,t,n)=>{const s=new ys;return GE.forEach(r=>{const o=t.query(r);o&&s.register(o)}),e.forEach(r=>{let o=t.query(r);o||n.error(`Cannot register "${r}" specified in "formats" config. Are you sure it was registered?`);let l=0;for(;o;)if(s.register(o),o="blotName"in o?o.requiredContainer??null:null,l+=1,l>KE){n.error(`Cycle detected in registering blot requiredContainer: "${r}"`);break}}),s},Ts=nn("quill"),cr=new ys;Ce.uiClass="ql-ui";const Le=class Le{static debug(t){t===!0&&(t="log"),nn.level(t)}static find(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Go.get(t)||cr.find(t,n)}static import(t){return this.imports[t]==null&&Ts.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),s="attrName"in t?t.attrName:t.blotName;typeof s=="string"?this.register(`formats/${s}`,t,n):Object.keys(t).forEach(r=>{this.register(r,t[r],n)})}else{const t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],s=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!s&&Ts.warn(`Overwriting ${t} with`,n),this.imports[t]=n,(t.startsWith("blots/")||t.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&cr.register(n),typeof n.register=="function"&&n.register(cr)}}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=XE(t,n),this.container=this.options.container,this.container==null){Ts.error("Invalid Quill container",t);return}this.options.debug&&Le.debug(this.options.debug);const s=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Go.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new X;const r=Ho.blotName,o=this.options.registry.query(r);if(!o||!("blotName"in o))throw new Error(`Cannot initialize Quill without "${r}" blot`);if(this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new qE(this.scroll),this.selection=new ME(this.scroll,this.emitter),this.composition=new UE(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(X.events.EDITOR_CHANGE,l=>{l===X.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(X.events.SCROLL_UPDATE,(l,a)=>{const c=this.selection.lastRange,[h]=this.selection.getRange(),f=c&&h?{oldRange:c,newRange:h}:void 0;Be.call(this,()=>this.editor.update(null,a,f),l)}),this.emitter.on(X.events.SCROLL_EMBED_UPDATE,(l,a)=>{const c=this.selection.lastRange,[h]=this.selection.getRange(),f=c&&h?{oldRange:c,newRange:h}:void 0;Be.call(this,()=>{const u=new Q().retain(l.offset(this)).retain({[l.statics.blotName]:a});return this.editor.update(u,[],f)},Le.sources.USER)}),s){const l=this.clipboard.convert({html:`${s}<p><br></p>`,text:`
`});this.setContents(l)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const s=t;t=document.createElement("div"),t.classList.add(s)}return this.container.insertBefore(t,n),t}blur(){this.selection.setRange(null)}deleteText(t,n,s){return[t,n,,s]=sn(t,n,s),Be.call(this,()=>this.editor.deleteText(t,n),s,t,-1*n)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const n=t();return this.allowReadOnlyEdits=!1,n}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:X.sources.API;return Be.call(this,()=>{const r=this.getSelection(!0);let o=new Q;if(r==null)return o;if(this.scroll.query(t,et.BLOCK))o=this.editor.formatLine(r.index,r.length,{[t]:n});else{if(r.length===0)return this.selection.format(t,n),o;o=this.editor.formatText(r.index,r.length,{[t]:n})}return this.setSelection(r,X.sources.SILENT),o},s)}formatLine(t,n,s,r,o){let l;return[t,n,l,o]=sn(t,n,s,r,o),Be.call(this,()=>this.editor.formatLine(t,n,l),o,t,0)}formatText(t,n,s,r,o){let l;return[t,n,l,o]=sn(t,n,s,r,o),Be.call(this,()=>this.editor.formatText(t,n,l),o,t,0)}getBounds(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=null;if(typeof t=="number"?s=this.selection.getBounds(t,n):s=this.selection.getBounds(t.index,t.length),!s)return null;const r=this.container.getBoundingClientRect();return{bottom:s.bottom-r.top,height:s.height,left:s.left-r.left,right:s.right-r.left,top:s.top-r.top,width:s.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,n]=sn(t,n),this.editor.getContents(t,n)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,n):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,n)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(n=n??this.getLength()-t),[t,n]=sn(t,n),this.editor.getHTML(t,n)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(n=n??this.getLength()-t),[t,n]=sn(t,n),this.editor.getText(t,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,n,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Le.sources.API;return Be.call(this,()=>this.editor.insertEmbed(t,n,s),r,t)}insertText(t,n,s,r,o){let l;return[t,,l,o]=sn(t,0,s,r,o),Be.call(this,()=>this.editor.insertText(t,n,l),o,t,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,n,s){return[t,n,,s]=sn(t,n,s),Be.call(this,()=>this.editor.removeFormat(t,n),s,t)}scrollRectIntoView(t){WE(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,n=t&&this.selection.getBounds(t.index,t.length);n&&this.scrollRectIntoView(n)}setContents(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X.sources.API;return Be.call(this,()=>{t=new Q(t);const s=this.getLength(),r=this.editor.deleteText(0,s),o=this.editor.insertContents(0,t),l=this.editor.deleteText(this.getLength()-1,1);return r.compose(o).compose(l)},n)}setSelection(t,n,s){t==null?this.selection.setRange(null,n||Le.sources.API):([t,n,,s]=sn(t,n,s),this.selection.setRange(new Un(Math.max(0,t),n),s),s!==X.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X.sources.API;const s=new Q().insert(t);return this.setContents(s,n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:X.sources.USER;const n=this.scroll.update(t);return this.selection.update(t),n}updateContents(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X.sources.API;return Be.call(this,()=>(t=new Q(t),this.editor.applyDelta(t)),n,!0)}};G(Le,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:cr,theme:"default"}),G(Le,"events",X.events),G(Le,"sources",X.sources),G(Le,"version","2.0.3"),G(Le,"imports",{delta:Q,parchment:SE,"core/module":Se,"core/theme":As});let B=Le;function dd(e){return typeof e=="string"?document.querySelector(e):e}function na(e){return Object.entries(e??{}).reduce((t,n)=>{let[s,r]=n;return{...t,[s]:r===!0?{}:r}},{})}function ud(e){return Object.fromEntries(Object.entries(e).filter(t=>t[1]!==void 0))}function XE(e,t){const n=dd(e);if(!n)throw new Error("Invalid Quill container");const r=!t.theme||t.theme===B.DEFAULTS.theme?As:B.import(`themes/${t.theme}`);if(!r)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:o,...l}=B.DEFAULTS,{modules:a,...c}=r.DEFAULTS;let h=na(t.modules);h!=null&&h.toolbar&&h.toolbar.constructor!==Object&&(h={...h,toolbar:{container:h.toolbar}});const f=kn({},na(o),na(a),h),u={...l,...ud(c),...ud(t)};let m=t.registry;return m?t.formats&&Ts.warn('Ignoring "formats" option because "registry" is specified'):m=t.formats?YE(t.formats,u.registry,Ts):u.registry,{...u,registry:m,container:n,theme:r,modules:Object.entries(f).reduce((b,y)=>{let[k,T]=y;if(!T)return b;const S=B.import(`modules/${k}`);return S==null?(Ts.error(`Cannot load ${k} module. Are you sure you registered it?`),b):{...b,[k]:kn({},S.DEFAULTS||{},T)}},{}),bounds:dd(u.bounds)}}function Be(e,t,n,s){if(!this.isEnabled()&&t===X.sources.USER&&!this.allowReadOnlyEdits)return new Q;let r=n==null?null:this.getSelection();const o=this.editor.delta,l=e();if(r!=null&&(n===!0&&(n=r.index),s==null?r=fd(r,l,t):s!==0&&(r=fd(r,n,s,t)),this.setSelection(r,X.sources.SILENT)),l.length()>0){const a=[X.events.TEXT_CHANGE,l,o,t];this.emitter.emit(X.events.EDITOR_CHANGE,...a),t!==X.sources.SILENT&&this.emitter.emit(...a)}return l}function sn(e,t,n,s,r){let o={};return typeof e.index=="number"&&typeof e.length=="number"?typeof t!="number"?(r=s,s=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):typeof t!="number"&&(r=s,s=n,n=t,t=0),typeof n=="object"?(o=n,r=s):typeof n=="string"&&(s!=null?o[n]=s:r=n),r=r||X.sources.API,[e,t,o,r]}function fd(e,t,n,s){const r=typeof n=="number"?n:0;if(e==null)return null;let o,l;return t&&typeof t.transformPosition=="function"?[o,l]=[e.index,e.index+e.length].map(a=>t.transformPosition(a,s!==X.sources.USER)):[o,l]=[e.index,e.index+e.length].map(a=>a<t||a===t&&s===X.sources.USER?a:r>=0?a+r:Math.max(t,a+r)),new Un(o,l-o)}class Hn extends tr{}function pd(e){return e instanceof Wt||e instanceof me}function md(e){return typeof e.updateContent=="function"}class Cs extends Ho{constructor(t,n,s){let{emitter:r}=s;super(t,n),this.emitter=r,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",o=>this.handleDragStart(o))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(X.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(X.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,n){this.emitter.emit(X.events.SCROLL_EMBED_UPDATE,t,n)}deleteAt(t,n){const[s,r]=this.line(t),[o]=this.line(t+n);if(super.deleteAt(t,n),o!=null&&s!==o&&r>0){if(s instanceof me||o instanceof me){this.optimize();return}const l=o.children.head instanceof Fe?null:o.children.head;s.moveChildren(o,l),s.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,n,s,r){super.formatAt(t,n,s,r),this.optimize()}insertAt(t,n,s){if(t>=this.length())if(s==null||this.scroll.query(n,et.BLOCK)==null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r),s==null&&n.endsWith(`
`)?r.insertAt(0,n.slice(0,-1),s):r.insertAt(0,n,s)}else{const r=this.scroll.create(n,s);this.appendChild(r)}else super.insertAt(t,n,s);this.optimize()}insertBefore(t,n){if(t.statics.scope===et.INLINE_BLOT){const s=this.scroll.create(this.statics.defaultChild.blotName);s.appendChild(t),super.insertBefore(s,n)}else super.insertBefore(t,n)}insertContents(t,n){const s=this.deltaToRenderBlocks(n.concat(new Q().insert(`
`))),r=s.pop();if(r==null)return;this.batchStart();const o=s.shift();if(o){const c=o.type==="block"&&(o.delta.length()===0||!this.descendant(me,t)[0]&&t<this.length()),h=o.type==="block"?o.delta:new Q().insert({[o.key]:o.value});sa(this,t,h);const f=o.type==="block"?1:0,u=t+h.length()+f;c&&this.insertAt(u-1,`
`);const m=ge(this.line(t)[0]),b=pe.AttributeMap.diff(m,o.attributes)||{};Object.keys(b).forEach(y=>{this.formatAt(u-1,1,y,b[y])}),t=u}let[l,a]=this.children.find(t);if(s.length&&(l&&(l=l.split(a),a=0),s.forEach(c=>{if(c.type==="block"){const h=this.createBlock(c.attributes,l||void 0);sa(h,0,c.delta)}else{const h=this.create(c.key,c.value);this.insertBefore(h,l||void 0),Object.keys(c.attributes).forEach(f=>{h.format(f,c.attributes[f])})}})),r.type==="block"&&r.delta.length()){const c=l?l.offset(l.scroll)+a:this.length();sa(this,c,r.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const n=this.path(t).pop();if(!n)return[null,-1];const[s,r]=n;return s instanceof Yt?[s,r]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(pd,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const s=(r,o,l)=>{let a=[],c=l;return r.children.forEachAt(o,l,(h,f,u)=>{pd(h)?a.push(h):h instanceof tr&&(a=a.concat(s(h,f,c))),c-=u}),a};return s(this,t,n)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,n),t.length>0&&this.emitter.emit(X.events.SCROLL_OPTIMIZE,t,n))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let n=X.sources.USER;typeof t=="string"&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(s=>{let{target:r}=s;const o=this.find(r,!0);return o&&!md(o)}),t.length>0&&this.emitter.emit(X.events.SCROLL_BEFORE_UPDATE,n,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(X.events.SCROLL_UPDATE,n,t)}updateEmbedAt(t,n,s){const[r]=this.descendant(o=>o instanceof me,t);r&&r.statics.blotName===n&&md(r)&&r.updateContent(s)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const n=[];let s=new Q;return t.forEach(r=>{const o=r==null?void 0:r.insert;if(o)if(typeof o=="string"){const l=o.split(`
`);l.slice(0,-1).forEach(c=>{s.insert(c,r.attributes),n.push({type:"block",delta:s,attributes:r.attributes??{}}),s=new Q});const a=l[l.length-1];a&&s.insert(a,r.attributes)}else{const l=Object.keys(o)[0];if(!l)return;this.query(l,et.INLINE)?s.push(r):(s.length()&&n.push({type:"block",delta:s,attributes:{}}),s=new Q,n.push({type:"blockEmbed",key:l,value:o[l],attributes:r.attributes??{}}))}}),s.length()&&n.push({type:"block",delta:s,attributes:{}}),n}createBlock(t,n){let s;const r={};Object.entries(t).forEach(a=>{let[c,h]=a;this.query(c,et.BLOCK&et.BLOT)!=null?s=c:r[c]=h});const o=this.create(s||this.statics.defaultChild.blotName,s?t[s]:void 0);this.insertBefore(o,n||void 0);const l=o.length();return Object.entries(r).forEach(a=>{let[c,h]=a;o.formatAt(0,l,c,h)}),o}}G(Cs,"blotName","scroll"),G(Cs,"className","ql-editor"),G(Cs,"tagName","DIV"),G(Cs,"defaultChild",Wt),G(Cs,"allowedChildren",[Wt,me,Hn]);function sa(e,t,n){n.reduce((s,r)=>{const o=pe.Op.length(r);let l=r.attributes||{};if(r.insert!=null){if(typeof r.insert=="string"){const a=r.insert;e.insertAt(s,a);const[c]=e.descendant(Yt,s),h=ge(c);l=pe.AttributeMap.diff(h,l)||{}}else if(typeof r.insert=="object"){const a=Object.keys(r.insert)[0];if(a==null)return s;if(e.insertAt(s,a,r.insert[a]),e.scroll.query(a,et.INLINE)!=null){const[h]=e.descendant(Yt,s),f=ge(h);l=pe.AttributeMap.diff(f,l)||{}}}}return Object.keys(l).forEach(a=>{e.formatAt(s,o,a,l[a])}),s+o},t)}const ia={scope:et.BLOCK,whitelist:["right","center","justify"]},ZE=new qe("align","align",ia),gd=new Te("align","ql-align",ia),bd=new Nn("align","text-align",ia);class yd extends Nn{value(t){let n=super.value(t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(r=>`00${parseInt(r,10).toString(16)}`.slice(-2)).join("")}`):n}}const JE=new Te("color","ql-color",{scope:et.INLINE}),ra=new yd("color","color",{scope:et.INLINE}),QE=new Te("background","ql-bg",{scope:et.INLINE}),oa=new yd("background","background-color",{scope:et.INLINE});class zn extends Hn{static create(t){const n=super.create(t);return n.setAttribute("spellcheck","false"),n}code(t,n){return this.children.map(s=>s.length()<=1?"":s.domNode.innerText).join(`
`).slice(t,t+n)}html(t,n){return`<pre>
${or(this.code(t,n))}
</pre>`}}class Xt extends Wt{static register(){B.register(zn)}}G(Xt,"TAB","  ");class aa extends Pe{}aa.blotName="code",aa.tagName="CODE",Xt.blotName="code-block",Xt.className="ql-code-block",Xt.tagName="DIV",zn.blotName="code-block-container",zn.className="ql-code-block-container",zn.tagName="DIV",zn.allowedChildren=[Xt],Xt.allowedChildren=[xe,Fe,ks],Xt.requiredContainer=zn;const la={scope:et.BLOCK,whitelist:["rtl"]},Ed=new qe("direction","dir",la),_d=new Te("direction","ql-direction",la),wd=new Nn("direction","direction",la),kd={scope:et.INLINE,whitelist:["serif","monospace"]},Nd=new Te("font","ql-font",kd);class t_ extends Nn{value(t){return super.value(t).replace(/["']/g,"")}}const Ad=new t_("font","font-family",kd),Td=new Te("size","ql-size",{scope:et.INLINE,whitelist:["small","large","huge"]}),Cd=new Nn("size","font-size",{scope:et.INLINE,whitelist:["10px","18px","32px"]}),e_=nn("quill:keyboard"),n_=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class hr extends Se{static match(t,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(s=>!!n[s]!==t[s]&&n[s]!==null)?!1:n.key===t.key||n.key===t.which}constructor(t,n){super(t,n),this.bindings={},Object.keys(this.options.bindings).forEach(s=>{this.options.bindings[s]&&this.addBinding(this.options.bindings[s])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=i_(t);if(r==null){e_.warn("Attempted to add invalid keyboard binding",r);return}typeof n=="function"&&(n={handler:n}),typeof s=="function"&&(s={handler:s}),(Array.isArray(r.key)?r.key:[r.key]).forEach(l=>{const a={...r,key:l,...n,...s};this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const r=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(S=>hr.match(t,S));if(r.length===0)return;const o=B.find(t.target,!0);if(o&&o.scroll!==this.quill.scroll)return;const l=this.quill.getSelection();if(l==null||!this.quill.hasFocus())return;const[a,c]=this.quill.getLine(l.index),[h,f]=this.quill.getLeaf(l.index),[u,m]=l.length===0?[h,f]:this.quill.getLeaf(l.index+l.length),b=h instanceof er?h.value().slice(0,f):"",y=u instanceof er?u.value().slice(m):"",k={collapsed:l.length===0,empty:l.length===0&&a.length()<=1,format:this.quill.getFormat(l),line:a,offset:c,prefix:b,suffix:y,event:t};r.some(S=>{if(S.collapsed!=null&&S.collapsed!==k.collapsed||S.empty!=null&&S.empty!==k.empty||S.offset!=null&&S.offset!==k.offset)return!1;if(Array.isArray(S.format)){if(S.format.every($=>k.format[$]==null))return!1}else if(typeof S.format=="object"&&!Object.keys(S.format).every($=>S.format[$]===!0?k.format[$]!=null:S.format[$]===!1?k.format[$]==null:qo(S.format[$],k.format[$])))return!1;return S.prefix!=null&&!S.prefix.test(k.prefix)||S.suffix!=null&&!S.suffix.test(k.suffix)?!1:S.handler.call(this,l,k,S)!==!0})&&t.preventDefault()})}handleBackspace(t,n){const s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let r={};const[o]=this.quill.getLine(t.index);let l=new Q().retain(t.index-s).delete(s);if(n.offset===0){const[a]=this.quill.getLine(t.index-1);if(a&&!(a.statics.blotName==="block"&&a.length()<=1)){const h=o.formats(),f=this.quill.getFormat(t.index-1,1);if(r=pe.AttributeMap.diff(h,f)||{},Object.keys(r).length>0){const u=new Q().retain(t.index+o.length()-2).retain(1,r);l=l.compose(u)}}}this.quill.updateContents(l,B.sources.USER),this.quill.focus()}handleDelete(t,n){const s=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(t.index>=this.quill.getLength()-s)return;let r={};const[o]=this.quill.getLine(t.index);let l=new Q().retain(t.index).delete(s);if(n.offset>=o.length()-1){const[a]=this.quill.getLine(t.index+1);if(a){const c=o.formats(),h=this.quill.getFormat(t.index,1);r=pe.AttributeMap.diff(c,h)||{},Object.keys(r).length>0&&(l=l.retain(a.length()-1).retain(1,r))}}this.quill.updateContents(l,B.sources.USER),this.quill.focus()}handleDeleteRange(t){ha({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,n){const s=Object.keys(n.format).reduce((o,l)=>(this.quill.scroll.query(l,et.BLOCK)&&!Array.isArray(n.format[l])&&(o[l]=n.format[l]),o),{}),r=new Q().retain(t.index).delete(t.length).insert(`
`,s);this.quill.updateContents(r,B.sources.USER),this.quill.setSelection(t.index+1,B.sources.SILENT),this.quill.focus()}}const s_={bindings:{bold:ca("bold"),italic:ca("italic"),underline:ca("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",B.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",B.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,t){t.format.indent!=null?this.quill.format("indent","-1",B.sources.USER):t.format.list!=null&&this.quill.format("list",!1,B.sources.USER)}},"indent code-block":Fd(!0),"outdent code-block":Fd(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,B.sources.USER)}},tab:{key:"Tab",handler(e,t){if(t.format.table)return!0;this.quill.history.cutoff();const n=new Q().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(n,B.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,B.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,B.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,t){const n={list:!1};t.format.indent&&(n.indent=!1),this.quill.formatLine(e.index,e.length,n,B.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[t,n]=this.quill.getLine(e.index),s={...t.formats(),list:"checked"},r=new Q().retain(e.index).insert(`
`,s).retain(t.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(r,B.sources.USER),this.quill.setSelection(e.index+1,B.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,t){const[n,s]=this.quill.getLine(e.index),r=new Q().retain(e.index).insert(`
`,t.format).retain(n.length()-s-1).retain(1,{header:null});this.quill.updateContents(r,B.sources.USER),this.quill.setSelection(e.index+1,B.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const t=this.quill.getModule("table");if(t){const[n,s,r,o]=t.getTable(e),l=r_(n,s,r,o);if(l==null)return;let a=n.offset();if(l<0){const c=new Q().retain(a).insert(`
`);this.quill.updateContents(c,B.sources.USER),this.quill.setSelection(e.index+1,e.length,B.sources.SILENT)}else if(l>0){a+=n.length();const c=new Q().retain(a).insert(`
`);this.quill.updateContents(c,B.sources.USER),this.quill.setSelection(a,B.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,t){const{event:n,line:s}=t,r=s.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(r-1,B.sources.USER):this.quill.setSelection(r+s.length(),B.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=t.prefix,[s,r]=this.quill.getLine(e.index);if(r>n)return!0;let o;switch(t.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(e.index," ",B.sources.USER),this.quill.history.cutoff();const l=new Q().retain(e.index-r).delete(n+1).retain(s.length()-2-r).retain(1,{list:o});return this.quill.updateContents(l,B.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,B.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[t,n]=this.quill.getLine(e.index);let s=2,r=t;for(;r!=null&&r.length()<=1&&r.formats()["code-block"];)if(r=r.prev,s-=1,s<=0){const o=new Q().retain(e.index+t.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(o,B.sources.USER),this.quill.setSelection(e.index-1,B.sources.SILENT),!1}return!0}},"embed left":dr("ArrowLeft",!1),"embed left shift":dr("ArrowLeft",!0),"embed right":dr("ArrowRight",!1),"embed right shift":dr("ArrowRight",!0),"table down":xd(!1),"table up":xd(!0)}};hr.DEFAULTS=s_;function Fd(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(t,n){let{event:s}=n;const r=this.quill.scroll.query("code-block"),{TAB:o}=r;if(t.length===0&&!s.shiftKey){this.quill.insertText(t.index,o,B.sources.USER),this.quill.setSelection(t.index+o.length,B.sources.SILENT);return}const l=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:a,length:c}=t;l.forEach((h,f)=>{e?(h.insertAt(0,o),f===0?a+=o.length:c+=o.length):h.domNode.textContent.startsWith(o)&&(h.deleteAt(0,o.length),f===0?a-=o.length:c-=o.length)}),this.quill.update(B.sources.USER),this.quill.setSelection(a,c,B.sources.SILENT)}}}function dr(e,t){return{key:e,shiftKey:t,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(s){let{index:r}=s;e==="ArrowRight"&&(r+=s.length+1);const[o]=this.quill.getLeaf(r);return o instanceof ce?(e==="ArrowLeft"?t?this.quill.setSelection(s.index-1,s.length+1,B.sources.USER):this.quill.setSelection(s.index-1,B.sources.USER):t?this.quill.setSelection(s.index,s.length+1,B.sources.USER):this.quill.setSelection(s.index+s.length+1,B.sources.USER),!1):!0}}}function ca(e){return{key:e[0],shortKey:!0,handler(t,n){this.quill.format(e,!n.format[e],B.sources.USER)}}}function xd(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,n){const s=e?"prev":"next",r=n.line,o=r.parent[s];if(o!=null){if(o.statics.blotName==="table-row"){let l=o.children.head,a=r;for(;a.prev!=null;)a=a.prev,l=l.next;const c=l.offset(this.quill.scroll)+Math.min(n.offset,l.length()-1);this.quill.setSelection(c,0,B.sources.USER)}}else{const l=r.table()[s];l!=null&&(e?this.quill.setSelection(l.offset(this.quill.scroll)+l.length()-1,0,B.sources.USER):this.quill.setSelection(l.offset(this.quill.scroll),0,B.sources.USER))}return!1}}}function i_(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=gs(e);else return null;return e.shortKey&&(e[n_]=e.shortKey,delete e.shortKey),e}function ha(e){let{quill:t,range:n}=e;const s=t.getLines(n);let r={};if(s.length>1){const o=s[0].formats(),l=s[s.length-1].formats();r=pe.AttributeMap.diff(l,o)||{}}t.deleteText(n,B.sources.USER),Object.keys(r).length>0&&t.formatLine(n.index,1,r,B.sources.USER),t.setSelection(n.index,B.sources.SILENT)}function r_(e,t,n,s){return t.prev==null&&t.next==null?n.prev==null&&n.next==null?s===0?-1:1:n.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const o_=/font-weight:\s*normal/,a_=["P","OL","UL"],Sd=e=>e&&a_.includes(e.tagName),l_=e=>{Array.from(e.querySelectorAll("br")).filter(t=>Sd(t.previousElementSibling)&&Sd(t.nextElementSibling)).forEach(t=>{var n;(n=t.parentNode)==null||n.removeChild(t)})},c_=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var n;return(n=t.getAttribute("style"))==null?void 0:n.match(o_)}).forEach(t=>{var s;const n=e.createDocumentFragment();n.append(...t.childNodes),(s=t.parentNode)==null||s.replaceChild(n,t)})};function h_(e){e.querySelector('[id^="docs-internal-guid-"]')&&(c_(e),l_(e))}const d_=/\bmso-list:[^;]*ignore/i,u_=/\bmso-list:[^;]*\bl(\d+)/i,f_=/\bmso-list:[^;]*\blevel(\d+)/i,p_=(e,t)=>{const n=e.getAttribute("style"),s=n==null?void 0:n.match(u_);if(!s)return null;const r=Number(s[1]),o=n==null?void 0:n.match(f_),l=o?Number(o[1]):1,a=new RegExp(`@list l${r}:level${l}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),c=t.match(a),h=c&&c[1]==="bullet"?"bullet":"ordered";return{id:r,indent:l,type:h,element:e}},m_=e=>{var l,a;const t=Array.from(e.querySelectorAll("[style*=mso-list]")),n=[],s=[];t.forEach(c=>{(c.getAttribute("style")||"").match(d_)?n.push(c):s.push(c)}),n.forEach(c=>{var h;return(h=c.parentNode)==null?void 0:h.removeChild(c)});const r=e.documentElement.innerHTML,o=s.map(c=>p_(c,r)).filter(c=>c);for(;o.length;){const c=[];let h=o.shift();for(;h;)c.push(h),h=o.length&&((l=o[0])==null?void 0:l.element)===h.element.nextElementSibling&&o[0].id===h.id?o.shift():null;const f=document.createElement("ul");c.forEach(b=>{const y=document.createElement("li");y.setAttribute("data-list",b.type),b.indent>1&&y.setAttribute("class",`ql-indent-${b.indent-1}`),y.innerHTML=b.element.innerHTML,f.appendChild(y)});const u=(a=c[0])==null?void 0:a.element,{parentNode:m}=u??{};u&&(m==null||m.replaceChild(f,u)),c.slice(1).forEach(b=>{let{element:y}=b;m==null||m.removeChild(y)})}};function g_(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&m_(e)}const b_=[g_,h_],y_=e=>{e.documentElement&&b_.forEach(t=>{t(e)})},E_=nn("quill:clipboard"),__=[[Node.TEXT_NODE,L_],[Node.TEXT_NODE,Vd],["br",T_],[Node.ELEMENT_NODE,Vd],[Node.ELEMENT_NODE,A_],[Node.ELEMENT_NODE,N_],[Node.ELEMENT_NODE,B_],["li",x_],["ol, ul",S_],["pre",C_],["tr",O_],["b",ua("bold")],["i",ua("italic")],["strike",ua("strike")],["style",F_]],w_=[ZE,Ed].reduce((e,t)=>(e[t.keyName]=t,e),{}),Bd=[bd,oa,ra,wd,Ad,Cd].reduce((e,t)=>(e[t.keyName]=t,e),{});class Od extends Se{constructor(t,n){super(t,n),this.quill.root.addEventListener("copy",s=>this.onCaptureCopy(s,!1)),this.quill.root.addEventListener("cut",s=>this.onCaptureCopy(s,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],__.concat(this.options.matchers??[]).forEach(s=>{let[r,o]=s;this.addMatcher(r,o)})}addMatcher(t,n){this.matchers.push([t,n])}convert(t){let{html:n,text:s}=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r[Xt.blotName])return new Q().insert(s||"",{[Xt.blotName]:r[Xt.blotName]});if(!n)return new Q().insert(s||"",r);const o=this.convertHTML(n);return ei(o,`
`)&&(o.ops[o.ops.length-1].attributes==null||r.table)?o.compose(new Q().retain(o.length()-1).delete(1)):o}normalizeHTML(t){y_(t)}convertHTML(t){const n=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(n);const s=n.body,r=new WeakMap,[o,l]=this.prepareMatching(s,r);return da(this.quill.scroll,s,o,l,r)}dangerouslyPasteHTML(t,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:B.sources.API;if(typeof t=="string"){const r=this.convert({html:t,text:""});this.quill.setContents(r,n),this.quill.setSelection(0,B.sources.SILENT)}else{const r=this.convert({html:n,text:""});this.quill.updateContents(new Q().retain(t).concat(r),s),this.quill.setSelection(t+r.length(),B.sources.SILENT)}}onCaptureCopy(t){var l,a;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[s]=this.quill.selection.getRange();if(s==null)return;const{html:r,text:o}=this.onCopy(s,n);(l=t.clipboardData)==null||l.setData("text/plain",o),(a=t.clipboardData)==null||a.setData("text/html",r),n&&ha({range:s,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(t){var l,a,c,h,f;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const s=(l=t.clipboardData)==null?void 0:l.getData("text/html");let r=(a=t.clipboardData)==null?void 0:a.getData("text/plain");if(!s&&!r){const u=(c=t.clipboardData)==null?void 0:c.getData("text/uri-list");u&&(r=this.normalizeURIList(u))}const o=Array.from(((h=t.clipboardData)==null?void 0:h.files)||[]);if(!s&&o.length>0){this.quill.uploader.upload(n,o);return}if(s&&o.length>0){const u=new DOMParser().parseFromString(s,"text/html");if(u.body.childElementCount===1&&((f=u.body.firstElementChild)==null?void 0:f.tagName)==="IMG"){this.quill.uploader.upload(n,o);return}}this.onPaste(n,{html:s,text:r})}onCopy(t){const n=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:n}}onPaste(t,n){let{text:s,html:r}=n;const o=this.quill.getFormat(t.index),l=this.convert({text:s,html:r},o);E_.log("onPaste",l,{text:s,html:r});const a=new Q().retain(t.index).delete(t.length).concat(l);this.quill.updateContents(a,B.sources.USER),this.quill.setSelection(a.length()-t.length,B.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,n){const s=[],r=[];return this.matchers.forEach(o=>{const[l,a]=o;switch(l){case Node.TEXT_NODE:r.push(a);break;case Node.ELEMENT_NODE:s.push(a);break;default:Array.from(t.querySelectorAll(l)).forEach(c=>{if(n.has(c)){const h=n.get(c);h==null||h.push(a)}else n.set(c,[a])});break}}),[s,r]}}G(Od,"DEFAULTS",{matchers:[]});function Wn(e,t,n,s){return s.query(t)?e.reduce((r,o)=>{if(!o.insert)return r;if(o.attributes&&o.attributes[t])return r.push(o);const l=n?{[t]:n}:{};return r.insert(o.insert,{...l,...o.attributes})},new Q):e}function ei(e,t){let n="";for(let s=e.ops.length-1;s>=0&&n.length<t.length;--s){const r=e.ops[s];if(typeof r.insert!="string")break;n=r.insert+n}return n.slice(-1*t.length)===t}function An(e,t){if(!(e instanceof Element))return!1;const n=t.query(e);return n&&n.prototype instanceof ce?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function k_(e,t){return e.previousElementSibling&&e.nextElementSibling&&!An(e.previousElementSibling,t)&&!An(e.nextElementSibling,t)}const ur=new WeakMap;function Ld(e){return e==null?!1:(ur.has(e)||(e.tagName==="PRE"?ur.set(e,!0):ur.set(e,Ld(e.parentNode))),ur.get(e))}function da(e,t,n,s,r){return t.nodeType===t.TEXT_NODE?s.reduce((o,l)=>l(t,o,e),new Q):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((o,l)=>{let a=da(e,l,n,s,r);return l.nodeType===t.ELEMENT_NODE&&(a=n.reduce((c,h)=>h(l,c,e),a),a=(r.get(l)||[]).reduce((c,h)=>h(l,c,e),a)),o.concat(a)},new Q):new Q}function ua(e){return(t,n,s)=>Wn(n,e,!0,s)}function N_(e,t,n){const s=qe.keys(e),r=Te.keys(e),o=Nn.keys(e),l={};return s.concat(r).concat(o).forEach(a=>{let c=n.query(a,et.ATTRIBUTE);c!=null&&(l[c.attrName]=c.value(e),l[c.attrName])||(c=w_[a],c!=null&&(c.attrName===a||c.keyName===a)&&(l[c.attrName]=c.value(e)||void 0),c=Bd[a],c!=null&&(c.attrName===a||c.keyName===a)&&(c=Bd[a],l[c.attrName]=c.value(e)||void 0))}),Object.entries(l).reduce((a,c)=>{let[h,f]=c;return Wn(a,h,f,n)},t)}function A_(e,t,n){const s=n.query(e);if(s==null)return t;if(s.prototype instanceof ce){const r={},o=s.value(e);if(o!=null)return r[s.blotName]=o,new Q().insert(r,s.formats(e,n))}else if(s.prototype instanceof Zs&&!ei(t,`
`)&&t.insert(`
`),"blotName"in s&&"formats"in s&&typeof s.formats=="function")return Wn(t,s.blotName,s.formats(e,n),n);return t}function T_(e,t){return ei(t,`
`)||t.insert(`
`),t}function C_(e,t,n){const s=n.query("code-block"),r=s&&"formats"in s&&typeof s.formats=="function"?s.formats(e,n):!0;return Wn(t,"code-block",r,n)}function F_(){return new Q}function x_(e,t,n){const s=n.query(e);if(s==null||s.blotName!=="list"||!ei(t,`
`))return t;let r=-1,o=e.parentNode;for(;o!=null;)["OL","UL"].includes(o.tagName)&&(r+=1),o=o.parentNode;return r<=0?t:t.reduce((l,a)=>a.insert?a.attributes&&typeof a.attributes.indent=="number"?l.push(a):l.insert(a.insert,{indent:r,...a.attributes||{}}):l,new Q)}function S_(e,t,n){const s=e;let r=s.tagName==="OL"?"ordered":"bullet";const o=s.getAttribute("data-checked");return o&&(r=o==="true"?"checked":"unchecked"),Wn(t,"list",r,n)}function Vd(e,t,n){if(!ei(t,`
`)){if(An(e,n)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&e.nextSibling){let s=e.nextSibling;for(;s!=null;){if(An(s,n))return t.insert(`
`);const r=n.query(s);if(r&&r.prototype instanceof me)return t.insert(`
`);s=s.firstChild}}}return t}function B_(e,t,n){var o;const s={},r=e.style||{};return r.fontStyle==="italic"&&(s.italic=!0),r.textDecoration==="underline"&&(s.underline=!0),r.textDecoration==="line-through"&&(s.strike=!0),((o=r.fontWeight)!=null&&o.startsWith("bold")||parseInt(r.fontWeight,10)>=700)&&(s.bold=!0),t=Object.entries(s).reduce((l,a)=>{let[c,h]=a;return Wn(l,c,h,n)},t),parseFloat(r.textIndent||0)>0?new Q().insert("	").concat(t):t}function O_(e,t,n){var r,o;const s=((r=e.parentElement)==null?void 0:r.tagName)==="TABLE"?e.parentElement:(o=e.parentElement)==null?void 0:o.parentElement;if(s!=null){const a=Array.from(s.querySelectorAll("tr")).indexOf(e)+1;return Wn(t,"table",a,n)}return t}function L_(e,t,n){var r;let s=e.data;if(((r=e.parentElement)==null?void 0:r.tagName)==="O:P")return t.insert(s.trim());if(!Ld(e)){if(s.trim().length===0&&s.includes(`
`)&&!k_(e,n))return t;s=s.replace(/[^\S\u00a0]/g," "),s=s.replace(/ {2,}/g," "),(e.previousSibling==null&&e.parentElement!=null&&An(e.parentElement,n)||e.previousSibling instanceof Element&&An(e.previousSibling,n))&&(s=s.replace(/^ /,"")),(e.nextSibling==null&&e.parentElement!=null&&An(e.parentElement,n)||e.nextSibling instanceof Element&&An(e.nextSibling,n))&&(s=s.replace(/ $/,"")),s=s.replaceAll(""," ")}return t.insert(s)}class Id extends Se{constructor(n,s){super(n,s);G(this,"lastRecorded",0);G(this,"ignoreChange",!1);G(this,"stack",{undo:[],redo:[]});G(this,"currentRange",null);this.quill.on(B.events.EDITOR_CHANGE,(r,o,l,a)=>{r===B.events.SELECTION_CHANGE?o&&a!==B.sources.SILENT&&(this.currentRange=o):r===B.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||a===B.sources.USER?this.record(o,l):this.transform(o)),this.currentRange=fa(this.currentRange,o))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",r=>{r.inputType==="historyUndo"?(this.undo(),r.preventDefault()):r.inputType==="historyRedo"&&(this.redo(),r.preventDefault())})}change(n,s){if(this.stack[n].length===0)return;const r=this.stack[n].pop();if(!r)return;const o=this.quill.getContents(),l=r.delta.invert(o);this.stack[s].push({delta:l,range:fa(r.range,l)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,B.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,s){if(n.ops.length===0)return;this.stack.redo=[];let r=n.invert(s),o=this.currentRange;const l=Date.now();if(this.lastRecorded+this.options.delay>l&&this.stack.undo.length>0){const a=this.stack.undo.pop();a&&(r=r.compose(a.delta),o=a.range)}else this.lastRecorded=l;r.length()!==0&&(this.stack.undo.push({delta:r,range:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){vd(this.stack.undo,n),vd(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,B.sources.USER);else{const s=I_(this.quill.scroll,n.delta);this.quill.setSelection(s,B.sources.USER)}}}G(Id,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function vd(e,t){let n=t;for(let s=e.length-1;s>=0;s-=1){const r=e[s];e[s]={delta:n.transform(r.delta,!0),range:r.range&&fa(r.range,n)},n=r.delta.transform(n),e[s].delta.length()===0&&e.splice(s,1)}}function V_(e,t){const n=t.ops[t.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(s=>e.query(s,et.BLOCK)!=null):!1}function I_(e,t){const n=t.reduce((r,o)=>r+(o.delete||0),0);let s=t.length()-n;return V_(e,t)&&(s-=1),s}function fa(e,t){if(!e)return e;const n=t.transformPosition(e.index),s=t.transformPosition(e.index+e.length);return{index:n,length:s-n}}class Dd extends Se{constructor(t,n){super(t,n),t.root.addEventListener("drop",s=>{var l;s.preventDefault();let r=null;if(document.caretRangeFromPoint)r=document.caretRangeFromPoint(s.clientX,s.clientY);else if(document.caretPositionFromPoint){const a=document.caretPositionFromPoint(s.clientX,s.clientY);r=document.createRange(),r.setStart(a.offsetNode,a.offset),r.setEnd(a.offsetNode,a.offset)}const o=r&&t.selection.normalizeNative(r);if(o){const a=t.selection.normalizedToRange(o);(l=s.dataTransfer)!=null&&l.files&&this.upload(a,s.dataTransfer.files)}})}upload(t,n){const s=[];Array.from(n).forEach(r=>{var o;r&&((o=this.options.mimetypes)!=null&&o.includes(r.type))&&s.push(r)}),s.length>0&&this.options.handler.call(this,t,s)}}Dd.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,t){if(!this.quill.scroll.query("image"))return;const n=t.map(s=>new Promise(r=>{const o=new FileReader;o.onload=()=>{r(o.result)},o.readAsDataURL(s)}));Promise.all(n).then(s=>{const r=s.reduce((o,l)=>o.insert({image:l}),new Q().retain(e.index).delete(e.length));this.quill.updateContents(r,X.sources.USER),this.quill.setSelection(e.index+s.length,X.sources.SILENT)})}};const v_=["insertText","insertReplacementText"];class D_ extends Se{constructor(t,n){super(t,n),t.root.addEventListener("beforeinput",s=>{this.handleBeforeInput(s)}),/Android/i.test(navigator.userAgent)||t.on(B.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){ha({range:t,quill:this.quill})}replaceText(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(n){const s=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new Q().retain(t.index).insert(n,s),B.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+n.length,0,B.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!v_.includes(t.inputType))return;const n=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const s=$_(t);if(s==null)return;const r=this.quill.selection.normalizeNative(n),o=r?this.quill.selection.normalizedToRange(r):null;o&&this.replaceText(o,s)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function $_(e){var t;return typeof e.data=="string"?e.data:(t=e.dataTransfer)!=null&&t.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const M_=/Mac/i.test(navigator.platform),R_=100,q_=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||M_&&e.key==="a"&&e.ctrlKey===!0);class P_ extends Se{constructor(n,s){super(n,s);G(this,"isListening",!1);G(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,s){let{line:r,event:o}=s;if(!(r instanceof Ce)||!r.uiNode)return!0;const l=getComputedStyle(r.domNode).direction==="rtl";return l&&o.key!=="ArrowRight"||!l&&o.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(o.shiftKey?1:0),B.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&q_(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+R_,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const s=n.getRangeAt(0);if(s.collapsed!==!0||s.startOffset!==0)return;const r=this.quill.scroll.find(s.startContainer);if(!(r instanceof Ce)||!r.uiNode)return;const o=document.createRange();o.setStartAfter(r.uiNode),o.setEndAfter(r.uiNode),n.removeAllRanges(),n.addRange(o)}}B.register({"blots/block":Wt,"blots/block/embed":me,"blots/break":Fe,"blots/container":Hn,"blots/cursor":ks,"blots/embed":ea,"blots/inline":Pe,"blots/scroll":Cs,"blots/text":xe,"modules/clipboard":Od,"modules/history":Id,"modules/keyboard":hr,"modules/uploader":Dd,"modules/input":D_,"modules/uiNode":P_});class j_ extends Te{add(t,n){let s=0;if(n==="+1"||n==="-1"){const r=this.value(t)||0;s=n==="+1"?r+1:r-1}else typeof n=="number"&&(s=n);return s===0?(this.remove(t),!0):super.add(t,s.toString())}canAdd(t,n){return super.canAdd(t,n)||super.canAdd(t,parseInt(n,10))}value(t){return parseInt(super.value(t),10)||void 0}}const U_=new j_("indent","ql-indent",{scope:et.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class pa extends Wt{}G(pa,"blotName","blockquote"),G(pa,"tagName","blockquote");class ma extends Wt{static formats(t){return this.tagName.indexOf(t.tagName)+1}}G(ma,"blotName","header"),G(ma,"tagName",["H1","H2","H3","H4","H5","H6"]);class ni extends Hn{}ni.blotName="list-container",ni.tagName="OL";class si extends Wt{static create(t){const n=super.create();return n.setAttribute("data-list",t),n}static formats(t){return t.getAttribute("data-list")||void 0}static register(){B.register(ni)}constructor(t,n){super(t,n);const s=n.ownerDocument.createElement("span"),r=o=>{if(!t.isEnabled())return;const l=this.statics.formats(n,t);l==="checked"?(this.format("list","unchecked"),o.preventDefault()):l==="unchecked"&&(this.format("list","checked"),o.preventDefault())};s.addEventListener("mousedown",r),s.addEventListener("touchstart",r),this.attachUI(s)}format(t,n){t===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(t,n)}}si.blotName="list",si.tagName="LI",ni.allowedChildren=[si],si.requiredContainer=ni;class ii extends Pe{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}G(ii,"blotName","bold"),G(ii,"tagName",["STRONG","B"]);class ga extends ii{}G(ga,"blotName","italic"),G(ga,"tagName",["EM","I"]);class Tn extends Pe{static create(t){const n=super.create(t);return n.setAttribute("href",this.sanitize(t)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(t){return t.getAttribute("href")}static sanitize(t){return $d(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,n){t!==this.statics.blotName||!n?super.format(t,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}G(Tn,"blotName","link"),G(Tn,"tagName","A"),G(Tn,"SANITIZED_URL","about:blank"),G(Tn,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function $d(e,t){const n=document.createElement("a");n.href=e;const s=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(s)>-1}class ba extends Pe{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}G(ba,"blotName","script"),G(ba,"tagName",["SUB","SUP"]);class ya extends ii{}G(ya,"blotName","strike"),G(ya,"tagName",["S","STRIKE"]);class Ea extends Pe{}G(Ea,"blotName","underline"),G(Ea,"tagName","U");class fr extends ea{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(t);return typeof t=="string"&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}G(fr,"blotName","formula"),G(fr,"className","ql-formula"),G(fr,"tagName","SPAN");const Md=["alt","height","width"];class _a extends ce{static create(t){const n=super.create(t);return typeof t=="string"&&n.setAttribute("src",this.sanitize(t)),n}static formats(t){return Md.reduce((n,s)=>(t.hasAttribute(s)&&(n[s]=t.getAttribute(s)),n),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return $d(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,n){Md.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):super.format(t,n)}}G(_a,"blotName","image"),G(_a,"tagName","IMG");const Rd=["height","width"];class pr extends me{static create(t){const n=super.create(t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(t)),n}static formats(t){return Rd.reduce((n,s)=>(t.hasAttribute(s)&&(n[s]=t.getAttribute(s)),n),{})}static sanitize(t){return Tn.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,n){Rd.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):super.format(t,n)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}G(pr,"blotName","video"),G(pr,"className","ql-video"),G(pr,"tagName","IFRAME");const ri=new Te("code-token","hljs",{scope:et.INLINE});class rn extends Pe{static formats(t,n){for(;t!=null&&t!==n.domNode;){if(t.classList&&t.classList.contains(Xt.className))return super.formats(t,n);t=t.parentNode}}constructor(t,n,s){super(t,n,s),ri.add(this.domNode,s)}format(t,n){t!==rn.blotName?super.format(t,n):n?ri.add(this.domNode,n):(ri.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),ri.value(this.domNode)||this.unwrap()}}rn.blotName="code-token",rn.className="ql-token";class be extends Xt{static create(t){const n=super.create(t);return typeof t=="string"&&n.setAttribute("data-language",t),n}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,n){t===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(t,n)}replaceWith(t,n){return this.formatAt(0,this.length(),rn.blotName,!1),super.replaceWith(t,n)}}class oi extends zn{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,n){t===be.blotName&&(this.forceNext=!0,this.children.forEach(s=>{s.format(t,n)}))}formatAt(t,n,s,r){s===be.blotName&&(this.forceNext=!0),super.formatAt(t,n,s,r)}highlight(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const r=`${Array.from(this.domNode.childNodes).filter(l=>l!==this.uiNode).map(l=>l.textContent).join(`
`)}
`,o=be.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==r){if(r.trim().length>0||this.cachedText==null){const l=this.children.reduce((c,h)=>c.concat(rd(h,!1)),new Q),a=t(r,o);l.diff(a).reduce((c,h)=>{let{retain:f,attributes:u}=h;return f?(u&&Object.keys(u).forEach(m=>{[be.blotName,rn.blotName].includes(m)&&this.formatAt(c,f,m,u[m])}),c+f):c},0)}this.cachedText=r,this.forceNext=!1}}html(t,n){const[s]=this.children.find(t);return`<pre data-language="${s?be.formats(s.domNode):"plain"}">
${or(this.code(t,n))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=be.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}oi.allowedChildren=[be],be.requiredContainer=oi,be.allowedChildren=[rn,ks,xe,Fe];const H_=(e,t,n)=>{if(typeof e.versionString=="string"){const s=e.versionString.split(".")[0];if(parseInt(s,10)>=11)return e.highlight(n,{language:t}).value}return e.highlight(t,n).value};class qd extends Se{static register(){B.register(rn,!0),B.register(be,!0),B.register(oi,!0)}constructor(t,n){if(super(t,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((s,r)=>{let{key:o}=r;return s[o]=!0,s},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(B.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof oi))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(s=>{let{key:r,label:o}=s;const l=n.ownerDocument.createElement("option");l.textContent=o,l.setAttribute("value",r),n.appendChild(l)}),n.addEventListener("change",()=>{t.format(be.blotName,n.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(n),t.children.head&&(n.value=be.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(B.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(B.sources.USER);const s=this.quill.getSelection();(t==null?this.quill.scroll.descendants(oi):[t]).forEach(o=>{o.highlight(this.highlightBlot,n)}),this.quill.update(B.sources.SILENT),s!=null&&this.quill.setSelection(s,B.sources.SILENT)}highlightBlot(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return or(t).split(`
`).reduce((r,o,l)=>(l!==0&&r.insert(`
`,{[Xt.blotName]:n}),r.insert(o)),new Q);const s=this.quill.root.ownerDocument.createElement("div");return s.classList.add(Xt.className),s.innerHTML=H_(this.options.hljs,n,t),da(this.quill.scroll,s,[(r,o)=>{const l=ri.value(r);return l?o.compose(new Q().retain(o.length(),{[rn.blotName]:l})):o}],[(r,o)=>r.data.split(`
`).reduce((l,a,c)=>(c!==0&&l.insert(`
`,{[Xt.blotName]:n}),l.insert(a)),o)],new WeakMap)}}qd.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const di=class di extends Wt{static create(t){const n=super.create();return t?n.setAttribute("data-row",t):n.setAttribute("data-row",wa()),n}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,n){t===di.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(t,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};G(di,"blotName","table"),G(di,"tagName","TD");let Oe=di;class on extends Hn{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),n=this.children.tail.formats(),s=this.next.children.head.formats(),r=this.next.children.tail.formats();return t.table===n.table&&t.table===s.table&&t.table===r.table}return!1}optimize(t){super.optimize(t),this.children.forEach(n=>{if(n.next==null)return;const s=n.formats(),r=n.next.formats();if(s.table!==r.table){const o=this.splitAfter(n);o&&o.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}G(on,"blotName","table-row"),G(on,"tagName","TR");class je extends Hn{}G(je,"blotName","table-body"),G(je,"tagName","TBODY");class Fs extends Hn{balanceCells(){const t=this.descendants(on),n=t.reduce((s,r)=>Math.max(r.children.length,s),0);t.forEach(s=>{new Array(n-s.children.length).fill(0).forEach(()=>{let r;s.children.head!=null&&(r=Oe.formats(s.children.head.domNode));const o=this.scroll.create(Oe.blotName,r);s.appendChild(o),o.optimize()})})}cells(t){return this.rows().map(n=>n.children.at(t))}deleteColumn(t){const[n]=this.descendant(je);n==null||n.children.head==null||n.children.forEach(s=>{const r=s.children.at(t);r!=null&&r.remove()})}insertColumn(t){const[n]=this.descendant(je);n==null||n.children.head==null||n.children.forEach(s=>{const r=s.children.at(t),o=Oe.formats(s.children.head.domNode),l=this.scroll.create(Oe.blotName,o);s.insertBefore(l,r)})}insertRow(t){const[n]=this.descendant(je);if(n==null||n.children.head==null)return;const s=wa(),r=this.scroll.create(on.blotName);n.children.head.children.forEach(()=>{const l=this.scroll.create(Oe.blotName,s);r.appendChild(l)});const o=n.children.at(t);n.insertBefore(r,o)}rows(){const t=this.children.head;return t==null?[]:t.children.map(n=>n)}}G(Fs,"blotName","table-container"),G(Fs,"tagName","TABLE"),Fs.allowedChildren=[je],je.requiredContainer=Fs,je.allowedChildren=[on],on.requiredContainer=je,on.allowedChildren=[Oe],Oe.requiredContainer=on;function wa(){return`row-${Math.random().toString(36).slice(2,6)}`}class z_ extends Se{static register(){B.register(Oe),B.register(on),B.register(je),B.register(Fs)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Fs).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,n]=this.getTable();n!=null&&(t.deleteColumn(n.cellOffset()),this.quill.update(B.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(B.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const n=t.offset();t.remove(),this.quill.update(B.sources.USER),this.quill.setSelection(n,B.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[n,s]=this.quill.getLine(t.index);if(n==null||n.statics.blotName!==Oe.blotName)return[null,null,null,-1];const r=n.parent;return[r.parent.parent,r,n,s]}insertColumn(t){const n=this.quill.getSelection();if(!n)return;const[s,r,o]=this.getTable(n);if(o==null)return;const l=o.cellOffset();s.insertColumn(l+t),this.quill.update(B.sources.USER);let a=r.rowOffset();t===0&&(a+=1),this.quill.setSelection(n.index+a,n.length,B.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const n=this.quill.getSelection();if(!n)return;const[s,r,o]=this.getTable(n);if(o==null)return;const l=r.rowOffset();s.insertRow(l+t),this.quill.update(B.sources.USER),t>0?this.quill.setSelection(n,B.sources.SILENT):this.quill.setSelection(n.index+r.children.length,n.length,B.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,n){const s=this.quill.getSelection();if(s==null)return;const r=new Array(t).fill(0).reduce(o=>{const l=new Array(n).fill(`
`).join("");return o.insert(l,{table:wa()})},new Q().retain(s.index));this.quill.updateContents(r,B.sources.USER),this.quill.setSelection(s.index,B.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(B.events.SCROLL_OPTIMIZE,t=>{t.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(B.events.TEXT_CHANGE,(s,r,o)=>{o===B.sources.USER&&this.balanceTables()}),!0):!1)})}}const Pd=nn("quill:toolbar");class ka extends Se{constructor(t,n){var s,r;if(super(t,n),Array.isArray(this.options.container)){const o=document.createElement("div");o.setAttribute("role","toolbar"),W_(o,this.options.container),(r=(s=t.container)==null?void 0:s.parentNode)==null||r.insertBefore(o,t.container),this.container=o}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Pd.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(o=>{var a;const l=(a=this.options.handlers)==null?void 0:a[o];l&&this.addHandler(o,l)}),Array.from(this.container.querySelectorAll("button, select")).forEach(o=>{this.attach(o)}),this.quill.on(B.events.EDITOR_CHANGE,()=>{const[o]=this.quill.selection.getRange();this.update(o)})}addHandler(t,n){this.handlers[t]=n}attach(t){let n=Array.from(t.classList).find(r=>r.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){Pd.warn("ignoring attaching to nonexistent format",n,t);return}const s=t.tagName==="SELECT"?"change":"click";t.addEventListener(s,r=>{let o;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const a=t.options[t.selectedIndex];a.hasAttribute("selected")?o=!1:o=a.value||!1}else t.classList.contains("ql-active")?o=!1:o=t.value||!t.hasAttribute("value"),r.preventDefault();this.quill.focus();const[l]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,o);else if(this.quill.scroll.query(n).prototype instanceof ce){if(o=prompt(`Enter ${n}`),!o)return;this.quill.updateContents(new Q().retain(l.index).delete(l.length).insert({[n]:o}),B.sources.USER)}else this.quill.format(n,o,B.sources.USER);this.update(l)}),this.controls.push([n,t])}update(t){const n=t==null?{}:this.quill.getFormat(t);this.controls.forEach(s=>{const[r,o]=s;if(o.tagName==="SELECT"){let l=null;if(t==null)l=null;else if(n[r]==null)l=o.querySelector("option[selected]");else if(!Array.isArray(n[r])){let a=n[r];typeof a=="string"&&(a=a.replace(/"/g,'\\"')),l=o.querySelector(`option[value="${a}"]`)}l==null?(o.value="",o.selectedIndex=-1):l.selected=!0}else if(t==null)o.classList.remove("ql-active"),o.setAttribute("aria-pressed","false");else if(o.hasAttribute("value")){const l=n[r],a=l===o.getAttribute("value")||l!=null&&l.toString()===o.getAttribute("value")||l==null&&!o.getAttribute("value");o.classList.toggle("ql-active",a),o.setAttribute("aria-pressed",a.toString())}else{const l=n[r]!=null;o.classList.toggle("ql-active",l),o.setAttribute("aria-pressed",l.toString())}})}}ka.DEFAULTS={};function jd(e,t,n){const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add(`ql-${t}`),s.setAttribute("aria-pressed","false"),n!=null?(s.value=n,s.setAttribute("aria-label",`${t}: ${n}`)):s.setAttribute("aria-label",t),e.appendChild(s)}function W_(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(n=>{const s=document.createElement("span");s.classList.add("ql-formats"),n.forEach(r=>{if(typeof r=="string")jd(s,r);else{const o=Object.keys(r)[0],l=r[o];Array.isArray(l)?K_(s,o,l):jd(s,o,l)}}),e.appendChild(s)})}function K_(e,t,n){const s=document.createElement("select");s.classList.add(`ql-${t}`),n.forEach(r=>{const o=document.createElement("option");r!==!1?o.setAttribute("value",String(r)):o.setAttribute("selected","selected"),s.appendChild(o)}),e.appendChild(s)}ka.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(n=>{this.quill.scroll.query(n,et.INLINE)!=null&&this.quill.format(n,!1,B.sources.USER)})}else this.quill.removeFormat(e.index,e.length,B.sources.USER)},direction(e){const{align:t}=this.quill.getFormat();e==="rtl"&&t==null?this.quill.format("align","right",B.sources.USER):!e&&t==="right"&&this.quill.format("align",!1,B.sources.USER),this.quill.format("direction",e,B.sources.USER)},indent(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t),s=parseInt(n.indent||0,10);if(e==="+1"||e==="-1"){let r=e==="+1"?1:-1;n.direction==="rtl"&&(r*=-1),this.quill.format("indent",s+r,B.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,B.sources.USER)},list(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t);e==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,B.sources.USER):this.quill.format("list","unchecked",B.sources.USER):this.quill.format("list",e,B.sources.USER)}}};const G_='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',Y_='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',X_='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',Z_='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',J_='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',Q_='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',tw='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',ew='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Ud='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',ai={align:{"":G_,center:Y_,right:X_,justify:Z_},background:J_,blockquote:Q_,bold:tw,clean:ew,code:Ud,"code-block":Ud,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'},nw='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Hd=0;function zd(e,t){e.setAttribute(t,`${e.getAttribute(t)!=="true"}`)}class mr{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),zd(this.label,"aria-expanded"),zd(this.options,"aria-hidden")}buildItem(t){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const s=t.getAttribute("value");return s&&n.setAttribute("data-value",s),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.selectItem(n,!0),r.preventDefault();break;case"Escape":this.escape(),r.preventDefault();break}}),n}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=nw,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${Hd}`,Hd+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(n=>{const s=this.buildItem(n);t.appendChild(s),n.selected===!0&&this.selectItem(s)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=this.container.querySelector(".ql-selected");t!==s&&(s!=null&&s.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const s=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(s)}else this.selectItem(null);const n=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class Wd extends mr{constructor(t,n){super(t),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(s=>{s.classList.add("ql-primary")})}buildItem(t){const n=super.buildItem(t);return n.style.backgroundColor=t.getAttribute("value")||"",n}selectItem(t,n){super.selectItem(t,n);const s=this.label.querySelector(".ql-color-label"),r=t&&t.getAttribute("data-value")||"";s&&(s.tagName==="line"?s.style.stroke=r:s.style.fill=r)}}class Kd extends mr{constructor(t,n){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(s=>{s.innerHTML=n[s.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,n){super.selectItem(t,n);const s=t||this.defaultItem;if(s!=null){if(this.label.innerHTML===s.innerHTML)return;this.label.innerHTML=s.innerHTML}}}const sw=e=>{const{overflowY:t}=getComputedStyle(e,null);return t!=="visible"&&t!=="clip"};class Gd{constructor(t,n){this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,sw(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const n=t.left+t.width/2-this.root.offsetWidth/2,s=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${s}px`,this.root.classList.remove("ql-flip");const r=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect();let l=0;if(o.right>r.right&&(l=r.right-o.right,this.root.style.left=`${n+l}px`),o.left<r.left&&(l=r.left-o.left,this.root.style.left=`${n+l}px`),o.bottom>r.bottom){const a=o.bottom-o.top,c=t.bottom-t.top+a;this.root.style.top=`${s-c}px`,this.root.classList.add("ql-flip")}return l}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const iw=[!1,"center","right","justify"],rw=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],ow=[!1,"serif","monospace"],aw=["1","2","3",!1],lw=["small",!1,"large","huge"];class li extends As{constructor(t,n){super(t,n);const s=r=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",s);return}this.tooltip!=null&&!this.tooltip.root.contains(r.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(o=>{o.container.contains(r.target)||o.close()})};t.emitter.listenDOM("click",document.body,s)}addModule(t){const n=super.addModule(t);return t==="toolbar"&&this.extendToolbar(n),n}buildButtons(t,n){Array.from(t).forEach(s=>{(s.getAttribute("class")||"").split(/\s+/).forEach(o=>{if(o.startsWith("ql-")&&(o=o.slice(3),n[o]!=null))if(o==="direction")s.innerHTML=n[o][""]+n[o].rtl;else if(typeof n[o]=="string")s.innerHTML=n[o];else{const l=s.value||"";l!=null&&n[o][l]&&(s.innerHTML=n[o][l])}})})}buildPickers(t,n){this.pickers=Array.from(t).map(r=>{if(r.classList.contains("ql-align")&&(r.querySelector("option")==null&&ci(r,iw),typeof n.align=="object"))return new Kd(r,n.align);if(r.classList.contains("ql-background")||r.classList.contains("ql-color")){const o=r.classList.contains("ql-background")?"background":"color";return r.querySelector("option")==null&&ci(r,rw,o==="background"?"#ffffff":"#000000"),new Wd(r,n[o])}return r.querySelector("option")==null&&(r.classList.contains("ql-font")?ci(r,ow):r.classList.contains("ql-header")?ci(r,aw):r.classList.contains("ql-size")&&ci(r,lw)),new mr(r)});const s=()=>{this.pickers.forEach(r=>{r.update()})};this.quill.on(X.events.EDITOR_CHANGE,s)}}li.DEFAULTS=kn({},As.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Yd extends Gd{constructor(t,n){super(t,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const s=this.quill.getBounds(this.quill.selection.savedRange);s!=null&&this.position(s),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,X.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,X.sources.USER)),this.quill.root.scrollTop=n;break}case"video":t=cw(t);case"formula":{if(!t)break;const n=this.quill.getSelection(!0);if(n!=null){const s=n.index+n.length;this.quill.insertEmbed(s,this.root.getAttribute("data-mode"),t,X.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(s+1," ",X.sources.USER),this.quill.setSelection(s+2,X.sources.USER)}break}}this.textbox.value="",this.hide()}}function cw(e){let t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:e}function ci(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(s=>{const r=document.createElement("option");s===n?r.setAttribute("selected","selected"):r.setAttribute("value",String(s)),e.appendChild(r)})}const hw=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Xd extends Yd{constructor(t,n){super(t,n),this.quill.on(X.events.EDITOR_CHANGE,(s,r,o,l)=>{if(s===X.events.SELECTION_CHANGE)if(r!=null&&r.length>0&&l===X.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const a=this.quill.getLines(r.index,r.length);if(a.length===1){const c=this.quill.getBounds(r);c!=null&&this.position(c)}else{const c=a[a.length-1],h=this.quill.getIndex(c),f=Math.min(c.length()-1,r.index+r.length-h),u=this.quill.getBounds(new Un(h,f));u!=null&&this.position(u)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(X.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const n=this.quill.getBounds(t);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(t){const n=super.position(t),s=this.root.querySelector(".ql-tooltip-arrow");return s.style.marginLeft="",n!==0&&(s.style.marginLeft=`${-1*n-s.offsetWidth/2}px`),n}}G(Xd,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class Zd extends li{constructor(t,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=hw),super(t,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new Xd(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),ai),this.buildPickers(t.container.querySelectorAll("select"),ai))}}Zd.DEFAULTS=kn({},li.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,B.sources.USER)}}}}});const dw=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Jd extends Yd{constructor(){super(...arguments);G(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const s=this.linkRange;this.restoreFocus(),this.quill.formatText(s,"link",!1,X.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on(X.events.SELECTION_CHANGE,(n,s,r)=>{if(n!=null){if(n.length===0&&r===X.sources.USER){const[o,l]=this.quill.scroll.descendant(Tn,n.index);if(o!=null){this.linkRange=new Un(n.index-l,o.length());const a=Tn.formats(o.domNode);this.preview.textContent=a,this.preview.setAttribute("href",a),this.show();const c=this.quill.getBounds(this.linkRange);c!=null&&this.position(c);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}G(Jd,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class Qd extends li{constructor(t,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=dw),super(t,n),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),ai),this.buildPickers(t.container.querySelectorAll("select"),ai),this.tooltip=new Jd(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,s)=>{t.handlers.link.call(t,!s.format.link)}))}}Qd.DEFAULTS=kn({},li.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const t=this.quill.getSelection();if(t==null||t.length===0)return;let n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:s}=this.quill.theme;s.edit("link",n)}else this.quill.format("link",!1,B.sources.USER)}}}}}),B.register({"attributors/attribute/direction":Ed,"attributors/class/align":gd,"attributors/class/background":QE,"attributors/class/color":JE,"attributors/class/direction":_d,"attributors/class/font":Nd,"attributors/class/size":Td,"attributors/style/align":bd,"attributors/style/background":oa,"attributors/style/color":ra,"attributors/style/direction":wd,"attributors/style/font":Ad,"attributors/style/size":Cd},!0),B.register({"formats/align":gd,"formats/direction":_d,"formats/indent":U_,"formats/background":oa,"formats/color":ra,"formats/font":Nd,"formats/size":Td,"formats/blockquote":pa,"formats/code-block":Xt,"formats/header":ma,"formats/list":si,"formats/bold":ii,"formats/code":aa,"formats/italic":ga,"formats/link":Tn,"formats/script":ba,"formats/strike":ya,"formats/underline":Ea,"formats/formula":fr,"formats/image":_a,"formats/video":pr,"modules/syntax":qd,"modules/table":z_,"modules/toolbar":ka,"themes/bubble":Zd,"themes/snow":Qd,"ui/icons":ai,"ui/picker":mr,"ui/icon-picker":Kd,"ui/color-picker":Wd,"ui/tooltip":Gd},!0);const ye=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},uw={props:["modelValue"],mounted(){this.initQuillEditor()},watch:{modelValue(e){e||(e=""),this.quill.root.innerHTML!=e&&(this.quill.root.innerHTML=e)}},methods:{initQuillEditor(){this.quill=new B(this.$refs.editor,{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],["link","image"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["clean"]]},formats:["bold","italic","underline","strike","link","image","list","indent","align"]}),this.modelValue?this.quill.root.innerHTML=this.modelValue:this.quill.root.innerHTML="",this.quill.on("text-change",()=>{this.$emit("update:modelValue",this.quill.root.innerHTML)})}}},fw={class:"ql-editor-container"},pw={class:"",ref:"editor"};function mw(e,t,n,s,r,o){return i.openBlock(),i.createElementBlock("div",fw,[i.createElementVNode("div",pw,null,512)])}const gw=ye(uw,[["render",mw]]),bw={props:{file:Object},methods:{roundFileSize(e,t){return e<1024?e+(t?" Byte":""):e<1048576?(e/1024).toFixed(0)+(t?'<span class="text-muted fw-light"> KB</span>':""):e<1073741824?(e/1048576).toFixed(2)+(t?'<span class="text-muted fw-light"> MB</span>':""):(e/1073741824).toFixed(2)+(t?'<span class="text-muted fw-light"> GB</span>':"")},dateFormat(e){return new Date(e).toLocaleDateString("hu-HU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}}},yw={key:0,class:"table table-sm w-100 vsa-file-info"},Ew={class:"text-nowrap text-center"},_w={class:"text-center"},ww={class:"text-nowrap text-end"},kw=["innerHTML"],Nw={class:"text-end"},Aw={class:"text-nowrap text-center"},Tw={class:"text-center"},Cw={class:"text-end"},Fw=["innerHTML"],xw={class:"text-end"},Sw={key:0,class:"fw-normal bg-light text-dark p-0 px-1 shadow-sm"},Bw={colspan:"3"},Ow={class:"text-end"},Lw=["innerHTML"],Vw={class:"d-flex justify-content-between text-nowrap"},Iw={class:"d-flex justify-content-between text-nowrap"},vw={class:"text-muted fw-light me-3"},Dw={key:1,class:"d-flex justify-content-between"};function $w(e,t,n,s,r,o){return i.openBlock(),i.createElementBlock("div",null,[e.file?(i.openBlock(),i.createElementBlock("table",yw,[t[3]||(t[3]=i.createElementVNode("thead",null,[i.createElementVNode("tr",null,[i.createElementVNode("td",{class:"text-muted"}," type "),i.createElementVNode("td",{class:"text-muted text-center"}," resolution "),i.createElementVNode("td",{class:"text-muted text-center"}," ratio "),i.createElementVNode("td",{class:"text-muted text-end"}," size "),i.createElementVNode("td",{class:"text-muted text-end"}," extension "),i.createElementVNode("td",{class:"text-muted"}," crop ")])],-1)),i.createElementVNode("tbody",null,[i.createElementVNode("tr",null,[t[0]||(t[0]=i.createElementVNode("td",null," original ",-1)),i.createElementVNode("td",Ew,i.toDisplayString(e.file.original.width)+" x "+i.toDisplayString(e.file.original.height),1),i.createElementVNode("td",_w,i.toDisplayString(e.file.original.ratio),1),i.createElementVNode("td",ww,[i.createElementVNode("span",{innerHTML:e.roundFileSize(e.file.original.bytes,!0)},null,8,kw)]),i.createElementVNode("td",Nw,i.toDisplayString(e.file.original.extension),1),t[1]||(t[1]=i.createElementVNode("td",null,null,-1))]),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.file.types,(l,a)=>(i.openBlock(),i.createElementBlock("tr",{key:l},[i.createElementVNode("td",null,i.toDisplayString(a),1),i.createElementVNode("td",Aw,i.toDisplayString(l.width)+" x "+i.toDisplayString(l.height),1),i.createElementVNode("td",Tw,i.toDisplayString(l.ratio),1),i.createElementVNode("td",Cw,[i.createElementVNode("span",{class:i.normalizeClass(["text-nowrap",{"text-danger":l.bytes>e.file.original.bytes}]),innerHTML:e.roundFileSize(l.bytes,!0)},null,10,Fw)]),i.createElementVNode("td",xw,i.toDisplayString(l.extension),1),i.createElementVNode("td",null,[l.crop?(i.openBlock(),i.createElementBlock("small",Sw,i.toDisplayString(l.crop),1)):i.createCommentVNode("",!0)])]))),128))]),i.createElementVNode("tfoot",null,[i.createElementVNode("tr",null,[i.createElementVNode("td",Bw,i.toDisplayString(e.file.uploaded?"uploaded":"uploading"),1),i.createElementVNode("td",Ow,[i.createElementVNode("span",{class:"text-nowrap",innerHTML:e.roundFileSize(e.file.bytes,!0)},null,8,Lw)]),t[2]||(t[2]=i.createElementVNode("td",{colspan:"2"},null,-1))])])])):i.createCommentVNode("",!0),i.createElementVNode("small",Vw,[t[4]||(t[4]=i.createElementVNode("span",{class:"text-muted fw-light me-3"},"original filename",-1)),i.createTextVNode(" "+i.toDisplayString(e.file.original.name),1)]),i.createElementVNode("small",Iw,[i.createElementVNode("span",vw,i.toDisplayString(e.file.uploaded?"uploaded":"uploading")+" filename",1),t[5]||(t[5]=i.createTextVNode()),i.createElementVNode("span",null,i.toDisplayString(e.file.slug),1)]),e.file.uploaded?(i.openBlock(),i.createElementBlock("small",Dw,[t[6]||(t[6]=i.createElementVNode("span",{class:"text-muted fw-light me-3"},"uploaded at",-1)),t[7]||(t[7]=i.createTextVNode()),i.createElementVNode("span",null,i.toDisplayString(e.dateFormat(e.file.timestamp*1e3)),1)])):i.createCommentVNode("",!0)])}const Mw=ye(bw,[["render",$w]]),Ee={image:{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif"},video:{mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",mpeg:"video/mpeg",mov:"video/quicktime"},document:{txt:"text/plain",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rtf:"application/rtf"}},Rw={props:{modelValue:Array,field:Object,settings:Object},data:function(){return{files:[],editfile:null,count:0,bytes:0,wait:!1,uploadEvent:null,isDragging:!1}},components:{VuAdminFileUploadInfo:Mw},created(){let e=Math.round(Math.random()*1e5);this.uploadId="image_upload_"+e,this.params=this.field.params},mounted(){this.editfile=this.modelValue,this.editfile||(this.editfile=[])},watch:{modelValue(e){if(e==null)this.reset();else{for(let t of e)this.setDefaults(t);this.files=e}}},methods:{roundFileSize(e,t){return t1(e,t)},extensionByFilename(e){return e1(e)},getAcceptMimeTypes(e){let t=[];for(const n in Ee)if(Ee.hasOwnProperty(n)){const s=Ee[n];e.forEach(r=>{s[r]&&t.push(s[r])})}return t.join(",")},setDefaults(e){!e||typeof e!="object"||this.params&&this.params.tags&&!e.tags&&(e.tags=[])},detect(e){this.setDefaults(e),e.bytes=0,e.types={default:{}},e.title=e.name.split(".").slice(0,-1).join("."),e.uid=Math.round(Math.random()*9999999).toString(32)+Date.now().toString(32),e.slug=Hs(e.title),e.timestamp=Math.round(Date.now()/1e3),e.original={bytes:e.size,mime:e.type,name:e.name,modified:e.lastModified,extension:this.extensionByFilename(e.name)},Object.values(Ee.video).indexOf(e.original.mime)>=0?e.isVideo=!0:Object.values(Ee.image).indexOf(e.original.mime)>=0?e.isImage=!0:Object.values(Ee.document).indexOf(e.original.mime)>=0?e.isDocument=!0:e.isUnknown=!0,(e.isVideo||e.isImage&&!this.params.presets.default)&&(this.params.presets.default={width:1920,height:1920,extension:"webp",quality:.9})},async createThumbnail(e,t){const n=document.createElement("video"),s=new FileReader;s.onload=r=>{n.src=r.target.result,n.addEventListener("loadeddata",()=>{n.currentTime=n.duration*Math.random(),e.video=n}),n.addEventListener("seeked",()=>{this.forEachPresets(e,n),e.loaded=!0,this.bytes+=e.bytes})},s.readAsDataURL(e)},seekRandom(e){e.video&&(e.video.currentTime=e.video.duration*Math.random())},async handleFileChange(e){this.uploadEvent=e,this.count=this.files?this.files.length:0,this.wait=!0;for(let t of e.target.files)if(this.count++,this.count<=this.params.limit){if(this.files.push(t),this.detect(t),t.isVideo)await this.createThumbnail(t);else if(t.isImage)await this.resizeImage(t);else if(t.isDocument){const n=new FileReader;n.addEventListener("load",s=>{t.types.default={extension:t.original.extension,mime:t.original.mime,slug:Hs(t.title)+"-"+t.uid,bytes:t.size,data:s.target.result},t.loaded=!0,t.bytes+=t.size,this.bytes+=t.bytes}),n.readAsDataURL(t)}}this.$emit("update:modelValue",this.files),this.wait=!1,this.uploadEvent.target.value=""},async forEachPresets(e,t,n){const s=document.createElement("canvas"),r=s.getContext("2d");let o=!!t.videoWidth,l,a;o?(l=t.videoWidth,a=t.videoHeight):(l=t.width,a=t.height),e.original.width=l,e.original.height=a,e.original.ratio=this.calculateAspectRatio(l,a);for(let c in this.params.presets){let h=this.params.presets[c];h.key=c,h.width=h.width?h.width:1920,h.height=h.height?h.height:1080;let f=h.width,u=h.height;if(h.crop==="cover"){let m=Math.max(f/l,u/a),b=l*m,y=a*m,k=(b-f)/2,T=(y-u)/2;s.width=f,s.height=u,r.drawImage(t,-k,-T,b,y)}else if(h.crop==="contain"){let m=Math.min(f/l,u/a),b=l*m,y=a*m,k=(f-b)/2,T=(u-y)/2;s.width=f,s.height=u,r.clearRect(0,0,f,u),r.drawImage(t,k,T,b,y)}else l>f&&(a=Math.round(a*(f/l)),l=f),a>u&&(l=Math.round(l*(u/a)),a=u),s.width=l,s.height=a,r.drawImage(t,0,0,l,a);e.types[h.key]={width:s.width,height:s.height,ratio:this.calculateAspectRatio(s.width,s.height),extension:h.extension?h.extension:this.getExtensionByMimeType(e.type),quality:h.quality?h.quality:.9,crop:h.crop?h.crop:null},e.types[h.key].slug=Hs(e.title)+"-"+s.width+"x"+s.height+"-"+e.uid,e.types[h.key].mime=this.getMimeTypeByExtension(e.types[h.key].extension),e.types[h.key].data=s.toDataURL(e.types[h.key].mime,e.types[h.key].quality),e.types[h.key].blob=await this.getBlob(s,e.types[h.key].mime,e.types[h.key].quality),e.types[h.key].blob&&(e.types[h.key].bytes=e.types[h.key].blob.size),e.types[h.key].bytes&&(e.bytes+=e.types[h.key].bytes),n&&n(h,e)}},getBlob(e,t,n){return new Promise((s,r)=>{e.toBlob(function(o){o?s(o):r(new Error("Failed to convert canvas to Blob"))},t,n)})},async resizeImage(e){const t=await this.fileToBlob(e),n=await createImageBitmap(t);await this.forEachPresets(e,n),e.loaded=!0,this.bytes+=e.bytes},fileToBlob(e){return new Promise(t=>{const n=new FileReader;n.onload=s=>{t(new Blob([s.target.result],{type:e.mime}))},n.readAsArrayBuffer(e)})},slug(e){if(!e.uploaded){e.slug=Hs(e.title);for(let t in e.types){let n=this.params.presets[t];e.types[t].slug=Hs(e.title)+"-"+n.width+"x"+n.height}this.$forceUpdate()}},arrayItemMoveUp(e,t){wo(e,t)},arrayItemMoveDown(e,t){ko(e,t)},download(e,t){let n=this.files[e].types[t.download?t.download:"default"],s=document.createElement("a");s.href=n.url,s.download=n.slug+"."+n.extension,s.click()},remove(e){confirm("Are you sure you want to remove?")&&(this.bytes-=this.files[e].bytes,this.files.splice(e,1),this.count=this.files.length)},resetConfirm(){confirm("Are you sure you want to remove all?")&&this.reset()},reset(){this.files=[],this.editfile={},this.count=0,this.bytes=0,this.wait=!1,this.$emit("update:modelValue",this.files)},toggleView(){this.params.ui=this.params.ui=="list"?"grid":"list"},dateFormat(e){return new Date(e).toLocaleDateString("hu-HU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},getMimeTypeByExtension(e){for(const t in Ee)if(Ee.hasOwnProperty(t)){const n=Ee[t];if(n[e])return n[e]}return null},getExtensionByMimeType(e){for(const t in Ee)if(Ee.hasOwnProperty(t)){const n=Ee[t];for(const s in n)if(n[s]===e)return s}return null},calculateAspectRatio(e,t){function n(c,h){return h===0?c:n(h,c%h)}if(e<=0||t<=0)throw new Error("Width and height must be positive numbers.");const s=n(e,t),r=e/s,o=t/s;if(r>99||o>99)return"?";if(r===o)return"1:1";if(r%o===0)return`${r/o}:1`;const l=`${r}:${o}`;return{"2.35:1":"2.35:1","2.39:1":"2.39:1","2.76:1":"2.76:1","1.85:1":"1.85:1"}[l]||l},translate(e,t,n){return fs(e,this.settings.translate,t,n||this.settings.language)},dropdownSelectToggleOne(e,t){bo(e,t),this.$forceUpdate()},dropdownSelectAll(e,t){yo(e,t),this.$forceUpdate()},dropdownSelectInvert(e,t){Eo(e,t),this.$forceUpdate()},dropdownSelectClear(e){typeof e!="object"?e.value=null:_o(e),this.$forceUpdate()},handleDrop(e){e.preventDefault(),this.isDragging=!1;const t=e.dataTransfer.files;this.handleFileChange({target:{files:t}})}}},qw={class:""},Pw={key:0,class:"vsa-image-editor p-2 text-center"},jw={class:"row"},Uw={class:"badge bg-dark text-light fw-light mx-1 text-uppercase"},Hw={class:"badge bg-dark text-light fw-light mx-1"},zw={class:"badge bg-dark text-light fw-light mx-1"},Ww=["src"],Kw={class:"row g-1"},Gw={class:"col-md-6"},Yw={class:"col-md-6"},Xw={class:"col-md-6"},Zw=["href"],Jw={key:1,class:"row g-2 mb-1"},Qw={key:0},tk={class:"table table-sm table-responsive table-borderless"},ek={class:"align-middle px-0"},nk={class:"input-group border"},sk={class:"d-block p-1 px-2"},ik=["onClick"],rk=["onClick"],ok={key:0,class:"fs-5 mx-2"},ak={key:1,class:"fs-5 mx-2"},lk={key:2,class:"fs-5 mx-2"},ck=["onUpdate:modelValue","onInput"],hk={key:3,class:"mx-0"},dk=["href"],uk=["src","alt"],fk=["src","alt"],pk={key:4,class:"dropdown rounded-bottom"},mk={class:"btn btn-sm border border-start-1 border-top-0 border-bottom-0 rounded-0 h-100 w-100",type:"button","data-bs-auto-close":"outside","data-bs-toggle":"dropdown","aria-expanded":"false"},gk={class:"dropdown-menu"},bk=["onClick"],yk={key:0,class:"bi bi-check-square"},Ek={key:1,class:"bi bi-square"},_k=["onClick"],wk=["onClick"],kk=["onClick"],Nk={class:"dropdown"},Ak={class:"dropdown-menu"},Tk={class:"p-2"},Ck={class:"fw-light"},Fk=["onClick"],xk={class:"vsa-image-container h-100 position-relative"},Sk={key:0,class:"w-100 h-100 d-flex align-items-center flex-column"},Bk={key:1,class:"vsa-image-frame mb-auto border border-bottom-0 p-1 text-center w-100 h-100 d-flex justify-content-center align-items-center"},Ok=["href"],Lk=["src","alt"],Vk=["src","alt"],Ik={key:2,class:"display-3 w-100 h-100 text-center mb-auto d-flex align-items-center justify-content-center"},vk=["onUpdate:modelValue","onInput"],Dk={class:"w-100 mb-2 d-flex justify-content-around align-items-center"},$k={class:"p-1 px-2 border border-end-0 h-100"},Mk=["onClick"],Rk=["onClick"],qk={key:0,class:"dropdown border border-end-0 h-100 w-100"},Pk={class:"btn btn-sm rounded-0 h-100 w-100",type:"button","data-bs-auto-close":"outside","data-bs-toggle":"dropdown","aria-expanded":"false"},jk={class:"dropdown-menu"},Uk=["onClick"],Hk={key:0,class:"bi bi-check-square"},zk={key:1,class:"bi bi-square"},Wk=["onClick"],Kk=["onClick"],Gk=["onClick"],Yk={class:"dropdown border h-100 w-100"},Xk={class:"dropdown-menu"},Zk={class:"p-2"},Jk={class:"fw-light"},Qk=["onClick"],tN={key:1,class:"w-100 h-100 vsa-image-loading d-flex align-items-center justify-content-center"},eN={class:"row g-1"},nN={class:"col-12 d-flex align-items-center justify-content-center"},sN=["for"],iN={key:0},rN={key:0},oN={class:""},aN={class:""},lN={key:1,class:"fs-6"},cN={key:0,class:"bi bi-list-ol"},hN={key:1,class:"bi bi-grid"},dN=["disabled"],uN={class:"col-12 text-center"},fN={key:0},pN=["id","accept"];function mN(e,t,n,s,r,o){const l=i.resolveComponent("VuAdminFileUploadInfo");return i.openBlock(),i.createElementBlock("div",qw,[i.createElementVNode("div",{class:i.normalizeClass(["vsa-upload",{wait:e.wait}])},[e.editfile&&e.editfile.presets?(i.openBlock(),i.createElementBlock("div",Pw,[i.createElementVNode("div",jw,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.editfile.types,(a,c)=>(i.openBlock(),i.createElementBlock("div",{class:"col-md-3",key:c},[i.createElementVNode("span",Uw,i.toDisplayString(a.extension),1),i.createElementVNode("span",Hw,i.toDisplayString(a.width)+" x "+i.toDisplayString(a.height),1),i.createElementVNode("span",zw,"~"+i.toDisplayString(e.roundFileSize(a.bytes)),1),a?(i.openBlock(),i.createElementBlock("img",{key:0,class:"img-thumbnail rounded",src:a.url?a.url:a.data},null,8,Ww)):i.createCommentVNode("",!0)]))),128))]),i.withDirectives(i.createElementVNode("input",{type:"text",class:"form-control form-control-sm w-100 mt-1","onUpdate:modelValue":t[0]||(t[0]=a=>e.editfile.title=a)},null,512),[[i.vModelText,e.editfile.title]]),i.createElementVNode("div",Kw,[i.createElementVNode("div",Gw,[i.createElementVNode("button",{type:"button",class:"btn btn-sm btn-outline-danger mt-1 w-100",onClick:t[1]||(t[1]=a=>e.editfile=null)}," Close ")]),i.createElementVNode("div",Yw,[i.createElementVNode("button",{type:"button",class:"btn btn-sm btn-outline-danger mt-1 w-100",onClick:t[2]||(t[2]=a=>e.remove(e.index))}," Remove ")]),i.createElementVNode("div",Xw,[e.type&&!e.type.url?(i.openBlock(),i.createElementBlock("button",{key:0,type:"button",class:"btn btn-sm btn-outline-light mt-1 w-100",onClick:t[3]||(t[3]=a=>e.download(e.index,e.params))}," Download ")):i.createCommentVNode("",!0),e.type&&e.type.url?(i.openBlock(),i.createElementBlock("a",{key:1,type:"button",class:"btn btn-sm btn-outline-light mt-1 w-100",href:e.type.url}," Download ",8,Zw)):i.createCommentVNode("",!0)])])])):i.createCommentVNode("",!0),e.files&&e.files.length?(i.openBlock(),i.createElementBlock("div",Jw,[e.params.ui==="list"?(i.openBlock(),i.createElementBlock("div",Qw,[i.createElementVNode("table",tk,[i.createElementVNode("tbody",null,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.files,(a,c)=>(i.openBlock(),i.createElementBlock("tr",{key:c},[i.createElementVNode("td",ek,[i.createElementVNode("div",nk,[i.createElementVNode("span",sk,i.toDisplayString(c+1),1),i.createElementVNode("span",{class:"cursor-pointer p-1 border-start border-end h-100",onClick:h=>e.arrayItemMoveDown(e.files,c)},[i.createElementVNode("i",{class:i.normalizeClass(["bi bi-arrow-up",{"opacity-25":c<1}])},null,2)],8,ik),i.createElementVNode("span",{class:"cursor-pointer p-1 border-start border-end h-100",onClick:h=>e.arrayItemMoveUp(e.files,c+1)},[i.createElementVNode("i",{class:i.normalizeClass(["bi bi-arrow-down",{"opacity-25":c>=e.files.length-1}])},null,2)],8,rk),a.isDocument?(i.openBlock(),i.createElementBlock("span",ok,[i.createElementVNode("i",{class:i.normalizeClass(["bi bi-filetype-"+a.types.default.extension])},null,2)])):a.isImage?(i.openBlock(),i.createElementBlock("span",ak,t[12]||(t[12]=[i.createElementVNode("i",{class:"bi bi-file-image"},null,-1)]))):a.isVideo?(i.openBlock(),i.createElementBlock("span",lk,t[13]||(t[13]=[i.createElementVNode("i",{class:"bi bi-file-play"},null,-1)]))):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("input",{required:"text",class:"form-control py-1 px-2 border-top-0 border-bottom-0 border-start-1 fw-light","onUpdate:modelValue":h=>a.title=h,onInput:h=>e.slug(a),onKeydown:t[4]||(t[4]=i.withKeys(i.withModifiers(()=>{},["prevent"]),["enter"]))},null,40,ck),[[i.vModelText,a.title]]),!a.isDocument&&a.types&&a.types[e.params.thumbnail]?(i.openBlock(),i.createElementBlock("span",hk,[a.types.default.url?(i.openBlock(),i.createElementBlock("a",{key:0,target:"_blank",href:a.types.default.url},[i.createElementVNode("img",{height:"32",width:"auto",class:"transparent-background",src:a.types[e.params.thumbnail].url,alt:a.name},null,8,uk)],8,dk)):(i.openBlock(),i.createElementBlock("img",{key:1,height:"32",width:"auto",class:"transparent-background",src:a.types[e.params.thumbnail].data,alt:a.name},null,8,fk))])):i.createCommentVNode("",!0),e.params.tags?(i.openBlock(),i.createElementBlock("div",pk,[i.createElementVNode("button",mk,[t[14]||(t[14]=i.createElementVNode("i",{class:"bi bi-tag"},null,-1)),i.createTextVNode(" "+i.toDisplayString(a.tags?a.tags.length:0),1)]),i.createElementVNode("ul",gk,[i.createElementVNode("li",null,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.params.tags,h=>(i.openBlock(),i.createElementBlock("span",{key:h,class:"dropdown-item cursor-pointer",onClick:f=>e.dropdownSelectToggleOne(a.tags,h.value)},[a.tags&&a.tags.indexOf(h.value)>=0?(i.openBlock(),i.createElementBlock("i",yk)):(i.openBlock(),i.createElementBlock("i",Ek)),i.createTextVNode(" "+i.toDisplayString(e.translate(h.label?h.label:h.value)),1)],8,bk))),128))]),t[15]||(t[15]=i.createElementVNode("li",null,[i.createElementVNode("hr",{class:"dropdown-divider"})],-1)),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>e.dropdownSelectAll(a.tags,e.params.tags)},i.toDisplayString(e.translate("Select all")),9,_k)]),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>e.dropdownSelectClear(a.tags)},i.toDisplayString(e.translate("Unselect all")),9,wk)]),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>e.dropdownSelectInvert(a.tags,e.params.tags)},i.toDisplayString(e.translate("Invert all")),9,kk)])])])):i.createCommentVNode("",!0),i.createElementVNode("div",Nk,[t[16]||(t[16]=i.createElementVNode("button",{class:"btn btn-sm _dropdown-toggle border border-start-1 border-top-0 border-bottom-0 rounded-0 h-100",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[i.createElementVNode("i",{class:"bi bi-list"})],-1)),i.createElementVNode("ul",Ak,[i.createElementVNode("li",Tk,[i.createElementVNode("small",Ck,[i.createVNode(l,{file:a},null,8,["file"])])])])]),i.createElementVNode("button",{class:"btn btn-sm btn-outline-danger border border-start-1 border-top-0 border-bottom-0 border-end-0 rounded-0 px-2",onClick:h=>e.remove(c),type:"button"},t[17]||(t[17]=[i.createElementVNode("i",{class:"bi bi-x-circle"},null,-1)]),8,Fk)])])]))),128))])])])):(i.openBlock(!0),i.createElementBlock(i.Fragment,{key:1},i.renderList(e.files,(a,c)=>(i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass([e.params.colclass?e.params.colclass:"col-12 col-sm-12 col-md-6 col-lg-4 col-xl-3"]),key:c},[i.createElementVNode("div",xk,[a.loaded?(i.openBlock(),i.createElementBlock("div",Sk,[i.createCommentVNode("",!0),a.types&&a.types[e.params.thumbnail]?(i.openBlock(),i.createElementBlock("div",Bk,[a.types.default.url?(i.openBlock(),i.createElementBlock("a",{key:0,target:"_blank",href:a.types.default.url},[i.createElementVNode("img",{class:"img-fluid transparent-background",src:a.types[e.params.thumbnail].url,alt:a.name},null,8,Lk)],8,Ok)):(i.openBlock(),i.createElementBlock("img",{key:1,class:"img-fluid transparent-background",src:a.types[e.params.thumbnail].data,alt:a.name},null,8,Vk))])):i.createCommentVNode("",!0),a.isDocument?(i.openBlock(),i.createElementBlock("div",Ik,[i.createElementVNode("i",{class:i.normalizeClass(["bi bi-filetype-"+a.types.default.extension])},null,2)])):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("input",{required:"text",class:"form-control rounded-0 border-bottom-0 py-1 px-2 fw-light","onUpdate:modelValue":h=>a.title=h,onInput:h=>e.slug(a),onKeydown:t[5]||(t[5]=i.withKeys(i.withModifiers(()=>{},["prevent"]),["enter"]))},null,40,vk),[[i.vModelText,a.title]]),i.createElementVNode("div",Dk,[i.createElementVNode("span",$k,i.toDisplayString(c+1),1),i.createElementVNode("span",{class:"cursor-pointer p-1 border border-end-0 h-100",onClick:h=>e.arrayItemMoveDown(e.files,c)},[i.createElementVNode("i",{class:i.normalizeClass(["bi bi-arrow-up",{"opacity-25":c<1}])},null,2)],8,Mk),i.createElementVNode("span",{class:"cursor-pointer p-1 border border-end-0 h-100",onClick:h=>e.arrayItemMoveUp(e.files,c+1)},[i.createElementVNode("i",{class:i.normalizeClass(["bi bi-arrow-down",{"opacity-25":c>=e.files.length-1}])},null,2)],8,Rk),e.params.tags?(i.openBlock(),i.createElementBlock("div",qk,[i.createElementVNode("button",Pk,[t[21]||(t[21]=i.createElementVNode("i",{class:"bi bi-tag"},null,-1)),i.createTextVNode(" "+i.toDisplayString(a.tags?a.tags.length:0),1)]),i.createElementVNode("ul",jk,[i.createElementVNode("li",null,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.params.tags,h=>(i.openBlock(),i.createElementBlock("span",{key:h,class:"dropdown-item cursor-pointer",onClick:f=>e.dropdownSelectToggleOne(a.tags,h.value)},[a.tags&&a.tags.indexOf(h.value)>=0?(i.openBlock(),i.createElementBlock("i",Hk)):(i.openBlock(),i.createElementBlock("i",zk)),i.createTextVNode(" "+i.toDisplayString(e.translate(h.label?h.label:h.value)),1)],8,Uk))),128))]),t[22]||(t[22]=i.createElementVNode("li",null,[i.createElementVNode("hr",{class:"dropdown-divider"})],-1)),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>e.dropdownSelectAll(a.tags,e.params.tags)},i.toDisplayString(e.translate("Select all")),9,Wk)]),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>e.dropdownSelectClear(a.tags)},i.toDisplayString(e.translate("Unselect all")),9,Kk)]),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>e.dropdownSelectInvert(a.tags,e.params.tags)},i.toDisplayString(e.translate("Invert all")),9,Gk)])])])):i.createCommentVNode("",!0),i.createElementVNode("div",Yk,[t[23]||(t[23]=i.createElementVNode("button",{class:"btn btn-sm rounded-0 h-100 _dropdown-toggle w-100",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[i.createElementVNode("i",{class:"bi bi-list"})],-1)),i.createElementVNode("ul",Xk,[i.createElementVNode("li",Zk,[i.createElementVNode("small",Jk,[i.createVNode(l,{file:a},null,8,["file"])])])])]),i.createElementVNode("button",{class:"btn btn-outline-danger border rounded-0 border-start-0 px-2 py-1",onClick:h=>e.remove(c),type:"button"},t[24]||(t[24]=[i.createElementVNode("i",{class:"bi bi-x-circle"},null,-1)]),8,Qk)])])):(i.openBlock(),i.createElementBlock("div",tN,t[25]||(t[25]=[i.createElementVNode("span",null,null,-1)])))])],2))),128))])):i.createCommentVNode("",!0),i.createElementVNode("div",eN,[i.createElementVNode("div",nN,[i.createElementVNode("label",{for:e.uploadId,class:i.normalizeClass([{"disabled bg-secondary":e.files&&e.params.limit<=e.files.length},"btn btn-light border border-dark cursor-pointer w-100 vsa-drop-zone",{"vsa-drop-zone-active":e.isDragging}]),onDragover:t[6]||(t[6]=i.withModifiers(()=>{},["prevent"])),onDragenter:t[7]||(t[7]=i.withModifiers(()=>{},["prevent"])),onDrop:t[8]||(t[8]=i.withModifiers((...a)=>e.handleDrop&&e.handleDrop(...a),["prevent"]))},[e.files&&e.params.limit>e.files.length?(i.openBlock(),i.createElementBlock("span",iN,[t[29]||(t[29]=i.createElementVNode("i",{class:"bi bi-upload me-2"},null,-1)),i.createTextVNode(" "+i.toDisplayString(e.params.text)+" ",1),e.params.limit?(i.openBlock(),i.createElementBlock("small",rN,[t[26]||(t[26]=i.createTextVNode(" ( ")),i.createElementVNode("strong",oN,i.toDisplayString(e.files.length),1),t[27]||(t[27]=i.createTextVNode(" / ")),i.createElementVNode("span",aN,i.toDisplayString(e.params.limit),1),t[28]||(t[28]=i.createTextVNode(" ) "))])):i.createCommentVNode("",!0)])):(i.openBlock(),i.createElementBlock("span",lN,t[30]||(t[30]=[i.createElementVNode("i",{class:"bi bi-exclamation-circle"},null,-1),i.createTextVNode(" You've reached the upload limit ")])))],42,sN),i.createElementVNode("button",{type:"button",class:"btn btn-outline-primary ms-1",onClick:t[9]||(t[9]=a=>e.toggleView())},[e.params.ui!="list"?(i.openBlock(),i.createElementBlock("i",cN)):i.createCommentVNode("",!0),e.params.ui=="list"?(i.openBlock(),i.createElementBlock("i",hN)):i.createCommentVNode("",!0)]),i.createElementVNode("button",{disabled:!e.files.length,type:"button",class:"btn btn-outline-danger ms-1",onClick:t[10]||(t[10]=a=>e.resetConfirm())},t[31]||(t[31]=[i.createElementVNode("i",{class:"bi bi-trash"},null,-1)]),8,dN)]),i.createElementVNode("div",uN,[i.createElementVNode("small",null,[e.params.accept?(i.openBlock(),i.createElementBlock("div",fN,[t[32]||(t[32]=i.createElementVNode("span",{class:"text-secondary"},"accept only",-1)),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.params.accept,a=>(i.openBlock(),i.createElementBlock("strong",{class:"ms-1 text-muted",key:a},i.toDisplayString(a),1))),128))])):i.createCommentVNode("",!0),i.createCommentVNode("",!0)])])]),e.uploadId?(i.openBlock(),i.createElementBlock("input",{key:2,multiple:"",style:{opacity:"0",height:"1px",width:"1px"},id:e.uploadId,type:"file",accept:e.getAcceptMimeTypes(e.params.accept),onChange:t[11]||(t[11]=(...a)=>e.handleFileChange&&e.handleFileChange(...a))},null,40,pN)):i.createCommentVNode("",!0)],2)])}const gN=ye(Rw,[["render",mN]]),bN={props:{modelValue:String|Object|Number,optionValue:String,field:Object,item:Object,settings:Object,formId:String,auth:Object},data:function(){return{newitem:null,options:[]}},created(){},mounted(){this.loadOptions(),this.setNewItem(this.modelValue)},watch:{modelValue(e){this.setNewItem(e)}},methods:{setNewItem(e){this.optionValue==="object"?this.newitem=e&&e.value:this.newitem=e},async loadOptions(){this.options=await this.selectOptions(this.field.options,this.field)},getValueOrFunction(e,t){return $n(e,t,this.settings,this)},async selectOptions(e,t){return typeof e=="function"?await e(this.item,t,this):e},async fetchCustom(e,t){const n=await fetch(Je("GET",{url:e},t),Ze("GET",this.settings.form.api,null,this.auth)),s=await ds(n);if(!us(n,s.data))return s.data},handleChange(e){if(this.optionValue==="object"){const t=this.options.find(n=>n.value===this.newitem);t&&this.$emit("update:modelValue",t)}else this.$emit("update:modelValue",this.newitem)}},components:{}},yN=["name","id","disabled","readonly","required"],EN=["value"];function _N(e,t,n,s,r,o){return i.withDirectives((i.openBlock(),i.createElementBlock("select",{class:i.normalizeClass(["form-select",e.getValueOrFunction(e.field.inputclass?e.field.inputclass:"",{field:e.field,item:e.item})]),name:e.field.name,id:e.formId+"_"+e.field.name,onChange:t[0]||(t[0]=l=>e.handleChange(l)),"onUpdate:modelValue":t[1]||(t[1]=l=>e.newitem=l),disabled:e.field.disabled,readonly:e.field.readonly,required:e.field.required},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.options,l=>(i.openBlock(),i.createElementBlock("option",{class:i.normalizeClass(e.getValueOrFunction(e.field.optionclass?e.field.optionclass:"",{field:e.field,item:e.item,option:l})),key:l,value:l.value},i.toDisplayString(l.label?l.label:l.value),11,EN))),128))],42,yN)),[[i.vModelSelect,e.newitem]])}const tu=ye(bN,[["render",_N]]),wN={props:{modelValue:Array,field:Object,item:Object,settings:Object,formId:String},data:function(){return{value:[]}},created(){},mounted(){},watch:{modelValue(e){this.value=e,(!this.value||typeof this.value!="object")&&(this.value=[])}},methods:{getValueOrFunction(e,t){return $n(e,t,this.settings,this)},selectOptions(e,t){return typeof e=="function"?e(this.item,t,this):e},arrayAddNewItem(e,t){let n={};for(let s in e.elements){let r=Object.assign({},e.elements[s]),o=r.value?r.value:null;if(o!=null)n[s]=o;else return}this.value.push(n),this.$emit("update:modelValue",this.value);for(let s in e.elements)e.elements[s].value=null},arrayRemoveItem(e,t){e.splice(t,1)},arrayItemMoveUp(e,t){wo(e,t)},arrayItemMoveDown(e,t){ko(e,t)}},components:{VuAdminFormSelect:tu}},kN={class:"row g-1 d-flex align-items-center justify-content-between mb-1"},NN={class:"col-10"},AN={class:"row g-1 d-flex align-items-center justify-content-between"},TN={class:"col-10"},CN={class:"row g-1 d-flex align-items-center justify-content-between"},FN=["innerHTML"],xN={key:1,class:"input-group input-group-sm"},SN=["type","required","placeholder","onUpdate:modelValue"],BN={class:"col-2 text-nowrap text-end"},ON=["onClick"],LN=["onClick"],VN=["onClick"],IN={key:0},vN={class:"row g-1 d-flex align-items-center justify-content-between"},DN={class:"col-10"},$N={class:"row g-1 d-flex align-items-center justify-content-between"},MN={class:"input-group input-group-sm"},RN={key:0,class:"input-group-text"},qN=["type","placeholder","onUpdate:modelValue"],PN={key:3,class:"input-group-text"},jN={class:"col-2"};function UN(e,t,n,s,r,o){const l=i.resolveComponent("VuAdminFormSelect");return i.openBlock(),i.createElementBlock("div",null,[i.createElementVNode("div",kN,[i.createElementVNode("div",NN,[i.createElementVNode("div",AN,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.field.elements,a=>(i.openBlock(),i.createElementBlock("div",{key:a,class:i.normalizeClass(a.class||"col")},[i.createElementVNode("small",null,i.toDisplayString(a.placeholder?a.placeholder:a.prefix?a.prefix:""),1)],2))),128))])]),t[1]||(t[1]=i.createElementVNode("div",{class:"col-2 text-nowrap text-end"},null,-1))]),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.value,(a,c)=>(i.openBlock(),i.createElementBlock("div",{class:"row g-1 d-flex align-items-center justify-content-between mb-1",key:c},[i.createElementVNode("div",TN,[i.createElementVNode("div",CN,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(a,(h,f)=>(i.openBlock(),i.createElementBlock("div",{key:f,class:i.normalizeClass(e.field.elements[f].class||"col")},[e.field.elements[f].template?(i.openBlock(),i.createElementBlock("span",{key:0,innerHTML:e.getValueOrFunction(e.field.elements[f].template,e.value[c])},null,8,FN)):(i.openBlock(),i.createElementBlock("div",xN,[e.field.elements[f].type=="select"&&e.value[c][f]?(i.openBlock(),i.createBlock(l,{key:0,modelValue:e.value[c][f],"onUpdate:modelValue":u=>e.value[c][f]=u,field:e.field.elements[f],item:e.item,settings:e.settings,formId:e.formId,optionValue:"object"},null,8,["modelValue","onUpdate:modelValue","field","item","settings","formId"])):i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:1,type:e.field.elements[f].type,required:e.field.elements[f].required,placeholder:e.field.elements[f].placeholder||f,class:"form-control","onUpdate:modelValue":u=>e.value[c][f]=u},null,8,SN)),[[i.vModelDynamic,e.value[c][f]]])]))],2))),128))])]),i.createElementVNode("div",BN,[e.field.sortable?(i.openBlock(),i.createElementBlock("button",{key:0,type:"button",class:"btn btn-sm btn-outline-secondary p-1 me-1",onClick:h=>e.arrayItemMoveUp(e.value,c)},t[2]||(t[2]=[i.createElementVNode("i",{class:"bi bi-arrow-up"},null,-1)]),8,ON)):i.createCommentVNode("",!0),e.field.sortable?(i.openBlock(),i.createElementBlock("button",{key:1,type:"button",class:"btn btn-sm btn-outline-secondary p-1 me-1",onClick:h=>e.arrayItemMoveDown(e.value,c+1)},t[3]||(t[3]=[i.createElementVNode("i",{class:"bi bi-arrow-down"},null,-1)]),8,LN)):i.createCommentVNode("",!0),i.createElementVNode("button",{type:"button",class:"btn btn-sm btn-outline-danger p-1 me-1",onClick:h=>e.arrayRemoveItem(e.value,c)},t[4]||(t[4]=[i.createElementVNode("i",{class:"bi bi-trash"},null,-1)]),8,VN)])]))),128)),e.item[e.field.name]&&e.item[e.field.name].length?(i.openBlock(),i.createElementBlock("hr",IN)):i.createCommentVNode("",!0),i.createElementVNode("div",vN,[i.createElementVNode("div",DN,[i.createElementVNode("div",$N,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.field.elements,a=>(i.openBlock(),i.createElementBlock("div",{key:a,class:i.normalizeClass(a.class||"col")},[i.createElementVNode("div",MN,[a.prefix?(i.openBlock(),i.createElementBlock("span",RN,i.toDisplayString(a.prefix),1)):i.createCommentVNode("",!0),a.type=="select"&&(!a.relation||a.relation&&a.relation.items)?(i.openBlock(),i.createBlock(l,{key:1,modelValue:a.value,"onUpdate:modelValue":c=>a.value=c,field:a,item:e.item,settings:e.settings,formId:e.formId,optionValue:"object"},null,8,["modelValue","onUpdate:modelValue","field","item","settings","formId"])):i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:2,type:a.type,placeholder:a.placeholder||a.name,class:"form-control form-control-sm","onUpdate:modelValue":c=>a.value=c},null,8,qN)),[[i.vModelDynamic,a.value]]),a.suffix?(i.openBlock(),i.createElementBlock("span",PN,i.toDisplayString(a.suffix),1)):i.createCommentVNode("",!0)]),i.createCommentVNode("",!0)],2))),128))])]),i.createElementVNode("div",jN,[i.createElementVNode("button",{type:"button",class:"btn btn-sm btn-outline-primary my-1 w-100",onClick:t[0]||(t[0]=a=>e.arrayAddNewItem(e.field,e.item))},t[5]||(t[5]=[i.createElementVNode("i",{class:"bi bi-plus"},null,-1)]))])])])}const HN={props:{modelValue:Object,group:Object,formId:String,settings:Object,auth:Object},data:function(){return{item:{}}},created(){},mounted(){this.item=this.modelValue},watch:{modelValue(e){this.item=this.modelValue}},methods:{getValueOrFunction(e,t){return $n(e,t,this.settings,this)},translate(e,t,n){return fs(e,this.settings.translate,t,n||this.settings.language)},selectOptions(e,t){return typeof e=="function"?e(this.item,t,this):e},renderOptions(e,t,n){let s=[];if(!e||!e.length)return[];for(let r of e)s.push({value:r[t],label:r[n]?r[n]:r[t]});return s},arrayAddNewItem(e,t){(!t[e.name]||typeof t[e.name]!="object")&&(t[e.name]=[]);let n={};for(let s in e.elements){let r=e.elements[s];n[s]=r.value,r.value=void 0}t[e.name].push(n)},arrayRemoveItem(e,t){e.splice(t,1)},arrayItemMoveUp(e,t){wo(e,t)},arrayItemMoveDown(e,t){ko(e,t)},insertAddress(e){this.item[e]||(this.item[e]=[]),this.item[e].push({country:void 0,zipcode:void 0,city:void 0,street_name:void 0,street_type:void 0,house_number:void 0})},dropdownSelectToggleOne(e,t,n){let s=n.value?n.value:n;bo(t,s)},dropdownSelectAll(e,t){yo(e,t)},dropdownSelectInvert(e,t){Eo(e,t)},dropdownSelectClear(e){typeof e!="object"?e.value=null:_o(e)}},components:{HtmlEditor:gw,FileUpload:gN,VuAdminFormSelect:tu,VuAdminFormList:ye(wN,[["render",UN]])}},zN={class:"row m-1"},WN=["innerHTML"],KN={key:1,class:"row"},GN={class:"form-group pb-3"},YN={key:0},XN={key:0,class:"badge text-secondary fw-light"},ZN=["for","innerHTML"],JN={key:1,class:"input-group"},QN=["innerHTML"],tA=["name","id","onUpdate:modelValue","minlength","maxlength","placeholder","disabled","readonly","required"],eA=["name","id","onUpdate:modelValue","min","max","step","placeholder","disabled","readonly","required"],nA=["type","name","id","onUpdate:modelValue","min","max","disabled","readonly","required"],sA={key:4,class:"form-check"},iA=["name","id","true-value","false-value","onUpdate:modelValue","disabled","readonly","required"],rA=["for"],oA=["name","id","onUpdate:modelValue","minlength","maxlength","placeholder","readonly","disabled","required"],aA=["name","id","onUpdate:modelValue","rows","minlength","maxlength","placeholder","disabled","readonly","required"],lA=["innerHTML"],cA={class:"dropdown d-inline-block"},hA={class:"dropdown-menu"},dA=["onClick"],uA={key:0,class:"bi bi-check-square"},fA={key:1,class:"bi bi-square"},pA=["onClick"],mA=["onClick"],gA=["onClick"],bA={key:0},yA=["onClick"],EA={key:6},_A={key:0},wA=["for"],kA=["name","id","onUpdate:modelValue"],NA=["onClick"],AA=["innerHTML"],TA={key:8,class:"p-1"},CA=["innerHTML"];function FA(e,t,n,s,r,o){const l=i.resolveComponent("VuAdminFormSelect"),a=i.resolveComponent("HtmlEditor"),c=i.resolveComponent("FileUpload"),h=i.resolveComponent("VuAdminFormList");return i.openBlock(),i.createElementBlock("div",zN,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.settings.form.groups,f=>(i.openBlock(),i.createElementBlock("div",{key:f,class:i.normalizeClass([f.class?f.class:"col-md-12"])},[f.title?(i.openBlock(),i.createElementBlock("h2",{key:0,class:"form-row-title mb-4 fw-lighter",innerHTML:f.title?f.title:""},null,8,WN)):i.createCommentVNode("",!0),e.item&&f.fields?(i.openBlock(),i.createElementBlock("div",KN,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(f.fields,u=>(i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass([e.getValueOrFunction(u.class?u.class:"col-md-12"),"input_type_"+u.type]),key:u},[i.createElementVNode("div",GN,[u.label?(i.openBlock(),i.createElementBlock("span",YN,[["html","image","upload"].indexOf(u.type)>=0?(i.openBlock(),i.createElementBlock("label",{key:0,class:i.normalizeClass([{required:u.required},"form-label text-secondary mb-1"])},[i.createTextVNode(i.toDisplayString(u.label?u.label:e.translate(u.name))+" ",1),u.maxlength?(i.openBlock(),i.createElementBlock("span",XN,i.toDisplayString(e.item[u.name]?e.item[u.name].length:0)+" / "+i.toDisplayString(u.maxlength),1)):i.createCommentVNode("",!0)],2)):(i.openBlock(),i.createElementBlock("label",{key:1,class:i.normalizeClass([{required:u.required},"form-label text-secondary mb-1"]),for:e.formId+"_"+u.name,innerHTML:e.getValueOrFunction(u.label?u.label:e.translate(u.name),{field:u,item:e.item})},null,10,ZN))])):i.createCommentVNode("",!0),["html","image","list","addresses","template"].indexOf(u.type)<0?(i.openBlock(),i.createElementBlock("div",JN,[u.prefix?(i.openBlock(),i.createElementBlock("span",{key:0,class:"input-group-text",innerHTML:e.getValueOrFunction(u.prefix,{field:u,item:e.item})},null,8,QN)):i.createCommentVNode("",!0),u.type=="text"?i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:1,class:i.normalizeClass(["form-control",e.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:e.item})]),type:"text",name:u.name,id:e.formId+"_"+u.name,"onUpdate:modelValue":m=>e.item[u.name]=m,minlength:u.minlength,maxlength:u.maxlength,placeholder:u.placeholder?u.placeholder:"",disabled:u.disabled,readonly:u.readonly,required:u.required},null,10,tA)),[[i.vModelText,e.item[u.name]]]):i.createCommentVNode("",!0),u.type=="number"?i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:2,class:i.normalizeClass(["form-control",e.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:e.item})]),type:"number",name:u.name,id:e.formId+"_"+u.name,"onUpdate:modelValue":m=>e.item[u.name]=m,min:u.min,max:u.max,step:u.step,placeholder:u.placeholder?u.placeholder:"",disabled:u.disabled,readonly:u.readonly,required:u.required},null,10,eA)),[[i.vModelText,e.item[u.name]]]):i.createCommentVNode("",!0),["date","datetime","datetime-local"].indexOf(u.type)>=0?i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:3,class:i.normalizeClass(["form-control",e.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:e.item})]),type:u.type,name:u.name,id:e.formId+"_"+u.name,"onUpdate:modelValue":m=>e.item[u.name]=m,min:u.min,max:u.max,disabled:u.disabled,readonly:u.readonly,required:u.required},null,10,nA)),[[i.vModelDynamic,e.item[u.name]]]):i.createCommentVNode("",!0),u.type=="checkbox"?(i.openBlock(),i.createElementBlock("div",sA,[i.withDirectives(i.createElementVNode("input",{class:i.normalizeClass(["form-check-input",e.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:e.item})]),type:"checkbox",name:u.name,id:e.formId+"_"+u.name,"true-value":u.true!=null?u.true:!0,"false-value":u.false!=null?u.false:!1,"onUpdate:modelValue":m=>e.item[u.name]=m,disabled:u.disabled,readonly:u.readonly,required:u.required},null,10,iA),[[i.vModelCheckbox,e.item[u.name]]]),i.createElementVNode("label",{class:"form-check-label cursor-pointer",for:e.formId+"_"+u.name},i.toDisplayString(u.checkbox),9,rA)])):i.createCommentVNode("",!0),u.type=="email"?i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:5,autocomplete:"on",class:i.normalizeClass(["form-control",e.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:e.item})]),type:"email",name:u.name,id:e.formId+"_"+u.name,"onUpdate:modelValue":m=>e.item[u.name]=m,minlength:u.minlength,maxlength:u.maxlength,placeholder:u.placeholder?u.placeholder:"",readonly:u.readonly,disabled:u.disabled,required:u.required},null,10,oA)),[[i.vModelText,e.item[u.name]]]):i.createCommentVNode("",!0),u.type=="select"&&(!u.relation||u.relation&&u.relation.items)?(i.openBlock(),i.createBlock(l,{key:6,modelValue:e.item[u.name],"onUpdate:modelValue":m=>e.item[u.name]=m,field:u,item:e.item,settings:e.settings,formId:e.formId,auth:e.auth},null,8,["modelValue","onUpdate:modelValue","field","item","settings","formId","auth"])):i.createCommentVNode("",!0),u.type=="textarea"?i.withDirectives((i.openBlock(),i.createElementBlock("textarea",{key:7,class:i.normalizeClass(["form-control",e.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:e.item})]),name:u.name,id:e.formId+"_"+u.name,"onUpdate:modelValue":m=>e.item[u.name]=m,rows:u.rows,minlength:u.minlength,maxlength:u.maxlength,placeholder:u.placeholder?u.placeholder:"",disabled:u.disabled,readonly:u.readonly,required:u.required},"              ",10,aA)),[[i.vModelText,e.item[u.name]]]):i.createCommentVNode("",!0),u.suffix?(i.openBlock(),i.createElementBlock("span",{key:8,class:"input-group-text",innerHTML:e.getValueOrFunction(u.suffix,{field:u,item:e.item})},null,8,lA)):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),u.type=="html"?(i.openBlock(),i.createBlock(a,{key:2,modelValue:e.item[u.name],"onUpdate:modelValue":m=>e.item[u.name]=m,class:i.normalizeClass([u.class])},null,8,["modelValue","onUpdate:modelValue","class"])):i.createCommentVNode("",!0),u.type=="image"||u.type=="upload"?(i.openBlock(),i.createBlock(c,{key:3,modelValue:e.item[u.name],"onUpdate:modelValue":m=>e.item[u.name]=m,class:i.normalizeClass([u.class]),field:u,settings:e.settings},null,8,["modelValue","onUpdate:modelValue","class","field","settings"])):i.createCommentVNode("",!0),u.type=="list"&&(!u.relation||u.relation&&u.relation.items)?(i.openBlock(),i.createBlock(h,{key:4,modelValue:e.item[u.name],"onUpdate:modelValue":m=>e.item[u.name]=m,field:u,item:e.item,settings:e.settings,formId:e.formId},null,8,["modelValue","onUpdate:modelValue","field","item","settings","formId"])):i.createCommentVNode("",!0),u.type=="dropdown"&&e.item[u.name]?(i.openBlock(),i.createElementBlock("div",{key:5,class:i.normalizeClass([u.class])},[i.createElementVNode("div",cA,[i.createElementVNode("button",{class:i.normalizeClass(["btn dropdown-toggle",[u.dropdown?u.dropdown.class:""]]),type:"button","data-bs-auto-close":"outside","data-bs-toggle":"dropdown","aria-expanded":"false"},[i.createElementVNode("span",null,i.toDisplayString(e.translate(u.dropdown?u.dropdown.label:"Select")),1)],2),i.createElementVNode("ul",hA,[i.createElementVNode("li",null,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(u.options,m=>(i.openBlock(),i.createElementBlock("span",{key:m,class:i.normalizeClass(["dropdown-item cursor-pointer",{selected:e.item[u.name].indexOf(m.value)>=0}]),onClick:b=>e.dropdownSelectToggleOne(u,e.item[u.name],m)},[e.item[u.name].indexOf(m.value)>=0?(i.openBlock(),i.createElementBlock("i",uA)):(i.openBlock(),i.createElementBlock("i",fA)),i.createTextVNode(" "+i.toDisplayString(e.translate(m.label?m.label:m.value)),1)],10,dA))),128))]),t[0]||(t[0]=i.createElementVNode("li",null,[i.createElementVNode("hr",{class:"dropdown-divider"})],-1)),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:m=>e.dropdownSelectAll(e.item[u.name],u.options)},i.toDisplayString(e.translate("Select all")),9,pA)]),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:m=>e.dropdownSelectClear(e.item[u.name])},i.toDisplayString(e.translate("Unselect all")),9,mA)]),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:m=>e.dropdownSelectInvert(e.item[u.name],u.options)},i.toDisplayString(e.translate("Invert all")),9,gA)])])]),e.item[u.name].length?(i.openBlock(),i.createElementBlock("span",bA,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.item[u.name],m=>(i.openBlock(),i.createElementBlock("span",{class:i.normalizeClass(["cursor-pointer",[u.list?u.list.class:""]]),key:m,onClick:b=>e.dropdownSelectToggleOne(u,e.item[u.name],m)},[i.createTextVNode(i.toDisplayString(e.translate(m))+" ",1),t[1]||(t[1]=i.createElementVNode("i",{class:"bi bi-x"},null,-1))],10,yA))),128))])):i.createCommentVNode("",!0)],2)):i.createCommentVNode("",!0),u.type=="addresses"?(i.openBlock(),i.createElementBlock("span",EA,[e.item[u.name]?(i.openBlock(),i.createElementBlock("div",_A,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.item[u.name],m=>(i.openBlock(),i.createElementBlock("div",{key:m},[i.createTextVNode(i.toDisplayString(m)+" ",1),i.createElementVNode("label",{class:"form-label text-secondary mb-1",for:e.formId+"_"+u.name},i.toDisplayString(u.label),9,wA),i.withDirectives(i.createElementVNode("input",{class:"form-control",type:"text",name:u.name,id:e.formId+"_"+u.name,"onUpdate:modelValue":b=>m.country=b},null,8,kA),[[i.vModelText,m.country]])]))),128))])):i.createCommentVNode("",!0),i.createElementVNode("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:m=>e.insertAddress(u.name)}," Add ",8,NA)])):i.createCommentVNode("",!0),u.type=="template"?(i.openBlock(),i.createElementBlock("div",{key:7,innerHTML:e.getValueOrFunction(u.template,{field:u,item:e.item})},null,8,AA)):i.createCommentVNode("",!0),u.description?(i.openBlock(),i.createElementBlock("div",TA,[i.createElementVNode("small",null,[i.createElementVNode("i",{class:"text-muted",innerHTML:e.getValueOrFunction(u.description,{field:u,item:e.item})},null,8,CA)])])):i.createCommentVNode("",!0)])],2))),128))])):i.createCommentVNode("",!0)],2))),128))])}const xA={props:{modelValue:Object,modalWindow:Object,saveItem:Function,reloadTable:Function,fetchRelation:Function,group:Object,formId:String,settings:Object,auth:Object},data:function(){return{item:{},loaded:!1,ui:{wait:{table:!1,form:!1},block:{table:!1,form:!1}},messages:{table:[],form:[]},message:{table:null,form:null},messageTimeOut:null}},created(){},mounted(){this.item=this.modelValue;let e=this.item[this.settings.pkey];this.fetchItem(e,this.settings,this.auth)},watch:{modelValue(e){this.item=this.modelValue}},methods:{translate(e,t,n){return fs(e,this.settings.translate,t,n||this.settings.language)},getValueOrFunction(e,t){return $n(e,t,this.settings,this)},formWait(e){this.ui.wait.form=!0,this.ui.block.form=e},formNoWait(){this.ui.wait.form=!1,this.ui.block.form=!1},addFormMessage(e,t,n,s){this.addMessage("form",e,t,n,s)},addMessage(e,t,n,s,r){clearTimeout(this.messageTimeout);const o=Date.now()+Math.random().toString(36).substring(2,9);this.message[e]={uid:o,msg:t,timeout:n!==void 0?n:2500,datetime:new Date().toLocaleString("hu-HU"),priority:s||"secondary",details:r},this.messages[e].unshift(this.message[e]),clearTimeout(this.messageTimeOut),this.messageTimeOut=setTimeout(()=>{this.message[e]=null,this.messages[e].length>10&&this.messages[e].splice(10)},this.message[e].timeout)},createItem(){this.item=this.settings.form.default?this.settings.form.default:{},setTimeout(()=>{this.itemOriginal=Object.assign({},this.item)},100)},copyItem(){this.item[this.settings.pkey]=void 0,setTimeout(()=>{this.itemOriginal=Object.assign({},this.item)},100)},reloadItem(){let e=this.item[this.settings.pkey];this.fetchItem(e,null,this.auth)},async fetchItem(e,t,n){try{if(t=t||this.settings,!t.form||!t.form.api)return!1;this.formWait(!0);const s=await fetch(Je("GET",t.form.api,e),Ze("GET",t.api,null,n)).catch(a=>{}),r=await ds(s);if(us(s,r.data,"form")||!r.data)return this.formNoWait(),!1;t.form.default&&(r.data=Object.assign({},t.form.default,r.data)),t.events&&t.events.afterItemLoad&&t.events.afterItemLoad(r.data,s);let l;t.form.api.input.item?l=typeof t.form.api.input.item=="string"?r.data[t.form.api.input.item]:t.form.api.input.item(r.data,s):l=r.data;for(let a of t.form.groups)for(let c of a.fields)c.type==="dropdown"&&!l[c.name]&&(l[c.name]=[]),c.relation&&t.relations[c.relation.config]&&(c.relation=Ui(t.relations[c.relation.config],c.relation),console.log(c.relation,n),await this.fetchRelation(c,[l],n));this.item=Hi(l),this.itemOriginal=Object.assign({},l),this.loaded=!0,this.formNoWait()}catch(s){console.error(s),this.formNoWait()}},async submit(){let e=this.$refs.form;e.checkValidity()?this.submitItem():e.reportValidity()},async submitAndClose(){let e=this.$refs.form;e.checkValidity()?this.submitItem(!0):e.reportValidity()},async submitItem(e){this.saveItem(this.item,t=>{let n={};this.settings.form.api.input.item?n=typeof this.settings.form.api.input.item=="string"?t[this.settings.form.api.input.item]:this.settings.form.api.input.item(t,response):n=t,n&&(this.addFormMessage(this.translate("Saved")+` <small>( ${this.settings.pkey}:  ${n[this.settings.pkey]} )</small>`,2500),this.item=Hi(n),this.itemOriginal=Object.assign({},n)),e===!0&&this.modalWindow.hide(),this.reloadTable()},t=>{console.log(t),this.addFormMessage(t.message,14500,"danger")})},async deleteItem(e,t){try{e||(e=this.item);let n=e[this.settings.pkey];if(!n||!confirm("Are you sure you want to delete this item?"))return;this.formWait(!0),this.settings.events&&this.settings.events.beforeItemDelete&&this.settings.events.beforeItemDelete(e);const r=await fetch(Je("DELETE",this.settings.form.api,n,t),Ze("DELETE",this.settings.api,null,this.auth));if(r.status!==200)throw new Error(this.translate("Response status: "+r.status));this.item&&(this.item={},this.modalWindow.hide());const o=await r.json();this.settings.events&&this.settings.events.afterItemDelete&&this.settings.events.afterItemDelete(o,r),this.reloadTable(),this.formNoWait()}catch(n){console.error(n.message),this.formNoWait()}},formAction(e,t){t.$event&&t.$event.stopPropagation();let n=e.action?e.action:e.click?e.click:null;if(n&&typeof n!="string"){n(t.item,t,this);return}switch(n){case"FORM_RELOAD":if(!this.item[this.settings.pkey])return;this.reloadItem();break;case"FORM_NEW":this.createItem();break;case"FORM_COPY":this.copyItem();break;case"FORM_DELETE":if(!this.item[this.settings.pkey])return;this.deleteItem();break;case"FORM_CLOSE":this.modalWindow.hide();break;case"FORM_SAVE":this.submit();break;case"FORM_SAVE_AND_CLOSE":this.submitAndClose();break}}},components:{VuAdminFormGroup:ye(HN,[["render",FA]])}},SA=["id","data-bs-theme"],BA={class:"modal-header"},OA={key:0,class:"modal-title"},LA=["innerHTML"],VA={key:1},IA={key:2},vA={key:3,class:"rounded border ms-2 px-2 py-0 fs-6"},DA={key:1,class:"d-inline-block ms-3 mt-1"},$A=["innerHTML"],MA={class:"spinner-border spinner-border-sm mx-2",role:"status"},RA={key:0,class:"modal-header bg-body sticky-top"},qA={key:0,class:"d-inline-block m-1"},PA={class:"dropdown d-inline-block"},jA=["innerHTML"],UA={class:"dropdown-menu text-start"},HA={class:"me-2 text-muted"},zA=["innerHTML"],WA=["disabled","onClick"],KA={key:1,class:"dropdown d-inline-block"},GA={class:"mx-1"},YA={class:"dropdown-menu px-2"},XA=["onClick"],ZA={key:1,class:"modal-body custom-scroll"},JA={key:2,class:"modal-footer d-flex justify-content-between"},QA={key:3,class:"bg-light text-dark"};function tT(e,t,n,s,r,o){const l=i.resolveComponent("VuAdminFormGroup");return e.item?(i.openBlock(),i.createElementBlock("form",{key:0,ref:"form",id:e.formId,class:i.normalizeClass(["form",[e.settings.form.class,{wait:e.ui.wait.form}]]),onSubmit:t[1]||(t[1]=i.withModifiers((...a)=>e.submitItem&&e.submitItem(...a),["prevent"])),"data-bs-theme":[e.settings.theme]},[i.createElementVNode("div",{class:i.normalizeClass(["vua-overlay",{blocked:e.ui.block.form}])},null,2),i.createElementVNode("div",BA,[e.loaded?(i.openBlock(),i.createElementBlock("h5",OA,[e.settings.form.title&&typeof e.settings.form.title=="function"?(i.openBlock(),i.createElementBlock("span",{key:0,innerHTML:e.settings.form.title(e.item,e.settings)},null,8,LA)):i.createCommentVNode("",!0),e.settings.form.title&&typeof e.settings.form.title=="string"?(i.openBlock(),i.createElementBlock("span",VA,i.toDisplayString(e.translate(e.settings.form.title)),1)):i.createCommentVNode("",!0),e.settings.form.title?i.createCommentVNode("",!0):(i.openBlock(),i.createElementBlock("span",IA,i.toDisplayString(e.translate("Edit")),1)),e.item[e.settings.pkey]?(i.openBlock(),i.createElementBlock("small",vA,[t[2]||(t[2]=i.createElementVNode("span",{class:"text-muted fw-light"},"id",-1)),i.createTextVNode(" "+i.toDisplayString(e.item[e.settings.pkey]),1)])):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),e.message.form?(i.openBlock(),i.createElementBlock("span",DA,[i.createElementVNode("span",{class:i.normalizeClass(["text-"+e.message.form.priority])},[t[3]||(t[3]=i.createElementVNode("i",{class:"bi bi-envelope-fill me-2"},null,-1)),i.createElementVNode("span",{innerHTML:e.message.form.msg},null,8,$A)],2)])):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("span",MA,t[4]||(t[4]=[i.createElementVNode("span",{class:"visually-hidden"},"Loading...",-1)]),512),[[i.vShow,e.ui.wait.form]]),t[5]||(t[5]=i.createElementVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e.item?(i.openBlock(),i.createElementBlock("div",RA,[e.settings.form.control?(i.openBlock(),i.createElementBlock("div",{key:0,class:i.normalizeClass(["w-100",e.settings.form.control.class==null?"d-flex justify-content-center":e.settings.form.control.class])},[e.messages.form.length?(i.openBlock(),i.createElementBlock("span",qA,[i.createElementVNode("div",PA,[i.createElementVNode("button",{class:i.normalizeClass(["btn btn-sm dropdown-toggle",["btn-"+e.messages.form[0].priority]]),type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",innerHTML:e.messages.form.length+" "+(e.messages.form.length>1?e.translate("messages"):e.translate("message"))},null,10,jA),i.createElementVNode("ul",UA,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.messages.form,a=>(i.openBlock(),i.createElementBlock("li",{key:a},[i.createElementVNode("span",{class:i.normalizeClass(["dropdown-item disabled",["text-"+a.priority]])},[i.createElementVNode("small",HA,i.toDisplayString(a.datetime),1),i.createElementVNode("span",{innerHTML:a.msg},null,8,zA)],2)]))),128))])])])):i.createCommentVNode("",!0),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.settings.form.control.buttons,a=>(i.openBlock(),i.createElementBlock("span",{key:a.action},[a.dropdowns?i.createCommentVNode("",!0):(i.openBlock(),i.createElementBlock("button",{key:0,type:"button",disabled:a.disabled!==void 0?e.getValueOrFunction(a.disabled,{button:a,item:e.item,form:this}):!1,class:i.normalizeClass([a.class?a.class:e.getButtonClassByAction(a.action)]),onClick:c=>e.formAction(a,{button:a,item:e.item,form:this,$event:c})},[i.createElementVNode("i",{class:i.normalizeClass([a.icon!==void 0?e.getValueOrFunction(a.icon,{button:a,item:e.item,form:this}):e.getButtonIconClassByAction(a.action)])},null,2),i.createTextVNode(" "+i.toDisplayString(e.translate(a.title)),1)],10,WA)),a.dropdowns?(i.openBlock(),i.createElementBlock("div",KA,[i.createElementVNode("button",{type:"button",class:i.normalizeClass([[a.class],"dropdown-toggle"]),"data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false"},[i.createElementVNode("span",GA,[i.createElementVNode("i",{class:i.normalizeClass([a.icon!==void 0?e.getValueOrFunction(a.icon,{button:a,table:this}):e.getButtonIconClassByAction(a.action)])},null,2),i.createTextVNode(" "+i.toDisplayString(e.translate(a.title)),1)])],2),i.createElementVNode("ul",YA,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(a.dropdowns,c=>(i.openBlock(),i.createElementBlock("li",{key:c},[i.createElementVNode("span",{class:i.normalizeClass([c.class?c.class:""]),onClick:h=>e.formAction(c,{button:a,item:e.item,form:this,$event:h})},[c.icon?(i.openBlock(),i.createElementBlock("i",{key:0,class:i.normalizeClass([c.icon])},null,2)):i.createCommentVNode("",!0),i.createTextVNode(" "+i.toDisplayString(e.translate(c.title)),1)],10,XA)]))),128))])])):i.createCommentVNode("",!0)]))),128))],2)):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),e.settings.form?(i.openBlock(),i.createElementBlock("div",ZA,[e.settings.form.visible&&e.settings.form.groups?(i.openBlock(),i.createBlock(l,{key:0,modelValue:e.item,"onUpdate:modelValue":t[0]||(t[0]=a=>e.item=a),formid:e.formId,settings:e.settings},null,8,["modelValue","formid","settings"])):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),e.item?(i.openBlock(),i.createElementBlock("div",JA)):i.createCommentVNode("",!0),e.settings.debug>1?(i.openBlock(),i.createElementBlock("pre",QA,"        "+i.toDisplayString(e.item)+`
    `,1)):i.createCommentVNode("",!0)],42,SA)):i.createCommentVNode("",!0)}const eu=ye(xA,[["render",tT]]),eT={name:"VuAdminTablePagination",emits:["setPage","setPageLimit","translate"],props:{config:Object,settings:Object,ui:Object},methods:{setPage(e){this.$emit("setPage",e)},setPageLimit(e){this.$emit("setPageLimit",e)},translate(e,t,n){return fs(e,this.settings.translate,t,n||this.settings.language)},firstDisabled(){return this.config.pagination.page<=1},prevDisabled(){return this.config.pagination.page<=1},nextDisabled(){return this.config.pagination.pages?this.config.pagination.page+1>this.config.pagination.pages:this.config.pagination.items<this.config.pagination.limit},lastDisabled(){return this.config.pagination.page==this.config.pagination.pages}},components:{}},nT={key:0,"aria-label":"Page navigation",class:"mt-2 d-flex align-items-center justify-content-between"},sT={class:"dropdown d-inline-block m-1"},iT={class:"mx-1"},rT={key:0},oT={key:0,class:"dropdown-menu text-end"},aT=["onClick"],lT={class:"ms-2"},cT={key:0,class:"bi bi-check-circle-fill ms-2"},hT={key:1,class:"bi bi-circle ms-2"},dT={class:"spinner-border spinner-border-sm mx-2",role:"status"},uT={class:"pagination pagination-sm m-1"},fT={class:"page-item"},pT=["innerHTML"],mT={class:"page-item"},gT=["innerHTML"],bT=["onClick"],yT={class:"page-item"},ET=["innerHTML"],_T={key:0,class:"page-item"},wT=["innerHTML"];function kT(e,t,n,s,r,o){return n.config.pagination.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createElementBlock("nav",nT,[i.createElementVNode("div",null,[i.createElementVNode("div",sT,[i.createElementVNode("button",{type:"button",class:i.normalizeClass(["btn btn-sm btn-secondary",{"dropdown-toggle":n.config.pagination.limits}]),"data-bs-toggle":"dropdown","aria-expanded":"false"},[i.withDirectives(i.createElementVNode("span",iT,[i.createElementVNode("strong",null,i.toDisplayString(n.config.pagination.from)+"-"+i.toDisplayString(n.config.pagination.to),1),n.config.pagination.total?(i.openBlock(),i.createElementBlock("span",rT," / "+i.toDisplayString(n.config.pagination.total),1)):i.createCommentVNode("",!0)],512),[[i.vShow,n.config.pagination.from>0]])],2),n.config.pagination.limits?(i.openBlock(),i.createElementBlock("ul",oT,[i.createElementVNode("li",null,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.config.pagination.limits,l=>(i.openBlock(),i.createElementBlock("span",{class:i.normalizeClass(["dropdown-item cursor-pointer",{selected:n.config.pagination.limit==l}]),key:l,onClick:a=>o.setPageLimit(l)},[i.createElementVNode("strong",null,i.toDisplayString(l),1),i.createElementVNode("small",lT,i.toDisplayString(o.translate("row"))+"/"+i.toDisplayString(o.translate("page")),1),n.config.pagination.limit==l?(i.openBlock(),i.createElementBlock("i",cT)):i.createCommentVNode("",!0),n.config.pagination.limit!=l?(i.openBlock(),i.createElementBlock("i",hT)):i.createCommentVNode("",!0)],10,aT))),128))])])):i.createCommentVNode("",!0)]),i.withDirectives(i.createElementVNode("div",dT,t[4]||(t[4]=[i.createElementVNode("span",{class:"visually-hidden"},"Loading...",-1)]),512),[[i.vShow,n.ui&&n.ui.wait.table]])]),i.createElementVNode("ul",uT,[i.createElementVNode("li",fT,[i.createElementVNode("a",{class:i.normalizeClass(["page-link cursor-pointer",{disabled:o.firstDisabled()}]),onClick:t[0]||(t[0]=l=>o.setPage(1)),"aria-label":"{{  translate('First')  }}"},[i.createElementVNode("span",{"aria-hidden":"true",innerHTML:o.translate("First")},null,8,pT)],2)]),i.createElementVNode("li",mT,[i.createElementVNode("a",{class:i.normalizeClass(["page-link cursor-pointer",{disabled:o.prevDisabled()}]),onClick:t[1]||(t[1]=l=>o.setPage(n.config.pagination.page-1)),"aria-label":"{{ translate('Prev')  }}"},[i.createElementVNode("span",{"aria-hidden":"true",innerHTML:o.translate("Prev")},null,8,gT)],2)]),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.config.pagination.numbers,l=>(i.openBlock(),i.createElementBlock("li",{key:l,class:"page-item"},[i.createElementVNode("a",{class:i.normalizeClass(["page-link cursor-pointer",{disabled:l>n.config.pagination.pages,current:l==n.config.pagination.page}]),onClick:a=>o.setPage(l)},i.toDisplayString(l),11,bT)]))),128)),i.createElementVNode("li",yT,[i.createElementVNode("a",{class:i.normalizeClass(["page-link cursor-pointer",{disabled:o.nextDisabled()}]),onClick:t[2]||(t[2]=l=>o.setPage(n.config.pagination.page+1)),"aria-label":"{{  translate('Next')  }}"},[i.createElementVNode("span",{"aria-hidden":"true",innerHTML:o.translate("Next")},null,8,ET)],2)]),n.config.pagination.total?(i.openBlock(),i.createElementBlock("li",_T,[i.createElementVNode("a",{class:i.normalizeClass(["page-link cursor-pointer",{disabled:o.lastDisabled()}]),onClick:t[3]||(t[3]=l=>o.setPage(n.config.pagination.total)),"aria-label":"{{  translate('Last')  }}"},[i.createElementVNode("span",{"aria-hidden":"true",innerHTML:o.translate("Last")},null,8,wT)],2)])):i.createCommentVNode("",!0)])]))}const NT=ye(eT,[["render",kT]]),nu=go(),AT={name:"VuAdminTable",props:{settings:Object,auth:Object},components:{VuAdminForm:eu,VuAdminTablePagination:NT},data(){return{item:{},items:{},selected:[],details:[],bulkitem:{},bulkinputs:[],config:{pagination:{total:void 0,page:1,skip:0,limit:10,limits:[10,20,50,100],size:5,items:null,pages:null,numbers:[]},order:{},filter:{},orderIndex:1},ui:{wait:{table:!1,form:!1},block:{table:!1,form:!1}},formId:null,formData:null,modalId:null,modalElement:null,modalWindow:null,messages:{table:[],form:[]},message:{table:null,form:null},messageTimeOut:null}},watch:{auth:{immediate:!0,handler(e,t){e!=t&&this.init()}}},created(){let e=Math.round(Math.random()*1e5);this.formId="form_"+this.settings.entity+"_"+e,this.modalId="modal_"+this.settings.entity+"_"+e},mounted(){this.modalElement=document.getElementById(this.modalId),this.modalWindow=new In(this.modalElement),this.modalElement.addEventListener("hidden.bs.modal",e=>{this.settings.form.visible=!1}),this.modalElement.addEventListener("show.bs.modal",e=>{this.settings.form.visible=!0})},methods:{init(){if(!this.settings.table)return!1;this.settings.table.pagination&&(this.config.pagination=Object.assign({},this.config.pagination,this.settings.table.pagination)),this.setPage(this.config.pagination.page,!1),this.settings.table.order&&(this.config.order=Object.assign({},this.config.order,this.settings.table.order)),this.settings.table.header||(this.settings.table.header={}),this.settings.api||(this.settings.api={}),this.settings.api=Object.assign({url:null,input:{},output:{},options:{}},this.settings.api),this.settings.table.api||(this.settings.table.api={}),this.settings.form||(this.settings.form={}),this.settings.form.api||(this.settings.form.api={}),this.settings.table.api=Object.assign({},this.settings.api,this.settings.table.api),this.settings.form.api=Object.assign({},this.settings.api,this.settings.form.api),this.settings.initialized=!0,this.listenEvent(),this.resetTable()},authAndSettings(){return this.settings.initialized&&this.auth&&this.auth.success&&this.settings&&this.settings.table},sendEvent(e,t,n){nu.emit(e+"-"+t,{from:this.settings.entity,payload:n})},listenEvent(){nu.on(`EDIT-${this.settings.entity}`,e=>{this.editItem(e.payload.item)})},tableWait(e){this.ui.wait.table=!0,this.ui.block.table=e},tableNoWait(){this.ui.wait.table=!1,this.ui.block.table=!1},countFilters(){return this.settings.table.columns.filter(e=>e.filter&&!e.hidden).length},resetTable(){this.settings.table.pagination&&(this.config.pagination.limit=this.settings.table.pagination.limit),this.resetFilter(),this.resetOrder(!0)},resetFilter(e){if(this.settings.table.columns){for(let t of this.settings.table.columns)t.filter&&(t.filter.value=t.filter.default_value!==void 0?t.filter.default_value:t.filter.multiple?[]:void 0,t.filter.operator=t.filter.default_operator!==void 0?t.filter.default_operator:void 0);e&&(this.reloadTable(),this.calcPage())}},resetOrder(e){this.settings.table.order?this.config.order=Object.assign({},this.settings.table.order):this.config.order={},e&&(this.reloadTable(),this.calcPage())},reloadTable(e){this.fetchTable(e)},calcPage(){if(!(this.config.pagination.items===null||this.config.pagination.items===void 0)){if(this.config.pagination.total!==null&&this.config.pagination.total!==void 0&&(this.config.pagination.pages=Math.ceil(this.config.pagination.total/this.config.pagination.limit)),this.config.pagination.pages!==null){let e=Math.floor((this.config.pagination.size-1)/2),t=this.config.pagination.page-e;this.config.pagination.page>this.config.pagination.pages&&(this.config.pagination.page=this.config.pagination.pages),this.config.pagination.page<1&&(this.config.pagination.page=1),t+this.config.pagination.size>this.config.pagination.pages&&(t=this.config.pagination.pages-this.config.pagination.size+1),t<1&&(t=1),this.config.pagination.numbers=Array.from({length:this.config.pagination.size},(n,s)=>t+s)}this.config.pagination.from=this.config.pagination.skip+1,this.config.pagination.to=this.config.pagination.skip+(this.config.pagination.items!==null?this.config.pagination.items:this.config.pagination.limit)}},setPage(e,t){t=t!==void 0?t:!0,e<1&&(e=1),this.config.pagination.pages!==null&&this.config.pagination.pages!==void 0&&e>this.config.pagination.pages&&(e=this.config.pagination.pages),this.config.pagination.skip=(e-1)*this.config.pagination.limit,this.config.pagination.page!=e&&t&&(this.config.pagination.page=e,this.reloadTable())},setPageLimit(e){e!=this.config.pagination.limit&&(this.config.pagination.limit=e,this.setPage(1),this.calcPage(),this.reloadTable())},getValueOrFunction(e,t){return $n(e,t,this.settings,this)},getButtonClassByAction(e){switch(e){case"TABLE_RESET_ORDERS":case"TABLE_RESET_FILTERS":return"btn btn-sm btn-outline-secondary text-nowrap mx-1";case"TABLE_CLOSE_DETAILS":return"btn btn-sm btn-outline-secondary text-nowrap mx-1";case"TABLE_ROW_EDIT":return"btn btn-sm btn-secondary text-nowrap mx-1";case"FORM_SUBMIT":case"TABLE_ROW_SAVE":case"TABLE_BULK_SAVE":return"btn btn-sm btn-primary text-nowrap mx-1";case"FORM_DELETE":case"TABLE_ROW_DELETE":case"TABLE_BULK_DELETE":return"btn btn-sm btn-danger text-nowrap mx-1";case"TABLE_ROW_DETAIL":return"btn btn-sm btn-outline-secondary text-nowrap mx-1";case"TABLE_COLUMNS":return"btn btn-sm btn-outline-dark text-nowrap mx-1";case"TABLE_EXPORT":return"btn btn-sm btn-primary text-nowrap mx-1";default:return"btn btn-sm btn-outline-primary text-nowrap mx-1"}},getButtonIconClassByAction(e){switch(e){case"TABLE_RESET_ORDERS":case"TABLE_RESET_FILTERS":return"bi bi-x";case"TABLE_CLOSE_DETAILS":return"bi bi-chevron-compact-up";case"TABLE_ROW_EDIT":return"bi bi-pencil-square";case"FORM_SUBMIT":case"TABLE_ROW_SAVE":case"TABLE_BULK_SAVE":return"bi bi-save";case"FORM_DELETE":case"TABLE_ROW_DELETE":case"TABLE_BULK_DELETE":return"bi bi-trash";case"TABLE_ROW_DETAIL":return"bi bi-chevron-compact-down";case"TABLE_COLUMNS":return"bi bi-table";case"TABLE_EXPORT":return"bi bi-download";default:return"bi bi-question"}},tableCellValue(e,t,n,s){try{return e===void 0||t===void 0?void 0:s.value?s.value(e,t,n,s):t[e]!==void 0||!e.includes(".")?t[e]:e.split(".").reduce((r,o)=>r&&r[o],t)}catch(r){return r.message}},tableCellTemplate(e,t,n,s){try{return typeof e=="string"?e:e(t[s.name],t,n,s)}catch(r){return r.message}},tableAction(e,t){t.$event&&t.$event.stopPropagation();let n=e.action?e.action:e.click?e.click:null;if(n&&typeof n!="string"){n(t.item,t,this);return}switch(n){case"TABLE_ROW_SELECT":this.toggleSelected(t.item[this.settings.pkey]);break;case"TABLE_ROW_DETAIL":this.toggleDetail(t.item[this.settings.pkey]);break;case"TABLE_CLOSE_DETAILS":this.details=[];break;case"TABLE_RESET_ORDERS":this.resetOrder(!0);break;case"TABLE_RESET_FILTERS":this.resetFilter(!0);break;case"TABLE_ROW_EDIT":this.editItem(t.item);break;case"TABLE_ROW_SAVE":this.tableRowSave(t.item,e.params);break;case"FORM_SUBMIT":this.saveForm(t.item);break;case"___save":this.saveItem(item,()=>{this.addTableMessage(this.translate("Saved")+` <small>( ${this.settings.pkey}:  ${t.item[this.settings.pkey]} )</small>`,2500)},s=>{this.addTableMessage(s.message,3500,"danger")},e.params);break;case"FORM_CREATE":this.createItem(t.item,e.params);break;case"TABLE_ROW_DELETE":this.deleteItem(t.item,e.params);break;case"FORM_DELETE":this.deleteItem(t.item,e.params);break;case"TABLE_RELOAD":this.reloadTable(e.params);break;case"TABLE_EXPORT":this.exportTable(e.params);break}},tableBulkAction(e,t,n,s){if(s&&s.stopPropagation(),e&&typeof e!="string"){e(item,this);return}switch(e){case"TABLE_BULK_SAVE":this.saveBulk(()=>{this.addTableMessage(this.translate("Saved all selected items"),2500)});break;case"TABLE_BULK_DELETE":this.deleteItems(this.selected,r=>{this.selected=[]});break}},isSortable(e){return e.sortable===void 0||e.sortable},sortTable(e){if(this.config.order[e.name]&&this.config.order[e.name].fixed||!this.isSortable(e))return;this.config.order[e.name]===void 0||this.config.order[e.name]===null?this.config.order[e.name]={dir:"ASC",idx:this.config.orderIndex++}:this.config.order[e.name].dir==="ASC"?this.config.order[e.name]={dir:"DESC",idx:this.config.orderIndex++}:delete this.config.order[e.name],Object.entries(this.config.order).sort((n,s)=>n[1].idx-s[1].idx).forEach((n,s)=>{n[1].idx=s}),this.reloadTable()},getOrdersForFetch(){let e=[],t=!1;for(let n of Object.keys(this.config.order))t=!0,e[this.config.order[n].idx]={key:n,dir:this.config.order[n].dir};return t?e:null},getFiltersForFetch(){let e={},t=!1;for(let n of this.settings.table.columns)n.filter&&n.filter.value!==void 0&&(t=!0,e[n.name]={type:n.filter.type,value:n.filter.onchange?n.filter.onchange(n.filter):n.filter.value,operator:n.filter.operator});return t?e:null},async fetchTableRelations(e){for(let t of this.settings.table.columns)if(t.relation&&this.settings.relations[t.relation.config]){let n=[];t.relation=Ui(this.settings.relations[t.relation.config],t.relation);for(let s of e)s[t.relation.local]&&n.push(s[t.relation.local]);t.relation.ids=Jg(n),await this.fetchRelation(t,e,this.auth)}},async fetchTable(e){try{this.tableWait(!0),e=e||{},e.filter=this.getFiltersForFetch(),e.order=this.getOrdersForFetch(),this.config.pagination.page!==null&&this.config.pagination.page!==void 0&&(e.page=this.config.pagination.page),this.config.pagination.limit!==null&&this.config.pagination.limit!==void 0&&(e.limit=this.config.pagination.limit),e.page&&e.limit&&(e.skip=(e.page-1)*e.limit);let t=await this.fetchItems(this.settings,e,this.config,this.auth);if(t===!1)return this.tableNoWait(),!1;await this.fetchTableRelations(t),this.items=t,this.tableNoWait()}catch(t){console.error(t),this.addTableMessage(t.message,3500,"danger"),this.tableNoWait()}},async fetchItems(e,t,n,s){e.events&&e.events.beforeItemsLoad&&e.events.beforeItemsLoad(t,e);const r=await fetch(Je("GET",e.table.api,null,t),Ze("GET",e.table.api,null,s)),o=await ds(r),l=us(r,o.data);if(l){this.handleTableErrors(l);return}if(o.error){this.handleTableErrors(o.error);return}e.events&&e.events.afterItemsLoad&&e.events.afterItemsLoad(o.data,r);let a;e.table.api.input.items?a=typeof e.table.api.input.items=="string"?o.data[e.table.api.input.items]:e.table.api.input.items(o.data,r):a=o.data,n&&(e.table.api.input.total?n.pagination.total=typeof e.table.api.input.total=="string"?o.data[e.table.api.input.total]:e.table.api.input.total(o.data,r):o.data.total&&(n.pagination.total=o.data.total),n.pagination.items=a.length,this.calcPage());let c=Gg(a);return this.convertIn(e.table.columns,c),c},async fetchRelation(e,t,n){try{let s=e.relation.params?e.relation.params:{};e.relation.columns&&(s.columns=JSON.stringify(e.relation.columns));let r={};if(e.relation.ids&&e.relation.ids.length){let h=(typeof e.relation.ids[0]=="string"?"text":"number")==="string"?"'"+e.relation.ids.join("','")+"'":e.relation.ids.join(",");r[e.relation.foreign]={type:"array",value:h,operator:"IN"}}s.filter=JSON.stringify(r),Qg(s,{column:e});const o=await fetch(Je("GET",e.relation.api,null,s),Ze("GET",e.relation.api,null,n));if(o.status!==200)throw new Error(this.translate("Response status: "+o.status));const l=await ds(o);if(us(o,l.data)||!l.data)return;if(e.relation.api.input.items?e.relation.items=typeof e.relation.api.input.items=="string"?l.data[e.relation.api.input.items]:e.relation.api.input.items(l.data,o):e.relation.items=l.data,t&&t[0])for(let c of t)c[e.relation.local]&&(c[e.relation.entity]=e.relation.items.find((h,f,u)=>h[e.relation.foreign]===c[e.relation.local]))}catch(s){console.error(s)}},async editItem(e){if(!this.settings.form||!this.settings.form.api)return!1;this.item=e,this.message.form=null,this.messages.form=[],this.modalWindow.show()},async deleteItem(e,t){try{e||(e=this.item);let n=e[this.settings.pkey];if(!n||!confirm("Are you sure you want to delete this item"))return;this.tableWait(!0),this.settings.events&&this.settings.events.beforeItemDelete&&this.settings.events.beforeItemDelete(e);const r=await fetch(Je("DELETE",this.settings.form.api,n,t),Ze("DELETE",this.settings.api,null,this.auth));if(r.status!==200)throw new Error(this.translate("Response status: "+r.status));let o=this.items.find(a=>a[this.settings.pkey]===n);o>=0&&this.items.splice(o,1),this.item&&(this.item={});const l=await r.json();this.settings.events&&this.settings.events.afterItemDelete&&this.settings.events.afterItemDelete(l,r),this.reloadTable()}catch(n){console.error(n),this.tableNoWait()}},async deleteItems(e,t){try{if(!e||!confirm(this.translate("Are you sure you want to delete all selected items?")))return;this.tableWait(!0);const s=await fetch(Je("DELETE",this.settings.table.api),Ze("DELETE",this.settings.api,{body:JSON.stringify({ids:e})},this.auth));if(s.status!==200)throw new Error(this.translate("Response status: "+s.status));t&&t(s),this.reloadTable(),this.tableNoWait()}catch(n){console.error(n),this.tableNoWait()}},tableRowSave(e,t){this.tableWait(),this.saveItem(e,()=>{this.tableNoWait(),this.addTableMessage(this.translate("Saved")+` <small>( ${this.settings.pkey}:  ${e[this.settings.pkey]} )</small>`,2500)},(n,s,r,o)=>{this.tableNoWait(),this.handleTableErrors(n)},t)},handleTableErrors(e){if(console.log(e),e==null)return;const t=3500,n="danger";if(typeof e=="string"){this.addTableMessage(e,t,n);return}if(e.length>0)for(let s of e)this.addTableMessage(s.message,s.timeout,s.priority)},handleFormErrors(){if(errors==null)return;const e=3500,t="danger";if(typeof errors=="string"){this.addTableMessage(errors,e,t);return}if(errors.length>0)for(let n of errors)this.addTableMessage(n.message,n.timeout,n.priority)},getColumnByName(e){return this.settings.table.columns.find(t=>t.name===e)},createItem(){this.item=this.settings.form.default?this.settings.form.default:{},this.modalWindow.show(),setTimeout(()=>{this.itemOriginal=Object.assign({},this.item)},100)},async saveItem(e,t,n,s){try{s=s||{};let r={},o=e[this.settings.pkey];if(this.settings.form.api.output&&this.settings.form.api.output.fields)for(let u in e)this.settings.form.api.output.fields.includes(u)&&(r[u]=e[u]);else Object.assign(r,e);let l,a;if(this.convertOut(this.settings.table.columns,[r]),(!this.settings.form.api.output.flatten||!o)&&(r=Yg(r)),this.settings.events&&this.settings.events.beforeItemSave&&this.settings.events.beforeItemSave(r,s,e),!this.settings.form.api.output.item)l=JSON.stringify(r);else if(typeof this.settings.form.api.output.item=="string"){let u={};u[this.settings.form.api.output.item]=r,l=JSON.stringify(u)}else l=JSON.stringify(this.settings.form.api.output.item(r,options));const c=o?"PUT":"POST";a=await fetch(Je(c,this.settings.form.api,o,s),Ze(c,this.settings.form.api,{body:l},this.auth));const h=await ds(a),f=us(a,h.data);if(f){n&&n(f,e,s,a);return}if(h.error){n&&n(h.error,e,s,a);return}this.settings.events&&this.settings.events.afterItemSave&&this.settings.events.afterItemSave(h.data,s),t&&t(h.data,a)}catch(r){n&&n(r,e,s)}},async saveBulk(e){try{this.tableWait(!0);let t={};this.settings.events&&this.settings.events.beforeBulkSave&&this.settings.events.beforeBulkSave(this.bulkitem);for(let o in this.bulkitem)this.bulkinputs.indexOf(o)>=0&&this.settings.table.api.output.fields.includes(o)&&(t[o]=this.bulkitem[o]);this.convertOut(this.settings.table.columns,[t]);const n=await fetch(Je("PUT",this.settings.table.api),Ze("PUT",this.settings.table.api,{body:JSON.stringify({item:t,ids:this.selected})},this.auth)).catch(o=>{console.error(o),this.addTableMessage(o.message,3500,"danger",o)}),s=await ds(n),r=us(n,s.data);if(this.tableNoWait(),r)return;e&&e(s.data),this.reloadTable()}catch(t){console.error(t),this.addTableMessage(t.message,3500,"danger",t),this.tableNoWait()}},countHiddenColumns(){return this.settings.table.columns.filter(e=>e.hidden===!0).length},toggleColumn(e){e===!0?this.settings.table.columns.map(t=>{t.hidden=!1}):e===!1?this.settings.table.columns.map(t=>{t.hidden=!0}):e.hidden=!e.hidden},toggleSelectedAll(){this.selected.length?this.selected=[]:this.selected=this.items.map(e=>e[this.settings.pkey])},toggleSelected(e){let t=this.selected.indexOf(e);t>=0?this.selected.splice(t,1):this.selected.push(e)},toggleSelectedRowInPage(){if(this.haveSelectedRowInPage())for(let e of this.items){let t=this.selected.indexOf(e[this.settings.pkey]);t>=0&&this.selected.splice(t,1)}else for(let e of this.items)this.selected.indexOf(e[this.settings.pkey])<0&&this.selected.push(e[this.settings.pkey]);this.selected.length||(this.bulkitem={})},haveSelectedRowInPage(){if(!this.items||!this.items.length)return!1;for(let e of this.items)if(this.selected.indexOf(e[this.settings.pkey])>=0)return!0;return!1},toggleDetail(e){let t=this.details.indexOf(e);t>=0?this.details.splice(t,1):this.details.push(e)},dropdownSelectToggleOne(e,t){let n=t.value;e.multiple?bo(e.value,n):e.value=e.value===n?null:n,this.reloadTable()},dropdownSelectAll(e,t){yo(e,t),this.reloadTable()},dropdownSelectInvert(e,t){Eo(e,t),this.reloadTable()},dropdownSelectClear(e){typeof e!="object"?e.value=null:_o(e),this.reloadTable()},async exportTable(e){try{fetchItems,e.limit=this.config.pagination.total?this.config.pagination.total:0;let t=this.getFiltersForFetch(),n=this.getOrdersForFetch();this.selected.length>0&&(t[this.settings.pkey]={type:"string",value:this.selected,operator:"in"}),e.filter=t,e.order=n,this.settings.events&&this.settings.events.beforeItemsExport&&this.settings.events.beforeItemsExport(items);let s=Xg(items,this.settings.table.exports[e.type].fields);Zg(s,this.settings.entity+".csv")}catch(t){console.error(t),this.addTableMessage(t.message,3500,"danger")}},onRowInputChange(e,t,n,s){!t||!t.input||(t.input.onchange&&t.input.onchange(e,t,n),t.input.autosave&&(this.tableWait(),this.saveItem(n,()=>{this.tableNoWait(),this.addTableMessage(this.translate("Saved")+` <small>( ${this.settings.pkey}:  ${n[this.settings.pkey]} )</small>`,2500)},(r,o,l,a)=>{this.tableNoWait(),this.handleTableErrors(r)})))},onBulkInputChange(e,t,n){!n||!n.input||n.input.onchange&&n.input.onchange(e,n)},ifBulkInputClick(e){let t=this.bulkinputs.indexOf(e.name);t<0?this.bulkinputs.push(e.name):this.bulkinputs.splice(t,1),this.bulkitem[e.name]===void 0?this.bulkitem[e.name]=null:this.bulkitem[e.name]=void 0},addTableMessage(e,t,n,s){this.addMessage("table",e,t,n,s)},addMessage(e,t,n,s,r){clearTimeout(this.messageTimeout);const o=Date.now()+Math.random().toString(36).substring(2,9);this.message[e]={uid:o,msg:t,timeout:n!==void 0?n:2500,datetime:new Date().toLocaleString("hu-HU"),priority:s||"secondary",details:r},this.messages[e].unshift(this.message[e]),clearTimeout(this.messageTimeOut),this.messageTimeOut=setTimeout(()=>{this.message[e]=null,this.messages[e].length>10&&this.messages[e].splice(10)},this.message[e].timeout)},translate(e,t,n){return fs(e,this.settings.translate,t,n||this.settings.language)},convertIn(e,t){for(let n of e)if(n.convert&&n.convert.in)for(let s of t)s[n.name]=n.convert.in(s[n.name],s,n)},convertOut(e,t){for(let n of e)if(n.convert&&n.convert.out)for(let s of t)s[n.name]=n.convert.out(s[n.name],s,n)}}},TT=["data-bs-theme"],CT={class:"vua-table-title"},FT={class:"d-flex align-items-center justify-content-between"},xT={class:"d-inline-block"},ST={key:0,class:"card-title d-inline-block mb-2"},BT={class:"spinner-border spinner-border-sm mx-2",role:"status"},OT={key:0,class:"d-inline-block"},LT={key:0,class:"d-inline-block px-1 mx-1"},VT=["innerHTML"],IT={class:"dropdown d-inline-block"},vT=["innerHTML"],DT={class:"dropdown-menu text-start"},$T={class:"me-2 text-muted"},MT=["innerHTML"],RT=["onClick"],qT={key:1,class:"dropdown d-inline-block"},PT={class:"mx-1"},jT={key:0},UT={class:"dropdown-menu"},HT=["onClick"],zT={key:0,class:"bi bi-check-square-fill me-2"},WT={key:1,class:"bi bi-x-square me-2 text-danger"},KT={class:"badge text-secondary fw-normal"},GT={key:2,class:"dropdown d-inline-block"},YT={class:"mx-1"},XT={class:"dropdown-menu"},ZT=["onClick"],JT={class:"vua-table-header"},QT=["width"],tC=["onClick"],eC=["innerHTML"],nC={key:0,class:"bi bi-arrow-down"},sC={key:1,class:"bi bi-arrow-up"},iC={key:0},rC=["disabled","onClick"],oC={key:0,class:"vua-table-filter"},aC=["width"],lC={key:0,class:"d-inline-block w-100 px-1"},cC={class:"bi bi-check-all"},hC={class:"bi bi-x-lg"},dC={key:1,class:"input-group input-group-sm my-1"},uC=["onUpdate:modelValue"],fC=["disabled","onClick"],pC={key:2,class:"input-group input-group-sm my-1"},mC=["onUpdate:modelValue","disabled"],gC={value:"="},bC={value:">"},yC={value:">="},EC={value:"<"},_C={value:"<="},wC=["onUpdate:modelValue","disabled"],kC=["value"],NC=["onUpdate:modelValue","disabled","min","max"],AC=["disabled","onClick"],TC={key:3},CC={key:0,class:"dropdown"},FC={class:"btn btn-sm btn-secondary dropdown-toggle my-1",type:"button","data-bs-auto-close":"outside","data-bs-toggle":"dropdown","aria-expanded":"false"},xC={class:"dropdown-menu"},SC=["onClick"],BC={key:0,class:"bi bi-check-square"},OC={key:1,class:"bi bi-square"},LC={key:0},VC={key:1},IC=["onClick"],vC={key:2},DC=["onClick"],$C={key:3},MC=["onClick"],RC={key:1,class:"input-group input-group-sm my-1"},qC=["onUpdate:modelValue","multiple"],PC=["value"],jC=["disabled","onClick"],UC={key:4,class:"input-group input-group-sm my-1"},HC=["onUpdate:modelValue"],zC={value:"="},WC={value:">"},KC={value:">="},GC={value:"<"},YC={value:"<="},XC=["onUpdate:modelValue"],ZC=["value"],JC=["type","onUpdate:modelValue"],QC=["disabled","onClick"],t2=["disabled","onClick"],e2={class:"align-middle"},n2=["data-label","width","onClick"],s2={key:0,class:"d-inline-block w-100 px-1"},i2=["innerHTML"],r2={key:1},o2=["innerHTML"],a2=["aria-valuenow","aria-valuemax"],l2={key:0},c2={key:4,class:"input-group input-group-sm"},h2=["innerHTML"],d2={key:1,class:"input-group-text"},u2=["name","onUpdate:modelValue","onChange"],f2=["type","onChange","onUpdate:modelValue"],p2=["onChange","onUpdate:modelValue"],m2=["value"],g2=["innerHTML"],b2={key:5,class:"input-group-text"},y2=["name","onUpdate:modelValue","onChange"],E2={key:5},_2=["disabled","onClick"],w2=["innerHTML"],k2={key:2},N2={key:0},A2=["colspan"],T2={class:"row g-3 align-items-center"},C2={class:"col-form-label"},F2=["type","onUpdate:modelValue","onChange"],x2=["onUpdate:modelValue","onChange"],S2=["onUpdate:modelValue","onChange"],B2=["value"],O2=["innerHTML"],L2={key:0,class:"bg-light text-dark"},V2={key:0,class:"vua-table-bulk border-info"},I2=["data-label","width"],v2={key:0,class:"d-inline-block w-100 px-1"},D2={key:1,class:"input-group input-group-sm my-1"},$2=["type","disabled","onChange","onUpdate:modelValue"],M2=["disabled","onChange","onUpdate:modelValue"],R2=["value"],q2=["onClick"],P2={key:0,class:"bi bi-square text-secondary"},j2={key:1,class:"bi bi-check-square"},U2={key:2},H2=["disabled","onClick"],z2=["innerHTML"],W2={key:2},K2=["id"],G2={class:"modal-dialog modal-xl"},Y2={class:"modal-content h-100"};function X2(e,t,n,s,r,o){const l=i.resolveComponent("VuAdminTablePagination"),a=i.resolveComponent("VuAdminForm");return i.openBlock(),i.createElementBlock("div",null,[o.authAndSettings()?(i.openBlock(),i.createElementBlock("div",{key:0,class:i.normalizeClass(["vua-table-container",[n.settings.class]]),"data-bs-theme":[n.settings.theme]},[i.createElementVNode("div",{class:i.normalizeClass(["vua-overlay",{blocked:r.ui.block.table}])},null,2),i.createElementVNode("div",CT,[i.createElementVNode("div",FT,[i.createElementVNode("div",xT,[n.settings.table.title?(i.openBlock(),i.createElementBlock("h5",ST,i.toDisplayString(n.settings.table.title),1)):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("div",BT,t[15]||(t[15]=[i.createElementVNode("span",{class:"visually-hidden"},"Loading...",-1)]),512),[[i.vShow,r.ui.wait.table&&n.settings.table.title]])]),r.messages.table.length?(i.openBlock(),i.createElementBlock("div",OT,[r.message.table?(i.openBlock(),i.createElementBlock("small",LT,[i.createElementVNode("span",{class:i.normalizeClass(["text-"+r.message.table.priority])},[i.createElementVNode("span",{class:"fw-bold",innerHTML:r.message.table.msg},null,8,VT)],2)])):i.createCommentVNode("",!0),i.createElementVNode("div",IT,[i.createElementVNode("button",{class:i.normalizeClass(["btn btn-sm dropdown-toggle",["btn-"+r.messages.table[0].priority]]),type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",innerHTML:r.messages.table.length+" "+(r.messages.table.length>1?o.translate("messages"):o.translate("message"))},null,10,vT),i.createElementVNode("ul",DT,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(r.messages.table,c=>(i.openBlock(),i.createElementBlock("li",{key:c},[i.createElementVNode("span",{class:i.normalizeClass(["dropdown-item",["text-"+c.priority]])},[i.createElementVNode("small",$T,i.toDisplayString(c.datetime),1),i.createElementVNode("span",{class:"fw-bold",innerHTML:c.msg},null,8,MT)],2)]))),128))])])])):i.createCommentVNode("",!0)])]),n.settings.table.control?(i.openBlock(),i.createElementBlock("div",{key:0,class:i.normalizeClass(["vua-table-control",[n.settings.table.control.class]])},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.settings.table.control.buttons,c=>(i.openBlock(),i.createElementBlock("span",{key:c.action},[c.action!=="TABLE_COLUMNS"&&!c.dropdowns?(i.openBlock(),i.createElementBlock("button",{key:0,type:"button",class:i.normalizeClass([c.class?c.class:o.getButtonClassByAction(c.action)]),onClick:h=>o.tableAction(c,{items:r.items,$event:h})},[i.createElementVNode("i",{class:i.normalizeClass([c.icon!==void 0?o.getValueOrFunction(c.icon,{button:c,table:this}):o.getButtonIconClassByAction(c.action)])},null,2),i.createTextVNode(" "+i.toDisplayString(o.translate(c.title)),1)],10,RT)):i.createCommentVNode("",!0),c.action==="TABLE_COLUMNS"?(i.openBlock(),i.createElementBlock("div",qT,[i.createElementVNode("button",{type:"button",class:i.normalizeClass([[c.class?c.class:o.getButtonClassByAction(c.action)],"dropdown-toggle"]),"data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false"},[i.withDirectives(i.createElementVNode("span",PT,[i.createElementVNode("i",{class:i.normalizeClass([c.icon!==void 0?o.getValueOrFunction(c.icon,{button:c,table:this}):o.getButtonIconClassByAction(c.action)])},null,2),i.createTextVNode(" "+i.toDisplayString(o.translate(c.title))+" ",1),o.countHiddenColumns()?(i.openBlock(),i.createElementBlock("span",jT," ( "+i.toDisplayString(o.countHiddenColumns())+" "+i.toDisplayString(o.translate("hidden"))+" ) ",1)):i.createCommentVNode("",!0)],512),[[i.vShow,n.settings.table.columns.length>0]])],2),i.createElementVNode("ul",UT,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.settings.table.columns,h=>(i.openBlock(),i.createElementBlock("li",{key:h},[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:f=>o.toggleColumn(h)},[h.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createElementBlock("i",zT)),h.hidden?(i.openBlock(),i.createElementBlock("i",WT)):i.createCommentVNode("",!0),i.createTextVNode(" "+i.toDisplayString(h.title)+" ",1),i.createElementVNode("small",KT,i.toDisplayString(h.name),1)],8,HT)]))),128)),t[16]||(t[16]=i.createElementVNode("li",null,[i.createElementVNode("hr",{class:"dropdown-divider"})],-1)),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:t[0]||(t[0]=h=>o.toggleColumn(!0))},i.toDisplayString(o.translate("Visible all")),1)]),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:t[1]||(t[1]=h=>o.toggleColumn(!1))},i.toDisplayString(o.translate("Hidden all")),1)])])])):i.createCommentVNode("",!0),c.dropdowns?(i.openBlock(),i.createElementBlock("div",GT,[i.createElementVNode("button",{type:"button",class:i.normalizeClass([[c.class],"dropdown-toggle"]),"data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false"},[i.createElementVNode("span",YT,[i.createElementVNode("i",{class:i.normalizeClass([c.icon!==void 0?o.getValueOrFunction(c.icon,{button:c,table:this}):o.getButtonIconClassByAction(c.action)])},null,2),i.createTextVNode(" "+i.toDisplayString(o.translate(c.title)),1)])],2),i.createElementVNode("ul",XT,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.dropdowns,h=>(i.openBlock(),i.createElementBlock("li",{key:h},[i.createElementVNode("span",{class:i.normalizeClass(["dropdown-item cursor-pointer",[h.class]]),onClick:f=>o.tableAction(h,{items:r.items,$event:f})},[h.icon?(i.openBlock(),i.createElementBlock("i",{key:0,class:i.normalizeClass([h.icon])},null,2)):i.createCommentVNode("",!0),i.createTextVNode(" "+i.toDisplayString(o.translate(h.title)),1)],10,ZT)]))),128))])])):i.createCommentVNode("",!0)]))),128))],2)):i.createCommentVNode("",!0),n.settings.table?(i.openBlock(),i.createElementBlock("table",{key:1,class:i.normalizeClass(["table vua-table mb-0",[n.settings.table.class]])},[i.createElementVNode("thead",null,[i.createElementVNode("tr",JT,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.settings.table.columns,c=>(i.openBlock(),i.createElementBlock("th",{class:i.normalizeClass(["",[c.header?c.header.class:""]]),style:i.normalizeStyle([c.hidden?"display: none":""]),key:c,width:c.width},[i.createElementVNode("span",{class:i.normalizeClass(["d-inline-block no-select text-nowrap",{"cursor-pointer":o.isSortable(c)}]),onClick:h=>o.sortTable(c)},[i.createElementVNode("span",{innerHTML:c.header&&c.header.title!==void 0?o.translate(c.header.title):c.title?o.translate(c.title):o.translate(c.name)},null,8,eC),r.config.order[c.name]?(i.openBlock(),i.createElementBlock("span",{key:0,class:i.normalizeClass(["badge text-bg-light ms-1 p-badge",{"opacity-50":r.config.order[c.name].fixed}])},[r.config.order[c.name].dir==="ASC"?(i.openBlock(),i.createElementBlock("i",nC)):i.createCommentVNode("",!0),r.config.order[c.name].dir==="DESC"?(i.openBlock(),i.createElementBlock("i",sC)):i.createCommentVNode("",!0),i.createTextVNode(" "+i.toDisplayString(r.config.order[c.name].idx+1),1)],2)):i.createCommentVNode("",!0)],10,tC),c.header&&c.header.buttons?(i.openBlock(),i.createElementBlock("span",iC,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.header.buttons,h=>(i.openBlock(),i.createElementBlock("button",{key:h.action,type:"button",disabled:h.disabled!==void 0?o.getValueOrFunction(h.disabled):null,class:i.normalizeClass([h.class?h.class:o.getButtonClassByAction(h.action)]),onClick:f=>o.tableAction(h,{items:r.items,$event:f})},[i.createElementVNode("i",{class:i.normalizeClass([h.icon!==void 0?o.getValueOrFunction(h.icon,{button:h,column:c,table:this}):o.getButtonIconClassByAction(h.action)])},null,2),i.createTextVNode(" "+i.toDisplayString(o.translate(h.title)),1)],10,rC))),128))])):i.createCommentVNode("",!0)],14,QT))),128))]),o.countFilters()?(i.openBlock(),i.createElementBlock("tr",oC,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.settings.table.columns,c=>(i.openBlock(),i.createElementBlock("th",{style:i.normalizeStyle([c.hidden?"display: none":""]),key:c,width:c.width,class:i.normalizeClass([c.filter?c.filter.class:""])},[c.index&&c.click?(i.openBlock(),i.createElementBlock("div",lC,[i.createElementVNode("span",{class:i.normalizeClass(["cursor-pointer badge border badge-index-toggle py-1 px-2 me-1 my-2 w-100",{active:o.haveSelectedRowInPage()}]),onClick:t[2]||(t[2]=h=>o.toggleSelectedRowInPage())},[i.withDirectives(i.createElementVNode("i",cC,null,512),[[i.vShow,!o.haveSelectedRowInPage()]]),i.withDirectives(i.createElementVNode("i",hC,null,512),[[i.vShow,o.haveSelectedRowInPage()]])],2)])):i.createCommentVNode("",!0),c.filter&&c.filter.type=="text"?(i.openBlock(),i.createElementBlock("div",dC,[i.withDirectives(i.createElementVNode("input",{type:"text",class:i.normalizeClass([{fixed:c.filter.fixed},"form-control form-control-sm"]),"onUpdate:modelValue":h=>c.filter.value=h,onKeyup:t[3]||(t[3]=i.withKeys(h=>o.reloadTable(),["enter"]))},null,42,uC),[[i.vModelText,c.filter.value]]),c.filter.buttonx&&c.filter.buttonx!=!1?(i.openBlock(),i.createElementBlock("button",{key:0,class:i.normalizeClass(["btn btn-outline-secondary",{"opacity-25":c.filter.value==null}]),disabled:c.filter.value==null,onClick:h=>{c.filter.value=void 0,o.reloadTable()}},t[17]||(t[17]=[i.createElementVNode("i",{class:"bi bi-x"},null,-1)]),10,fC)):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),c.filter&&c.filter.type=="number"?(i.openBlock(),i.createElementBlock("div",pC,[c.filter.operators==!0?i.withDirectives((i.openBlock(),i.createElementBlock("select",{key:0,"onUpdate:modelValue":h=>c.filter.operator=h,disabled:c.filter.fixed,onChange:t[4]||(t[4]=h=>o.reloadTable()),class:"form-select form-select-sm pe-0"},[i.createElementVNode("option",gC,i.toDisplayString(o.translate("=")),1),i.createElementVNode("option",bC,i.toDisplayString(o.translate(">")),1),i.createElementVNode("option",yC,i.toDisplayString(o.translate(">=")),1),i.createElementVNode("option",EC,i.toDisplayString(o.translate("<")),1),i.createElementVNode("option",_C,i.toDisplayString(o.translate("<=")),1)],40,mC)),[[i.vModelSelect,c.filter.operator]]):i.createCommentVNode("",!0),c.filter.operators&&c.filter.operators.length>0?i.withDirectives((i.openBlock(),i.createElementBlock("select",{key:1,"onUpdate:modelValue":h=>c.filter.operator=h,disabled:c.filter.fixed,onChange:t[5]||(t[5]=h=>o.reloadTable()),class:"form-select form-select-sm pe-0"},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.filter.operators,h=>(i.openBlock(),i.createElementBlock("option",{key:h,value:h.value},i.toDisplayString(h.label),9,kC))),128))],40,wC)),[[i.vModelSelect,c.filter.operator]]):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("input",{type:"number",class:i.normalizeClass(["form-control",{fixed:c.filter.fixed}]),"onUpdate:modelValue":h=>c.filter.value=h,disabled:c.filter.fixed,min:c.filter.min,max:c.filter.max,onChange:t[6]||(t[6]=h=>o.reloadTable()),onKeyup:t[7]||(t[7]=i.withKeys(h=>o.reloadTable(),["enter"]))},null,42,NC),[[i.vModelText,c.filter.value]]),!c.filter.fixed&&c.filter.buttonx&&c.filter.buttonx!=!1?(i.openBlock(),i.createElementBlock("button",{key:2,class:i.normalizeClass(["btn btn-outline-secondary",{"opacity-25":c.filter.value==null}]),disabled:c.filter.value==null,onClick:h=>{c.filter.value=void 0,o.reloadTable()}},t[18]||(t[18]=[i.createElementVNode("i",{class:"bi bi-x"},null,-1)]),10,AC)):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),c.filter&&c.filter.type=="select"?(i.openBlock(),i.createElementBlock("div",TC,[c.filter.dropdown?(i.openBlock(),i.createElementBlock("div",CC,[i.createElementVNode("button",FC,i.toDisplayString(c.filter.multiple?c.filter.value.length+" selected":c.filter.value?c.filter.value:"not selected"),1),i.createElementVNode("ul",xC,[i.createElementVNode("li",null,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.filter.options,h=>(i.openBlock(),i.createElementBlock("span",{key:h,class:i.normalizeClass(["dropdown-item cursor-pointer",{selected:c.filter.multiple?c.filter.value.indexOf(h.value)>=0:c.filter.value===h.value}]),onClick:f=>o.dropdownSelectToggleOne(c.filter,h)},[(c.filter.multiple?c.filter.value.indexOf(h.value)>=0:c.filter.value===h.value)?(i.openBlock(),i.createElementBlock("i",BC)):(i.openBlock(),i.createElementBlock("i",OC)),i.createTextVNode(" "+i.toDisplayString(o.translate(h.label?h.label:h.value)),1)],10,SC))),128))]),c.filter.multiple?(i.openBlock(),i.createElementBlock("li",LC,t[19]||(t[19]=[i.createElementVNode("hr",{class:"dropdown-divider"},null,-1)]))):i.createCommentVNode("",!0),c.filter.multiple?(i.openBlock(),i.createElementBlock("li",VC,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>o.dropdownSelectAll(c.filter.value,c.filter.options)},i.toDisplayString(o.translate("Select all")),9,IC)])):i.createCommentVNode("",!0),c.filter.multiple?(i.openBlock(),i.createElementBlock("li",vC,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>o.dropdownSelectClear(c.filter.value)},i.toDisplayString(o.translate("Unselect all")),9,DC)])):i.createCommentVNode("",!0),c.filter.multiple?(i.openBlock(),i.createElementBlock("li",$C,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>o.dropdownSelectInvert(c.filter.value,c.filter.options)},i.toDisplayString(o.translate("Invert all")),9,MC)])):i.createCommentVNode("",!0)])])):(i.openBlock(),i.createElementBlock("div",RC,[i.withDirectives(i.createElementVNode("select",{"onUpdate:modelValue":h=>c.filter.value=h,onChange:t[8]||(t[8]=h=>o.reloadTable()),multiple:c.filter.multiple,class:"form-select form-select-sm pe-0"},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.filter.options,h=>(i.openBlock(),i.createElementBlock("option",{key:h,value:h.value},i.toDisplayString(o.translate(h.label?h.label:h.value)),9,PC))),128))],40,qC),[[i.vModelSelect,c.filter.value]]),c.filter.buttonx&&c.filter.buttonx!=!1?(i.openBlock(),i.createElementBlock("button",{key:0,class:i.normalizeClass(["btn btn-outline-secondary",{"opacity-25":c.filter.value==null}]),disabled:c.filter.value==null,onClick:h=>{c.filter.value=void 0,o.reloadTable()}},t[20]||(t[20]=[i.createElementVNode("i",{class:"bi bi-x"},null,-1)]),10,jC)):i.createCommentVNode("",!0)]))])):i.createCommentVNode("",!0),c.filter&&(c.filter.type=="datetime-local"||c.filter.type=="date")?(i.openBlock(),i.createElementBlock("div",UC,[c.filter.operators==!0?i.withDirectives((i.openBlock(),i.createElementBlock("select",{key:0,"onUpdate:modelValue":h=>c.filter.operator=h,onChange:t[9]||(t[9]=h=>o.reloadTable()),class:"form-select form-select-sm pe-0"},[i.createElementVNode("option",zC,i.toDisplayString(o.translate("=")),1),i.createElementVNode("option",WC,i.toDisplayString(o.translate(">")),1),i.createElementVNode("option",KC,i.toDisplayString(o.translate(">=")),1),i.createElementVNode("option",GC,i.toDisplayString(o.translate("<")),1),i.createElementVNode("option",YC,i.toDisplayString(o.translate("<=")),1)],40,HC)),[[i.vModelSelect,c.filter.operator]]):i.createCommentVNode("",!0),c.filter.operators&&c.filter.operators.length>0?i.withDirectives((i.openBlock(),i.createElementBlock("select",{key:1,"onUpdate:modelValue":h=>c.filter.operator=h,onChange:t[10]||(t[10]=h=>o.reloadTable()),class:"form-select form-select-sm pe-0"},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.filter.operators,h=>(i.openBlock(),i.createElementBlock("option",{key:h,value:h.value},i.toDisplayString(o.translate(h.label)),9,ZC))),128))],40,XC)),[[i.vModelSelect,c.filter.operator]]):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("input",{type:c.filter.type,class:i.normalizeClass([{fixed:c.filter.fixed},"form-control form-control-sm"]),"onUpdate:modelValue":h=>c.filter.value=h,onChange:t[11]||(t[11]=h=>o.reloadTable()),onKeyup:t[12]||(t[12]=i.withKeys(h=>o.reloadTable(),["enter"]))},null,42,JC),[[i.vModelDynamic,c.filter.value]]),i.createElementVNode("button",{class:i.normalizeClass(["btn btn-outline-secondary",{"opacity-25":!c.filter.value}]),disabled:!c.filter.value,onClick:h=>{c.filter.value=void 0,o.reloadTable()}},t[21]||(t[21]=[i.createElementVNode("i",{class:"bi bi-x"},null,-1)]),10,QC)])):i.createCommentVNode("",!0),c.filter&&c.filter.buttons?(i.openBlock(),i.createElementBlock("span",{key:5,class:i.normalizeClass(o.getValueOrFunction(c.filter.buttons,{column:c}))},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.filter.buttons,h=>(i.openBlock(),i.createElementBlock("span",{key:h.action},[i.createElementVNode("button",{type:"button",disabled:h.disabled!==void 0?o.getValueOrFunction(h.disabled):null,class:i.normalizeClass([h.class?h.class:o.getButtonClassByAction(h.action)]),onClick:f=>o.tableAction(h,{items:r.items,$event:f})},[i.createElementVNode("i",{class:i.normalizeClass([h.icon!==void 0?o.getValueOrFunction(h.icon,{button:h,column:c,table:this}):o.getButtonIconClassByAction(h.action)])},null,2),i.createTextVNode(" "+i.toDisplayString(o.translate(h.title)),1)],10,t2)]))),128))],2)):i.createCommentVNode("",!0)],14,aC))),128))])):i.createCommentVNode("",!0)]),i.createElementVNode("tbody",null,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(this.items,(c,h)=>(i.openBlock(),i.createElementBlock(i.Fragment,{key:c.id},[i.createElementVNode("tr",e2,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.settings.table.columns,f=>(i.openBlock(),i.createElementBlock("td",{style:i.normalizeStyle([f.hidden?"display: none":""]),key:f.name,"data-label":f.title?f.title:o.translate(f.name),width:f.width,class:i.normalizeClass(o.getValueOrFunction(f.class,{column:f,item:c})),onClick:u=>o.tableAction(f,{item:c,index:h,$event:u})},[f.index?(i.openBlock(),i.createElementBlock("div",s2,[i.createElementVNode("span",{class:i.normalizeClass(["cursor-pointer badge border badge-index p-1 w-100",{selected:r.selected.indexOf(c[n.settings.pkey])>=0}]),innerHTML:h+1+(r.config.pagination.page-1)*r.config.pagination.limit},null,10,i2)])):i.createCommentVNode("",!0),!f.template&&!f.input&&!f.progressbar?(i.openBlock(),i.createElementBlock("span",r2,i.toDisplayString(o.tableCellValue(f.name,c,h,f)),1)):i.createCommentVNode("",!0),f.template?(i.openBlock(),i.createElementBlock("span",{key:2,innerHTML:o.tableCellTemplate(f.template,c,h,f)},null,8,o2)):i.createCommentVNode("",!0),f.progressbar?(i.openBlock(),i.createElementBlock("div",{key:3,class:"progress",role:"progressbar","aria-label":"Warning example","aria-valuenow":c[f.name],"aria-valuemax":f.progressbar.max},[i.createElementVNode("div",{class:i.normalizeClass(["progress-bar",[f.progressbar.class]]),style:i.normalizeStyle({width:Math.round(c[f.name]/f.progressbar.max*100)+"%"})},[f.progressbar.value?(i.openBlock(),i.createElementBlock("span",l2,i.toDisplayString(c[f.name]),1)):i.createCommentVNode("",!0)],6)],8,a2)):i.createCommentVNode("",!0),f.input?(i.openBlock(),i.createElementBlock("div",c2,[f.input.prefix?(i.openBlock(),i.createElementBlock("span",{key:0,class:"input-group-text",innerHTML:o.getValueOrFunction(f.input.prefix,{column:f,item:c})},null,8,h2)):i.createCommentVNode("",!0),f.input.prefixcheck?(i.openBlock(),i.createElementBlock("span",d2,[i.withDirectives(i.createElementVNode("input",{class:"form-check p-0 m-0",type:"checkbox",name:f.input.prefixcheck.name,"onUpdate:modelValue":u=>c[f.input.prefixcheck.name]=u,onChange:u=>o.onRowInputChange(c[f.input.prefixcheck.name],f,c,h)},null,40,u2),[[i.vModelCheckbox,c[f.input.prefixcheck.name]]])])):i.createCommentVNode("",!0),["text","number","date","datetime-local"].indexOf(f.input.type)>=0?i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:2,type:f.input.type,class:i.normalizeClass(["form-control form-control-sm",o.getValueOrFunction(f.input.class,{column:f,item:c})]),onChange:u=>o.onRowInputChange(c[f.name],f,c,h),"onUpdate:modelValue":u=>c[f.name]=u},null,42,f2)),[[i.vModelDynamic,c[f.name]]]):i.createCommentVNode("",!0),f.input.type=="select"?i.withDirectives((i.openBlock(),i.createElementBlock("select",{key:3,class:i.normalizeClass(["form-select form-select-sm pe-0",o.getValueOrFunction(f.input.class,{column:f,item:c})]),onChange:u=>o.onRowInputChange(c[f.name],f,c,h),"onUpdate:modelValue":u=>c[f.name]=u},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(f.input.options,u=>(i.openBlock(),i.createElementBlock("option",{value:u.value,key:u},i.toDisplayString(o.translate(u.label)),9,m2))),128))],42,p2)),[[i.vModelSelect,c[f.name]]]):i.createCommentVNode("",!0),f.input.suffix?(i.openBlock(),i.createElementBlock("span",{key:4,class:"input-group-text",innerHTML:o.getValueOrFunction(f.input.suffix,{column:f,item:c})},null,8,g2)):i.createCommentVNode("",!0),f.input.suffixcheck?(i.openBlock(),i.createElementBlock("span",b2,[i.withDirectives(i.createElementVNode("input",{class:"form-check p-0 m-0",type:"checkbox",name:f.input.suffixcheck.name,"onUpdate:modelValue":u=>c[f.input.suffixcheck.name]=u,onChange:u=>o.onRowInputChange(c[f.input.suffixcheck.name],f,c,h)},null,40,y2),[[i.vModelCheckbox,c[f.input.suffixcheck.name]]])])):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),f.buttons?(i.openBlock(),i.createElementBlock("span",E2,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(f.buttons,u=>(i.openBlock(),i.createElementBlock("span",{key:u.action},[u.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createElementBlock("button",{key:0,type:"button",disabled:u.disabled!==void 0?o.getValueOrFunction(u.disabled):null,class:i.normalizeClass([u.class?o.getValueOrFunction(u.class,{button:u,column:f,item:c,table:this}):o.getButtonClassByAction(u.action)]),onClick:m=>o.tableAction(u,{column:f,item:c,index:h,$event:m})},[u.icon!==null?(i.openBlock(),i.createElementBlock("i",{key:0,class:i.normalizeClass([u.icon!==void 0?o.getValueOrFunction(u.icon,{button:u,column:f,item:c,table:this}):o.getButtonIconClassByAction(u.action)])},null,2)):i.createCommentVNode("",!0),u.template?(i.openBlock(),i.createElementBlock("span",{key:1,innerHTML:o.tableCellTemplate(u.template,c,h,f)},null,8,w2)):(i.openBlock(),i.createElementBlock("span",k2,i.toDisplayString(o.translate(u.title)),1))],10,_2))]))),128))])):i.createCommentVNode("",!0)],14,n2))),128))]),n.settings.table.details&&r.details.indexOf(c[n.settings.pkey])>=0?(i.openBlock(),i.createElementBlock("tr",N2,[i.createElementVNode("td",{class:i.normalizeClass([n.settings.table.details.class]),colspan:n.settings.table.columns.length},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.settings.table.details.fields,f=>(i.openBlock(),i.createElementBlock("div",{class:"m-0",key:f},[i.createElementVNode("div",T2,[i.createElementVNode("div",{class:i.normalizeClass(["col text-end",[f.class]])},[i.createElementVNode("label",C2,i.toDisplayString(f.label),1)],2),i.createElementVNode("div",{class:i.normalizeClass(["col",[f.input.class]])},[["select","textarea"].indexOf(f.input.type)<0?i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:0,type:f.input.type,class:"form-control form-control-sm","onUpdate:modelValue":u=>c[f.name]=u,onChange:u=>o.onRowInputChange(c[f.name],f,c,h)},null,40,F2)),[[i.vModelDynamic,c[f.name]]]):i.createCommentVNode("",!0),f.input.type=="textarea"?i.withDirectives((i.openBlock(),i.createElementBlock("textarea",{key:1,class:"form-control form-control-sm",rows:"3","onUpdate:modelValue":u=>c[f.name]=u,onChange:u=>o.onRowInputChange(c[f.name],f,c,h)},`\r
                    `,40,x2)),[[i.vModelText,c[f.name]]]):i.createCommentVNode("",!0),f.input.type=="select"?i.withDirectives((i.openBlock(),i.createElementBlock("select",{key:2,class:"form-select form-select-sm pe-0","onUpdate:modelValue":u=>c[f.name]=u,onChange:u=>o.onRowInputChange(c[f.name],f,c,h)},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(f.input.options,u=>(i.openBlock(),i.createElementBlock("option",{value:u.value,key:u},i.toDisplayString(o.translate(u.label)),9,B2))),128))],40,S2)),[[i.vModelSelect,c[f.name]]]):i.createCommentVNode("",!0)],2)])]))),128)),i.createElementVNode("span",{innerHTML:n.settings.table.details.raw(c)},null,8,O2),n.settings.debug>1?(i.openBlock(),i.createElementBlock("pre",L2,"                  "+i.toDisplayString(c)+`
                `,1)):i.createCommentVNode("",!0)],10,A2)])):i.createCommentVNode("",!0)],64))),128))]),i.createElementVNode("tfoot",null,[r.selected.length>0?(i.openBlock(),i.createElementBlock("tr",V2,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.settings.table.columns,c=>(i.openBlock(),i.createElementBlock("td",{style:i.normalizeStyle([c.hidden?"display: none":""]),key:c.name,"data-label":c.title,width:c.width,class:i.normalizeClass(c.class)},[c.index?(i.openBlock(),i.createElementBlock("div",v2,[i.createElementVNode("span",{class:"cursor-pointer d-inline-block badge border badge-index-toggle active py-1 px-2 me-1 my-2 w-100",onClick:t[13]||(t[13]=h=>o.toggleSelectedAll())},i.toDisplayString(r.selected.length),1)])):i.createCommentVNode("",!0),c.input&&c.bulk&&c.bulk.enabled?(i.openBlock(),i.createElementBlock("div",D2,[["text","number","date","datetime-local"].indexOf(c.input.type)>=0?i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:0,type:c.input.type,class:i.normalizeClass(["form-control form-control-sm",c.input.class]),disabled:r.bulkinputs.indexOf(c.name)<0,onChange:h=>o.onBulkInputChange(r.bulkitem[c.name],r.bulkitem,c),"onUpdate:modelValue":h=>r.bulkitem[c.name]=h},null,42,$2)),[[i.vModelDynamic,r.bulkitem[c.name]]]):i.createCommentVNode("",!0),c.input.type=="select"?i.withDirectives((i.openBlock(),i.createElementBlock("select",{key:1,class:i.normalizeClass(["form-select form-select-sm pe-0",c.input.class]),disabled:r.bulkinputs.indexOf(c.name)<0,onChange:h=>o.onBulkInputChange(r.bulkitem[c.name],r.bulkitem,c),"onUpdate:modelValue":h=>r.bulkitem[c.name]=h},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.input.options,h=>(i.openBlock(),i.createElementBlock("option",{value:h.value,key:h},i.toDisplayString(o.translate(h.label)),9,R2))),128))],42,M2)),[[i.vModelSelect,r.bulkitem[c.name]]]):i.createCommentVNode("",!0),i.createElementVNode("span",{class:"input-group-text cursor-pointer",onClick:h=>o.ifBulkInputClick(c)},[r.bulkitem[c.name]===void 0?(i.openBlock(),i.createElementBlock("i",P2)):(i.openBlock(),i.createElementBlock("i",j2))],8,q2)])):i.createCommentVNode("",!0),c.bulk?(i.openBlock(),i.createElementBlock("span",U2,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.bulk.buttons,h=>(i.openBlock(),i.createElementBlock("span",{key:h.action},[i.createElementVNode("button",{type:"button",class:i.normalizeClass([h.class?h.class:o.getButtonClassByAction(h.action)]),disabled:h.action==="save"&&!this.bulkinputs.length,onClick:f=>o.tableBulkAction(h.action,r.bulkitem,c,f)},[h.icon!==null?(i.openBlock(),i.createElementBlock("i",{key:0,class:i.normalizeClass([h.icon!==void 0?o.getValueOrFunction(h.icon,{button:h,column:c,table:this}):o.getButtonIconClassByAction(h.action)])},null,2)):i.createCommentVNode("",!0),h.template?(i.openBlock(),i.createElementBlock("span",{key:1,innerHTML:o.tableCellTemplate(h.template,r.bulkitem,null,c)},null,8,z2)):(i.openBlock(),i.createElementBlock("span",W2,i.toDisplayString(o.translate(h.title)),1))],10,H2)]))),128))])):i.createCommentVNode("",!0)],14,I2))),128))])):i.createCommentVNode("",!0)])],2)):i.createCommentVNode("",!0),i.createVNode(l,{settings:n.settings,config:r.config,ui:r.ui,onSetPage:o.setPage,onSetPageLimit:o.setPageLimit,onTranslate:o.translate},null,8,["settings","config","ui","onSetPage","onSetPageLimit","onTranslate"])],10,TT)):i.createCommentVNode("",!0),i.createElementVNode("div",{class:"modal shadow",id:r.modalId,tabindex:"-1"},[i.createElementVNode("div",G2,[i.createElementVNode("div",Y2,[o.authAndSettings()&&n.settings.form.visible&&n.settings.form.groups?(i.openBlock(),i.createBlock(a,{key:0,modelValue:r.item,"onUpdate:modelValue":t[14]||(t[14]=c=>r.item=c),formid:r.formId,settings:n.settings,modalWindow:r.modalWindow,auth:n.auth,saveItem:o.saveItem,deleteItem:o.deleteItem,reloadTable:o.reloadTable,fetchRelation:o.fetchRelation},null,8,["modelValue","formid","settings","modalWindow","auth","saveItem","deleteItem","reloadTable","fetchRelation"])):i.createCommentVNode("",!0)])])],8,K2)])}const Z2={name:"VuAdmin",props:{entity:{type:String,required:!0},preset:{type:String,required:!1},auth:{type:Object}},init:e=>{},watch:{auth:{immediate:!0,handler(e,t){e!=t&&this.loadSettings()}}},data(){return{settings:void 0,defaults:{pkey:"id",theme:void 0,class:"my-1 p-3 rounded",init:null,language:document.documentElement?document.documentElement.lang:"hu",api:{auth:{},options:{},input:{item:void 0,items:void 0,total:void 0},output:{item:void 0,flatten:!0,fields:void 0}},translate:{hu:{Columns:"Oszlopok",All:"Mind",page:"oldal",row:"sor",hidden:"rejtett",First:"Els",Next:"Kvetkez",Prev:"Elz",Last:"Utols",Reload:"jratlts",New:"j",Active:"Aktv",Deleted:"Trlt",Copy:"Msols",Delete:"Trls",Close:"Bezr",Save:"Ments",Send:"Klds",Export:"Exportls","Select all":"Mind kivlaszt","Unselect all":"Mind trl","Invert all":"Kijellsek megfordtsa","Visible all":"Mind lthat","Hidden all":"Mind rejtett","Save and close":"Ment s bezr","=":"Egyenl",">":"Nagyobb",">=":"Nagyobb vagy egyenl","<":"Kisebb","<=":"Kisebb vagy egyenl","Are you sure you want to delete all selected items?":"Biztos hogy trlni akarod az sszes kivlasztott elemet?"}},events:{afterSettingsInit:void 0,beforeItemsLoad:void 0,afterItemsLoad:void 0,afterItemLoad:void 0,beforeItemSave:void 0,afterItemSave:void 0,beforeItemDelete:void 0,afterItemDelete:void 0,beforeBulkSave:void 0,afterBulkSave:void 0,beforeItemsExport:void 0},relations:{},table:{title:null,columns:[],pagination:{size:10,limit:10,limits:[10,20,50,100]},order:{},control:{},details:{},exports:{}},form:{}}}},created(){},mounted(){},methods:{async loadSettings(){if(!this.auth||!this.auth.success||!this.auth.user){console.error("Authentication required");return}if(!this.auth.settings||!this.auth.settings.entities||!this.auth.settings.entities[this.entity]){console.error(`Entity config (${this.entity}) not found`);return}const e=this.auth.settings.entitiesVariable?this.auth.settings.entitiesVariable:"VuEntities";this.loadScript(this.auth.settings.entities[this.entity],()=>{window[e]&&window[e][this.entity]?this.init(window[e][this.entity](this.preset)):console.error(`Entity config (${this.entity}) not found`)},e)},loadScript(e,t,n){if(window[n]&&window[n][this.entity]){t&&t();return}const s=document.createElement("script");s.async=!0,s.src=e,s.onload=()=>{t&&t()},s.onerror=()=>{},document.head.appendChild(s)},init(e){if(e){if(this.settings=Ui(this.defaults,e),this.settings.entity=this.entity,this.settings.preset=this.preset?this.preset:"default",!this.settings.theme){const t=document.documentElement.getAttribute("data-bs-theme");this.settings.theme=t||"light"}this.settings.events.afterSettingsInit&&this.settings.events.afterSettingsInit(this.settings),this.settings.debug&&(console.log(`Entity config (${this.entity}) initialized`),this.settings.debug>1&&console.log(this.settings))}else console.error(`Entity config (${this.entity}) not found`);this.$forceUpdate()}},components:{VuAdminTable:ye(AT,[["render",X2]])}},J2={key:0},Q2=["data-bs-theme"];function tF(e,t,n,s,r,o){const l=i.resolveComponent("vu-admin-table");return e.entity&&e.settings?(i.openBlock(),i.createElementBlock("div",J2,[e.auth?(i.openBlock(),i.createElementBlock("div",{key:0,class:"vu-admin","data-bs-theme":[e.settings.theme]},[i.createVNode(l,{settings:e.settings,auth:e.auth},null,8,["settings","auth"])],8,Q2)):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0)}const eF=ye(Z2,[["render",tF]]);var Na={exports:{}};/*
 * [js-sha512]{@link https://github.com/emn178/js-sha512}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */var su;function nF(){return su||(su=1,function(e){(function(){var t="input is invalid type",n="finalize already called",s=typeof window=="object",r=s?window:{};r.JS_SHA512_NO_WINDOW&&(s=!1);var o=!s&&typeof self=="object",l=!r.JS_SHA512_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;l?r=en:o&&(r=self);var a=!r.JS_SHA512_NO_COMMON_JS&&!0&&e.exports,c=!r.JS_SHA512_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",h="0123456789abcdef".split(""),f=[-2147483648,8388608,32768,128],u=[24,16,8,0],m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],b=["hex","array","digest","arrayBuffer"],y=[],k=Array.isArray;(r.JS_SHA512_NO_NODE_JS||!k)&&(k=function(A){return Object.prototype.toString.call(A)==="[object Array]"});var T=ArrayBuffer.isView;c&&(r.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!T)&&(T=function(A){return typeof A=="object"&&A.buffer&&A.buffer.constructor===ArrayBuffer});var S=function(A){var v=typeof A;if(v==="string")return[A,!0];if(v!=="object"||A===null)throw new Error(t);if(c&&A.constructor===ArrayBuffer)return[new Uint8Array(A),!1];if(!k(A)&&!T(A))throw new Error(t);return[A,!1]},$=function(A,v){return function(g){return new z(v,!0).update(g)[A]()}},q=function(A){var v=$("hex",A);v.create=function(){return new z(A)},v.update=function(_){return v.create().update(_)};for(var g=0;g<b.length;++g){var N=b[g];v[N]=$(N,A)}return v},H=function(A,v){return function(g,N){return new at(g,v,!0).update(N)[A]()}},U=function(A){var v=H("hex",A);v.create=function(_){return new at(_,A)},v.update=function(_,C){return v.create(_).update(C)};for(var g=0;g<b.length;++g){var N=b[g];v[N]=H(N,A)}return v};function z(A,v){v?(y[0]=y[1]=y[2]=y[3]=y[4]=y[5]=y[6]=y[7]=y[8]=y[9]=y[10]=y[11]=y[12]=y[13]=y[14]=y[15]=y[16]=y[17]=y[18]=y[19]=y[20]=y[21]=y[22]=y[23]=y[24]=y[25]=y[26]=y[27]=y[28]=y[29]=y[30]=y[31]=y[32]=0,this.blocks=y):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A==384?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):A==256?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):A==224?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=A,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}z.prototype.update=function(A){if(this.finalized)throw new Error(n);var v=S(A);A=v[0];for(var g=v[1],N,_=0,C,O=A.length,w=this.blocks;_<O;){if(this.hashed&&(this.hashed=!1,w[0]=this.block,this.block=w[1]=w[2]=w[3]=w[4]=w[5]=w[6]=w[7]=w[8]=w[9]=w[10]=w[11]=w[12]=w[13]=w[14]=w[15]=w[16]=w[17]=w[18]=w[19]=w[20]=w[21]=w[22]=w[23]=w[24]=w[25]=w[26]=w[27]=w[28]=w[29]=w[30]=w[31]=w[32]=0),g)for(C=this.start;_<O&&C<128;++_)N=A.charCodeAt(_),N<128?w[C>>>2]|=N<<u[C++&3]:N<2048?(w[C>>>2]|=(192|N>>>6)<<u[C++&3],w[C>>>2]|=(128|N&63)<<u[C++&3]):N<55296||N>=57344?(w[C>>>2]|=(224|N>>>12)<<u[C++&3],w[C>>>2]|=(128|N>>>6&63)<<u[C++&3],w[C>>>2]|=(128|N&63)<<u[C++&3]):(N=65536+((N&1023)<<10|A.charCodeAt(++_)&1023),w[C>>>2]|=(240|N>>>18)<<u[C++&3],w[C>>>2]|=(128|N>>>12&63)<<u[C++&3],w[C>>>2]|=(128|N>>>6&63)<<u[C++&3],w[C>>>2]|=(128|N&63)<<u[C++&3]);else for(C=this.start;_<O&&C<128;++_)w[C>>>2]|=A[_]<<u[C++&3];this.lastByteIndex=C,this.bytes+=C-this.start,C>=128?(this.block=w[32],this.start=C-128,this.hash(),this.hashed=!0):this.start=C}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},z.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var A=this.blocks,v=this.lastByteIndex;A[32]=this.block,A[v>>>2]|=f[v&3],this.block=A[32],v>=112&&(this.hashed||this.hash(),A[0]=this.block,A[1]=A[2]=A[3]=A[4]=A[5]=A[6]=A[7]=A[8]=A[9]=A[10]=A[11]=A[12]=A[13]=A[14]=A[15]=A[16]=A[17]=A[18]=A[19]=A[20]=A[21]=A[22]=A[23]=A[24]=A[25]=A[26]=A[27]=A[28]=A[29]=A[30]=A[31]=A[32]=0),A[30]=this.hBytes<<3|this.bytes>>>29,A[31]=this.bytes<<3,this.hash()}},z.prototype.hash=function(){var A=this.h0h,v=this.h0l,g=this.h1h,N=this.h1l,_=this.h2h,C=this.h2l,O=this.h3h,w=this.h3l,F=this.h4h,P=this.h4l,j=this.h5h,M=this.h5l,J=this.h6h,Y=this.h6l,nt=this.h7h,tt=this.h7l,R=this.blocks,W,dt,Z,ct,ht,L,V,I,K,xt,we,Ve,an,ln,Ht,ee,ke,Mt,Et,st,rt,ft,pt,zt,Nt;for(W=32;W<160;W+=2)st=R[W-30],rt=R[W-29],dt=(st>>>1|rt<<31)^(st>>>8|rt<<24)^st>>>7,Z=(rt>>>1|st<<31)^(rt>>>8|st<<24)^(rt>>>7|st<<25),st=R[W-4],rt=R[W-3],ct=(st>>>19|rt<<13)^(rt>>>29|st<<3)^st>>>6,ht=(rt>>>19|st<<13)^(st>>>29|rt<<3)^(rt>>>6|st<<26),st=R[W-32],rt=R[W-31],ft=R[W-14],pt=R[W-13],L=(pt&65535)+(rt&65535)+(Z&65535)+(ht&65535),V=(pt>>>16)+(rt>>>16)+(Z>>>16)+(ht>>>16)+(L>>>16),I=(ft&65535)+(st&65535)+(dt&65535)+(ct&65535)+(V>>>16),K=(ft>>>16)+(st>>>16)+(dt>>>16)+(ct>>>16)+(I>>>16),R[W]=K<<16|I&65535,R[W+1]=V<<16|L&65535;var Rt=A,qt=v,Pt=g,St=N,At=_,Lt=C,Bt=O,Tt=w,_t=F,Ot=P,Vt=j,Ct=M,It=J,Ft=Y,vt=nt,Dt=tt;for(ee=Pt&At,ke=St&Lt,W=0;W<160;W+=8)dt=(Rt>>>28|qt<<4)^(qt>>>2|Rt<<30)^(qt>>>7|Rt<<25),Z=(qt>>>28|Rt<<4)^(Rt>>>2|qt<<30)^(Rt>>>7|qt<<25),ct=(_t>>>14|Ot<<18)^(_t>>>18|Ot<<14)^(Ot>>>9|_t<<23),ht=(Ot>>>14|_t<<18)^(Ot>>>18|_t<<14)^(_t>>>9|Ot<<23),xt=Rt&Pt,we=qt&St,Mt=xt^Rt&At^ee,Et=we^qt&Lt^ke,zt=_t&Vt^~_t&It,Nt=Ot&Ct^~Ot&Ft,st=R[W],rt=R[W+1],ft=m[W],pt=m[W+1],L=(pt&65535)+(rt&65535)+(Nt&65535)+(ht&65535)+(Dt&65535),V=(pt>>>16)+(rt>>>16)+(Nt>>>16)+(ht>>>16)+(Dt>>>16)+(L>>>16),I=(ft&65535)+(st&65535)+(zt&65535)+(ct&65535)+(vt&65535)+(V>>>16),K=(ft>>>16)+(st>>>16)+(zt>>>16)+(ct>>>16)+(vt>>>16)+(I>>>16),st=K<<16|I&65535,rt=V<<16|L&65535,L=(Et&65535)+(Z&65535),V=(Et>>>16)+(Z>>>16)+(L>>>16),I=(Mt&65535)+(dt&65535)+(V>>>16),K=(Mt>>>16)+(dt>>>16)+(I>>>16),ft=K<<16|I&65535,pt=V<<16|L&65535,L=(Tt&65535)+(rt&65535),V=(Tt>>>16)+(rt>>>16)+(L>>>16),I=(Bt&65535)+(st&65535)+(V>>>16),K=(Bt>>>16)+(st>>>16)+(I>>>16),vt=K<<16|I&65535,Dt=V<<16|L&65535,L=(pt&65535)+(rt&65535),V=(pt>>>16)+(rt>>>16)+(L>>>16),I=(ft&65535)+(st&65535)+(V>>>16),K=(ft>>>16)+(st>>>16)+(I>>>16),Bt=K<<16|I&65535,Tt=V<<16|L&65535,dt=(Bt>>>28|Tt<<4)^(Tt>>>2|Bt<<30)^(Tt>>>7|Bt<<25),Z=(Tt>>>28|Bt<<4)^(Bt>>>2|Tt<<30)^(Bt>>>7|Tt<<25),ct=(vt>>>14|Dt<<18)^(vt>>>18|Dt<<14)^(Dt>>>9|vt<<23),ht=(Dt>>>14|vt<<18)^(Dt>>>18|vt<<14)^(vt>>>9|Dt<<23),Ve=Bt&Rt,an=Tt&qt,Mt=Ve^Bt&Pt^xt,Et=an^Tt&St^we,zt=vt&_t^~vt&Vt,Nt=Dt&Ot^~Dt&Ct,st=R[W+2],rt=R[W+3],ft=m[W+2],pt=m[W+3],L=(pt&65535)+(rt&65535)+(Nt&65535)+(ht&65535)+(Ft&65535),V=(pt>>>16)+(rt>>>16)+(Nt>>>16)+(ht>>>16)+(Ft>>>16)+(L>>>16),I=(ft&65535)+(st&65535)+(zt&65535)+(ct&65535)+(It&65535)+(V>>>16),K=(ft>>>16)+(st>>>16)+(zt>>>16)+(ct>>>16)+(It>>>16)+(I>>>16),st=K<<16|I&65535,rt=V<<16|L&65535,L=(Et&65535)+(Z&65535),V=(Et>>>16)+(Z>>>16)+(L>>>16),I=(Mt&65535)+(dt&65535)+(V>>>16),K=(Mt>>>16)+(dt>>>16)+(I>>>16),ft=K<<16|I&65535,pt=V<<16|L&65535,L=(Lt&65535)+(rt&65535),V=(Lt>>>16)+(rt>>>16)+(L>>>16),I=(At&65535)+(st&65535)+(V>>>16),K=(At>>>16)+(st>>>16)+(I>>>16),It=K<<16|I&65535,Ft=V<<16|L&65535,L=(pt&65535)+(rt&65535),V=(pt>>>16)+(rt>>>16)+(L>>>16),I=(ft&65535)+(st&65535)+(V>>>16),K=(ft>>>16)+(st>>>16)+(I>>>16),At=K<<16|I&65535,Lt=V<<16|L&65535,dt=(At>>>28|Lt<<4)^(Lt>>>2|At<<30)^(Lt>>>7|At<<25),Z=(Lt>>>28|At<<4)^(At>>>2|Lt<<30)^(At>>>7|Lt<<25),ct=(It>>>14|Ft<<18)^(It>>>18|Ft<<14)^(Ft>>>9|It<<23),ht=(Ft>>>14|It<<18)^(Ft>>>18|It<<14)^(It>>>9|Ft<<23),ln=At&Bt,Ht=Lt&Tt,Mt=ln^At&Rt^Ve,Et=Ht^Lt&qt^an,zt=It&vt^~It&_t,Nt=Ft&Dt^~Ft&Ot,st=R[W+4],rt=R[W+5],ft=m[W+4],pt=m[W+5],L=(pt&65535)+(rt&65535)+(Nt&65535)+(ht&65535)+(Ct&65535),V=(pt>>>16)+(rt>>>16)+(Nt>>>16)+(ht>>>16)+(Ct>>>16)+(L>>>16),I=(ft&65535)+(st&65535)+(zt&65535)+(ct&65535)+(Vt&65535)+(V>>>16),K=(ft>>>16)+(st>>>16)+(zt>>>16)+(ct>>>16)+(Vt>>>16)+(I>>>16),st=K<<16|I&65535,rt=V<<16|L&65535,L=(Et&65535)+(Z&65535),V=(Et>>>16)+(Z>>>16)+(L>>>16),I=(Mt&65535)+(dt&65535)+(V>>>16),K=(Mt>>>16)+(dt>>>16)+(I>>>16),ft=K<<16|I&65535,pt=V<<16|L&65535,L=(St&65535)+(rt&65535),V=(St>>>16)+(rt>>>16)+(L>>>16),I=(Pt&65535)+(st&65535)+(V>>>16),K=(Pt>>>16)+(st>>>16)+(I>>>16),Vt=K<<16|I&65535,Ct=V<<16|L&65535,L=(pt&65535)+(rt&65535),V=(pt>>>16)+(rt>>>16)+(L>>>16),I=(ft&65535)+(st&65535)+(V>>>16),K=(ft>>>16)+(st>>>16)+(I>>>16),Pt=K<<16|I&65535,St=V<<16|L&65535,dt=(Pt>>>28|St<<4)^(St>>>2|Pt<<30)^(St>>>7|Pt<<25),Z=(St>>>28|Pt<<4)^(Pt>>>2|St<<30)^(Pt>>>7|St<<25),ct=(Vt>>>14|Ct<<18)^(Vt>>>18|Ct<<14)^(Ct>>>9|Vt<<23),ht=(Ct>>>14|Vt<<18)^(Ct>>>18|Vt<<14)^(Vt>>>9|Ct<<23),ee=Pt&At,ke=St&Lt,Mt=ee^Pt&Bt^ln,Et=ke^St&Tt^Ht,zt=Vt&It^~Vt&vt,Nt=Ct&Ft^~Ct&Dt,st=R[W+6],rt=R[W+7],ft=m[W+6],pt=m[W+7],L=(pt&65535)+(rt&65535)+(Nt&65535)+(ht&65535)+(Ot&65535),V=(pt>>>16)+(rt>>>16)+(Nt>>>16)+(ht>>>16)+(Ot>>>16)+(L>>>16),I=(ft&65535)+(st&65535)+(zt&65535)+(ct&65535)+(_t&65535)+(V>>>16),K=(ft>>>16)+(st>>>16)+(zt>>>16)+(ct>>>16)+(_t>>>16)+(I>>>16),st=K<<16|I&65535,rt=V<<16|L&65535,L=(Et&65535)+(Z&65535),V=(Et>>>16)+(Z>>>16)+(L>>>16),I=(Mt&65535)+(dt&65535)+(V>>>16),K=(Mt>>>16)+(dt>>>16)+(I>>>16),ft=K<<16|I&65535,pt=V<<16|L&65535,L=(qt&65535)+(rt&65535),V=(qt>>>16)+(rt>>>16)+(L>>>16),I=(Rt&65535)+(st&65535)+(V>>>16),K=(Rt>>>16)+(st>>>16)+(I>>>16),_t=K<<16|I&65535,Ot=V<<16|L&65535,L=(pt&65535)+(rt&65535),V=(pt>>>16)+(rt>>>16)+(L>>>16),I=(ft&65535)+(st&65535)+(V>>>16),K=(ft>>>16)+(st>>>16)+(I>>>16),Rt=K<<16|I&65535,qt=V<<16|L&65535;L=(v&65535)+(qt&65535),V=(v>>>16)+(qt>>>16)+(L>>>16),I=(A&65535)+(Rt&65535)+(V>>>16),K=(A>>>16)+(Rt>>>16)+(I>>>16),this.h0h=K<<16|I&65535,this.h0l=V<<16|L&65535,L=(N&65535)+(St&65535),V=(N>>>16)+(St>>>16)+(L>>>16),I=(g&65535)+(Pt&65535)+(V>>>16),K=(g>>>16)+(Pt>>>16)+(I>>>16),this.h1h=K<<16|I&65535,this.h1l=V<<16|L&65535,L=(C&65535)+(Lt&65535),V=(C>>>16)+(Lt>>>16)+(L>>>16),I=(_&65535)+(At&65535)+(V>>>16),K=(_>>>16)+(At>>>16)+(I>>>16),this.h2h=K<<16|I&65535,this.h2l=V<<16|L&65535,L=(w&65535)+(Tt&65535),V=(w>>>16)+(Tt>>>16)+(L>>>16),I=(O&65535)+(Bt&65535)+(V>>>16),K=(O>>>16)+(Bt>>>16)+(I>>>16),this.h3h=K<<16|I&65535,this.h3l=V<<16|L&65535,L=(P&65535)+(Ot&65535),V=(P>>>16)+(Ot>>>16)+(L>>>16),I=(F&65535)+(_t&65535)+(V>>>16),K=(F>>>16)+(_t>>>16)+(I>>>16),this.h4h=K<<16|I&65535,this.h4l=V<<16|L&65535,L=(M&65535)+(Ct&65535),V=(M>>>16)+(Ct>>>16)+(L>>>16),I=(j&65535)+(Vt&65535)+(V>>>16),K=(j>>>16)+(Vt>>>16)+(I>>>16),this.h5h=K<<16|I&65535,this.h5l=V<<16|L&65535,L=(Y&65535)+(Ft&65535),V=(Y>>>16)+(Ft>>>16)+(L>>>16),I=(J&65535)+(It&65535)+(V>>>16),K=(J>>>16)+(It>>>16)+(I>>>16),this.h6h=K<<16|I&65535,this.h6l=V<<16|L&65535,L=(tt&65535)+(Dt&65535),V=(tt>>>16)+(Dt>>>16)+(L>>>16),I=(nt&65535)+(vt&65535)+(V>>>16),K=(nt>>>16)+(vt>>>16)+(I>>>16),this.h7h=K<<16|I&65535,this.h7l=V<<16|L&65535},z.prototype.hex=function(){this.finalize();var A=this.h0h,v=this.h0l,g=this.h1h,N=this.h1l,_=this.h2h,C=this.h2l,O=this.h3h,w=this.h3l,F=this.h4h,P=this.h4l,j=this.h5h,M=this.h5l,J=this.h6h,Y=this.h6l,nt=this.h7h,tt=this.h7l,R=this.bits,W=h[A>>>28&15]+h[A>>>24&15]+h[A>>>20&15]+h[A>>>16&15]+h[A>>>12&15]+h[A>>>8&15]+h[A>>>4&15]+h[A&15]+h[v>>>28&15]+h[v>>>24&15]+h[v>>>20&15]+h[v>>>16&15]+h[v>>>12&15]+h[v>>>8&15]+h[v>>>4&15]+h[v&15]+h[g>>>28&15]+h[g>>>24&15]+h[g>>>20&15]+h[g>>>16&15]+h[g>>>12&15]+h[g>>>8&15]+h[g>>>4&15]+h[g&15]+h[N>>>28&15]+h[N>>>24&15]+h[N>>>20&15]+h[N>>>16&15]+h[N>>>12&15]+h[N>>>8&15]+h[N>>>4&15]+h[N&15]+h[_>>>28&15]+h[_>>>24&15]+h[_>>>20&15]+h[_>>>16&15]+h[_>>>12&15]+h[_>>>8&15]+h[_>>>4&15]+h[_&15]+h[C>>>28&15]+h[C>>>24&15]+h[C>>>20&15]+h[C>>>16&15]+h[C>>>12&15]+h[C>>>8&15]+h[C>>>4&15]+h[C&15]+h[O>>>28&15]+h[O>>>24&15]+h[O>>>20&15]+h[O>>>16&15]+h[O>>>12&15]+h[O>>>8&15]+h[O>>>4&15]+h[O&15];return R>=256&&(W+=h[w>>>28&15]+h[w>>>24&15]+h[w>>>20&15]+h[w>>>16&15]+h[w>>>12&15]+h[w>>>8&15]+h[w>>>4&15]+h[w&15]),R>=384&&(W+=h[F>>>28&15]+h[F>>>24&15]+h[F>>>20&15]+h[F>>>16&15]+h[F>>>12&15]+h[F>>>8&15]+h[F>>>4&15]+h[F&15]+h[P>>>28&15]+h[P>>>24&15]+h[P>>>20&15]+h[P>>>16&15]+h[P>>>12&15]+h[P>>>8&15]+h[P>>>4&15]+h[P&15]+h[j>>>28&15]+h[j>>>24&15]+h[j>>>20&15]+h[j>>>16&15]+h[j>>>12&15]+h[j>>>8&15]+h[j>>>4&15]+h[j&15]+h[M>>>28&15]+h[M>>>24&15]+h[M>>>20&15]+h[M>>>16&15]+h[M>>>12&15]+h[M>>>8&15]+h[M>>>4&15]+h[M&15]),R==512&&(W+=h[J>>>28&15]+h[J>>>24&15]+h[J>>>20&15]+h[J>>>16&15]+h[J>>>12&15]+h[J>>>8&15]+h[J>>>4&15]+h[J&15]+h[Y>>>28&15]+h[Y>>>24&15]+h[Y>>>20&15]+h[Y>>>16&15]+h[Y>>>12&15]+h[Y>>>8&15]+h[Y>>>4&15]+h[Y&15]+h[nt>>>28&15]+h[nt>>>24&15]+h[nt>>>20&15]+h[nt>>>16&15]+h[nt>>>12&15]+h[nt>>>8&15]+h[nt>>>4&15]+h[nt&15]+h[tt>>>28&15]+h[tt>>>24&15]+h[tt>>>20&15]+h[tt>>>16&15]+h[tt>>>12&15]+h[tt>>>8&15]+h[tt>>>4&15]+h[tt&15]),W},z.prototype.toString=z.prototype.hex,z.prototype.digest=function(){this.finalize();var A=this.h0h,v=this.h0l,g=this.h1h,N=this.h1l,_=this.h2h,C=this.h2l,O=this.h3h,w=this.h3l,F=this.h4h,P=this.h4l,j=this.h5h,M=this.h5l,J=this.h6h,Y=this.h6l,nt=this.h7h,tt=this.h7l,R=this.bits,W=[A>>>24&255,A>>>16&255,A>>>8&255,A&255,v>>>24&255,v>>>16&255,v>>>8&255,v&255,g>>>24&255,g>>>16&255,g>>>8&255,g&255,N>>>24&255,N>>>16&255,N>>>8&255,N&255,_>>>24&255,_>>>16&255,_>>>8&255,_&255,C>>>24&255,C>>>16&255,C>>>8&255,C&255,O>>>24&255,O>>>16&255,O>>>8&255,O&255];return R>=256&&W.push(w>>>24&255,w>>>16&255,w>>>8&255,w&255),R>=384&&W.push(F>>>24&255,F>>>16&255,F>>>8&255,F&255,P>>>24&255,P>>>16&255,P>>>8&255,P&255,j>>>24&255,j>>>16&255,j>>>8&255,j&255,M>>>24&255,M>>>16&255,M>>>8&255,M&255),R==512&&W.push(J>>>24&255,J>>>16&255,J>>>8&255,J&255,Y>>>24&255,Y>>>16&255,Y>>>8&255,Y&255,nt>>>24&255,nt>>>16&255,nt>>>8&255,nt&255,tt>>>24&255,tt>>>16&255,tt>>>8&255,tt&255),W},z.prototype.array=z.prototype.digest,z.prototype.arrayBuffer=function(){this.finalize();var A=this.bits,v=new ArrayBuffer(A/8),g=new DataView(v);return g.setUint32(0,this.h0h),g.setUint32(4,this.h0l),g.setUint32(8,this.h1h),g.setUint32(12,this.h1l),g.setUint32(16,this.h2h),g.setUint32(20,this.h2l),g.setUint32(24,this.h3h),A>=256&&g.setUint32(28,this.h3l),A>=384&&(g.setUint32(32,this.h4h),g.setUint32(36,this.h4l),g.setUint32(40,this.h5h),g.setUint32(44,this.h5l)),A==512&&(g.setUint32(48,this.h6h),g.setUint32(52,this.h6l),g.setUint32(56,this.h7h),g.setUint32(60,this.h7l)),v},z.prototype.clone=function(){var A=new z(this.bits,!1);return this.copyTo(A),A},z.prototype.copyTo=function(A){var v=0,g=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(v=0;v<g.length;++v)A[g[v]]=this[g[v]];for(v=0;v<this.blocks.length;++v)A.blocks[v]=this.blocks[v]};function at(A,v,g){var N,_=S(A);if(A=_[0],_[1]){for(var C=[],O=A.length,w=0,F,N=0;N<O;++N)F=A.charCodeAt(N),F<128?C[w++]=F:F<2048?(C[w++]=192|F>>>6,C[w++]=128|F&63):F<55296||F>=57344?(C[w++]=224|F>>>12,C[w++]=128|F>>>6&63,C[w++]=128|F&63):(F=65536+((F&1023)<<10|A.charCodeAt(++N)&1023),C[w++]=240|F>>>18,C[w++]=128|F>>>12&63,C[w++]=128|F>>>6&63,C[w++]=128|F&63);A=C}A.length>128&&(A=new z(v,!0).update(A).array());for(var P=[],j=[],N=0;N<128;++N){var M=A[N]||0;P[N]=92^M,j[N]=54^M}z.call(this,v,g),this.update(j),this.oKeyPad=P,this.inner=!0,this.sharedMemory=g}at.prototype=new z,at.prototype.finalize=function(){if(z.prototype.finalize.call(this),this.inner){this.inner=!1;var A=this.array();z.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(A),z.prototype.finalize.call(this)}},at.prototype.clone=function(){var A=new at([],this.bits,!1);this.copyTo(A),A.inner=this.inner;for(var v=0;v<this.oKeyPad.length;++v)A.oKeyPad[v]=this.oKeyPad[v];return A};var lt=q(512);lt.sha512=lt,lt.sha384=q(384),lt.sha512_256=q(256),lt.sha512_224=q(224),lt.sha512.hmac=U(512),lt.sha384.hmac=U(384),lt.sha512_256.hmac=U(256),lt.sha512_224.hmac=U(224),a?e.exports=lt:(r.sha512=lt.sha512,r.sha384=lt.sha384,r.sha512_256=lt.sha512_256,r.sha512_224=lt.sha512_224)})()}(Na)),Na.exports}var sF=nF();go();const iF={name:"VuAuth",props:{modelValue:Object},data(){return{theme:"light",auth:void 0,username:"",password:"",password_again:"",accepts:{},inputs:{},recaptchaSiteKey:null,responseMessage:null,captcha:{items:["A","B","C","D","E"],required:"D",selected:null},loading:!1,modalId:null,modalElement:null,modalWindow:null}},components:{VuAdminForm:eu},watch:{modelValue(e,t){e!=t&&(this.auth=e,this.updateInputs(),this.$forceUpdate())}},methods:{detectQuery(){const e=new URL(window.location.href);if(e.searchParams.has("vuparams")){let t=e.searchParams.get("vuparams");if(t){let n=JSON.parse(t);n.panel&&(this.auth.panel=n.panel,this.auth.visible=!0,this.auth.inputs=n.inputs?n.inputs:null,this.updateInputs()),e.searchParams.delete("vuparams"),window.history.replaceState({},"",e.toString())}}},updateInputs(){this.auth.inputs&&(this.inputs=Object.assign(this.inputs,this.auth.inputs))},checkStorage(){let e=localStorage.getItem("vu-user"),t=localStorage.getItem("vu-header"),n=localStorage.getItem("vu-settings");typeof e=="string"&&e&&e[0]==="{"&&(this.auth.user=JSON.parse(e)),typeof t=="string"&&t&&t[0]==="{"&&(this.auth.header=JSON.parse(t)),typeof n=="string"&&n&&n[0]==="{"&&(this.auth.settings=JSON.parse(n)),!this.auth.user||!this.auth.header?this.logout():(this.auth.success=!0,this.authUpdate())},async loadProfile(){try{if(!(await fetch(this.settings.api.profile,{method:"GET",headers:this.auth.header})).ok){this.onError("profile");return}}catch{this.onError("profile")}},logout(){this.auth.success=!1,this.auth.header=null,this.auth.settings=null,this.auth.user=null,this.authUpdate(),localStorage.removeItem("vu-user"),localStorage.removeItem("vu-header"),localStorage.removeItem("vu-settings")},reset(){this.password="",this.password_again="",this.auth.response={}},close(){this.auth.visible=!1,this.authUpdate(),this.reset()},toggleClear(){this.auth.panel="login",this.reset()},toggleForgotPassword(){this.auth.panel=this.auth.panel!=="forgot"?"forgot":"login",this.reset()},toggleNewRegistration(){this.auth.panel=this.auth.panel!=="registration"?"registration":"login",this.reset()},toggleType(e){this.settings[e].type=this.settings[e].type!=="password"?"password":"text",this.$forceUpdate()},async getStatusAndJson(e){this.auth.response.code=e.status;try{this.auth.response.data=await e.json()}catch(t){this.auth.response.data=null,console.error("Error parsing response:",t)}},onSuccess(e){this.auth.response.ok=!0,this.settings.onSuccess&&this.settings.onSuccess[e]&&(this.settings.onSuccess[e](this.auth),this.auth.header||(this.auth.header={}),this.auth.user.role?this.auth.header["X-Auth-Role"]=this.auth.user.role:this.auth.user.roles&&(this.auth.user.role=this.auth.user.roles[0],this.auth.header["X-Auth-Role"]=this.auth.user.role),this.auth.user.token&&(this.auth.header["X-Auth-Token"]=this.auth.user.token),this.auth.success=!0,localStorage.setItem("vu-user",JSON.stringify(this.auth.user)),localStorage.setItem("vu-header",JSON.stringify(this.auth.header)),localStorage.setItem("vu-settings",JSON.stringify(this.auth.settings))),setTimeout(()=>{this.authUpdate(),this.$forceUpdate()},0)},onError(e){this.auth.success=!1,this.auth.response.ok=!1,this.settings.onError&&this.settings.onError[e]&&this.settings.onError[e](this.auth),setTimeout(()=>{this.authUpdate(),this.$forceUpdate()},0)},onPasswordReset(e){this.auth.response.ok=!0,this.settings.onSuccess&&this.settings.onSuccess[e]&&this.settings.onSuccess[e](this.auth),setTimeout(()=>{this.$forceUpdate()},0)},onPasswordUpdate(e){this.auth.response.ok=!0,this.settings.onSuccess&&this.settings.onSuccess[e]&&this.settings.onSuccess[e](this.auth),setTimeout(()=>{this.$forceUpdate()},0)},async handleSubmit(){this.loading=!0;try{switch(this.auth.panel){case"login":await this.handleLogin();break;case"forgot":await this.handleForgotPasswordSubmit();break;case"registration":await this.handleNewRegistrationSubmit();break;case"activation":await this.handleActivationSubmit();break;case"password":await this.handlePasswordSubmit();break}}finally{this.loading=!1}},async handleLogin(){if(this.auth.response={},!this.username||!this.password)return;const e=await fetch(this.settings.api.login,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:await this.hashPassword(this.password),accept:this.accepts})});await this.getStatusAndJson(e),e.ok?(this.onSuccess("login"),this.close()):this.onError("login")},async handleNewRegistrationSubmit(){if(this.auth.response={},!this.username||!this.password||!this.password_again||this.password!==this.password_again)return;const e=await fetch(this.settings.api.register,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:await this.hashPassword(this.password),accept:this.accepts,input:this.inputs})});await this.getStatusAndJson(e),e.ok?this.onSuccess("registration"):this.onError("registration")},async handleActivationSubmit(){this.auth.response={};const e=await fetch(this.settings.api.activation,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.inputs)});await this.getStatusAndJson(e),e.ok?(this.onSuccess("activation"),this.close()):this.onError("activation")},async handleForgotPasswordSubmit(){this.auth.response={};try{const e=await fetch(this.settings.api.forgot,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username})});await this.getStatusAndJson(e),e.ok?this.onPasswordReset("forgot"):this.onError("forgot")}catch{this.onError("forgot")}},async handlePasswordSubmit(){if(this.auth.response={},!(!this.password||!this.password_again||this.password!==this.password_again))try{const e=await fetch(this.settings.api.password,{method:"POST",headers:{"Content-Type":"application/json",...this.auth.header},body:JSON.stringify({password:await this.hashPassword(this.password),...this.inputs})});await this.getStatusAndJson(e),e.ok?this.onPasswordUpdate("password"):this.onError("password")}catch{this.onError("password")}},async hashPassword(e){return this.settings.password.hash=this.settings.password.hash===void 0?0:this.settings.password.hash,this.generateHash(e,this.settings.password.hash)},async generateHash(e,t){let n=e;for(let s=0;s<t;s++)n=sF.sha512(n);return n},authUpdate(){this.$emit("update:modelValue",this.auth)},handleEscapeKey(e){e.key==="Escape"&&this.close()},getValueOrFunction(e,t){return $n(e,t,this.settings,this)},translate(e,t,n){return fs(e,this.settings.translate,t,n||this.settings.language)},onCaptchaClick(){console.log("reCAPTCHA clicked")}},created(){window.VuSettings&&window.VuSettings.auth&&(this.theme=window.VuSettings.theme?window.VuSettings.theme:"light",this.settings=window.VuSettings.auth);let e=Math.round(Math.random()*1e5);this.formId="form_profil_"+e,this.modalId="modal_profil_"+e},mounted(){if(window.addEventListener("keydown",this.handleEscapeKey),this.recaptchaSiteKey&&!document.querySelector('script[src="https://www.google.com/recaptcha/api.js"]')){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.async=!0,e.defer=!0,document.head.appendChild(e)}this.settings.username.value&&(this.username=this.settings.username.value),this.auth||(this.auth={user:void 0,header:void 0,settings:void 0,success:!1,response:{ok:!1,message:null,data:null}}),console.log(this.auth),this.checkStorage(),this.reset(),this.updateInputs(),this.$forceUpdate(),this.detectQuery(),this.settings.debug&&console.log("vu-auth mounted ","1.2.130")},beforeUnmount(){window.removeEventListener("keydown",this.handleEscapeKey)}},rF=["data-bs-theme"],oF={class:"col-12 col-sm-10 col-md-8 col-lg-6 col-xl-4 mx-auto"},aF={class:"position-absolute top-0 end-0 p-0 m-2"},lF={key:0,class:"spinner-border spinner-border-sm text-primary"},cF={class:"text-center mt-2 mb-4"},hF={key:0,class:"mb-3"},dF={for:"email",class:"form-label text-primary"},uF={class:"input-group"},fF=["type","placeholder","disabled"],pF=["innerHTML"],mF={class:"mb-3"},gF={key:0,for:"password",class:"form-label text-primary"},bF={class:"input-group"},yF=["type","placeholder","pattern","minlength","disabled"],EF={key:0,class:"bi bi-eye"},_F={key:1,class:"bi bi-eye-slash"},wF=["innerHTML"],kF={key:0,class:"mb-4"},NF={for:"password_again",class:"form-label text-primary"},AF=["innerHTML"],TF={class:"input-group"},CF=["type","placeholder","minlength","disabled"],FF={key:0,class:"bi bi-eye"},xF={key:1,class:"bi bi-eye-slash"},SF=["innerHTML"],BF={class:"mb-3 text-center"},OF=["data-sitekey"],LF={key:2,class:"mb-4 text-center"},VF=["innerHTML"],IF={key:3,class:"d-flex mb-4"},vF=["innerHTML"],DF={class:"row"},$F={class:"mb-3"},MF=["for","innerHTML"],RF={class:"input-group"},qF=["innerHTML"],PF=["disabled","required","onUpdate:modelValue","multiple"],jF=["value","innerHTML"],UF=["id","name","type","onUpdate:modelValue","placeholder","required","disabled"],HF=["innerHTML"],zF=["innerHTML"],WF={key:0,class:"form-check"},KF=["id","name","onUpdate:modelValue","required","disabled"],GF=["for","innerHTML"],YF={key:4,class:"mt-4"},XF=["innerHTML"],ZF={key:5,class:"mt-3 text-center"},JF=["innerHTML"],QF={class:"mt-4 d-flex justify-content-between"},tx=["disabled"],ex=["disabled"],nx=["disabled"],sx={key:0,class:"bi bi-person-plus mx-1"},ix={key:1,class:"bi bi-arrow-right-square mx-1"},rx={class:"mt-2 text-end"},ox=["disabled"],ax=["id"],lx={class:"modal-dialog modal-xl"},cx={class:"modal-content h-100"};function hx(e,t,n,s,r,o){const l=i.resolveComponent("VuAdminForm");return e.auth&&e.auth.visible?(i.openBlock(),i.createElementBlock("div",{key:0,class:"vua-auth","data-bs-theme":[e.theme]},[i.createElementVNode("div",{class:"row d-flex justify-content-center align-items-center min-vh-100",onClick:t[14]||(t[14]=i.withModifiers((...a)=>e.close&&e.close(...a),["stop"]))},[i.createElementVNode("div",oF,[i.createElementVNode("div",{class:"card shadow p-4 position-relative",onClick:t[13]||(t[13]=i.withModifiers(()=>{},["stop"]))},[i.createElementVNode("div",aF,[e.loading?(i.openBlock(),i.createElementBlock("i",lF)):i.createCommentVNode("",!0),i.createElementVNode("button",{type:"button",class:"btn p-2",onClick:t[0]||(t[0]=i.withModifiers((...a)=>e.close&&e.close(...a),["stop"]))},t[16]||(t[16]=[i.createElementVNode("i",{class:"bi bi-x px-1 text-muted"},null,-1)]))]),i.createElementVNode("h1",cF,i.toDisplayString(e.settings.title[e.auth.panel]),1),i.createElementVNode("form",{onSubmit:t[11]||(t[11]=i.withModifiers(a=>e.handleSubmit(),["prevent"])),onClick:t[12]||(t[12]=i.withModifiers(()=>{},["stop"]))},[e.auth.panel!="activation"&&e.auth.panel!="password"?(i.openBlock(),i.createElementBlock("div",hF,[i.createElementVNode("label",dF,i.toDisplayString(e.settings.username.label),1),i.createElementVNode("div",uF,[e.settings.username.icon?(i.openBlock(),i.createElementBlock("span",{key:0,class:i.normalizeClass(["input-group-text",{"rounded-bottom-0":e.settings.username.help}])},[i.createElementVNode("i",{class:i.normalizeClass([e.settings.username.icon])},null,2)],2)):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("input",{id:"email",name:"email",type:e.settings.username.type,"onUpdate:modelValue":t[1]||(t[1]=a=>e.username=a),class:i.normalizeClass(["form-control",{"rounded-bottom-0":e.settings.username.help}]),placeholder:e.settings.username.placeholder,required:"",disabled:e.loading},null,10,fF),[[i.vModelDynamic,e.username]])]),e.settings.username.help?(i.openBlock(),i.createElementBlock("small",{key:0,class:"d-block border border-top-0 rounded-bottom p-2 text-muted",innerHTML:e.settings.username.help},null,8,pF)):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),e.auth.panel!="forgot"&&e.auth.panel!="activation"?(i.openBlock(),i.createElementBlock(i.Fragment,{key:1},[i.createElementVNode("div",mF,[e.settings.password.label?(i.openBlock(),i.createElementBlock("label",gF,i.toDisplayString(e.settings.password.label),1)):i.createCommentVNode("",!0),i.createElementVNode("div",bF,[e.settings.password.icon?(i.openBlock(),i.createElementBlock("span",{key:0,class:i.normalizeClass(["input-group-text",{"rounded-bottom-0":(e.auth.panel=="registration"||e.auth.panel=="password")&&e.settings.password.help}])},[i.createElementVNode("i",{class:i.normalizeClass([e.settings.password.icon])},null,2)],2)):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("input",{id:"password",name:"password",type:e.settings.password.type,"onUpdate:modelValue":t[2]||(t[2]=a=>e.password=a),class:i.normalizeClass(["form-control",{"rounded-bottom-0":e.auth.panel=="registration"&&e.settings.password.help}]),placeholder:e.settings.password.placeholder,pattern:e.settings.password.pattern,minlength:e.auth.panel=="registration"?e.settings.password.minlength:1,required:"",disabled:e.loading},null,10,yF),[[i.vModelDynamic,e.password]]),e.auth.panel=="registration"||e.auth.panel=="password"?(i.openBlock(),i.createElementBlock("span",{key:1,class:i.normalizeClass(["input-group-text",{"rounded-bottom-0":(e.auth.panel=="registration"||e.auth.panel=="password")&&e.settings.password.help}])},[i.createElementVNode("small",{class:i.normalizeClass(["",{"text-success":e.password.length>=e.settings.password.minlength,"text-danger":e.password.length<e.settings.password.minlength}])},i.toDisplayString(e.password.length),3)],2)):i.createCommentVNode("",!0),i.createElementVNode("span",{class:i.normalizeClass(["cursor-pointer input-group-text",{"rounded-bottom-0":(e.auth.panel=="registration"||e.auth.panel=="password")&&e.settings.password.help}]),onClick:t[3]||(t[3]=i.withModifiers(a=>e.toggleType("password"),["stop"]))},[e.settings.password.type=="password"?(i.openBlock(),i.createElementBlock("i",EF)):(i.openBlock(),i.createElementBlock("i",_F))],2)]),(e.auth.panel=="registration"||e.auth.panel=="password")&&e.settings.password.help?(i.openBlock(),i.createElementBlock("small",{key:1,class:"d-block border border-top-0 rounded-bottom p-2 text-muted",innerHTML:e.settings.password.help},null,8,wF)):i.createCommentVNode("",!0)]),e.auth.panel==="registration"||e.auth.panel==="password"?(i.openBlock(),i.createElementBlock("div",kF,[i.createElementVNode("label",NF,[i.createTextVNode(i.toDisplayString(e.settings.password_again.label)+" ",1),e.password_again.length>0&&e.password_again!=e.password?(i.openBlock(),i.createElementBlock("small",{key:0,class:"text-danger",innerHTML:e.settings.password_again.nomatch},null,8,AF)):i.createCommentVNode("",!0)]),i.createElementVNode("div",TF,[e.settings.password.icon?(i.openBlock(),i.createElementBlock("span",{key:0,class:i.normalizeClass(["input-group-text",{"rounded-bottom-0":e.settings.password_again.help}])},[i.createElementVNode("i",{class:i.normalizeClass([e.settings.password_again.icon])},null,2)],2)):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("input",{id:"password_again",name:"password_again",type:e.settings.password_again.type,"onUpdate:modelValue":t[4]||(t[4]=a=>e.password_again=a),class:i.normalizeClass(["form-control",{"rounded-bottom-0":e.settings.password_again.help}]),placeholder:e.settings.password_again.placeholder,minlength:e.settings.password.minlength,required:"",disabled:e.loading},null,10,CF),[[i.vModelDynamic,e.password_again]]),i.createElementVNode("span",{class:i.normalizeClass(["input-group-text",{"rounded-bottom-0":e.settings.password_again.help}])},[i.createElementVNode("small",{class:i.normalizeClass(["",{"text-success":e.password_again.length>=e.settings.password.minlength,"text-danger":e.password_again.length<e.settings.password.minlength}])},i.toDisplayString(e.password_again.length),3)],2),i.createElementVNode("span",{class:i.normalizeClass(["cursor-pointer input-group-text",{"rounded-bottom-0":(e.auth.panel=="registration"||e.auth.panel=="password")&&e.settings.password_again.help}]),onClick:t[5]||(t[5]=i.withModifiers(a=>e.toggleType("password_again"),["stop"]))},[e.settings.password_again.type=="password"?(i.openBlock(),i.createElementBlock("i",FF)):(i.openBlock(),i.createElementBlock("i",xF))],2)]),(e.auth.panel=="registration"||e.auth.panel=="password")&&e.settings.password_again.help?(i.openBlock(),i.createElementBlock("small",{key:0,class:"d-block border border-top-0 rounded-bottom p-2 text-muted",innerHTML:e.settings.password_again.help},null,8,SF)):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),i.createElementVNode("div",BF,[i.createElementVNode("div",{class:"g-recaptcha","data-sitekey":e.recaptchaSiteKey,onClick:t[6]||(t[6]=i.withModifiers((...a)=>e.onCaptchaClick&&e.onCaptchaClick(...a),["stop"]))},null,8,OF)])],64)):i.createCommentVNode("",!0),e.auth.panel=="login"&&e.settings.password.forgot?(i.openBlock(),i.createElementBlock("div",LF,[i.createElementVNode("button",{type:"button",class:"btn btn-link p-0 text-decoration-none text-nowrap",onClick:t[7]||(t[7]=i.withModifiers((...a)=>e.toggleForgotPassword&&e.toggleForgotPassword(...a),["stop"])),innerHTML:e.settings.password.forgot},null,8,VF)])):i.createCommentVNode("",!0),e.auth.panel=="forgot"&&e.settings.help&&e.settings.help.forgot?(i.openBlock(),i.createElementBlock("div",IF,[i.createElementVNode("small",{class:"text-muted",innerHTML:e.settings.help.forgot},null,8,vF)])):i.createCommentVNode("",!0),i.createElementVNode("div",DF,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.settings.inputs,(a,c)=>(i.openBlock(),i.createElementBlock(i.Fragment,{key:c},[a.panels.indexOf(e.auth.panel)>=0&&!a.hidden?(i.openBlock(),i.createElementBlock("div",{key:0,class:i.normalizeClass([a.colclass?a.colclass:"col-md-12"])},[i.createElementVNode("div",$F,[a.label?(i.openBlock(),i.createElementBlock("label",{key:0,for:c,class:i.normalizeClass(["form-label text-primary",{required:a.required}]),innerHTML:e.getValueOrFunction(a.label)},null,10,MF)):i.createCommentVNode("",!0),i.createElementVNode("div",RF,[a.prefix?(i.openBlock(),i.createElementBlock("span",{key:0,class:i.normalizeClass(["input-group-text",{"rounded-bottom-0":a.help}]),innerHTML:e.getValueOrFunction(a.prefix)},null,10,qF)):i.createCommentVNode("",!0),a.type=="select"?i.withDirectives((i.openBlock(),i.createElementBlock("select",{key:1,class:"form-select",disabled:e.loading,required:a.required,"onUpdate:modelValue":h=>e.inputs[c]=h,multiple:a.multiple},[t[17]||(t[17]=i.createElementVNode("option",null,null,-1)),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(a.options,h=>(i.openBlock(),i.createElementBlock("option",{key:h,value:h.value,innerHTML:e.getValueOrFunction(h.label)},null,8,jF))),128))],8,PF)),[[i.vModelSelect,e.inputs[c]]]):i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:2,id:c,name:c,type:a.type,"onUpdate:modelValue":h=>e.inputs[c]=h,class:i.normalizeClass(["form-control",{"rounded-bottom-0":a.help}]),placeholder:a.placeholder,required:a.required,disabled:e.loading},null,10,UF)),[[i.vModelDynamic,e.inputs[c]]]),a.suffix?(i.openBlock(),i.createElementBlock("span",{key:3,class:i.normalizeClass(["input-group-text",{"rounded-bottom-0":a.help}]),innerHTML:e.getValueOrFunction(a.suffix)},null,10,HF)):i.createCommentVNode("",!0)]),a.help?(i.openBlock(),i.createElementBlock("small",{key:1,class:"d-block border border-top-0 rounded-bottom p-2 text-muted",innerHTML:e.getValueOrFunction(a.help)},null,8,zF)):i.createCommentVNode("",!0)])],2)):i.createCommentVNode("",!0)],64))),128))]),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.settings.accepts,a=>(i.openBlock(),i.createElementBlock("div",{key:a},[a.panels.indexOf(e.auth.panel)>=0?(i.openBlock(),i.createElementBlock("div",WF,[i.withDirectives(i.createElementVNode("input",{type:"checkbox",class:"form-check-input",id:"accept_"+a.name,name:"accept_"+a.name,"onUpdate:modelValue":c=>e.accepts[a.name]=c,required:a.required,disabled:e.loading},null,8,KF),[[i.vModelCheckbox,e.accepts[a.name]]]),a.label?(i.openBlock(),i.createElementBlock("label",{key:0,class:"form-check-label",for:"accept_"+a.name,innerHTML:e.getValueOrFunction(a.label)},null,8,GF)):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0)]))),128)),e.auth.panel=="registration"&&e.settings.help&&e.settings.help.registration?(i.openBlock(),i.createElementBlock("div",YF,[i.createElementVNode("div",{innerHTML:e.getValueOrFunction(e.settings.help.registration)},null,8,XF)])):i.createCommentVNode("",!0),e.auth.response.message?(i.openBlock(),i.createElementBlock("div",ZF,[i.createElementVNode("div",{class:i.normalizeClass({"text-danger":!e.auth.response.ok,"text-success":e.auth.response.ok}),innerHTML:e.auth.response.message},null,10,JF)])):i.createCommentVNode("",!0),i.createElementVNode("div",QF,[e.auth.panel!="login"&&e.auth.panel!="activation"?(i.openBlock(),i.createElementBlock("button",{key:0,type:"button",onClick:t[8]||(t[8]=i.withModifiers((...a)=>e.toggleClear&&e.toggleClear(...a),["stop"])),class:"btn btn-secondary w-100 me-2 text-nowrap",disabled:e.loading},[t[18]||(t[18]=i.createElementVNode("i",{class:"bi bi-arrow-left-square mx-1"},null,-1)),i.createTextVNode(" "+i.toDisplayString(e.settings.submit.login),1)],8,tx)):i.createCommentVNode("",!0),e.auth.panel=="login"?(i.openBlock(),i.createElementBlock("button",{key:1,type:"button",class:"btn btn-warning w-100 me-2 text-nowrap",onClick:t[9]||(t[9]=i.withModifiers((...a)=>e.toggleNewRegistration&&e.toggleNewRegistration(...a),["stop"])),disabled:e.loading},[t[19]||(t[19]=i.createElementVNode("i",{class:"bi bi-person-plus mx-1"},null,-1)),i.createTextVNode(" "+i.toDisplayString(e.settings.submit.registration),1)],8,ex)):i.createCommentVNode("",!0),i.createElementVNode("button",{type:"submit",class:i.normalizeClass(["btn w-100 text-nowrap",{"btn-primary":e.auth.panel!="registration","btn-warning":e.auth.panel=="registration"}]),disabled:e.loading},[i.createTextVNode(i.toDisplayString(e.settings.submit[e.auth.panel])+" ",1),e.auth.panel=="registration"?(i.openBlock(),i.createElementBlock("i",sx)):(i.openBlock(),i.createElementBlock("i",ix))],10,nx)]),i.createElementVNode("div",rx,[i.createElementVNode("button",{type:"button",onClick:t[10]||(t[10]=i.withModifiers((...a)=>e.close&&e.close(...a),["stop"])),class:"btn btn-light border w-100 me-1",disabled:e.loading},[i.createTextVNode(i.toDisplayString(e.settings.submit.cancel)+" ",1),t[20]||(t[20]=i.createElementVNode("i",{class:"bi bi-x-square mx-1"},null,-1))],8,ox)])],32)])])]),i.createElementVNode("div",{class:"modal shadow",id:e.modalId,tabindex:"-1"},[i.createElementVNode("div",lx,[i.createElementVNode("div",cx,[e.settings.form&&e.settings.form.visible&&e.settings.form.groups?(i.openBlock(),i.createBlock(l,{key:0,modelValue:e.item,"onUpdate:modelValue":t[15]||(t[15]=a=>e.item=a),formid:e.formId,settings:e.settings,modalWindow:e.modalWindow,auth:e.auth,saveItem:e.saveItem,deleteItem:e.deleteItem,reloadTable:e.reloadTable,fetchRelation:e.fetchRelation},null,8,["modelValue","formid","settings","modalWindow","auth","saveItem","deleteItem","reloadTable","fetchRelation"])):i.createCommentVNode("",!0)])])],8,ax)],8,rF)):i.createCommentVNode("",!0)}const dx=ye(iF,[["render",hx]]);go();const ux={name:"VuUserButton",props:{modelValue:Object,panel:String},data(){return{theme:"light",auth:{},settings:{}}},watch:{modelValue(e,t){e!=t&&(this.auth=e,this.$forceUpdate())}},computed:{},methods:{updateAuth(){this.$emit("update:modelValue",this.auth)},togglePanel(){this.auth.visible=!this.auth.visible,this.auth.panel=this.panel?this.panel:"login",this.updateAuth()},setSelectedRole(e){this.auth.user.role=e,this.auth.header["X-Auth-Role"]=this.auth.user.role,localStorage.setItem("vu-user",JSON.stringify(this.auth.user)),localStorage.setItem("vu-header",JSON.stringify(this.auth.header))},logout(){this.auth.visible=!1,this.auth.user=null,this.auth.header=null,this.auth.success=!1,this.auth.settings=null,this.updateAuth(),localStorage.removeItem("vu-user"),localStorage.removeItem("vu-header"),localStorage.removeItem("vu-settings")},dropdownAction(e,t){t&&t.stopPropagation(),e.action&&e.action({dropdown:e,settings:this.settings},this)},getValueOrFunction(e,t){return $n(e,t,this.settings,this)}},created(){window.VuSettings&&window.VuSettings.button&&(this.theme=window.VuSettings.theme?window.VuSettings.theme:"light",window.VuSettings.button[this.panel]&&(this.settings=window.VuSettings.button[this.panel]))},mounted(){}},fx=["data-bs-theme"],px={key:0,class:"dropdown"},mx=["innerHTML"],gx={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"userDropdown"},bx=["innerHTML"],yx=["onClick"],Ex=["onClick","innerHTML"],_x={key:1,class:"d-inline-block"},wx=["innerHTML"];function kx(e,t,n,s,r,o){return!e.auth.user&&e.panel!="login"||e.panel=="login"?(i.openBlock(),i.createElementBlock("div",{key:0,class:"vua-user-button d-inline-block","data-bs-theme":[e.theme]},[e.auth.user?(i.openBlock(),i.createElementBlock("div",px,[i.createElementVNode("button",{class:i.normalizeClass(["dropdown-toggle",[e.settings.class]]),type:"button",id:"userDropdown","data-bs-toggle":"dropdown","aria-expanded":"false"},[i.createElementVNode("span",{innerHTML:e.getValueOrFunction(e.settings.label)},null,8,mx)],2),i.createElementVNode("ul",gx,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.settings.dropdowns,l=>(i.openBlock(),i.createElementBlock(i.Fragment,{key:l},[l.action=="BUTTON_ROLES"?(i.openBlock(),i.createElementBlock("li",{key:0,class:i.normalizeClass([[l.class],"d-flex items-align-center"])},[i.createElementVNode("span",{innerHTML:e.getValueOrFunction(l.label),class:"me-2"},null,8,bx),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.auth.user.roles,a=>(i.openBlock(),i.createElementBlock("button",{key:a,onClick:c=>e.setSelectedRole(a),class:i.normalizeClass(["btn btn-sm btn-secondary p-0 px-1 me-1",{"bg-primary text-light":a==e.auth.user.role}])},i.toDisplayString(a),11,yx))),128))],2)):(i.openBlock(),i.createElementBlock("li",{key:1,class:i.normalizeClass([l.class]),onClick:a=>e.dropdownAction(l),innerHTML:e.getValueOrFunction(l.label)},null,10,Ex))],64))),128))])])):(i.openBlock(),i.createElementBlock("div",_x,[i.createElementVNode("button",{class:i.normalizeClass([e.settings.class]),type:"button",onClick:t[0]||(t[0]=(...l)=>e.togglePanel&&e.togglePanel(...l))},[e.settings.icon?(i.openBlock(),i.createElementBlock("i",{key:0,class:i.normalizeClass([e.settings.icon])},null,2)):i.createCommentVNode("",!0),i.createElementVNode("span",{innerHTML:e.getValueOrFunction(e.settings.label)},null,8,wx)],2)]))],8,fx)):i.createCommentVNode("",!0)}const Nx=ye(ux,[["render",kx]]);yt.VuAdmin=eF,yt.VuAuth=dx,yt.VuUserButton=Nx,Object.defineProperty(yt,Symbol.toStringTag,{value:"Module"})});
