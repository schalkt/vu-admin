(function(fe,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],i):(fe=typeof globalThis<"u"?globalThis:fe||self,i(fe.VuAdmin={},fe.Vue))})(this,function(fe,i){"use strict";var pL=Object.defineProperty;var gL=(fe,i,be)=>i in fe?pL(fe,i,{enumerable:!0,configurable:!0,writable:!0,value:be}):fe[i]=be;var M=(fe,i,be)=>gL(fe,typeof i!="symbol"?i+"":i,be);var be="top",$e="bottom",Me="right",Le="left",yi="auto",Dn=[be,$e,Me,Le],an="start",xn="end",cl="clippingParents",Br="viewport",$n="popper",dl="reference",Vr=Dn.reduce(function(t,e){return t.concat([e+"-"+an,e+"-"+xn])},[]),Ir=[].concat(Dn,[yi]).reduce(function(t,e){return t.concat([e,e+"-"+an,e+"-"+xn])},[]),hl="beforeRead",ul="read",fl="afterRead",ml="beforeMain",pl="main",gl="afterMain",bl="beforeWrite",yl="write",El="afterWrite",_l=[hl,ul,fl,ml,pl,gl,bl,yl,El];function dt(t){return t?(t.nodeName||"").toLowerCase():null}function Re(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ln(t){var e=Re(t).Element;return t instanceof e||t instanceof Element}function Pe(t){var e=Re(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function vr(t){if(typeof ShadowRoot>"u")return!1;var e=Re(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function gu(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},r=e.attributes[n]||{},o=e.elements[n];!Pe(o)||!dt(o)||(Object.assign(o.style,s),Object.keys(r).forEach(function(a){var l=r[a];l===!1?o.removeAttribute(a):o.setAttribute(a,l===!0?"":l)}))})}function bu(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var r=e.elements[s],o=e.attributes[s]||{},a=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),l=a.reduce(function(c,h){return c[h]="",c},{});!Pe(r)||!dt(r)||(Object.assign(r.style,l),Object.keys(o).forEach(function(c){r.removeAttribute(c)}))})}}const Dr={name:"applyStyles",enabled:!0,phase:"write",fn:gu,effect:bu,requires:["computeStyles"]};function ht(t){return t.split("-")[0]}var cn=Math.max,Ei=Math.min,Mn=Math.round;function xr(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function wl(){return!/^((?!chrome|android).)*safari/i.test(xr())}function Rn(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),r=1,o=1;e&&Pe(t)&&(r=t.offsetWidth>0&&Mn(s.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Mn(s.height)/t.offsetHeight||1);var a=ln(t)?Re(t):window,l=a.visualViewport,c=!wl()&&n,h=(s.left+(c&&l?l.offsetLeft:0))/r,f=(s.top+(c&&l?l.offsetTop:0))/o,u=s.width/r,p=s.height/o;return{width:u,height:p,top:f,right:h+u,bottom:f+p,left:h,x:h,y:f}}function $r(t){var e=Rn(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function kl(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&vr(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Tt(t){return Re(t).getComputedStyle(t)}function yu(t){return["table","td","th"].indexOf(dt(t))>=0}function jt(t){return((ln(t)?t.ownerDocument:t.document)||window.document).documentElement}function _i(t){return dt(t)==="html"?t:t.assignedSlot||t.parentNode||(vr(t)?t.host:null)||jt(t)}function Nl(t){return!Pe(t)||Tt(t).position==="fixed"?null:t.offsetParent}function Eu(t){var e=/firefox/i.test(xr()),n=/Trident/i.test(xr());if(n&&Pe(t)){var s=Tt(t);if(s.position==="fixed")return null}var r=_i(t);for(vr(r)&&(r=r.host);Pe(r)&&["html","body"].indexOf(dt(r))<0;){var o=Tt(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function ws(t){for(var e=Re(t),n=Nl(t);n&&yu(n)&&Tt(n).position==="static";)n=Nl(n);return n&&(dt(n)==="html"||dt(n)==="body"&&Tt(n).position==="static")?e:n||Eu(t)||e}function Mr(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ks(t,e,n){return cn(t,Ei(e,n))}function _u(t,e,n){var s=ks(t,e,n);return s>n?n:s}function Tl(){return{top:0,right:0,bottom:0,left:0}}function Al(t){return Object.assign({},Tl(),t)}function Cl(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var wu=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Al(typeof e!="number"?e:Cl(e,Dn))};function ku(t){var e,n=t.state,s=t.name,r=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,l=ht(n.placement),c=Mr(l),h=[Le,Me].indexOf(l)>=0,f=h?"height":"width";if(!(!o||!a)){var u=wu(r.padding,n),p=$r(o),g=c==="y"?be:Le,E=c==="y"?$e:Me,w=n.rects.reference[f]+n.rects.reference[c]-a[c]-n.rects.popper[f],k=a[c]-n.rects.reference[c],N=ws(o),L=N?c==="y"?N.clientHeight||0:N.clientWidth||0:0,v=w/2-k/2,D=u[g],x=L-p[f]-u[E],z=L/2-p[f]/2+v,X=ks(D,z,x),ee=c;n.modifiersData[s]=(e={},e[ee]=X,e.centerOffset=X-z,e)}}function Nu(t){var e=t.state,n=t.options,s=n.element,r=s===void 0?"[data-popper-arrow]":s;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||kl(e.elements.popper,r)&&(e.elements.arrow=r))}const Sl={name:"arrow",enabled:!0,phase:"main",fn:ku,effect:Nu,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qn(t){return t.split("-")[1]}var Tu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Au(t,e){var n=t.x,s=t.y,r=e.devicePixelRatio||1;return{x:Mn(n*r)/r||0,y:Mn(s*r)/r||0}}function Ol(t){var e,n=t.popper,s=t.popperRect,r=t.placement,o=t.variation,a=t.offsets,l=t.position,c=t.gpuAcceleration,h=t.adaptive,f=t.roundOffsets,u=t.isFixed,p=a.x,g=p===void 0?0:p,E=a.y,w=E===void 0?0:E,k=typeof f=="function"?f({x:g,y:w}):{x:g,y:w};g=k.x,w=k.y;var N=a.hasOwnProperty("x"),L=a.hasOwnProperty("y"),v=Le,D=be,x=window;if(h){var z=ws(n),X="clientHeight",ee="clientWidth";if(z===Re(n)&&(z=jt(n),Tt(z).position!=="static"&&l==="absolute"&&(X="scrollHeight",ee="scrollWidth")),z=z,r===be||(r===Le||r===Me)&&o===xn){D=$e;var de=u&&z===x&&x.visualViewport?x.visualViewport.height:z[X];w-=de-s.height,w*=c?1:-1}if(r===Le||(r===be||r===$e)&&o===xn){v=Me;var se=u&&z===x&&x.visualViewport?x.visualViewport.width:z[ee];g-=se-s.width,g*=c?1:-1}}var b=Object.assign({position:l},h&&Tu),S=f===!0?Au({x:g,y:w},Re(n)):{x:g,y:w};if(g=S.x,w=S.y,c){var _;return Object.assign({},b,(_={},_[D]=L?"0":"",_[v]=N?"0":"",_.transform=(x.devicePixelRatio||1)<=1?"translate("+g+"px, "+w+"px)":"translate3d("+g+"px, "+w+"px, 0)",_))}return Object.assign({},b,(e={},e[D]=L?w+"px":"",e[v]=N?g+"px":"",e.transform="",e))}function Cu(t){var e=t.state,n=t.options,s=n.gpuAcceleration,r=s===void 0?!0:s,o=n.adaptive,a=o===void 0?!0:o,l=n.roundOffsets,c=l===void 0?!0:l,h={placement:ht(e.placement),variation:qn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ol(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ol(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Rr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Cu,data:{}};var wi={passive:!0};function Su(t){var e=t.state,n=t.instance,s=t.options,r=s.scroll,o=r===void 0?!0:r,a=s.resize,l=a===void 0?!0:a,c=Re(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&h.forEach(function(f){f.addEventListener("scroll",n.update,wi)}),l&&c.addEventListener("resize",n.update,wi),function(){o&&h.forEach(function(f){f.removeEventListener("scroll",n.update,wi)}),l&&c.removeEventListener("resize",n.update,wi)}}const qr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Su,data:{}};var Ou={left:"right",right:"left",bottom:"top",top:"bottom"};function ki(t){return t.replace(/left|right|bottom|top/g,function(e){return Ou[e]})}var Lu={start:"end",end:"start"};function Ll(t){return t.replace(/start|end/g,function(e){return Lu[e]})}function Pr(t){var e=Re(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function Fr(t){return Rn(jt(t)).left+Pr(t).scrollLeft}function Bu(t,e){var n=Re(t),s=jt(t),r=n.visualViewport,o=s.clientWidth,a=s.clientHeight,l=0,c=0;if(r){o=r.width,a=r.height;var h=wl();(h||!h&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:o,height:a,x:l+Fr(t),y:c}}function Vu(t){var e,n=jt(t),s=Pr(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=cn(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=cn(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-s.scrollLeft+Fr(t),c=-s.scrollTop;return Tt(r||n).direction==="rtl"&&(l+=cn(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:l,y:c}}function jr(t){var e=Tt(t),n=e.overflow,s=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function Bl(t){return["html","body","#document"].indexOf(dt(t))>=0?t.ownerDocument.body:Pe(t)&&jr(t)?t:Bl(_i(t))}function Ns(t,e){var n;e===void 0&&(e=[]);var s=Bl(t),r=s===((n=t.ownerDocument)==null?void 0:n.body),o=Re(s),a=r?[o].concat(o.visualViewport||[],jr(s)?s:[]):s,l=e.concat(a);return r?l:l.concat(Ns(_i(a)))}function Ur(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Iu(t,e){var n=Rn(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Vl(t,e,n){return e===Br?Ur(Bu(t,n)):ln(e)?Iu(e,n):Ur(Vu(jt(t)))}function vu(t){var e=Ns(_i(t)),n=["absolute","fixed"].indexOf(Tt(t).position)>=0,s=n&&Pe(t)?ws(t):t;return ln(s)?e.filter(function(r){return ln(r)&&kl(r,s)&&dt(r)!=="body"}):[]}function Du(t,e,n,s){var r=e==="clippingParents"?vu(t):[].concat(e),o=[].concat(r,[n]),a=o[0],l=o.reduce(function(c,h){var f=Vl(t,h,s);return c.top=cn(f.top,c.top),c.right=Ei(f.right,c.right),c.bottom=Ei(f.bottom,c.bottom),c.left=cn(f.left,c.left),c},Vl(t,a,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Il(t){var e=t.reference,n=t.element,s=t.placement,r=s?ht(s):null,o=s?qn(s):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(r){case be:c={x:a,y:e.y-n.height};break;case $e:c={x:a,y:e.y+e.height};break;case Me:c={x:e.x+e.width,y:l};break;case Le:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var h=r?Mr(r):null;if(h!=null){var f=h==="y"?"height":"width";switch(o){case an:c[h]=c[h]-(e[f]/2-n[f]/2);break;case xn:c[h]=c[h]+(e[f]/2-n[f]/2);break}}return c}function Pn(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=s===void 0?t.placement:s,o=n.strategy,a=o===void 0?t.strategy:o,l=n.boundary,c=l===void 0?cl:l,h=n.rootBoundary,f=h===void 0?Br:h,u=n.elementContext,p=u===void 0?$n:u,g=n.altBoundary,E=g===void 0?!1:g,w=n.padding,k=w===void 0?0:w,N=Al(typeof k!="number"?k:Cl(k,Dn)),L=p===$n?dl:$n,v=t.rects.popper,D=t.elements[E?L:p],x=Du(ln(D)?D:D.contextElement||jt(t.elements.popper),c,f,a),z=Rn(t.elements.reference),X=Il({reference:z,element:v,strategy:"absolute",placement:r}),ee=Ur(Object.assign({},v,X)),de=p===$n?ee:z,se={top:x.top-de.top+N.top,bottom:de.bottom-x.bottom+N.bottom,left:x.left-de.left+N.left,right:de.right-x.right+N.right},b=t.modifiersData.offset;if(p===$n&&b){var S=b[r];Object.keys(se).forEach(function(_){var I=[Me,$e].indexOf(_)>=0?1:-1,V=[be,$e].indexOf(_)>=0?"y":"x";se[_]+=S[V]*I})}return se}function xu(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=n.boundary,o=n.rootBoundary,a=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,h=c===void 0?Ir:c,f=qn(s),u=f?l?Vr:Vr.filter(function(E){return qn(E)===f}):Dn,p=u.filter(function(E){return h.indexOf(E)>=0});p.length===0&&(p=u);var g=p.reduce(function(E,w){return E[w]=Pn(t,{placement:w,boundary:r,rootBoundary:o,padding:a})[ht(w)],E},{});return Object.keys(g).sort(function(E,w){return g[E]-g[w]})}function $u(t){if(ht(t)===yi)return[];var e=ki(t);return[Ll(t),e,Ll(e)]}function Mu(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!0:a,c=n.fallbackPlacements,h=n.padding,f=n.boundary,u=n.rootBoundary,p=n.altBoundary,g=n.flipVariations,E=g===void 0?!0:g,w=n.allowedAutoPlacements,k=e.options.placement,N=ht(k),L=N===k,v=c||(L||!E?[ki(k)]:$u(k)),D=[k].concat(v).reduce(function(Z,F){return Z.concat(ht(F)===yi?xu(e,{placement:F,boundary:f,rootBoundary:u,padding:h,flipVariations:E,allowedAutoPlacements:w}):F)},[]),x=e.rects.reference,z=e.rects.popper,X=new Map,ee=!0,de=D[0],se=0;se<D.length;se++){var b=D[se],S=ht(b),_=qn(b)===an,I=[be,$e].indexOf(S)>=0,V=I?"width":"height",A=Pn(e,{placement:b,boundary:f,rootBoundary:u,altBoundary:p,padding:h}),B=I?_?Me:Le:_?$e:be;x[V]>z[V]&&(B=ki(B));var R=ki(B),P=[];if(o&&P.push(A[S]<=0),l&&P.push(A[B]<=0,A[R]<=0),P.every(function(Z){return Z})){de=b,ee=!1;break}X.set(b,P)}if(ee)for(var $=E?3:1,Y=function(F){var ae=D.find(function(ue){var G=X.get(ue);if(G)return G.slice(0,F).every(function(te){return te})});if(ae)return de=ae,"break"},K=$;K>0;K--){var J=Y(K);if(J==="break")break}e.placement!==de&&(e.modifiersData[s]._skip=!0,e.placement=de,e.reset=!0)}}const vl={name:"flip",enabled:!0,phase:"main",fn:Mu,requiresIfExists:["offset"],data:{_skip:!1}};function Dl(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function xl(t){return[be,Me,$e,Le].some(function(e){return t[e]>=0})}function Ru(t){var e=t.state,n=t.name,s=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=Pn(e,{elementContext:"reference"}),l=Pn(e,{altBoundary:!0}),c=Dl(a,s),h=Dl(l,r,o),f=xl(c),u=xl(h);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":u})}const $l={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ru};function qu(t,e,n){var s=ht(t),r=[Le,be].indexOf(s)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],l=o[1];return a=a||0,l=(l||0)*r,[Le,Me].indexOf(s)>=0?{x:l,y:a}:{x:a,y:l}}function Pu(t){var e=t.state,n=t.options,s=t.name,r=n.offset,o=r===void 0?[0,0]:r,a=Ir.reduce(function(f,u){return f[u]=qu(u,e.rects,o),f},{}),l=a[e.placement],c=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=h),e.modifiersData[s]=a}const Ml={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Pu};function Fu(t){var e=t.state,n=t.name;e.modifiersData[n]=Il({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Hr={name:"popperOffsets",enabled:!0,phase:"read",fn:Fu,data:{}};function ju(t){return t==="x"?"y":"x"}function Uu(t){var e=t.state,n=t.options,s=t.name,r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!1:a,c=n.boundary,h=n.rootBoundary,f=n.altBoundary,u=n.padding,p=n.tether,g=p===void 0?!0:p,E=n.tetherOffset,w=E===void 0?0:E,k=Pn(e,{boundary:c,rootBoundary:h,padding:u,altBoundary:f}),N=ht(e.placement),L=qn(e.placement),v=!L,D=Mr(N),x=ju(D),z=e.modifiersData.popperOffsets,X=e.rects.reference,ee=e.rects.popper,de=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,se=typeof de=="number"?{mainAxis:de,altAxis:de}:Object.assign({mainAxis:0,altAxis:0},de),b=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,S={x:0,y:0};if(z){if(o){var _,I=D==="y"?be:Le,V=D==="y"?$e:Me,A=D==="y"?"height":"width",B=z[D],R=B+k[I],P=B-k[V],$=g?-ee[A]/2:0,Y=L===an?X[A]:ee[A],K=L===an?-ee[A]:-X[A],J=e.elements.arrow,Z=g&&J?$r(J):{width:0,height:0},F=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Tl(),ae=F[I],ue=F[V],G=ks(0,X[A],Z[A]),te=v?X[A]/2-$-G-ae-se.mainAxis:Y-G-ae-se.mainAxis,ie=v?-X[A]/2+$+G+ue+se.mainAxis:K+G+ue+se.mainAxis,ne=e.elements.arrow&&ws(e.elements.arrow),le=ne?D==="y"?ne.clientTop||0:ne.clientLeft||0:0,ce=(_=b==null?void 0:b[D])!=null?_:0,ge=B+te-ce-le,_e=B+ie-ce,nn=ks(g?Ei(R,ge):R,B,g?cn(P,_e):P);z[D]=nn,S[D]=nn-B}if(l){var An,ni=D==="x"?be:Le,si=D==="x"?$e:Me,Ie=z[x],Et=x==="y"?"height":"width",Cn=Ie+k[ni],Sn=Ie-k[si],ve=[be,Le].indexOf(N)!==-1,$t=(An=b==null?void 0:b[x])!=null?An:0,hs=ve?Cn:Ie-X[Et]-ee[Et]-$t+se.altAxis,_t=ve?Ie+X[Et]+ee[Et]-$t-se.altAxis:Sn,Mt=g&&ve?_u(hs,Ie,_t):ks(g?hs:Cn,Ie,g?_t:Sn);z[x]=Mt,S[x]=Mt-Ie}e.modifiersData[s]=S}}const Rl={name:"preventOverflow",enabled:!0,phase:"main",fn:Uu,requiresIfExists:["offset"]};function Hu(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function zu(t){return t===Re(t)||!Pe(t)?Pr(t):Hu(t)}function Wu(t){var e=t.getBoundingClientRect(),n=Mn(e.width)/t.offsetWidth||1,s=Mn(e.height)/t.offsetHeight||1;return n!==1||s!==1}function Ku(t,e,n){n===void 0&&(n=!1);var s=Pe(e),r=Pe(e)&&Wu(e),o=jt(e),a=Rn(t,r,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!n)&&((dt(e)!=="body"||jr(o))&&(l=zu(e)),Pe(e)?(c=Rn(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=Fr(o))),{x:a.left+l.scrollLeft-c.x,y:a.top+l.scrollTop-c.y,width:a.width,height:a.height}}function Gu(t){var e=new Map,n=new Set,s=[];t.forEach(function(o){e.set(o.name,o)});function r(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&r(c)}}),s.push(o)}return t.forEach(function(o){n.has(o.name)||r(o)}),s}function Yu(t){var e=Gu(t);return _l.reduce(function(n,s){return n.concat(e.filter(function(r){return r.phase===s}))},[])}function Xu(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Zu(t){var e=t.reduce(function(n,s){var r=n[s.name];return n[s.name]=r?Object.assign({},r,s,{options:Object.assign({},r.options,s.options),data:Object.assign({},r.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var ql={placement:"bottom",modifiers:[],strategy:"absolute"};function Pl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Ni(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,r=e.defaultOptions,o=r===void 0?ql:r;return function(l,c,h){h===void 0&&(h=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},ql,o),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},u=[],p=!1,g={state:f,setOptions:function(N){var L=typeof N=="function"?N(f.options):N;w(),f.options=Object.assign({},o,f.options,L),f.scrollParents={reference:ln(l)?Ns(l):l.contextElement?Ns(l.contextElement):[],popper:Ns(c)};var v=Yu(Zu([].concat(s,f.options.modifiers)));return f.orderedModifiers=v.filter(function(D){return D.enabled}),E(),g.update()},forceUpdate:function(){if(!p){var N=f.elements,L=N.reference,v=N.popper;if(Pl(L,v)){f.rects={reference:Ku(L,ws(v),f.options.strategy==="fixed"),popper:$r(v)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(se){return f.modifiersData[se.name]=Object.assign({},se.data)});for(var D=0;D<f.orderedModifiers.length;D++){if(f.reset===!0){f.reset=!1,D=-1;continue}var x=f.orderedModifiers[D],z=x.fn,X=x.options,ee=X===void 0?{}:X,de=x.name;typeof z=="function"&&(f=z({state:f,options:ee,name:de,instance:g})||f)}}}},update:Xu(function(){return new Promise(function(k){g.forceUpdate(),k(f)})}),destroy:function(){w(),p=!0}};if(!Pl(l,c))return g;g.setOptions(h).then(function(k){!p&&h.onFirstUpdate&&h.onFirstUpdate(k)});function E(){f.orderedModifiers.forEach(function(k){var N=k.name,L=k.options,v=L===void 0?{}:L,D=k.effect;if(typeof D=="function"){var x=D({state:f,name:N,instance:g,options:v}),z=function(){};u.push(x||z)}})}function w(){u.forEach(function(k){return k()}),u=[]}return g}}var Qu=Ni(),Ju=[qr,Hr,Rr,Dr],ef=Ni({defaultModifiers:Ju}),tf=[qr,Hr,Rr,Dr,Ml,vl,Rl,Sl,$l],zr=Ni({defaultModifiers:tf});const Fl=Object.freeze(Object.defineProperty({__proto__:null,afterMain:gl,afterRead:fl,afterWrite:El,applyStyles:Dr,arrow:Sl,auto:yi,basePlacements:Dn,beforeMain:ml,beforeRead:hl,beforeWrite:bl,bottom:$e,clippingParents:cl,computeStyles:Rr,createPopper:zr,createPopperBase:Qu,createPopperLite:ef,detectOverflow:Pn,end:xn,eventListeners:qr,flip:vl,hide:$l,left:Le,main:pl,modifierPhases:_l,offset:Ml,placements:Ir,popper:$n,popperGenerator:Ni,popperOffsets:Hr,preventOverflow:Rl,read:ul,reference:dl,right:Me,start:an,top:be,variationPlacements:Vr,viewport:Br,write:yl},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Ut=new Map,Wr={set(t,e,n){Ut.has(t)||Ut.set(t,new Map);const s=Ut.get(t);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,n)},get(t,e){return Ut.has(t)&&Ut.get(t).get(e)||null},remove(t,e){if(!Ut.has(t))return;const n=Ut.get(t);n.delete(e),n.size===0&&Ut.delete(t)}},nf=1e6,sf=1e3,Kr="transitionend",jl=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),rf=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),of=t=>{do t+=Math.floor(Math.random()*nf);while(document.getElementById(t));return t},af=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const s=Number.parseFloat(e),r=Number.parseFloat(n);return!s&&!r?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*sf)},Ul=t=>{t.dispatchEvent(new Event(Kr))},At=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Ht=t=>At(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(jl(t)):null,Fn=t=>{if(!At(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const s=t.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return e},zt=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Hl=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Hl(t.parentNode):null},Ti=()=>{},Ts=t=>{t.offsetHeight},zl=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Gr=[],lf=t=>{document.readyState==="loading"?(Gr.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Gr)e()}),Gr.push(t)):t()},Fe=()=>document.documentElement.dir==="rtl",je=t=>{lf(()=>{const e=zl();if(e){const n=t.NAME,s=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=s,t.jQueryInterface)}})},Ve=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,Wl=(t,e,n=!0)=>{if(!n){Ve(t);return}const r=af(e)+5;let o=!1;const a=({target:l})=>{l===e&&(o=!0,e.removeEventListener(Kr,a),Ve(t))};e.addEventListener(Kr,a),setTimeout(()=>{o||Ul(e)},r)},Yr=(t,e,n,s)=>{const r=t.length;let o=t.indexOf(e);return o===-1?!n&&s?t[r-1]:t[0]:(o+=n?1:-1,s&&(o=(o+r)%r),t[Math.max(0,Math.min(o,r-1))])},cf=/[^.]*(?=\..*)\.|.*/,df=/\..*/,hf=/::\d+$/,Xr={};let Kl=1;const Gl={mouseenter:"mouseover",mouseleave:"mouseout"},uf=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Yl(t,e){return e&&`${e}::${Kl++}`||t.uidEvent||Kl++}function Xl(t){const e=Yl(t);return t.uidEvent=e,Xr[e]=Xr[e]||{},Xr[e]}function ff(t,e){return function n(s){return Qr(s,{delegateTarget:t}),n.oneOff&&O.off(t,s.type,e),e.apply(t,[s])}}function mf(t,e,n){return function s(r){const o=t.querySelectorAll(e);for(let{target:a}=r;a&&a!==this;a=a.parentNode)for(const l of o)if(l===a)return Qr(r,{delegateTarget:a}),s.oneOff&&O.off(t,r.type,e,n),n.apply(a,[r])}}function Zl(t,e,n=null){return Object.values(t).find(s=>s.callable===e&&s.delegationSelector===n)}function Ql(t,e,n){const s=typeof e=="string",r=s?n:e||n;let o=ec(t);return uf.has(o)||(o=t),[s,r,o]}function Jl(t,e,n,s,r){if(typeof e!="string"||!t)return;let[o,a,l]=Ql(e,n,s);e in Gl&&(a=(E=>function(w){if(!w.relatedTarget||w.relatedTarget!==w.delegateTarget&&!w.delegateTarget.contains(w.relatedTarget))return E.call(this,w)})(a));const c=Xl(t),h=c[l]||(c[l]={}),f=Zl(h,a,o?n:null);if(f){f.oneOff=f.oneOff&&r;return}const u=Yl(a,e.replace(cf,"")),p=o?mf(t,n,a):ff(t,a);p.delegationSelector=o?n:null,p.callable=a,p.oneOff=r,p.uidEvent=u,h[u]=p,t.addEventListener(l,p,o)}function Zr(t,e,n,s,r){const o=Zl(e[n],s,r);o&&(t.removeEventListener(n,o,!!r),delete e[n][o.uidEvent])}function pf(t,e,n,s){const r=e[n]||{};for(const[o,a]of Object.entries(r))o.includes(s)&&Zr(t,e,n,a.callable,a.delegationSelector)}function ec(t){return t=t.replace(df,""),Gl[t]||t}const O={on(t,e,n,s){Jl(t,e,n,s,!1)},one(t,e,n,s){Jl(t,e,n,s,!0)},off(t,e,n,s){if(typeof e!="string"||!t)return;const[r,o,a]=Ql(e,n,s),l=a!==e,c=Xl(t),h=c[a]||{},f=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(h).length)return;Zr(t,c,a,o,r?n:null);return}if(f)for(const u of Object.keys(c))pf(t,c,u,e.slice(1));for(const[u,p]of Object.entries(h)){const g=u.replace(hf,"");(!l||e.includes(g))&&Zr(t,c,a,p.callable,p.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const s=zl(),r=ec(e),o=e!==r;let a=null,l=!0,c=!0,h=!1;o&&s&&(a=s.Event(e,n),s(t).trigger(a),l=!a.isPropagationStopped(),c=!a.isImmediatePropagationStopped(),h=a.isDefaultPrevented());const f=Qr(new Event(e,{bubbles:l,cancelable:!0}),n);return h&&f.preventDefault(),c&&t.dispatchEvent(f),f.defaultPrevented&&a&&a.preventDefault(),f}};function Qr(t,e={}){for(const[n,s]of Object.entries(e))try{t[n]=s}catch{Object.defineProperty(t,n,{configurable:!0,get(){return s}})}return t}function tc(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Jr(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Ct={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Jr(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Jr(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let r=s.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=tc(t.dataset[s])}return e},getDataAttribute(t,e){return tc(t.getAttribute(`data-bs-${Jr(e)}`))}};class As{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const s=At(n)?Ct.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...At(n)?Ct.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[s,r]of Object.entries(n)){const o=e[s],a=At(o)?"element":rf(o);if(!new RegExp(r).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${a}" but expected type "${r}".`)}}}const gf="5.3.3";class Qe extends As{constructor(e,n){super(),e=Ht(e),e&&(this._element=e,this._config=this._getConfig(n),Wr.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Wr.remove(this._element,this.constructor.DATA_KEY),O.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,s=!0){Wl(e,n,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Wr.get(Ht(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return gf}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const eo=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>jl(n)).join(","):null},W={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let s=t.parentNode.closest(e);for(;s;)n.push(s),s=s.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!zt(n)&&Fn(n))},getSelectorFromElement(t){const e=eo(t);return e&&W.findOne(e)?e:null},getElementFromSelector(t){const e=eo(t);return e?W.findOne(e):null},getMultipleElementsFromSelector(t){const e=eo(t);return e?W.find(e):[]}},Ai=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;O.on(document,n,`[data-bs-dismiss="${s}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),zt(this))return;const o=W.getElementFromSelector(this)||this.closest(`.${s}`);t.getOrCreateInstance(o)[e]()})},bf="alert",nc=".bs.alert",yf=`close${nc}`,Ef=`closed${nc}`,_f="fade",wf="show";class Ci extends Qe{static get NAME(){return bf}close(){if(O.trigger(this._element,yf).defaultPrevented)return;this._element.classList.remove(wf);const n=this._element.classList.contains(_f);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),O.trigger(this._element,Ef),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=Ci.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Ai(Ci,"close"),je(Ci);const kf="button",Nf=".bs.button",Tf=".data-api",Af="active",sc='[data-bs-toggle="button"]',Cf=`click${Nf}${Tf}`;class Si extends Qe{static get NAME(){return kf}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Af))}static jQueryInterface(e){return this.each(function(){const n=Si.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}O.on(document,Cf,sc,t=>{t.preventDefault();const e=t.target.closest(sc);Si.getOrCreateInstance(e).toggle()}),je(Si);const Sf="swipe",jn=".bs.swipe",Of=`touchstart${jn}`,Lf=`touchmove${jn}`,Bf=`touchend${jn}`,Vf=`pointerdown${jn}`,If=`pointerup${jn}`,vf="touch",Df="pen",xf="pointer-event",$f=40,Mf={endCallback:null,leftCallback:null,rightCallback:null},Rf={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Oi extends As{constructor(e,n){super(),this._element=e,!(!e||!Oi.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Mf}static get DefaultType(){return Rf}static get NAME(){return Sf}dispose(){O.off(this._element,jn)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Ve(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=$f)return;const n=e/this._deltaX;this._deltaX=0,n&&Ve(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(O.on(this._element,Vf,e=>this._start(e)),O.on(this._element,If,e=>this._end(e)),this._element.classList.add(xf)):(O.on(this._element,Of,e=>this._start(e)),O.on(this._element,Lf,e=>this._move(e)),O.on(this._element,Bf,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Df||e.pointerType===vf)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const qf="carousel",Wt=".bs.carousel",ic=".data-api",Pf="ArrowLeft",Ff="ArrowRight",jf=500,Cs="next",Un="prev",Hn="left",Li="right",Uf=`slide${Wt}`,to=`slid${Wt}`,Hf=`keydown${Wt}`,zf=`mouseenter${Wt}`,Wf=`mouseleave${Wt}`,Kf=`dragstart${Wt}`,Gf=`load${Wt}${ic}`,Yf=`click${Wt}${ic}`,rc="carousel",Bi="active",Xf="slide",Zf="carousel-item-end",Qf="carousel-item-start",Jf="carousel-item-next",em="carousel-item-prev",oc=".active",ac=".carousel-item",tm=oc+ac,nm=".carousel-item img",sm=".carousel-indicators",im="[data-bs-slide], [data-bs-slide-to]",rm='[data-bs-ride="carousel"]',om={[Pf]:Li,[Ff]:Hn},am={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},lm={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ss extends Qe{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=W.findOne(sm,this._element),this._addEventListeners(),this._config.ride===rc&&this.cycle()}static get Default(){return am}static get DefaultType(){return lm}static get NAME(){return qf}next(){this._slide(Cs)}nextWhenVisible(){!document.hidden&&Fn(this._element)&&this.next()}prev(){this._slide(Un)}pause(){this._isSliding&&Ul(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){O.one(this._element,to,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){O.one(this._element,to,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const r=e>s?Cs:Un;this._slide(r,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&O.on(this._element,Hf,e=>this._keydown(e)),this._config.pause==="hover"&&(O.on(this._element,zf,()=>this.pause()),O.on(this._element,Wf,()=>this._maybeEnableCycle())),this._config.touch&&Oi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of W.find(nm,this._element))O.on(s,Kf,r=>r.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(Hn)),rightCallback:()=>this._slide(this._directionToOrder(Li)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),jf+this._config.interval))}};this._swipeHelper=new Oi(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=om[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=W.findOne(oc,this._indicatorsElement);n.classList.remove(Bi),n.removeAttribute("aria-current");const s=W.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(Bi),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const s=this._getActive(),r=e===Cs,o=n||Yr(this._getItems(),s,r,this._config.wrap);if(o===s)return;const a=this._getItemIndex(o),l=g=>O.trigger(this._element,g,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:a});if(l(Uf).defaultPrevented||!s||!o)return;const h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=o;const f=r?Qf:Zf,u=r?Jf:em;o.classList.add(u),Ts(o),s.classList.add(f),o.classList.add(f);const p=()=>{o.classList.remove(f,u),o.classList.add(Bi),s.classList.remove(Bi,u,f),this._isSliding=!1,l(to)};this._queueCallback(p,s,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(Xf)}_getActive(){return W.findOne(tm,this._element)}_getItems(){return W.find(ac,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Fe()?e===Hn?Un:Cs:e===Hn?Cs:Un}_orderToDirection(e){return Fe()?e===Un?Hn:Li:e===Un?Li:Hn}static jQueryInterface(e){return this.each(function(){const n=Ss.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}O.on(document,Yf,im,function(t){const e=W.getElementFromSelector(this);if(!e||!e.classList.contains(rc))return;t.preventDefault();const n=Ss.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(Ct.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()}),O.on(window,Gf,()=>{const t=W.find(rm);for(const e of t)Ss.getOrCreateInstance(e)}),je(Ss);const cm="collapse",Os=".bs.collapse",dm=".data-api",hm=`show${Os}`,um=`shown${Os}`,fm=`hide${Os}`,mm=`hidden${Os}`,pm=`click${Os}${dm}`,no="show",zn="collapse",Vi="collapsing",gm="collapsed",bm=`:scope .${zn} .${zn}`,ym="collapse-horizontal",Em="width",_m="height",wm=".collapse.show, .collapse.collapsing",so='[data-bs-toggle="collapse"]',km={parent:null,toggle:!0},Nm={parent:"(null|element)",toggle:"boolean"};class Ls extends Qe{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const s=W.find(so);for(const r of s){const o=W.getSelectorFromElement(r),a=W.find(o).filter(l=>l===this._element);o!==null&&a.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return km}static get DefaultType(){return Nm}static get NAME(){return cm}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(wm).filter(l=>l!==this._element).map(l=>Ls.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||O.trigger(this._element,hm).defaultPrevented)return;for(const l of e)l.hide();const s=this._getDimension();this._element.classList.remove(zn),this._element.classList.add(Vi),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Vi),this._element.classList.add(zn,no),this._element.style[s]="",O.trigger(this._element,um)},a=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[s]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||O.trigger(this._element,fm).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Ts(this._element),this._element.classList.add(Vi),this._element.classList.remove(zn,no);for(const r of this._triggerArray){const o=W.getElementFromSelector(r);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(Vi),this._element.classList.add(zn),O.trigger(this._element,mm)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(no)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Ht(e.parent),e}_getDimension(){return this._element.classList.contains(ym)?Em:_m}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(so);for(const n of e){const s=W.getElementFromSelector(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(e){const n=W.find(bm,this._config.parent);return W.find(e,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const s of e)s.classList.toggle(gm,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const s=Ls.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}O.on(document,pm,so,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of W.getMultipleElementsFromSelector(this))Ls.getOrCreateInstance(e,{toggle:!1}).toggle()}),je(Ls);const lc="dropdown",dn=".bs.dropdown",io=".data-api",Tm="Escape",cc="Tab",Am="ArrowUp",dc="ArrowDown",Cm=2,Sm=`hide${dn}`,Om=`hidden${dn}`,Lm=`show${dn}`,Bm=`shown${dn}`,hc=`click${dn}${io}`,uc=`keydown${dn}${io}`,Vm=`keyup${dn}${io}`,Wn="show",Im="dropup",vm="dropend",Dm="dropstart",xm="dropup-center",$m="dropdown-center",hn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Mm=`${hn}.${Wn}`,Ii=".dropdown-menu",Rm=".navbar",qm=".navbar-nav",Pm=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Fm=Fe()?"top-end":"top-start",jm=Fe()?"top-start":"top-end",Um=Fe()?"bottom-end":"bottom-start",Hm=Fe()?"bottom-start":"bottom-end",zm=Fe()?"left-start":"right-start",Wm=Fe()?"right-start":"left-start",Km="top",Gm="bottom",Ym={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Xm={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ut extends Qe{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=W.next(this._element,Ii)[0]||W.prev(this._element,Ii)[0]||W.findOne(Ii,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Ym}static get DefaultType(){return Xm}static get NAME(){return lc}toggle(){return this._isShown()?this.hide():this.show()}show(){if(zt(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!O.trigger(this._element,Lm,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(qm))for(const s of[].concat(...document.body.children))O.on(s,"mouseover",Ti);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Wn),this._element.classList.add(Wn),O.trigger(this._element,Bm,e)}}hide(){if(zt(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!O.trigger(this._element,Sm,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))O.off(s,"mouseover",Ti);this._popper&&this._popper.destroy(),this._menu.classList.remove(Wn),this._element.classList.remove(Wn),this._element.setAttribute("aria-expanded","false"),Ct.removeDataAttribute(this._menu,"popper"),O.trigger(this._element,Om,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!At(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${lc.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Fl>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:At(this._config.reference)?e=Ht(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=zr(e,this._menu,n)}_isShown(){return this._menu.classList.contains(Wn)}_getPlacement(){const e=this._parent;if(e.classList.contains(vm))return zm;if(e.classList.contains(Dm))return Wm;if(e.classList.contains(xm))return Km;if(e.classList.contains($m))return Gm;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Im)?n?jm:Fm:n?Hm:Um}_detectNavbar(){return this._element.closest(Rm)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ct.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Ve(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const s=W.find(Pm,this._menu).filter(r=>Fn(r));s.length&&Yr(s,n,e===dc,!s.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=ut.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===Cm||e.type==="keyup"&&e.key!==cc)return;const n=W.find(Mm);for(const s of n){const r=ut.getInstance(s);if(!r||r._config.autoClose===!1)continue;const o=e.composedPath(),a=o.includes(r._menu);if(o.includes(r._element)||r._config.autoClose==="inside"&&!a||r._config.autoClose==="outside"&&a||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===cc||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const l={relatedTarget:r._element};e.type==="click"&&(l.clickEvent=e),r._completeHide(l)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),s=e.key===Tm,r=[Am,dc].includes(e.key);if(!r&&!s||n&&!s)return;e.preventDefault();const o=this.matches(hn)?this:W.prev(this,hn)[0]||W.next(this,hn)[0]||W.findOne(hn,e.delegateTarget.parentNode),a=ut.getOrCreateInstance(o);if(r){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),o.focus())}}O.on(document,uc,hn,ut.dataApiKeydownHandler),O.on(document,uc,Ii,ut.dataApiKeydownHandler),O.on(document,hc,ut.clearMenus),O.on(document,Vm,ut.clearMenus),O.on(document,hc,hn,function(t){t.preventDefault(),ut.getOrCreateInstance(this).toggle()}),je(ut);const fc="backdrop",Zm="fade",mc="show",pc=`mousedown.bs.${fc}`,Qm={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Jm={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class gc extends As{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Qm}static get DefaultType(){return Jm}static get NAME(){return fc}show(e){if(!this._config.isVisible){Ve(e);return}this._append();const n=this._getElement();this._config.isAnimated&&Ts(n),n.classList.add(mc),this._emulateAnimation(()=>{Ve(e)})}hide(e){if(!this._config.isVisible){Ve(e);return}this._getElement().classList.remove(mc),this._emulateAnimation(()=>{this.dispose(),Ve(e)})}dispose(){this._isAppended&&(O.off(this._element,pc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Zm),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Ht(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),O.on(e,pc,()=>{Ve(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Wl(e,this._getElement(),this._config.isAnimated)}}const ep="focustrap",vi=".bs.focustrap",tp=`focusin${vi}`,np=`keydown.tab${vi}`,sp="Tab",ip="forward",bc="backward",rp={autofocus:!0,trapElement:null},op={autofocus:"boolean",trapElement:"element"};class yc extends As{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return rp}static get DefaultType(){return op}static get NAME(){return ep}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),O.off(document,vi),O.on(document,tp,e=>this._handleFocusin(e)),O.on(document,np,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,O.off(document,vi))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const s=W.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===bc?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===sp&&(this._lastTabNavDirection=e.shiftKey?bc:ip)}}const Ec=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_c=".sticky-top",Di="padding-right",wc="margin-right";class ro{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Di,n=>n+e),this._setElementAttributes(Ec,Di,n=>n+e),this._setElementAttributes(_c,wc,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Di),this._resetElementAttributes(Ec,Di),this._resetElementAttributes(_c,wc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,s){const r=this.getWidth(),o=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+r)return;this._saveInitialAttribute(a,n);const l=window.getComputedStyle(a).getPropertyValue(n);a.style.setProperty(n,`${s(Number.parseFloat(l))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,n){const s=e.style.getPropertyValue(n);s&&Ct.setDataAttribute(e,n,s)}_resetElementAttributes(e,n){const s=r=>{const o=Ct.getDataAttribute(r,n);if(o===null){r.style.removeProperty(n);return}Ct.removeDataAttribute(r,n),r.style.setProperty(n,o)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,n){if(At(e)){n(e);return}for(const s of W.find(e,this._element))n(s)}}const ap="modal",Ue=".bs.modal",lp=".data-api",cp="Escape",dp=`hide${Ue}`,hp=`hidePrevented${Ue}`,kc=`hidden${Ue}`,Nc=`show${Ue}`,up=`shown${Ue}`,fp=`resize${Ue}`,mp=`click.dismiss${Ue}`,pp=`mousedown.dismiss${Ue}`,gp=`keydown.dismiss${Ue}`,bp=`click${Ue}${lp}`,Tc="modal-open",yp="fade",Ac="show",oo="modal-static",Ep=".modal.show",_p=".modal-dialog",wp=".modal-body",kp='[data-bs-toggle="modal"]',Np={backdrop:!0,focus:!0,keyboard:!0},Tp={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class un extends Qe{constructor(e,n){super(e,n),this._dialog=W.findOne(_p,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ro,this._addEventListeners()}static get Default(){return Np}static get DefaultType(){return Tp}static get NAME(){return ap}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||O.trigger(this._element,Nc,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Tc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||O.trigger(this._element,dp).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ac),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){O.off(window,Ue),O.off(this._dialog,Ue),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new gc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new yc({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=W.findOne(wp,this._dialog);n&&(n.scrollTop=0),Ts(this._element),this._element.classList.add(Ac);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,O.trigger(this._element,up,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){O.on(this._element,gp,e=>{if(e.key===cp){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),O.on(window,fp,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),O.on(this._element,pp,e=>{O.one(this._element,mp,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Tc),this._resetAdjustments(),this._scrollBar.reset(),O.trigger(this._element,kc)})}_isAnimated(){return this._element.classList.contains(yp)}_triggerBackdropTransition(){if(O.trigger(this._element,hp).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(oo)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(oo),this._queueCallback(()=>{this._element.classList.remove(oo),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!e){const r=Fe()?"paddingLeft":"paddingRight";this._element.style[r]=`${n}px`}if(!s&&e){const r=Fe()?"paddingRight":"paddingLeft";this._element.style[r]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const s=un.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](n)}})}}O.on(document,bp,kp,function(t){const e=W.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),O.one(e,Nc,r=>{r.defaultPrevented||O.one(e,kc,()=>{Fn(this)&&this.focus()})});const n=W.findOne(Ep);n&&un.getInstance(n).hide(),un.getOrCreateInstance(e).toggle(this)}),Ai(un),je(un);const Ap="offcanvas",St=".bs.offcanvas",Cc=".data-api",Cp=`load${St}${Cc}`,Sp="Escape",Sc="show",Oc="showing",Lc="hiding",Op="offcanvas-backdrop",Bc=".offcanvas.show",Lp=`show${St}`,Bp=`shown${St}`,Vp=`hide${St}`,Vc=`hidePrevented${St}`,Ic=`hidden${St}`,Ip=`resize${St}`,vp=`click${St}${Cc}`,Dp=`keydown.dismiss${St}`,xp='[data-bs-toggle="offcanvas"]',$p={backdrop:!0,keyboard:!0,scroll:!1},Mp={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Kt extends Qe{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return $p}static get DefaultType(){return Mp}static get NAME(){return Ap}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||O.trigger(this._element,Lp,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ro().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Oc);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Sc),this._element.classList.remove(Oc),O.trigger(this._element,Bp,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||O.trigger(this._element,Vp).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Lc),this._backdrop.hide();const n=()=>{this._element.classList.remove(Sc,Lc),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ro().reset(),O.trigger(this._element,Ic)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){O.trigger(this._element,Vc);return}this.hide()},n=!!this._config.backdrop;return new gc({className:Op,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new yc({trapElement:this._element})}_addEventListeners(){O.on(this._element,Dp,e=>{if(e.key===Sp){if(this._config.keyboard){this.hide();return}O.trigger(this._element,Vc)}})}static jQueryInterface(e){return this.each(function(){const n=Kt.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}O.on(document,vp,xp,function(t){const e=W.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),zt(this))return;O.one(e,Ic,()=>{Fn(this)&&this.focus()});const n=W.findOne(Bc);n&&n!==e&&Kt.getInstance(n).hide(),Kt.getOrCreateInstance(e).toggle(this)}),O.on(window,Cp,()=>{for(const t of W.find(Bc))Kt.getOrCreateInstance(t).show()}),O.on(window,Ip,()=>{for(const t of W.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Kt.getOrCreateInstance(t).hide()}),Ai(Kt),je(Kt);const vc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Rp=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Pp=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?Rp.has(n)?!!qp.test(t.nodeValue):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(n))};function Fp(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const r=new window.DOMParser().parseFromString(t,"text/html"),o=[].concat(...r.body.querySelectorAll("*"));for(const a of o){const l=a.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){a.remove();continue}const c=[].concat(...a.attributes),h=[].concat(e["*"]||[],e[l]||[]);for(const f of c)Pp(f,h)||a.removeAttribute(f.nodeName)}return r.body.innerHTML}const jp="TemplateFactory",Up={allowList:vc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Hp={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},zp={entry:"(string|element|function|null)",selector:"(string|element)"};class Wp extends As{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Up}static get DefaultType(){return Hp}static get NAME(){return jp}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[r,o]of Object.entries(this._config.content))this._setContent(e,o,r);const n=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,s]of Object.entries(e))super._typeCheckConfig({selector:n,entry:s},zp)}_setContent(e,n,s){const r=W.findOne(s,e);if(r){if(n=this._resolvePossibleFunction(n),!n){r.remove();return}if(At(n)){this._putElementInTemplate(Ht(n),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(n);return}r.textContent=n}}_maybeSanitize(e){return this._config.sanitize?Fp(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Ve(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const Kp="tooltip",Gp=new Set(["sanitize","allowList","sanitizeFn"]),ao="fade",Yp="modal",xi="show",Xp=".tooltip-inner",Dc=`.${Yp}`,xc="hide.bs.modal",Bs="hover",lo="focus",Zp="click",Qp="manual",Jp="hide",eg="hidden",tg="show",ng="shown",sg="inserted",ig="click",rg="focusin",og="focusout",ag="mouseenter",lg="mouseleave",cg={AUTO:"auto",TOP:"top",RIGHT:Fe()?"left":"right",BOTTOM:"bottom",LEFT:Fe()?"right":"left"},dg={allowList:vc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},hg={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let $i=class mu extends Qe{constructor(e,n){if(typeof Fl>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return dg}static get DefaultType(){return hg}static get NAME(){return Kp}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),O.off(this._element.closest(Dc),xc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=O.trigger(this._element,this.constructor.eventName(tg)),s=(Hl(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(r),O.trigger(this._element,this.constructor.eventName(sg))),this._popper=this._createPopper(r),r.classList.add(xi),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))O.on(l,"mouseover",Ti);const a=()=>{O.trigger(this._element,this.constructor.eventName(ng)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||O.trigger(this._element,this.constructor.eventName(Jp)).defaultPrevented)return;if(this._getTipElement().classList.remove(xi),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))O.off(r,"mouseover",Ti);this._activeTrigger[Zp]=!1,this._activeTrigger[lo]=!1,this._activeTrigger[Bs]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),O.trigger(this._element,this.constructor.eventName(eg)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(ao,xi),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=of(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(ao),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Wp({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Xp]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ao)}_isShown(){return this.tip&&this.tip.classList.contains(xi)}_createPopper(e){const n=Ve(this._config.placement,[this,e,this._element]),s=cg[n.toUpperCase()];return zr(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return Ve(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...Ve(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")O.on(this._element,this.constructor.eventName(ig),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==Qp){const s=n===Bs?this.constructor.eventName(ag):this.constructor.eventName(rg),r=n===Bs?this.constructor.eventName(lg):this.constructor.eventName(og);O.on(this._element,s,this._config.selector,o=>{const a=this._initializeOnDelegatedTarget(o);a._activeTrigger[o.type==="focusin"?lo:Bs]=!0,a._enter()}),O.on(this._element,r,this._config.selector,o=>{const a=this._initializeOnDelegatedTarget(o);a._activeTrigger[o.type==="focusout"?lo:Bs]=a._element.contains(o.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},O.on(this._element.closest(Dc),xc,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=Ct.getDataAttributes(this._element);for(const s of Object.keys(n))Gp.has(s)&&delete n[s];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Ht(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,s]of Object.entries(this._config))this.constructor.Default[n]!==s&&(e[n]=s);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=mu.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}};je($i);const ug="popover",fg=".popover-header",mg=".popover-body",pg={...$i.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},gg={...$i.DefaultType,content:"(null|string|element|function)"};class co extends $i{static get Default(){return pg}static get DefaultType(){return gg}static get NAME(){return ug}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[fg]:this._getTitle(),[mg]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=co.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}je(co);const bg="scrollspy",ho=".bs.scrollspy",yg=".data-api",Eg=`activate${ho}`,$c=`click${ho}`,_g=`load${ho}${yg}`,wg="dropdown-item",Kn="active",kg='[data-bs-spy="scroll"]',uo="[href]",Ng=".nav, .list-group",Mc=".nav-link",Tg=`${Mc}, .nav-item > ${Mc}, .list-group-item`,Ag=".dropdown",Cg=".dropdown-toggle",Sg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Og={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Mi extends Qe{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Sg}static get DefaultType(){return Og}static get NAME(){return bg}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Ht(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(O.off(this._config.target,$c),O.on(this._config.target,$c,uo,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const s=this._rootElement||window,r=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:r,behavior:"smooth"});return}s.scrollTop=r}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=a=>this._targetLinks.get(`#${a.target.id}`),s=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(n(a))},r=(this._rootElement||document.documentElement).scrollTop,o=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(a));continue}const l=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&l){if(s(a),!r)return;continue}!o&&!l&&s(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=W.find(uo,this._config.target);for(const n of e){if(!n.hash||zt(n))continue;const s=W.findOne(decodeURI(n.hash),this._element);Fn(s)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Kn),this._activateParents(e),O.trigger(this._element,Eg,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(wg)){W.findOne(Cg,e.closest(Ag)).classList.add(Kn);return}for(const n of W.parents(e,Ng))for(const s of W.prev(n,Tg))s.classList.add(Kn)}_clearActiveClass(e){e.classList.remove(Kn);const n=W.find(`${uo}.${Kn}`,e);for(const s of n)s.classList.remove(Kn)}static jQueryInterface(e){return this.each(function(){const n=Mi.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}O.on(window,_g,()=>{for(const t of W.find(kg))Mi.getOrCreateInstance(t)}),je(Mi);const Lg="tab",fn=".bs.tab",Bg=`hide${fn}`,Vg=`hidden${fn}`,Ig=`show${fn}`,vg=`shown${fn}`,Dg=`click${fn}`,xg=`keydown${fn}`,$g=`load${fn}`,Mg="ArrowLeft",Rc="ArrowRight",Rg="ArrowUp",qc="ArrowDown",fo="Home",Pc="End",mn="active",Fc="fade",mo="show",qg="dropdown",jc=".dropdown-toggle",Pg=".dropdown-menu",po=`:not(${jc})`,Fg='.list-group, .nav, [role="tablist"]',jg=".nav-item, .list-group-item",Ug=`.nav-link${po}, .list-group-item${po}, [role="tab"]${po}`,Uc='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',go=`${Ug}, ${Uc}`,Hg=`.${mn}[data-bs-toggle="tab"], .${mn}[data-bs-toggle="pill"], .${mn}[data-bs-toggle="list"]`;class Gn extends Qe{constructor(e){super(e),this._parent=this._element.closest(Fg),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),O.on(this._element,xg,n=>this._keydown(n)))}static get NAME(){return Lg}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),s=n?O.trigger(n,Bg,{relatedTarget:e}):null;O.trigger(e,Ig,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(mn),this._activate(W.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(mo);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),O.trigger(e,vg,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(Fc))}_deactivate(e,n){if(!e)return;e.classList.remove(mn),e.blur(),this._deactivate(W.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(mo);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),O.trigger(e,Vg,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(Fc))}_keydown(e){if(![Mg,Rc,Rg,qc,fo,Pc].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(r=>!zt(r));let s;if([fo,Pc].includes(e.key))s=n[e.key===fo?0:n.length-1];else{const r=[Rc,qc].includes(e.key);s=Yr(n,e.target,r,!0)}s&&(s.focus({preventScroll:!0}),Gn.getOrCreateInstance(s).show())}_getChildren(){return W.find(go,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",n),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=W.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const s=this._getOuterElement(e);if(!s.classList.contains(qg))return;const r=(o,a)=>{const l=W.findOne(o,s);l&&l.classList.toggle(a,n)};r(jc,mn),r(Pg,mo),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,s){e.hasAttribute(n)||e.setAttribute(n,s)}_elemIsActive(e){return e.classList.contains(mn)}_getInnerElement(e){return e.matches(go)?e:W.findOne(go,e)}_getOuterElement(e){return e.closest(jg)||e}static jQueryInterface(e){return this.each(function(){const n=Gn.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}O.on(document,Dg,Uc,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!zt(this)&&Gn.getOrCreateInstance(this).show()}),O.on(window,$g,()=>{for(const t of W.find(Hg))Gn.getOrCreateInstance(t)}),je(Gn);const zg="toast",Gt=".bs.toast",Wg=`mouseover${Gt}`,Kg=`mouseout${Gt}`,Gg=`focusin${Gt}`,Yg=`focusout${Gt}`,Xg=`hide${Gt}`,Zg=`hidden${Gt}`,Qg=`show${Gt}`,Jg=`shown${Gt}`,eb="fade",Hc="hide",Ri="show",qi="showing",tb={animation:"boolean",autohide:"boolean",delay:"number"},nb={animation:!0,autohide:!0,delay:5e3};class Pi extends Qe{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return nb}static get DefaultType(){return tb}static get NAME(){return zg}show(){if(O.trigger(this._element,Qg).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(eb);const n=()=>{this._element.classList.remove(qi),O.trigger(this._element,Jg),this._maybeScheduleHide()};this._element.classList.remove(Hc),Ts(this._element),this._element.classList.add(Ri,qi),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||O.trigger(this._element,Xg).defaultPrevented)return;const n=()=>{this._element.classList.add(Hc),this._element.classList.remove(qi,Ri),O.trigger(this._element,Zg)};this._element.classList.add(qi),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ri),super.dispose()}isShown(){return this._element.classList.contains(Ri)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){O.on(this._element,Wg,e=>this._onInteraction(e,!0)),O.on(this._element,Kg,e=>this._onInteraction(e,!1)),O.on(this._element,Gg,e=>this._onInteraction(e,!0)),O.on(this._element,Yg,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=Pi.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Ai(Pi),je(Pi);function bo(t){return{all:t=t||new Map,on:function(e,n){var s=t.get(e);s?s.push(n):t.set(e,[n])},off:function(e,n){var s=t.get(e);s&&(n?s.splice(s.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var s=t.get(e);s&&s.slice().map(function(r){r(n)}),(s=t.get("*"))&&s.slice().map(function(r){r(e,n)})}}}function Fi(t,e){for(const n in e)e[n]instanceof Object&&n in t&&Object.assign(e[n],Fi(t[n],e[n]));return Object.assign(t||{},e)}function pn(t,e,n,s){try{return typeof t=="function"?t(e,n,s):t}catch(r){return console.error(r),null}}async function Yn(t){try{return{data:await t.json(),error:null}}catch(e){return{data:void 0,error:e}}}function Xn(t,e){let n=[];if(e&&e.errors)for(let s of e.errors)n.push({message:s.message,timeout:3500,priority:"danger"});else t.status>=400&&t.status<=511&&n.push({message:t.status+(t.statusText?" "+t.statusText:""),timeout:3500,priority:"danger"});return n.length>0?n:null}function Ot(t,e,n,s){return e.options||(e.options={}),e.options.headers||(e.options.headers={}),t!="GET"&&(e.options.headers["Content-Type"]||(e.options.headers["Content-Type"]="application/json")),s&&s.header&&s.header[0]&&(e.options.headers[s.header[0]]=s.header[1]),e.options.body=void 0,e.options.method=t,n&&Object.assign(e.options,n),e.debug&&console.log("FETCH OPTIONS",e.options),e.options}function Lt(t,e,n,s){let r=!1,o=Object.assign({},s||{});return s&&(s.filter&&(o.filter=JSON.stringify(s.filter)),s.order&&(o.order=JSON.stringify(s.order)),r=Object.keys(o).length),e.url+(n?"/"+n:"")+(r?"?"+new URLSearchParams(o).toString():"")}function Vs(t,e="-"){return t.toString().normalize("NFKD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\_/g,"-").replace(/\-\-+/g,"-").replace(/\-$/g,"")}function sb(t){let e=[];for(let n of t)e.push(ji(n));return e}function ji(t,e="",n={}){for(let s in t){let r=e?e+"."+s:s;typeof t[s]=="object"&&!Array.isArray(t[s])?ji(t[s],r,n):n[r]=t[s]}return n}function ib(t){let e={};for(let n in t){let s=n.split(".");s.reduce((r,o,a)=>r[o]||(r[o]=isNaN(Number(s[a+1]))?s.length-1===a?t[n]:{}:[]),e)}return e}function Is(t,e,n,s){const r=(o,a)=>!o||!a?o:o.replace(/{\s*(.*?)\s*}/g,(l,c)=>a[c]?a[c]:"");return!e||(s=s||document.documentElement.lang,!s||!e[s])||!e[s][t]?r(t,n):r(e[s][t])}function rb(t,e,n=";"){const s=e.map(o=>o.title?o.title:o.name.charAt(0).toUpperCase()+o.name.slice(1)).join(n),r=t.map(o=>e.map(a=>{let l=o[a.name];return a.template?a.template(l,o,t):l!==void 0?l:""}).join(n));return[s,...r].join(`
`)}function ob(t,e="export.csv"){t="\uFEFF"+t;const n=new Blob([t],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(n),r=document.createElement("a");r.href=s,r.download=e,r.click(),URL.revokeObjectURL(s)}function ab(t){return[...new Set(t)]}function zc(t,e){t.indexOf(e)>=0?t.splice(t.indexOf(e),1):t.push(e)}function Wc(t,e){for(let n of e)t.indexOf(n.value)<0&&t.push(n.value)}function Kc(t,e){for(let n of e)t.indexOf(n.value)<0?t.push(n.value):t.splice(t.indexOf(n.value),1)}function Gc(t){t.length=0}function yo(t,e){e<=0||e>=t.length||([t[e-1],t[e]]=[t[e],t[e-1]])}function Eo(t,e){e<=0||e>=t.length||(console.log(t[e-1],t[e]),[t[e-1],t[e]]=[t[e],t[e-1]])}function lb(t,e){Object.keys(t).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n](e))})}function cb(t,e){return t<1024?t+(e?" Byte":""):t<1048576?(t/1024).toFixed(0)+(e?'<span class="text-muted fw-light"> KB</span>':""):t<1073741824?(t/1048576).toFixed(2)+(e?'<span class="text-muted fw-light"> MB</span>':""):(t/1073741824).toFixed(2)+(e?'<span class="text-muted fw-light"> GB</span>':"")}function db(t){return t.split(".").reverse()[0]}var Yc=typeof global=="object"&&global&&global.Object===Object&&global,hb=typeof self=="object"&&self&&self.Object===Object&&self,ft=Yc||hb||Function("return this")(),Yt=ft.Symbol,Xc=Object.prototype,ub=Xc.hasOwnProperty,fb=Xc.toString,vs=Yt?Yt.toStringTag:void 0;function mb(t){var e=ub.call(t,vs),n=t[vs];try{t[vs]=void 0;var s=!0}catch{}var r=fb.call(t);return s&&(e?t[vs]=n:delete t[vs]),r}var pb=Object.prototype,gb=pb.toString;function bb(t){return gb.call(t)}var yb="[object Null]",Eb="[object Undefined]",Zc=Yt?Yt.toStringTag:void 0;function Zn(t){return t==null?t===void 0?Eb:yb:Zc&&Zc in Object(t)?mb(t):bb(t)}function Bt(t){return t!=null&&typeof t=="object"}var gn=Array.isArray;function Xt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Qc(t){return t}var _b="[object AsyncFunction]",wb="[object Function]",kb="[object GeneratorFunction]",Nb="[object Proxy]";function _o(t){if(!Xt(t))return!1;var e=Zn(t);return e==wb||e==kb||e==_b||e==Nb}var wo=ft["__core-js_shared__"],Jc=function(){var t=/[^.]+$/.exec(wo&&wo.keys&&wo.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Tb(t){return!!Jc&&Jc in t}var Ab=Function.prototype,Cb=Ab.toString;function bn(t){if(t!=null){try{return Cb.call(t)}catch{}try{return t+""}catch{}}return""}var Sb=/[\\^$.*+?()[\]{}|]/g,Ob=/^\[object .+?Constructor\]$/,Lb=Function.prototype,Bb=Object.prototype,Vb=Lb.toString,Ib=Bb.hasOwnProperty,vb=RegExp("^"+Vb.call(Ib).replace(Sb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Db(t){if(!Xt(t)||Tb(t))return!1;var e=_o(t)?vb:Ob;return e.test(bn(t))}function xb(t,e){return t==null?void 0:t[e]}function yn(t,e){var n=xb(t,e);return Db(n)?n:void 0}var ko=yn(ft,"WeakMap"),ed=Object.create,$b=function(){function t(){}return function(e){if(!Xt(e))return{};if(ed)return ed(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Mb(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function td(t,e){var n=-1,s=t.length;for(e||(e=Array(s));++n<s;)e[n]=t[n];return e}var Rb=800,qb=16,Pb=Date.now;function Fb(t){var e=0,n=0;return function(){var s=Pb(),r=qb-(s-n);if(n=s,r>0){if(++e>=Rb)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function jb(t){return function(){return t}}var Ui=function(){try{var t=yn(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ub=Ui?function(t,e){return Ui(t,"toString",{configurable:!0,enumerable:!1,value:jb(e),writable:!0})}:Qc,Hb=Fb(Ub);function zb(t,e){for(var n=-1,s=t==null?0:t.length;++n<s&&e(t[n],n,t)!==!1;);return t}var Wb=9007199254740991,Kb=/^(?:0|[1-9]\d*)$/;function nd(t,e){var n=typeof t;return e=e??Wb,!!e&&(n=="number"||n!="symbol"&&Kb.test(t))&&t>-1&&t%1==0&&t<e}function No(t,e,n){e=="__proto__"&&Ui?Ui(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ds(t,e){return t===e||t!==t&&e!==e}var Gb=Object.prototype,Yb=Gb.hasOwnProperty;function sd(t,e,n){var s=t[e];(!(Yb.call(t,e)&&Ds(s,n))||n===void 0&&!(e in t))&&No(t,e,n)}function xs(t,e,n,s){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var l=e[o],c=void 0;c===void 0&&(c=t[l]),r?No(n,l,c):sd(n,l,c)}return n}var id=Math.max;function Xb(t,e,n){return e=id(e===void 0?t.length-1:e,0),function(){for(var s=arguments,r=-1,o=id(s.length-e,0),a=Array(o);++r<o;)a[r]=s[e+r];r=-1;for(var l=Array(e+1);++r<e;)l[r]=s[r];return l[e]=n(a),Mb(t,this,l)}}function Zb(t,e){return Hb(Xb(t,e,Qc),t+"")}var Qb=9007199254740991;function rd(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Qb}function Hi(t){return t!=null&&rd(t.length)&&!_o(t)}function Jb(t,e,n){if(!Xt(n))return!1;var s=typeof e;return(s=="number"?Hi(n)&&nd(e,n.length):s=="string"&&e in n)?Ds(n[e],t):!1}function e1(t){return Zb(function(e,n){var s=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(r--,o):void 0,a&&Jb(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),e=Object(e);++s<r;){var l=n[s];l&&t(e,l,s,o)}return e})}var t1=Object.prototype;function To(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||t1;return t===n}function n1(t,e){for(var n=-1,s=Array(t);++n<t;)s[n]=e(n);return s}var s1="[object Arguments]";function od(t){return Bt(t)&&Zn(t)==s1}var ad=Object.prototype,i1=ad.hasOwnProperty,r1=ad.propertyIsEnumerable,Ao=od(function(){return arguments}())?od:function(t){return Bt(t)&&i1.call(t,"callee")&&!r1.call(t,"callee")};function o1(){return!1}var ld=typeof fe=="object"&&fe&&!fe.nodeType&&fe,cd=ld&&typeof module=="object"&&module&&!module.nodeType&&module,a1=cd&&cd.exports===ld,dd=a1?ft.Buffer:void 0,l1=dd?dd.isBuffer:void 0,$s=l1||o1,c1="[object Arguments]",d1="[object Array]",h1="[object Boolean]",u1="[object Date]",f1="[object Error]",m1="[object Function]",p1="[object Map]",g1="[object Number]",b1="[object Object]",y1="[object RegExp]",E1="[object Set]",_1="[object String]",w1="[object WeakMap]",k1="[object ArrayBuffer]",N1="[object DataView]",T1="[object Float32Array]",A1="[object Float64Array]",C1="[object Int8Array]",S1="[object Int16Array]",O1="[object Int32Array]",L1="[object Uint8Array]",B1="[object Uint8ClampedArray]",V1="[object Uint16Array]",I1="[object Uint32Array]",pe={};pe[T1]=pe[A1]=pe[C1]=pe[S1]=pe[O1]=pe[L1]=pe[B1]=pe[V1]=pe[I1]=!0,pe[c1]=pe[d1]=pe[k1]=pe[h1]=pe[N1]=pe[u1]=pe[f1]=pe[m1]=pe[p1]=pe[g1]=pe[b1]=pe[y1]=pe[E1]=pe[_1]=pe[w1]=!1;function v1(t){return Bt(t)&&rd(t.length)&&!!pe[Zn(t)]}function Co(t){return function(e){return t(e)}}var hd=typeof fe=="object"&&fe&&!fe.nodeType&&fe,Ms=hd&&typeof module=="object"&&module&&!module.nodeType&&module,D1=Ms&&Ms.exports===hd,So=D1&&Yc.process,Qn=function(){try{var t=Ms&&Ms.require&&Ms.require("util").types;return t||So&&So.binding&&So.binding("util")}catch{}}(),ud=Qn&&Qn.isTypedArray,Oo=ud?Co(ud):v1,x1=Object.prototype,$1=x1.hasOwnProperty;function fd(t,e){var n=gn(t),s=!n&&Ao(t),r=!n&&!s&&$s(t),o=!n&&!s&&!r&&Oo(t),a=n||s||r||o,l=a?n1(t.length,String):[],c=l.length;for(var h in t)(e||$1.call(t,h))&&!(a&&(h=="length"||r&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||nd(h,c)))&&l.push(h);return l}function md(t,e){return function(n){return t(e(n))}}var M1=md(Object.keys,Object),R1=Object.prototype,q1=R1.hasOwnProperty;function P1(t){if(!To(t))return M1(t);var e=[];for(var n in Object(t))q1.call(t,n)&&n!="constructor"&&e.push(n);return e}function Lo(t){return Hi(t)?fd(t):P1(t)}function F1(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var j1=Object.prototype,U1=j1.hasOwnProperty;function H1(t){if(!Xt(t))return F1(t);var e=To(t),n=[];for(var s in t)s=="constructor"&&(e||!U1.call(t,s))||n.push(s);return n}function Rs(t){return Hi(t)?fd(t,!0):H1(t)}var qs=yn(Object,"create");function z1(){this.__data__=qs?qs(null):{},this.size=0}function W1(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var K1="__lodash_hash_undefined__",G1=Object.prototype,Y1=G1.hasOwnProperty;function X1(t){var e=this.__data__;if(qs){var n=e[t];return n===K1?void 0:n}return Y1.call(e,t)?e[t]:void 0}var Z1=Object.prototype,Q1=Z1.hasOwnProperty;function J1(t){var e=this.__data__;return qs?e[t]!==void 0:Q1.call(e,t)}var ey="__lodash_hash_undefined__";function ty(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=qs&&e===void 0?ey:e,this}function En(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}En.prototype.clear=z1,En.prototype.delete=W1,En.prototype.get=X1,En.prototype.has=J1,En.prototype.set=ty;function ny(){this.__data__=[],this.size=0}function zi(t,e){for(var n=t.length;n--;)if(Ds(t[n][0],e))return n;return-1}var sy=Array.prototype,iy=sy.splice;function ry(t){var e=this.__data__,n=zi(e,t);if(n<0)return!1;var s=e.length-1;return n==s?e.pop():iy.call(e,n,1),--this.size,!0}function oy(t){var e=this.__data__,n=zi(e,t);return n<0?void 0:e[n][1]}function ay(t){return zi(this.__data__,t)>-1}function ly(t,e){var n=this.__data__,s=zi(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this}function Vt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}Vt.prototype.clear=ny,Vt.prototype.delete=ry,Vt.prototype.get=oy,Vt.prototype.has=ay,Vt.prototype.set=ly;var Ps=yn(ft,"Map");function cy(){this.size=0,this.__data__={hash:new En,map:new(Ps||Vt),string:new En}}function dy(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Wi(t,e){var n=t.__data__;return dy(e)?n[typeof e=="string"?"string":"hash"]:n.map}function hy(t){var e=Wi(this,t).delete(t);return this.size-=e?1:0,e}function uy(t){return Wi(this,t).get(t)}function fy(t){return Wi(this,t).has(t)}function my(t,e){var n=Wi(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this}function _n(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}_n.prototype.clear=cy,_n.prototype.delete=hy,_n.prototype.get=uy,_n.prototype.has=fy,_n.prototype.set=my;function pd(t,e){for(var n=-1,s=e.length,r=t.length;++n<s;)t[r+n]=e[n];return t}var Bo=md(Object.getPrototypeOf,Object),py="[object Object]",gy=Function.prototype,by=Object.prototype,gd=gy.toString,yy=by.hasOwnProperty,Ey=gd.call(Object);function _y(t){if(!Bt(t)||Zn(t)!=py)return!1;var e=Bo(t);if(e===null)return!0;var n=yy.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&gd.call(n)==Ey}function wy(){this.__data__=new Vt,this.size=0}function ky(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Ny(t){return this.__data__.get(t)}function Ty(t){return this.__data__.has(t)}var Ay=200;function Cy(t,e){var n=this.__data__;if(n instanceof Vt){var s=n.__data__;if(!Ps||s.length<Ay-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new _n(s)}return n.set(t,e),this.size=n.size,this}function mt(t){var e=this.__data__=new Vt(t);this.size=e.size}mt.prototype.clear=wy,mt.prototype.delete=ky,mt.prototype.get=Ny,mt.prototype.has=Ty,mt.prototype.set=Cy;function Sy(t,e){return t&&xs(e,Lo(e),t)}function Oy(t,e){return t&&xs(e,Rs(e),t)}var bd=typeof fe=="object"&&fe&&!fe.nodeType&&fe,yd=bd&&typeof module=="object"&&module&&!module.nodeType&&module,Ly=yd&&yd.exports===bd,Ed=Ly?ft.Buffer:void 0,_d=Ed?Ed.allocUnsafe:void 0;function wd(t,e){if(e)return t.slice();var n=t.length,s=_d?_d(n):new t.constructor(n);return t.copy(s),s}function By(t,e){for(var n=-1,s=t==null?0:t.length,r=0,o=[];++n<s;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function kd(){return[]}var Vy=Object.prototype,Iy=Vy.propertyIsEnumerable,Nd=Object.getOwnPropertySymbols,Vo=Nd?function(t){return t==null?[]:(t=Object(t),By(Nd(t),function(e){return Iy.call(t,e)}))}:kd;function vy(t,e){return xs(t,Vo(t),e)}var Dy=Object.getOwnPropertySymbols,Td=Dy?function(t){for(var e=[];t;)pd(e,Vo(t)),t=Bo(t);return e}:kd;function xy(t,e){return xs(t,Td(t),e)}function Ad(t,e,n){var s=e(t);return gn(t)?s:pd(s,n(t))}function Io(t){return Ad(t,Lo,Vo)}function $y(t){return Ad(t,Rs,Td)}var vo=yn(ft,"DataView"),Do=yn(ft,"Promise"),xo=yn(ft,"Set"),Cd="[object Map]",My="[object Object]",Sd="[object Promise]",Od="[object Set]",Ld="[object WeakMap]",Bd="[object DataView]",Ry=bn(vo),qy=bn(Ps),Py=bn(Do),Fy=bn(xo),jy=bn(ko),Je=Zn;(vo&&Je(new vo(new ArrayBuffer(1)))!=Bd||Ps&&Je(new Ps)!=Cd||Do&&Je(Do.resolve())!=Sd||xo&&Je(new xo)!=Od||ko&&Je(new ko)!=Ld)&&(Je=function(t){var e=Zn(t),n=e==My?t.constructor:void 0,s=n?bn(n):"";if(s)switch(s){case Ry:return Bd;case qy:return Cd;case Py:return Sd;case Fy:return Od;case jy:return Ld}return e});var Uy=Object.prototype,Hy=Uy.hasOwnProperty;function zy(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Hy.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Ki=ft.Uint8Array;function $o(t){var e=new t.constructor(t.byteLength);return new Ki(e).set(new Ki(t)),e}function Wy(t,e){var n=e?$o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Ky=/\w*$/;function Gy(t){var e=new t.constructor(t.source,Ky.exec(t));return e.lastIndex=t.lastIndex,e}var Vd=Yt?Yt.prototype:void 0,Id=Vd?Vd.valueOf:void 0;function Yy(t){return Id?Object(Id.call(t)):{}}function vd(t,e){var n=e?$o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Xy="[object Boolean]",Zy="[object Date]",Qy="[object Map]",Jy="[object Number]",eE="[object RegExp]",tE="[object Set]",nE="[object String]",sE="[object Symbol]",iE="[object ArrayBuffer]",rE="[object DataView]",oE="[object Float32Array]",aE="[object Float64Array]",lE="[object Int8Array]",cE="[object Int16Array]",dE="[object Int32Array]",hE="[object Uint8Array]",uE="[object Uint8ClampedArray]",fE="[object Uint16Array]",mE="[object Uint32Array]";function pE(t,e,n){var s=t.constructor;switch(e){case iE:return $o(t);case Xy:case Zy:return new s(+t);case rE:return Wy(t,n);case oE:case aE:case lE:case cE:case dE:case hE:case uE:case fE:case mE:return vd(t,n);case Qy:return new s;case Jy:case nE:return new s(t);case eE:return Gy(t);case tE:return new s;case sE:return Yy(t)}}function Dd(t){return typeof t.constructor=="function"&&!To(t)?$b(Bo(t)):{}}var gE="[object Map]";function bE(t){return Bt(t)&&Je(t)==gE}var xd=Qn&&Qn.isMap,yE=xd?Co(xd):bE,EE="[object Set]";function _E(t){return Bt(t)&&Je(t)==EE}var $d=Qn&&Qn.isSet,wE=$d?Co($d):_E,kE=1,NE=2,TE=4,Md="[object Arguments]",AE="[object Array]",CE="[object Boolean]",SE="[object Date]",OE="[object Error]",Rd="[object Function]",LE="[object GeneratorFunction]",BE="[object Map]",VE="[object Number]",qd="[object Object]",IE="[object RegExp]",vE="[object Set]",DE="[object String]",xE="[object Symbol]",$E="[object WeakMap]",ME="[object ArrayBuffer]",RE="[object DataView]",qE="[object Float32Array]",PE="[object Float64Array]",FE="[object Int8Array]",jE="[object Int16Array]",UE="[object Int32Array]",HE="[object Uint8Array]",zE="[object Uint8ClampedArray]",WE="[object Uint16Array]",KE="[object Uint32Array]",me={};me[Md]=me[AE]=me[ME]=me[RE]=me[CE]=me[SE]=me[qE]=me[PE]=me[FE]=me[jE]=me[UE]=me[BE]=me[VE]=me[qd]=me[IE]=me[vE]=me[DE]=me[xE]=me[HE]=me[zE]=me[WE]=me[KE]=!0,me[OE]=me[Rd]=me[$E]=!1;function Gi(t,e,n,s,r,o){var a,l=e&kE,c=e&NE,h=e&TE;if(a!==void 0)return a;if(!Xt(t))return t;var f=gn(t);if(f){if(a=zy(t),!l)return td(t,a)}else{var u=Je(t),p=u==Rd||u==LE;if($s(t))return wd(t,l);if(u==qd||u==Md||p&&!r){if(a=c||p?{}:Dd(t),!l)return c?xy(t,Oy(a,t)):vy(t,Sy(a,t))}else{if(!me[u])return r?t:{};a=pE(t,u,l)}}o||(o=new mt);var g=o.get(t);if(g)return g;o.set(t,a),wE(t)?t.forEach(function(k){a.add(Gi(k,e,n,k,t,o))}):yE(t)&&t.forEach(function(k,N){a.set(N,Gi(k,e,n,N,t,o))});var E=h?c?$y:Io:c?Rs:Lo,w=f?void 0:E(t);return zb(w||t,function(k,N){w&&(N=k,k=t[N]),sd(a,N,Gi(k,e,n,N,t,o))}),a}var GE=1,YE=4;function Jn(t){return Gi(t,GE|YE)}var XE="__lodash_hash_undefined__";function ZE(t){return this.__data__.set(t,XE),this}function QE(t){return this.__data__.has(t)}function Yi(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new _n;++e<n;)this.add(t[e])}Yi.prototype.add=Yi.prototype.push=ZE,Yi.prototype.has=QE;function JE(t,e){for(var n=-1,s=t==null?0:t.length;++n<s;)if(e(t[n],n,t))return!0;return!1}function e0(t,e){return t.has(e)}var t0=1,n0=2;function Pd(t,e,n,s,r,o){var a=n&t0,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var h=o.get(t),f=o.get(e);if(h&&f)return h==e&&f==t;var u=-1,p=!0,g=n&n0?new Yi:void 0;for(o.set(t,e),o.set(e,t);++u<l;){var E=t[u],w=e[u];if(s)var k=a?s(w,E,u,e,t,o):s(E,w,u,t,e,o);if(k!==void 0){if(k)continue;p=!1;break}if(g){if(!JE(e,function(N,L){if(!e0(g,L)&&(E===N||r(E,N,n,s,o)))return g.push(L)})){p=!1;break}}else if(!(E===w||r(E,w,n,s,o))){p=!1;break}}return o.delete(t),o.delete(e),p}function s0(t){var e=-1,n=Array(t.size);return t.forEach(function(s,r){n[++e]=[r,s]}),n}function i0(t){var e=-1,n=Array(t.size);return t.forEach(function(s){n[++e]=s}),n}var r0=1,o0=2,a0="[object Boolean]",l0="[object Date]",c0="[object Error]",d0="[object Map]",h0="[object Number]",u0="[object RegExp]",f0="[object Set]",m0="[object String]",p0="[object Symbol]",g0="[object ArrayBuffer]",b0="[object DataView]",Fd=Yt?Yt.prototype:void 0,Mo=Fd?Fd.valueOf:void 0;function y0(t,e,n,s,r,o,a){switch(n){case b0:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case g0:return!(t.byteLength!=e.byteLength||!o(new Ki(t),new Ki(e)));case a0:case l0:case h0:return Ds(+t,+e);case c0:return t.name==e.name&&t.message==e.message;case u0:case m0:return t==e+"";case d0:var l=s0;case f0:var c=s&r0;if(l||(l=i0),t.size!=e.size&&!c)return!1;var h=a.get(t);if(h)return h==e;s|=o0,a.set(t,e);var f=Pd(l(t),l(e),s,r,o,a);return a.delete(t),f;case p0:if(Mo)return Mo.call(t)==Mo.call(e)}return!1}var E0=1,_0=Object.prototype,w0=_0.hasOwnProperty;function k0(t,e,n,s,r,o){var a=n&E0,l=Io(t),c=l.length,h=Io(e),f=h.length;if(c!=f&&!a)return!1;for(var u=c;u--;){var p=l[u];if(!(a?p in e:w0.call(e,p)))return!1}var g=o.get(t),E=o.get(e);if(g&&E)return g==e&&E==t;var w=!0;o.set(t,e),o.set(e,t);for(var k=a;++u<c;){p=l[u];var N=t[p],L=e[p];if(s)var v=a?s(L,N,p,e,t,o):s(N,L,p,t,e,o);if(!(v===void 0?N===L||r(N,L,n,s,o):v)){w=!1;break}k||(k=p=="constructor")}if(w&&!k){var D=t.constructor,x=e.constructor;D!=x&&"constructor"in t&&"constructor"in e&&!(typeof D=="function"&&D instanceof D&&typeof x=="function"&&x instanceof x)&&(w=!1)}return o.delete(t),o.delete(e),w}var N0=1,jd="[object Arguments]",Ud="[object Array]",Xi="[object Object]",T0=Object.prototype,Hd=T0.hasOwnProperty;function A0(t,e,n,s,r,o){var a=gn(t),l=gn(e),c=a?Ud:Je(t),h=l?Ud:Je(e);c=c==jd?Xi:c,h=h==jd?Xi:h;var f=c==Xi,u=h==Xi,p=c==h;if(p&&$s(t)){if(!$s(e))return!1;a=!0,f=!1}if(p&&!f)return o||(o=new mt),a||Oo(t)?Pd(t,e,n,s,r,o):y0(t,e,c,n,s,r,o);if(!(n&N0)){var g=f&&Hd.call(t,"__wrapped__"),E=u&&Hd.call(e,"__wrapped__");if(g||E){var w=g?t.value():t,k=E?e.value():e;return o||(o=new mt),r(w,k,n,s,o)}}return p?(o||(o=new mt),k0(t,e,n,s,r,o)):!1}function zd(t,e,n,s,r){return t===e?!0:t==null||e==null||!Bt(t)&&!Bt(e)?t!==t&&e!==e:A0(t,e,n,s,zd,r)}function C0(t){return function(e,n,s){for(var r=-1,o=Object(e),a=s(e),l=a.length;l--;){var c=a[++r];if(n(o[c],c,o)===!1)break}return e}}var S0=C0();function Ro(t,e,n){(n!==void 0&&!Ds(t[e],n)||n===void 0&&!(e in t))&&No(t,e,n)}function O0(t){return Bt(t)&&Hi(t)}function qo(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function L0(t){return xs(t,Rs(t))}function B0(t,e,n,s,r,o,a){var l=qo(t,n),c=qo(e,n),h=a.get(c);if(h){Ro(t,n,h);return}var f=o?o(l,c,n+"",t,e,a):void 0,u=f===void 0;if(u){var p=gn(c),g=!p&&$s(c),E=!p&&!g&&Oo(c);f=c,p||g||E?gn(l)?f=l:O0(l)?f=td(l):g?(u=!1,f=wd(c,!0)):E?(u=!1,f=vd(c,!0)):f=[]:_y(c)||Ao(c)?(f=l,Ao(l)?f=L0(l):(!Xt(l)||_o(l))&&(f=Dd(c))):u=!1}u&&(a.set(c,f),r(f,c,s,o,a),a.delete(c)),Ro(t,n,f)}function Wd(t,e,n,s,r){t!==e&&S0(e,function(o,a){if(r||(r=new mt),Xt(o))B0(t,e,a,n,Wd,s,r);else{var l=s?s(qo(t,a),o,a+"",t,e,r):void 0;l===void 0&&(l=o),Ro(t,a,l)}},Rs)}function Po(t,e){return zd(t,e)}var Zt=e1(function(t,e,n){Wd(t,e,n)}),U=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(U||{});class pt{constructor(e,n,s={}){this.attrName=e,this.keyName=n;const r=U.TYPE&U.ATTRIBUTE;this.scope=s.scope!=null?s.scope&U.LEVEL|r:U.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(e){return Array.from(e.attributes).map(n=>n.name)}add(e,n){return this.canAdd(e,n)?(e.setAttribute(this.keyName,n),!0):!1}canAdd(e,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const n=e.getAttribute(this.keyName);return this.canAdd(e,n)&&n?n:""}}class es extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const Kd=class al{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,n=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(n){let s=null;try{s=e.parentNode}catch{return null}return this.find(s,n)}return null}create(e,n,s){const r=this.query(n);if(r==null)throw new es(`Unable to create ${n} blot`);const o=r,a=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:o.create(s),l=new o(e,a,s);return al.blots.set(l.domNode,l),l}find(e,n=!1){return al.find(e,n)}query(e,n=U.ANY){let s;return typeof e=="string"?s=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?s=this.types.text:typeof e=="number"?e&U.LEVEL&U.BLOCK?s=this.types.block:e&U.LEVEL&U.INLINE&&(s=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(r=>(s=this.classes[r],!!s)),s=s||this.tags[e.tagName]),s==null?null:"scope"in s&&n&U.LEVEL&s.scope&&n&U.TYPE&s.scope?s:null}register(...e){return e.map(n=>{const s="blotName"in n,r="attrName"in n;if(!s&&!r)throw new es("Invalid definition");if(s&&n.blotName==="abstract")throw new es("Cannot register abstract class");const o=s?n.blotName:r?n.attrName:void 0;return this.types[o]=n,r?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):s&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(a=>a.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(a=>{(this.tags[a]==null||n.className==null)&&(this.tags[a]=n)}))),n})}};Kd.blots=new WeakMap;let ts=Kd;function Gd(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${e}-`)===0)}class V0 extends pt{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(e,n){return this.canAdd(e,n)?(this.remove(e),e.classList.add(`${this.keyName}-${n}`),!0):!1}remove(e){Gd(e,this.keyName).forEach(n=>{e.classList.remove(n)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const n=(Gd(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,n)?n:""}}const et=V0;function Fo(t){const e=t.split("-"),n=e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return e[0]+n}class I0 extends pt{static keys(e){return(e.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(e,n){return this.canAdd(e,n)?(e.style[Fo(this.keyName)]=n,!0):!1}remove(e){e.style[Fo(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const n=e.style[Fo(this.keyName)];return this.canAdd(e,n)?n:""}}const Qt=I0;class v0{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,n){n?e.add(this.domNode,n)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=ts.find(this.domNode);if(e==null)return;const n=pt.keys(this.domNode),s=et.keys(this.domNode),r=Qt.keys(this.domNode);n.concat(s).concat(r).forEach(o=>{const a=e.scroll.query(o,U.ATTRIBUTE);a instanceof pt&&(this.attributes[a.attrName]=a)})}copy(e){Object.keys(this.attributes).forEach(n=>{const s=this.attributes[n].value(this.domNode);e.format(n,s)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,n)=>(e[n]=this.attributes[n].value(this.domNode),e),{})}}const Zi=v0,Yd=class{constructor(e,n){this.scroll=e,this.domNode=n,ts.blots.set(n,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new es("Blot definition missing tagName");let n,s;return Array.isArray(this.tagName)?(typeof e=="string"?(s=e.toUpperCase(),parseInt(s,10).toString()===s&&(s=parseInt(s,10))):typeof e=="number"&&(s=e),typeof s=="number"?n=document.createElement(this.tagName[s-1]):s&&this.tagName.indexOf(s)>-1?n=document.createElement(s):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),ts.blots.delete(this.domNode)}deleteAt(e,n){this.isolate(e,n).remove()}formatAt(e,n,s,r){const o=this.isolate(e,n);if(this.scroll.query(s,U.BLOT)!=null&&r)o.wrap(s,r);else if(this.scroll.query(s,U.ATTRIBUTE)!=null){const a=this.scroll.create(this.statics.scope);o.wrap(a),a.format(s,r)}}insertAt(e,n,s){const r=s==null?this.scroll.create("text",n):this.scroll.create(n,s),o=this.split(e);this.parent.insertBefore(r,o||void 0)}isolate(e,n){const s=this.split(e);if(s==null)throw new Error("Attempt to isolate at end");return s.split(n),s}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,n){const s=typeof e=="string"?this.scroll.create(e,n):e;return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),s}split(e,n){return e===0?this:this.next}update(e,n){}wrap(e,n){const s=typeof e=="string"?this.scroll.create(e,n):e;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new es(`Cannot wrap ${e}`);return s.appendChild(this),s}};Yd.blotName="abstract";let Xd=Yd;const Zd=class extends Xd{static value(e){return!0}index(e,n){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(e,n){let s=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(s+=1),[this.parent.domNode,s]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Zd.scope=U.INLINE_BLOT;const Te=Zd;class D0{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const n=e.slice(1);this.append(...n)}}at(e){const n=this.iterator();let s=n();for(;s&&e>0;)e-=1,s=n();return s}contains(e){const n=this.iterator();let s=n();for(;s;){if(s===e)return!0;s=n()}return!1}indexOf(e){const n=this.iterator();let s=n(),r=0;for(;s;){if(s===e)return r;r+=1,s=n()}return-1}insertBefore(e,n){e!=null&&(this.remove(e),e.next=n,n!=null?(e.prev=n.prev,n.prev!=null&&(n.prev.next=e),n.prev=e,n===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let n=0,s=this.head;for(;s!=null;){if(s===e)return n;n+=s.length(),s=s.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const n=e;return e!=null&&(e=e.next),n}}find(e,n=!1){const s=this.iterator();let r=s();for(;r;){const o=r.length();if(e<o||n&&e===o&&(r.next==null||r.next.length()!==0))return[r,e];e-=o,r=s()}return[null,0]}forEach(e){const n=this.iterator();let s=n();for(;s;)e(s),s=n()}forEachAt(e,n,s){if(n<=0)return;const[r,o]=this.find(e);let a=e-o;const l=this.iterator(r);let c=l();for(;c&&a<e+n;){const h=c.length();e>a?s(c,e-a,Math.min(n,a+h-e)):s(c,0,Math.min(h,e+n-a)),a+=h,c=l()}}map(e){return this.reduce((n,s)=>(n.push(e(s)),n),[])}reduce(e,n){const s=this.iterator();let r=s();for(;r;)n=e(n,r),r=s();return n}}function Qd(t,e){const n=e.find(t);if(n)return n;try{return e.create(t)}catch{const s=e.create(U.INLINE);return Array.from(t.childNodes).forEach(r=>{s.domNode.appendChild(r)}),t.parentNode&&t.parentNode.replaceChild(s.domNode,t),s.attach(),s}}const Jd=class on extends Xd{constructor(e,n){super(e,n),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,on.uiClass&&this.uiNode.classList.add(on.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new D0,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const n=Qd(e,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof es)return;throw n}})}deleteAt(e,n){if(e===0&&n===this.length())return this.remove();this.children.forEachAt(e,n,(s,r,o)=>{s.deleteAt(r,o)})}descendant(e,n=0){const[s,r]=this.children.find(n);return e.blotName==null&&e(s)||e.blotName!=null&&s instanceof e?[s,r]:s instanceof on?s.descendant(e,r):[null,-1]}descendants(e,n=0,s=Number.MAX_VALUE){let r=[],o=s;return this.children.forEachAt(n,s,(a,l,c)=>{(e.blotName==null&&e(a)||e.blotName!=null&&a instanceof e)&&r.push(a),a instanceof on&&(r=r.concat(a.descendants(e,l,o))),o-=c}),r}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(n=>{e||this.statics.allowedChildren.some(s=>n instanceof s)||(n.statics.scope===U.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),e=!0):n instanceof on?n.unwrap():n.remove())})}formatAt(e,n,s,r){this.children.forEachAt(e,n,(o,a,l)=>{o.formatAt(a,l,s,r)})}insertAt(e,n,s){const[r,o]=this.children.find(e);if(r)r.insertAt(o,n,s);else{const a=s==null?this.scroll.create("text",n):this.scroll.create(n,s);this.appendChild(a)}}insertBefore(e,n){e.parent!=null&&e.parent.children.remove(e);let s=null;this.children.insertBefore(e,n||null),e.parent=this,n!=null&&(s=n.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(e.domNode,s),e.attach()}length(){return this.children.reduce((e,n)=>e+n.length(),0)}moveChildren(e,n){this.children.forEach(s=>{e.insertBefore(s,n)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(e,n=!1){const[s,r]=this.children.find(e,n),o=[[this,e]];return s instanceof on?o.concat(s.path(r,n)):(s!=null&&o.push([s,r]),o)}removeChild(e){this.children.remove(e)}replaceWith(e,n){const s=typeof e=="string"?this.scroll.create(e,n):e;return s instanceof on&&this.moveChildren(s),super.replaceWith(s)}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(e,this.length(),(r,o,a)=>{const l=r.split(o,n);l!=null&&s.appendChild(l)}),s}splitAfter(e){const n=this.clone();for(;e.next!=null;)n.appendChild(e.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,n){const s=[],r=[];e.forEach(o=>{o.target===this.domNode&&o.type==="childList"&&(s.push(...o.addedNodes),r.push(...o.removedNodes))}),r.forEach(o=>{if(o.parentNode!=null&&o.tagName!=="IFRAME"&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const a=this.scroll.find(o);a!=null&&(a.domNode.parentNode==null||a.domNode.parentNode===this.domNode)&&a.detach()}),s.filter(o=>o.parentNode===this.domNode&&o!==this.uiNode).sort((o,a)=>o===a?0:o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(o=>{let a=null;o.nextSibling!=null&&(a=this.scroll.find(o.nextSibling));const l=Qd(o,this.scroll);(l.next!==a||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,a||void 0))}),this.enforceAllowedChildren()}};Jd.uiClass="";const tt=Jd;function x0(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}const ns=class _s extends tt{static create(e){return super.create(e)}static formats(e,n){const s=n.query(_s.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Zi(this.domNode)}format(e,n){if(e===this.statics.blotName&&!n)this.children.forEach(s=>{s instanceof _s||(s=s.wrap(_s.blotName,!0)),this.attributes.copy(s)}),this.unwrap();else{const s=this.scroll.query(e,U.INLINE);if(s==null)return;s instanceof pt?this.attributes.attribute(s,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,s,r){this.formats()[s]!=null||this.scroll.query(s,U.ATTRIBUTE)?this.isolate(e,n).format(s,r):super.formatAt(e,n,s,r)}optimize(e){super.optimize(e);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const s=this.next;s instanceof _s&&s.prev===this&&x0(n,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(e,n){const s=super.replaceWith(e,n);return this.attributes.copy(s),s}update(e,n){super.update(e,n),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(e,n){const s=super.wrap(e,n);return s instanceof _s&&this.attributes.move(s),s}};ns.allowedChildren=[ns,Te],ns.blotName="inline",ns.scope=U.INLINE_BLOT,ns.tagName="SPAN";const jo=ns,ss=class ll extends tt{static create(e){return super.create(e)}static formats(e,n){const s=n.query(ll.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Zi(this.domNode)}format(e,n){const s=this.scroll.query(e,U.BLOCK);s!=null&&(s instanceof pt?this.attributes.attribute(s,n):e===this.statics.blotName&&!n?this.replaceWith(ll.blotName):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n))}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,s,r){this.scroll.query(s,U.BLOCK)!=null?this.format(s,r):super.formatAt(e,n,s,r)}insertAt(e,n,s){if(s==null||this.scroll.query(n,U.INLINE)!=null)super.insertAt(e,n,s);else{const r=this.split(e);if(r!=null){const o=this.scroll.create(n,s);r.parent.insertBefore(o,r)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,n){const s=super.replaceWith(e,n);return this.attributes.copy(s),s}update(e,n){super.update(e,n),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};ss.blotName="block",ss.scope=U.BLOCK_BLOT,ss.tagName="P",ss.allowedChildren=[jo,ss,Te];const Fs=ss,Uo=class extends tt{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,n){super.deleteAt(e,n),this.enforceAllowedChildren()}formatAt(e,n,s,r){super.formatAt(e,n,s,r),this.enforceAllowedChildren()}insertAt(e,n,s){super.insertAt(e,n,s),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Uo.blotName="container",Uo.scope=U.BLOCK_BLOT;const Qi=Uo;class $0 extends Te{static formats(e,n){}format(e,n){super.formatAt(0,this.length(),e,n)}formatAt(e,n,s,r){e===0&&n===this.length()?this.format(s,r):super.formatAt(e,n,s,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const qe=$0,M0={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},R0=100,is=class extends tt{constructor(e,n){super(null,n),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(s=>{this.update(s)}),this.observer.observe(this.domNode,M0),this.attach()}create(e,n){return this.registry.create(this,e,n)}find(e,n=!1){const s=this.registry.find(e,n);return s?s.scroll===this?s:n?this.find(s.scroll.domNode.parentNode,!0):null:null}query(e,n=U.ANY){return this.registry.query(e,n)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,n){this.update(),e===0&&n===this.length()?this.children.forEach(s=>{s.remove()}):super.deleteAt(e,n)}formatAt(e,n,s,r){this.update(),super.formatAt(e,n,s,r)}insertAt(e,n,s){this.update(),super.insertAt(e,n,s)}optimize(e=[],n={}){super.optimize(n);const s=n.mutationsMap||new WeakMap;let r=Array.from(this.observer.takeRecords());for(;r.length>0;)e.push(r.pop());const o=(c,h=!0)=>{c==null||c===this||c.domNode.parentNode!=null&&(s.has(c.domNode)||s.set(c.domNode,[]),h&&o(c.parent))},a=c=>{s.has(c.domNode)&&(c instanceof tt&&c.children.forEach(a),s.delete(c.domNode),c.optimize(n))};let l=e;for(let c=0;l.length>0;c+=1){if(c>=R0)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(h=>{const f=this.find(h.target,!0);f!=null&&(f.domNode===h.target&&(h.type==="childList"?(o(this.find(h.previousSibling,!1)),Array.from(h.addedNodes).forEach(u=>{const p=this.find(u,!1);o(p,!1),p instanceof tt&&p.children.forEach(g=>{o(g,!1)})})):h.type==="attributes"&&o(f.prev)),o(f))}),this.children.forEach(a),l=Array.from(this.observer.takeRecords()),r=l.slice();r.length>0;)e.push(r.pop())}}update(e,n={}){e=e||this.observer.takeRecords();const s=new WeakMap;e.map(r=>{const o=this.find(r.target,!0);return o==null?null:s.has(o.domNode)?(s.get(o.domNode).push(r),null):(s.set(o.domNode,[r]),o)}).forEach(r=>{r!=null&&r!==this&&s.has(r.domNode)&&r.update(s.get(r.domNode)||[],n)}),n.mutationsMap=s,s.has(this.domNode)&&super.update(s.get(this.domNode),n),this.optimize(e,n)}};is.blotName="scroll",is.defaultChild=Fs,is.allowedChildren=[Fs,Qi],is.scope=U.BLOCK_BLOT,is.tagName="DIV";const Ho=is,zo=class pu extends Te{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,n){super(e,n),this.text=this.statics.value(this.domNode)}deleteAt(e,n){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+n)}index(e,n){return this.domNode===e?n:-1}insertAt(e,n,s){s==null?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,n,s)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof pu&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,n=!1){return[this.domNode,e]}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(e,n){e.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};zo.blotName="text",zo.scope=U.INLINE_BLOT;const Ji=zo,q0=Object.freeze(Object.defineProperty({__proto__:null,Attributor:pt,AttributorStore:Zi,BlockBlot:Fs,ClassAttributor:et,ContainerBlot:Qi,EmbedBlot:qe,InlineBlot:jo,LeafBlot:Te,ParentBlot:tt,Registry:ts,Scope:U,ScrollBlot:Ho,StyleAttributor:Qt,TextBlot:Ji},Symbol.toStringTag,{value:"Module"}));var Jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var er={exports:{}},Wo,th;function P0(){if(th)return Wo;th=1;var t=-1,e=1,n=0;function s(b,S,_,I,V){if(b===S)return b?[[n,b]]:[];if(_!=null){var A=de(b,S,_);if(A)return A}var B=l(b,S),R=b.substring(0,B);b=b.substring(B),S=S.substring(B),B=h(b,S);var P=b.substring(b.length-B);b=b.substring(0,b.length-B),S=S.substring(0,S.length-B);var $=r(b,S);return R&&$.unshift([n,R]),P&&$.push([n,P]),L($,V),I&&u($),$}function r(b,S){var _;if(!b)return[[e,S]];if(!S)return[[t,b]];var I=b.length>S.length?b:S,V=b.length>S.length?S:b,A=I.indexOf(V);if(A!==-1)return _=[[e,I.substring(0,A)],[n,V],[e,I.substring(A+V.length)]],b.length>S.length&&(_[0][0]=_[2][0]=t),_;if(V.length===1)return[[t,b],[e,S]];var B=f(b,S);if(B){var R=B[0],P=B[1],$=B[2],Y=B[3],K=B[4],J=s(R,$),Z=s(P,Y);return J.concat([[n,K]],Z)}return o(b,S)}function o(b,S){for(var _=b.length,I=S.length,V=Math.ceil((_+I)/2),A=V,B=2*V,R=new Array(B),P=new Array(B),$=0;$<B;$++)R[$]=-1,P[$]=-1;R[A+1]=0,P[A+1]=0;for(var Y=_-I,K=Y%2!==0,J=0,Z=0,F=0,ae=0,ue=0;ue<V;ue++){for(var G=-ue+J;G<=ue-Z;G+=2){var te=A+G,ie;G===-ue||G!==ue&&R[te-1]<R[te+1]?ie=R[te+1]:ie=R[te-1]+1;for(var ne=ie-G;ie<_&&ne<I&&b.charAt(ie)===S.charAt(ne);)ie++,ne++;if(R[te]=ie,ie>_)Z+=2;else if(ne>I)J+=2;else if(K){var le=A+Y-G;if(le>=0&&le<B&&P[le]!==-1){var ce=_-P[le];if(ie>=ce)return a(b,S,ie,ne)}}}for(var ge=-ue+F;ge<=ue-ae;ge+=2){var le=A+ge,ce;ge===-ue||ge!==ue&&P[le-1]<P[le+1]?ce=P[le+1]:ce=P[le-1]+1;for(var _e=ce-ge;ce<_&&_e<I&&b.charAt(_-ce-1)===S.charAt(I-_e-1);)ce++,_e++;if(P[le]=ce,ce>_)ae+=2;else if(_e>I)F+=2;else if(!K){var te=A+Y-ge;if(te>=0&&te<B&&R[te]!==-1){var ie=R[te],ne=A+ie-te;if(ce=_-ce,ie>=ce)return a(b,S,ie,ne)}}}}return[[t,b],[e,S]]}function a(b,S,_,I){var V=b.substring(0,_),A=S.substring(0,I),B=b.substring(_),R=S.substring(I),P=s(V,A),$=s(B,R);return P.concat($)}function l(b,S){if(!b||!S||b.charAt(0)!==S.charAt(0))return 0;for(var _=0,I=Math.min(b.length,S.length),V=I,A=0;_<V;)b.substring(A,V)==S.substring(A,V)?(_=V,A=_):I=V,V=Math.floor((I-_)/2+_);return v(b.charCodeAt(V-1))&&V--,V}function c(b,S){var _=b.length,I=S.length;if(_==0||I==0)return 0;_>I?b=b.substring(_-I):_<I&&(S=S.substring(0,_));var V=Math.min(_,I);if(b==S)return V;for(var A=0,B=1;;){var R=b.substring(V-B),P=S.indexOf(R);if(P==-1)return A;B+=P,(P==0||b.substring(V-B)==S.substring(0,B))&&(A=B,B++)}}function h(b,S){if(!b||!S||b.slice(-1)!==S.slice(-1))return 0;for(var _=0,I=Math.min(b.length,S.length),V=I,A=0;_<V;)b.substring(b.length-V,b.length-A)==S.substring(S.length-V,S.length-A)?(_=V,A=_):I=V,V=Math.floor((I-_)/2+_);return D(b.charCodeAt(b.length-V))&&V--,V}function f(b,S){var _=b.length>S.length?b:S,I=b.length>S.length?S:b;if(_.length<4||I.length*2<_.length)return null;function V(Z,F,ae){for(var ue=Z.substring(ae,ae+Math.floor(Z.length/4)),G=-1,te="",ie,ne,le,ce;(G=F.indexOf(ue,G+1))!==-1;){var ge=l(Z.substring(ae),F.substring(G)),_e=h(Z.substring(0,ae),F.substring(0,G));te.length<_e+ge&&(te=F.substring(G-_e,G)+F.substring(G,G+ge),ie=Z.substring(0,ae-_e),ne=Z.substring(ae+ge),le=F.substring(0,G-_e),ce=F.substring(G+ge))}return te.length*2>=Z.length?[ie,ne,le,ce,te]:null}var A=V(_,I,Math.ceil(_.length/4)),B=V(_,I,Math.ceil(_.length/2)),R;if(!A&&!B)return null;B?A?R=A[4].length>B[4].length?A:B:R=B:R=A;var P,$,Y,K;b.length>S.length?(P=R[0],$=R[1],Y=R[2],K=R[3]):(Y=R[0],K=R[1],P=R[2],$=R[3]);var J=R[4];return[P,$,Y,K,J]}function u(b){for(var S=!1,_=[],I=0,V=null,A=0,B=0,R=0,P=0,$=0;A<b.length;)b[A][0]==n?(_[I++]=A,B=P,R=$,P=0,$=0,V=b[A][1]):(b[A][0]==e?P+=b[A][1].length:$+=b[A][1].length,V&&V.length<=Math.max(B,R)&&V.length<=Math.max(P,$)&&(b.splice(_[I-1],0,[t,V]),b[_[I-1]+1][0]=e,I--,I--,A=I>0?_[I-1]:-1,B=0,R=0,P=0,$=0,V=null,S=!0)),A++;for(S&&L(b),N(b),A=1;A<b.length;){if(b[A-1][0]==t&&b[A][0]==e){var Y=b[A-1][1],K=b[A][1],J=c(Y,K),Z=c(K,Y);J>=Z?(J>=Y.length/2||J>=K.length/2)&&(b.splice(A,0,[n,K.substring(0,J)]),b[A-1][1]=Y.substring(0,Y.length-J),b[A+1][1]=K.substring(J),A++):(Z>=Y.length/2||Z>=K.length/2)&&(b.splice(A,0,[n,Y.substring(0,Z)]),b[A-1][0]=e,b[A-1][1]=K.substring(0,K.length-Z),b[A+1][0]=t,b[A+1][1]=Y.substring(Z),A++),A++}A++}}var p=/[^a-zA-Z0-9]/,g=/\s/,E=/[\r\n]/,w=/\n\r?\n$/,k=/^\r?\n\r?\n/;function N(b){function S(Z,F){if(!Z||!F)return 6;var ae=Z.charAt(Z.length-1),ue=F.charAt(0),G=ae.match(p),te=ue.match(p),ie=G&&ae.match(g),ne=te&&ue.match(g),le=ie&&ae.match(E),ce=ne&&ue.match(E),ge=le&&Z.match(w),_e=ce&&F.match(k);return ge||_e?5:le||ce?4:G&&!ie&&ne?3:ie||ne?2:G||te?1:0}for(var _=1;_<b.length-1;){if(b[_-1][0]==n&&b[_+1][0]==n){var I=b[_-1][1],V=b[_][1],A=b[_+1][1],B=h(I,V);if(B){var R=V.substring(V.length-B);I=I.substring(0,I.length-B),V=R+V.substring(0,V.length-B),A=R+A}for(var P=I,$=V,Y=A,K=S(I,V)+S(V,A);V.charAt(0)===A.charAt(0);){I+=V.charAt(0),V=V.substring(1)+A.charAt(0),A=A.substring(1);var J=S(I,V)+S(V,A);J>=K&&(K=J,P=I,$=V,Y=A)}b[_-1][1]!=P&&(P?b[_-1][1]=P:(b.splice(_-1,1),_--),b[_][1]=$,Y?b[_+1][1]=Y:(b.splice(_+1,1),_--))}_++}}function L(b,S){b.push([n,""]);for(var _=0,I=0,V=0,A="",B="",R;_<b.length;){if(_<b.length-1&&!b[_][1]){b.splice(_,1);continue}switch(b[_][0]){case e:V++,B+=b[_][1],_++;break;case t:I++,A+=b[_][1],_++;break;case n:var P=_-V-I-1;if(S){if(P>=0&&z(b[P][1])){var $=b[P][1].slice(-1);if(b[P][1]=b[P][1].slice(0,-1),A=$+A,B=$+B,!b[P][1]){b.splice(P,1),_--;var Y=P-1;b[Y]&&b[Y][0]===e&&(V++,B=b[Y][1]+B,Y--),b[Y]&&b[Y][0]===t&&(I++,A=b[Y][1]+A,Y--),P=Y}}if(x(b[_][1])){var $=b[_][1].charAt(0);b[_][1]=b[_][1].slice(1),A+=$,B+=$}}if(_<b.length-1&&!b[_][1]){b.splice(_,1);break}if(A.length>0||B.length>0){A.length>0&&B.length>0&&(R=l(B,A),R!==0&&(P>=0?b[P][1]+=B.substring(0,R):(b.splice(0,0,[n,B.substring(0,R)]),_++),B=B.substring(R),A=A.substring(R)),R=h(B,A),R!==0&&(b[_][1]=B.substring(B.length-R)+b[_][1],B=B.substring(0,B.length-R),A=A.substring(0,A.length-R)));var K=V+I;A.length===0&&B.length===0?(b.splice(_-K,K),_=_-K):A.length===0?(b.splice(_-K,K,[e,B]),_=_-K+1):B.length===0?(b.splice(_-K,K,[t,A]),_=_-K+1):(b.splice(_-K,K,[t,A],[e,B]),_=_-K+2)}_!==0&&b[_-1][0]===n?(b[_-1][1]+=b[_][1],b.splice(_,1)):_++,V=0,I=0,A="",B="";break}}b[b.length-1][1]===""&&b.pop();var J=!1;for(_=1;_<b.length-1;)b[_-1][0]===n&&b[_+1][0]===n&&(b[_][1].substring(b[_][1].length-b[_-1][1].length)===b[_-1][1]?(b[_][1]=b[_-1][1]+b[_][1].substring(0,b[_][1].length-b[_-1][1].length),b[_+1][1]=b[_-1][1]+b[_+1][1],b.splice(_-1,1),J=!0):b[_][1].substring(0,b[_+1][1].length)==b[_+1][1]&&(b[_-1][1]+=b[_+1][1],b[_][1]=b[_][1].substring(b[_+1][1].length)+b[_+1][1],b.splice(_+1,1),J=!0)),_++;J&&L(b,S)}function v(b){return b>=55296&&b<=56319}function D(b){return b>=56320&&b<=57343}function x(b){return D(b.charCodeAt(0))}function z(b){return v(b.charCodeAt(b.length-1))}function X(b){for(var S=[],_=0;_<b.length;_++)b[_][1].length>0&&S.push(b[_]);return S}function ee(b,S,_,I){return z(b)||x(I)?null:X([[n,b],[t,S],[e,_],[n,I]])}function de(b,S,_){var I=typeof _=="number"?{index:_,length:0}:_.oldRange,V=typeof _=="number"?null:_.newRange,A=b.length,B=S.length;if(I.length===0&&(V===null||V.length===0)){var R=I.index,P=b.slice(0,R),$=b.slice(R),Y=V?V.index:null;e:{var K=R+B-A;if(Y!==null&&Y!==K||K<0||K>B)break e;var J=S.slice(0,K),Z=S.slice(K);if(Z!==$)break e;var F=Math.min(R,K),ae=P.slice(0,F),ue=J.slice(0,F);if(ae!==ue)break e;var G=P.slice(F),te=J.slice(F);return ee(ae,G,te,$)}e:{if(Y!==null&&Y!==R)break e;var ie=R,J=S.slice(0,ie),Z=S.slice(ie);if(J!==P)break e;var ne=Math.min(A-ie,B-ie),le=$.slice($.length-ne),ce=Z.slice(Z.length-ne);if(le!==ce)break e;var G=$.slice(0,$.length-ne),te=Z.slice(0,Z.length-ne);return ee(P,G,te,le)}}if(I.length>0&&V&&V.length===0)e:{var ae=b.slice(0,I.index),le=b.slice(I.index+I.length),F=ae.length,ne=le.length;if(B<F+ne)break e;var ue=S.slice(0,F),ce=S.slice(B-ne);if(ae!==ue||le!==ce)break e;var G=b.slice(F,A-ne),te=S.slice(F,B-ne);return ee(ae,G,te,le)}return null}function se(b,S,_,I){return s(b,S,_,I,!0)}return se.INSERT=e,se.DELETE=t,se.EQUAL=n,Wo=se,Wo}var js={exports:{}};js.exports;var nh;function sh(){return nh||(nh=1,function(t,e){var n=200,s="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",a="[object Array]",l="[object Boolean]",c="[object Date]",h="[object Error]",f="[object Function]",u="[object GeneratorFunction]",p="[object Map]",g="[object Number]",E="[object Object]",w="[object Promise]",k="[object RegExp]",N="[object Set]",L="[object String]",v="[object Symbol]",D="[object WeakMap]",x="[object ArrayBuffer]",z="[object DataView]",X="[object Float32Array]",ee="[object Float64Array]",de="[object Int8Array]",se="[object Int16Array]",b="[object Int32Array]",S="[object Uint8Array]",_="[object Uint8ClampedArray]",I="[object Uint16Array]",V="[object Uint32Array]",A=/[\\^$.*+?()[\]{}|]/g,B=/\w*$/,R=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,$={};$[o]=$[a]=$[x]=$[z]=$[l]=$[c]=$[X]=$[ee]=$[de]=$[se]=$[b]=$[p]=$[g]=$[E]=$[k]=$[N]=$[L]=$[v]=$[S]=$[_]=$[I]=$[V]=!0,$[h]=$[f]=$[D]=!1;var Y=typeof Jt=="object"&&Jt&&Jt.Object===Object&&Jt,K=typeof self=="object"&&self&&self.Object===Object&&self,J=Y||K||Function("return this")(),Z=e&&!e.nodeType&&e,F=Z&&!0&&t&&!t.nodeType&&t,ae=F&&F.exports===Z;function ue(d,m){return d.set(m[0],m[1]),d}function G(d,m){return d.add(m),d}function te(d,m){for(var y=-1,T=d?d.length:0;++y<T&&m(d[y],y,d)!==!1;);return d}function ie(d,m){for(var y=-1,T=m.length,Q=d.length;++y<T;)d[Q+y]=m[y];return d}function ne(d,m,y,T){for(var Q=-1,H=d?d.length:0;++Q<H;)y=m(y,d[Q],Q,d);return y}function le(d,m){for(var y=-1,T=Array(d);++y<d;)T[y]=m(y);return T}function ce(d,m){return d==null?void 0:d[m]}function ge(d){var m=!1;if(d!=null&&typeof d.toString!="function")try{m=!!(d+"")}catch{}return m}function _e(d){var m=-1,y=Array(d.size);return d.forEach(function(T,Q){y[++m]=[Q,T]}),y}function nn(d,m){return function(y){return d(m(y))}}function An(d){var m=-1,y=Array(d.size);return d.forEach(function(T){y[++m]=T}),y}var ni=Array.prototype,si=Function.prototype,Ie=Object.prototype,Et=J["__core-js_shared__"],Cn=function(){var d=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),Sn=si.toString,ve=Ie.hasOwnProperty,$t=Ie.toString,hs=RegExp("^"+Sn.call(ve).replace(A,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_t=ae?J.Buffer:void 0,Mt=J.Symbol,ii=J.Uint8Array,Ze=nn(Object.getPrototypeOf,Object),mr=Object.create,pr=Ie.propertyIsEnumerable,Na=ni.splice,ri=Object.getOwnPropertySymbols,us=_t?_t.isBuffer:void 0,gr=nn(Object.keys,Object),fs=ct(J,"DataView"),On=ct(J,"Map"),lt=ct(J,"Promise"),ms=ct(J,"Set"),oi=ct(J,"WeakMap"),Ln=ct(Object,"create"),ai=Be(fs),Bn=Be(On),li=Be(lt),ci=Be(ms),di=Be(oi),sn=Mt?Mt.prototype:void 0,br=sn?sn.valueOf:void 0;function Rt(d){var m=-1,y=d?d.length:0;for(this.clear();++m<y;){var T=d[m];this.set(T[0],T[1])}}function Ta(){this.__data__=Ln?Ln(null):{}}function Aa(d){return this.has(d)&&delete this.__data__[d]}function Ca(d){var m=this.__data__;if(Ln){var y=m[d];return y===s?void 0:y}return ve.call(m,d)?m[d]:void 0}function yr(d){var m=this.__data__;return Ln?m[d]!==void 0:ve.call(m,d)}function hi(d,m){var y=this.__data__;return y[d]=Ln&&m===void 0?s:m,this}Rt.prototype.clear=Ta,Rt.prototype.delete=Aa,Rt.prototype.get=Ca,Rt.prototype.has=yr,Rt.prototype.set=hi;function ke(d){var m=-1,y=d?d.length:0;for(this.clear();++m<y;){var T=d[m];this.set(T[0],T[1])}}function Sa(){this.__data__=[]}function Oa(d){var m=this.__data__,y=gs(m,d);if(y<0)return!1;var T=m.length-1;return y==T?m.pop():Na.call(m,y,1),!0}function La(d){var m=this.__data__,y=gs(m,d);return y<0?void 0:m[y][1]}function Ba(d){return gs(this.__data__,d)>-1}function Va(d,m){var y=this.__data__,T=gs(y,d);return T<0?y.push([d,m]):y[T][1]=m,this}ke.prototype.clear=Sa,ke.prototype.delete=Oa,ke.prototype.get=La,ke.prototype.has=Ba,ke.prototype.set=Va;function Ce(d){var m=-1,y=d?d.length:0;for(this.clear();++m<y;){var T=d[m];this.set(T[0],T[1])}}function Ia(){this.__data__={hash:new Rt,map:new(On||ke),string:new Rt}}function va(d){return In(this,d).delete(d)}function Da(d){return In(this,d).get(d)}function xa(d){return In(this,d).has(d)}function $a(d,m){return In(this,d).set(d,m),this}Ce.prototype.clear=Ia,Ce.prototype.delete=va,Ce.prototype.get=Da,Ce.prototype.has=xa,Ce.prototype.set=$a;function De(d){this.__data__=new ke(d)}function Ma(){this.__data__=new ke}function Ra(d){return this.__data__.delete(d)}function qa(d){return this.__data__.get(d)}function Pa(d){return this.__data__.has(d)}function Fa(d,m){var y=this.__data__;if(y instanceof ke){var T=y.__data__;if(!On||T.length<n-1)return T.push([d,m]),this;y=this.__data__=new Ce(T)}return y.set(d,m),this}De.prototype.clear=Ma,De.prototype.delete=Ra,De.prototype.get=qa,De.prototype.has=Pa,De.prototype.set=Fa;function ps(d,m){var y=pi(d)||ys(d)?le(d.length,String):[],T=y.length,Q=!!T;for(var H in d)ve.call(d,H)&&!(Q&&(H=="length"||tl(H,T)))&&y.push(H);return y}function Er(d,m,y){var T=d[m];(!(ve.call(d,m)&&Tr(T,y))||y===void 0&&!(m in d))&&(d[m]=y)}function gs(d,m){for(var y=d.length;y--;)if(Tr(d[y][0],m))return y;return-1}function wt(d,m){return d&&mi(m,bi(m),d)}function ui(d,m,y,T,Q,H,oe){var re;if(T&&(re=H?T(d,Q,H,oe):T(d)),re!==void 0)return re;if(!Nt(d))return d;var ye=pi(d);if(ye){if(re=Ja(d),!m)return Xa(d,re)}else{var he=Pt(d),Se=he==f||he==u;if(Ar(d))return bs(d,m);if(he==E||he==o||Se&&!H){if(ge(d))return H?d:{};if(re=kt(Se?{}:d),!m)return Za(d,wt(re,d))}else{if(!$[he])return H?d:{};re=el(d,he,ui,m)}}oe||(oe=new De);var xe=oe.get(d);if(xe)return xe;if(oe.set(d,re),!ye)var Ee=y?Qa(d):bi(d);return te(Ee||d,function(Oe,Ne){Ee&&(Ne=Oe,Oe=d[Ne]),Er(re,Ne,ui(Oe,m,y,T,Ne,d,oe))}),re}function ja(d){return Nt(d)?mr(d):{}}function Ua(d,m,y){var T=m(d);return pi(d)?T:ie(T,y(d))}function Ha(d){return $t.call(d)}function za(d){if(!Nt(d)||sl(d))return!1;var m=gi(d)||ge(d)?hs:R;return m.test(Be(d))}function Wa(d){if(!kr(d))return gr(d);var m=[];for(var y in Object(d))ve.call(d,y)&&y!="constructor"&&m.push(y);return m}function bs(d,m){if(m)return d.slice();var y=new d.constructor(d.length);return d.copy(y),y}function fi(d){var m=new d.constructor(d.byteLength);return new ii(m).set(new ii(d)),m}function Vn(d,m){var y=m?fi(d.buffer):d.buffer;return new d.constructor(y,d.byteOffset,d.byteLength)}function _r(d,m,y){var T=m?y(_e(d),!0):_e(d);return ne(T,ue,new d.constructor)}function wr(d){var m=new d.constructor(d.source,B.exec(d));return m.lastIndex=d.lastIndex,m}function Ka(d,m,y){var T=m?y(An(d),!0):An(d);return ne(T,G,new d.constructor)}function Ga(d){return br?Object(br.call(d)):{}}function Ya(d,m){var y=m?fi(d.buffer):d.buffer;return new d.constructor(y,d.byteOffset,d.length)}function Xa(d,m){var y=-1,T=d.length;for(m||(m=Array(T));++y<T;)m[y]=d[y];return m}function mi(d,m,y,T){y||(y={});for(var Q=-1,H=m.length;++Q<H;){var oe=m[Q],re=void 0;Er(y,oe,re===void 0?d[oe]:re)}return y}function Za(d,m){return mi(d,qt(d),m)}function Qa(d){return Ua(d,bi,qt)}function In(d,m){var y=d.__data__;return nl(m)?y[typeof m=="string"?"string":"hash"]:y.map}function ct(d,m){var y=ce(d,m);return za(y)?y:void 0}var qt=ri?nn(ri,Object):rl,Pt=Ha;(fs&&Pt(new fs(new ArrayBuffer(1)))!=z||On&&Pt(new On)!=p||lt&&Pt(lt.resolve())!=w||ms&&Pt(new ms)!=N||oi&&Pt(new oi)!=D)&&(Pt=function(d){var m=$t.call(d),y=m==E?d.constructor:void 0,T=y?Be(y):void 0;if(T)switch(T){case ai:return z;case Bn:return p;case li:return w;case ci:return N;case di:return D}return m});function Ja(d){var m=d.length,y=d.constructor(m);return m&&typeof d[0]=="string"&&ve.call(d,"index")&&(y.index=d.index,y.input=d.input),y}function kt(d){return typeof d.constructor=="function"&&!kr(d)?ja(Ze(d)):{}}function el(d,m,y,T){var Q=d.constructor;switch(m){case x:return fi(d);case l:case c:return new Q(+d);case z:return Vn(d,T);case X:case ee:case de:case se:case b:case S:case _:case I:case V:return Ya(d,T);case p:return _r(d,T,y);case g:case L:return new Q(d);case k:return wr(d);case N:return Ka(d,T,y);case v:return Ga(d)}}function tl(d,m){return m=m??r,!!m&&(typeof d=="number"||P.test(d))&&d>-1&&d%1==0&&d<m}function nl(d){var m=typeof d;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?d!=="__proto__":d===null}function sl(d){return!!Cn&&Cn in d}function kr(d){var m=d&&d.constructor,y=typeof m=="function"&&m.prototype||Ie;return d===y}function Be(d){if(d!=null){try{return Sn.call(d)}catch{}try{return d+""}catch{}}return""}function Nr(d){return ui(d,!0,!0)}function Tr(d,m){return d===m||d!==d&&m!==m}function ys(d){return il(d)&&ve.call(d,"callee")&&(!pr.call(d,"callee")||$t.call(d)==o)}var pi=Array.isArray;function Es(d){return d!=null&&Cr(d.length)&&!gi(d)}function il(d){return Sr(d)&&Es(d)}var Ar=us||ol;function gi(d){var m=Nt(d)?$t.call(d):"";return m==f||m==u}function Cr(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=r}function Nt(d){var m=typeof d;return!!d&&(m=="object"||m=="function")}function Sr(d){return!!d&&typeof d=="object"}function bi(d){return Es(d)?ps(d):Wa(d)}function rl(){return[]}function ol(){return!1}t.exports=Nr}(js,js.exports)),js.exports}var Us={exports:{}};Us.exports;var ih;function rh(){return ih||(ih=1,function(t,e){var n=200,s="__lodash_hash_undefined__",r=1,o=2,a=9007199254740991,l="[object Arguments]",c="[object Array]",h="[object AsyncFunction]",f="[object Boolean]",u="[object Date]",p="[object Error]",g="[object Function]",E="[object GeneratorFunction]",w="[object Map]",k="[object Number]",N="[object Null]",L="[object Object]",v="[object Promise]",D="[object Proxy]",x="[object RegExp]",z="[object Set]",X="[object String]",ee="[object Symbol]",de="[object Undefined]",se="[object WeakMap]",b="[object ArrayBuffer]",S="[object DataView]",_="[object Float32Array]",I="[object Float64Array]",V="[object Int8Array]",A="[object Int16Array]",B="[object Int32Array]",R="[object Uint8Array]",P="[object Uint8ClampedArray]",$="[object Uint16Array]",Y="[object Uint32Array]",K=/[\\^$.*+?()[\]{}|]/g,J=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,F={};F[_]=F[I]=F[V]=F[A]=F[B]=F[R]=F[P]=F[$]=F[Y]=!0,F[l]=F[c]=F[b]=F[f]=F[S]=F[u]=F[p]=F[g]=F[w]=F[k]=F[L]=F[x]=F[z]=F[X]=F[se]=!1;var ae=typeof Jt=="object"&&Jt&&Jt.Object===Object&&Jt,ue=typeof self=="object"&&self&&self.Object===Object&&self,G=ae||ue||Function("return this")(),te=e&&!e.nodeType&&e,ie=te&&!0&&t&&!t.nodeType&&t,ne=ie&&ie.exports===te,le=ne&&ae.process,ce=function(){try{return le&&le.binding&&le.binding("util")}catch{}}(),ge=ce&&ce.isTypedArray;function _e(d,m){for(var y=-1,T=d==null?0:d.length,Q=0,H=[];++y<T;){var oe=d[y];m(oe,y,d)&&(H[Q++]=oe)}return H}function nn(d,m){for(var y=-1,T=m.length,Q=d.length;++y<T;)d[Q+y]=m[y];return d}function An(d,m){for(var y=-1,T=d==null?0:d.length;++y<T;)if(m(d[y],y,d))return!0;return!1}function ni(d,m){for(var y=-1,T=Array(d);++y<d;)T[y]=m(y);return T}function si(d){return function(m){return d(m)}}function Ie(d,m){return d.has(m)}function Et(d,m){return d==null?void 0:d[m]}function Cn(d){var m=-1,y=Array(d.size);return d.forEach(function(T,Q){y[++m]=[Q,T]}),y}function Sn(d,m){return function(y){return d(m(y))}}function ve(d){var m=-1,y=Array(d.size);return d.forEach(function(T){y[++m]=T}),y}var $t=Array.prototype,hs=Function.prototype,_t=Object.prototype,Mt=G["__core-js_shared__"],ii=hs.toString,Ze=_t.hasOwnProperty,mr=function(){var d=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),pr=_t.toString,Na=RegExp("^"+ii.call(Ze).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ri=ne?G.Buffer:void 0,us=G.Symbol,gr=G.Uint8Array,fs=_t.propertyIsEnumerable,On=$t.splice,lt=us?us.toStringTag:void 0,ms=Object.getOwnPropertySymbols,oi=ri?ri.isBuffer:void 0,Ln=Sn(Object.keys,Object),ai=qt(G,"DataView"),Bn=qt(G,"Map"),li=qt(G,"Promise"),ci=qt(G,"Set"),di=qt(G,"WeakMap"),sn=qt(Object,"create"),br=Be(ai),Rt=Be(Bn),Ta=Be(li),Aa=Be(ci),Ca=Be(di),yr=us?us.prototype:void 0,hi=yr?yr.valueOf:void 0;function ke(d){var m=-1,y=d==null?0:d.length;for(this.clear();++m<y;){var T=d[m];this.set(T[0],T[1])}}function Sa(){this.__data__=sn?sn(null):{},this.size=0}function Oa(d){var m=this.has(d)&&delete this.__data__[d];return this.size-=m?1:0,m}function La(d){var m=this.__data__;if(sn){var y=m[d];return y===s?void 0:y}return Ze.call(m,d)?m[d]:void 0}function Ba(d){var m=this.__data__;return sn?m[d]!==void 0:Ze.call(m,d)}function Va(d,m){var y=this.__data__;return this.size+=this.has(d)?0:1,y[d]=sn&&m===void 0?s:m,this}ke.prototype.clear=Sa,ke.prototype.delete=Oa,ke.prototype.get=La,ke.prototype.has=Ba,ke.prototype.set=Va;function Ce(d){var m=-1,y=d==null?0:d.length;for(this.clear();++m<y;){var T=d[m];this.set(T[0],T[1])}}function Ia(){this.__data__=[],this.size=0}function va(d){var m=this.__data__,y=bs(m,d);if(y<0)return!1;var T=m.length-1;return y==T?m.pop():On.call(m,y,1),--this.size,!0}function Da(d){var m=this.__data__,y=bs(m,d);return y<0?void 0:m[y][1]}function xa(d){return bs(this.__data__,d)>-1}function $a(d,m){var y=this.__data__,T=bs(y,d);return T<0?(++this.size,y.push([d,m])):y[T][1]=m,this}Ce.prototype.clear=Ia,Ce.prototype.delete=va,Ce.prototype.get=Da,Ce.prototype.has=xa,Ce.prototype.set=$a;function De(d){var m=-1,y=d==null?0:d.length;for(this.clear();++m<y;){var T=d[m];this.set(T[0],T[1])}}function Ma(){this.size=0,this.__data__={hash:new ke,map:new(Bn||Ce),string:new ke}}function Ra(d){var m=ct(this,d).delete(d);return this.size-=m?1:0,m}function qa(d){return ct(this,d).get(d)}function Pa(d){return ct(this,d).has(d)}function Fa(d,m){var y=ct(this,d),T=y.size;return y.set(d,m),this.size+=y.size==T?0:1,this}De.prototype.clear=Ma,De.prototype.delete=Ra,De.prototype.get=qa,De.prototype.has=Pa,De.prototype.set=Fa;function ps(d){var m=-1,y=d==null?0:d.length;for(this.__data__=new De;++m<y;)this.add(d[m])}function Er(d){return this.__data__.set(d,s),this}function gs(d){return this.__data__.has(d)}ps.prototype.add=ps.prototype.push=Er,ps.prototype.has=gs;function wt(d){var m=this.__data__=new Ce(d);this.size=m.size}function ui(){this.__data__=new Ce,this.size=0}function ja(d){var m=this.__data__,y=m.delete(d);return this.size=m.size,y}function Ua(d){return this.__data__.get(d)}function Ha(d){return this.__data__.has(d)}function za(d,m){var y=this.__data__;if(y instanceof Ce){var T=y.__data__;if(!Bn||T.length<n-1)return T.push([d,m]),this.size=++y.size,this;y=this.__data__=new De(T)}return y.set(d,m),this.size=y.size,this}wt.prototype.clear=ui,wt.prototype.delete=ja,wt.prototype.get=Ua,wt.prototype.has=Ha,wt.prototype.set=za;function Wa(d,m){var y=ys(d),T=!y&&Tr(d),Q=!y&&!T&&Es(d),H=!y&&!T&&!Q&&Sr(d),oe=y||T||Q||H,re=oe?ni(d.length,String):[],ye=re.length;for(var he in d)Ze.call(d,he)&&!(oe&&(he=="length"||Q&&(he=="offset"||he=="parent")||H&&(he=="buffer"||he=="byteLength"||he=="byteOffset")||el(he,ye)))&&re.push(he);return re}function bs(d,m){for(var y=d.length;y--;)if(Nr(d[y][0],m))return y;return-1}function fi(d,m,y){var T=m(d);return ys(d)?T:nn(T,y(d))}function Vn(d){return d==null?d===void 0?de:N:lt&&lt in Object(d)?Pt(d):kr(d)}function _r(d){return Nt(d)&&Vn(d)==l}function wr(d,m,y,T,Q){return d===m?!0:d==null||m==null||!Nt(d)&&!Nt(m)?d!==d&&m!==m:Ka(d,m,y,T,wr,Q)}function Ka(d,m,y,T,Q,H){var oe=ys(d),re=ys(m),ye=oe?c:kt(d),he=re?c:kt(m);ye=ye==l?L:ye,he=he==l?L:he;var Se=ye==L,xe=he==L,Ee=ye==he;if(Ee&&Es(d)){if(!Es(m))return!1;oe=!0,Se=!1}if(Ee&&!Se)return H||(H=new wt),oe||Sr(d)?mi(d,m,y,T,Q,H):Za(d,m,ye,y,T,Q,H);if(!(y&r)){var Oe=Se&&Ze.call(d,"__wrapped__"),Ne=xe&&Ze.call(m,"__wrapped__");if(Oe||Ne){var rn=Oe?d.value():d,Ft=Ne?m.value():m;return H||(H=new wt),Q(rn,Ft,y,T,H)}}return Ee?(H||(H=new wt),Qa(d,m,y,T,Q,H)):!1}function Ga(d){if(!Cr(d)||nl(d))return!1;var m=Ar(d)?Na:J;return m.test(Be(d))}function Ya(d){return Nt(d)&&gi(d.length)&&!!F[Vn(d)]}function Xa(d){if(!sl(d))return Ln(d);var m=[];for(var y in Object(d))Ze.call(d,y)&&y!="constructor"&&m.push(y);return m}function mi(d,m,y,T,Q,H){var oe=y&r,re=d.length,ye=m.length;if(re!=ye&&!(oe&&ye>re))return!1;var he=H.get(d);if(he&&H.get(m))return he==m;var Se=-1,xe=!0,Ee=y&o?new ps:void 0;for(H.set(d,m),H.set(m,d);++Se<re;){var Oe=d[Se],Ne=m[Se];if(T)var rn=oe?T(Ne,Oe,Se,m,d,H):T(Oe,Ne,Se,d,m,H);if(rn!==void 0){if(rn)continue;xe=!1;break}if(Ee){if(!An(m,function(Ft,vn){if(!Ie(Ee,vn)&&(Oe===Ft||Q(Oe,Ft,y,T,H)))return Ee.push(vn)})){xe=!1;break}}else if(!(Oe===Ne||Q(Oe,Ne,y,T,H))){xe=!1;break}}return H.delete(d),H.delete(m),xe}function Za(d,m,y,T,Q,H,oe){switch(y){case S:if(d.byteLength!=m.byteLength||d.byteOffset!=m.byteOffset)return!1;d=d.buffer,m=m.buffer;case b:return!(d.byteLength!=m.byteLength||!H(new gr(d),new gr(m)));case f:case u:case k:return Nr(+d,+m);case p:return d.name==m.name&&d.message==m.message;case x:case X:return d==m+"";case w:var re=Cn;case z:var ye=T&r;if(re||(re=ve),d.size!=m.size&&!ye)return!1;var he=oe.get(d);if(he)return he==m;T|=o,oe.set(d,m);var Se=mi(re(d),re(m),T,Q,H,oe);return oe.delete(d),Se;case ee:if(hi)return hi.call(d)==hi.call(m)}return!1}function Qa(d,m,y,T,Q,H){var oe=y&r,re=In(d),ye=re.length,he=In(m),Se=he.length;if(ye!=Se&&!oe)return!1;for(var xe=ye;xe--;){var Ee=re[xe];if(!(oe?Ee in m:Ze.call(m,Ee)))return!1}var Oe=H.get(d);if(Oe&&H.get(m))return Oe==m;var Ne=!0;H.set(d,m),H.set(m,d);for(var rn=oe;++xe<ye;){Ee=re[xe];var Ft=d[Ee],vn=m[Ee];if(T)var fu=oe?T(vn,Ft,Ee,m,d,H):T(Ft,vn,Ee,d,m,H);if(!(fu===void 0?Ft===vn||Q(Ft,vn,y,T,H):fu)){Ne=!1;break}rn||(rn=Ee=="constructor")}if(Ne&&!rn){var Or=d.constructor,Lr=m.constructor;Or!=Lr&&"constructor"in d&&"constructor"in m&&!(typeof Or=="function"&&Or instanceof Or&&typeof Lr=="function"&&Lr instanceof Lr)&&(Ne=!1)}return H.delete(d),H.delete(m),Ne}function In(d){return fi(d,bi,Ja)}function ct(d,m){var y=d.__data__;return tl(m)?y[typeof m=="string"?"string":"hash"]:y.map}function qt(d,m){var y=Et(d,m);return Ga(y)?y:void 0}function Pt(d){var m=Ze.call(d,lt),y=d[lt];try{d[lt]=void 0;var T=!0}catch{}var Q=pr.call(d);return T&&(m?d[lt]=y:delete d[lt]),Q}var Ja=ms?function(d){return d==null?[]:(d=Object(d),_e(ms(d),function(m){return fs.call(d,m)}))}:rl,kt=Vn;(ai&&kt(new ai(new ArrayBuffer(1)))!=S||Bn&&kt(new Bn)!=w||li&&kt(li.resolve())!=v||ci&&kt(new ci)!=z||di&&kt(new di)!=se)&&(kt=function(d){var m=Vn(d),y=m==L?d.constructor:void 0,T=y?Be(y):"";if(T)switch(T){case br:return S;case Rt:return w;case Ta:return v;case Aa:return z;case Ca:return se}return m});function el(d,m){return m=m??a,!!m&&(typeof d=="number"||Z.test(d))&&d>-1&&d%1==0&&d<m}function tl(d){var m=typeof d;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?d!=="__proto__":d===null}function nl(d){return!!mr&&mr in d}function sl(d){var m=d&&d.constructor,y=typeof m=="function"&&m.prototype||_t;return d===y}function kr(d){return pr.call(d)}function Be(d){if(d!=null){try{return ii.call(d)}catch{}try{return d+""}catch{}}return""}function Nr(d,m){return d===m||d!==d&&m!==m}var Tr=_r(function(){return arguments}())?_r:function(d){return Nt(d)&&Ze.call(d,"callee")&&!fs.call(d,"callee")},ys=Array.isArray;function pi(d){return d!=null&&gi(d.length)&&!Ar(d)}var Es=oi||ol;function il(d,m){return wr(d,m)}function Ar(d){if(!Cr(d))return!1;var m=Vn(d);return m==g||m==E||m==h||m==D}function gi(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=a}function Cr(d){var m=typeof d;return d!=null&&(m=="object"||m=="function")}function Nt(d){return d!=null&&typeof d=="object"}var Sr=ge?si(ge):Ya;function bi(d){return pi(d)?Wa(d):Xa(d)}function rl(){return[]}function ol(){return!1}t.exports=il}(Us,Us.exports)),Us.exports}var tr={},oh;function F0(){if(oh)return tr;oh=1,Object.defineProperty(tr,"__esModule",{value:!0});const t=sh(),e=rh();var n;return function(s){function r(c={},h={},f=!1){typeof c!="object"&&(c={}),typeof h!="object"&&(h={});let u=t(h);f||(u=Object.keys(u).reduce((p,g)=>(u[g]!=null&&(p[g]=u[g]),p),{}));for(const p in c)c[p]!==void 0&&h[p]===void 0&&(u[p]=c[p]);return Object.keys(u).length>0?u:void 0}s.compose=r;function o(c={},h={}){typeof c!="object"&&(c={}),typeof h!="object"&&(h={});const f=Object.keys(c).concat(Object.keys(h)).reduce((u,p)=>(e(c[p],h[p])||(u[p]=h[p]===void 0?null:h[p]),u),{});return Object.keys(f).length>0?f:void 0}s.diff=o;function a(c={},h={}){c=c||{};const f=Object.keys(h).reduce((u,p)=>(h[p]!==c[p]&&c[p]!==void 0&&(u[p]=h[p]),u),{});return Object.keys(c).reduce((u,p)=>(c[p]!==h[p]&&h[p]===void 0&&(u[p]=null),u),f)}s.invert=a;function l(c,h,f=!1){if(typeof c!="object")return h;if(typeof h!="object")return;if(!f)return h;const u=Object.keys(h).reduce((p,g)=>(c[g]===void 0&&(p[g]=h[g]),p),{});return Object.keys(u).length>0?u:void 0}s.transform=l}(n||(n={})),tr.default=n,tr}var nr={},ah;function lh(){if(ah)return nr;ah=1,Object.defineProperty(nr,"__esModule",{value:!0});var t;return function(e){function n(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.retain=="object"&&s.retain!==null?1:typeof s.insert=="string"?s.insert.length:1}e.length=n}(t||(t={})),nr.default=t,nr}var sr={},ch;function j0(){if(ch)return sr;ch=1,Object.defineProperty(sr,"__esModule",{value:!0});const t=lh();class e{constructor(s){this.ops=s,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(s){s||(s=1/0);const r=this.ops[this.index];if(r){const o=this.offset,a=t.default.length(r);if(s>=a-o?(s=a-o,this.index+=1,this.offset=0):this.offset+=s,typeof r.delete=="number")return{delete:s};{const l={};return r.attributes&&(l.attributes=r.attributes),typeof r.retain=="number"?l.retain=s:typeof r.retain=="object"&&r.retain!==null?l.retain=r.retain:typeof r.insert=="string"?l.insert=r.insert.substr(o,s):l.insert=r.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const s=this.ops[this.index];return s?typeof s.delete=="number"?"delete":typeof s.retain=="number"||typeof s.retain=="object"&&s.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const s=this.offset,r=this.index,o=this.next(),a=this.ops.slice(this.index);return this.offset=s,this.index=r,[o].concat(a)}}else return[]}}return sr.default=e,sr}var dh;function U0(){return dh||(dh=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const n=P0(),s=sh(),r=rh(),o=F0();e.AttributeMap=o.default;const a=lh();e.Op=a.default;const l=j0();e.OpIterator=l.default;const c="\0",h=(u,p)=>{if(typeof u!="object"||u===null)throw new Error(`cannot retain a ${typeof u}`);if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);const g=Object.keys(u)[0];if(!g||g!==Object.keys(p)[0])throw new Error(`embed types not matched: ${g} != ${Object.keys(p)[0]}`);return[g,u[g],p[g]]};class f{constructor(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]}static registerEmbed(p,g){this.handlers[p]=g}static unregisterEmbed(p){delete this.handlers[p]}static getHandler(p){const g=this.handlers[p];if(!g)throw new Error(`no handlers for embed type "${p}"`);return g}insert(p,g){const E={};return typeof p=="string"&&p.length===0?this:(E.insert=p,g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(E.attributes=g),this.push(E))}delete(p){return p<=0?this:this.push({delete:p})}retain(p,g){if(typeof p=="number"&&p<=0)return this;const E={retain:p};return g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(E.attributes=g),this.push(E)}push(p){let g=this.ops.length,E=this.ops[g-1];if(p=s(p),typeof E=="object"){if(typeof p.delete=="number"&&typeof E.delete=="number")return this.ops[g-1]={delete:E.delete+p.delete},this;if(typeof E.delete=="number"&&p.insert!=null&&(g-=1,E=this.ops[g-1],typeof E!="object"))return this.ops.unshift(p),this;if(r(p.attributes,E.attributes)){if(typeof p.insert=="string"&&typeof E.insert=="string")return this.ops[g-1]={insert:E.insert+p.insert},typeof p.attributes=="object"&&(this.ops[g-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof E.retain=="number")return this.ops[g-1]={retain:E.retain+p.retain},typeof p.attributes=="object"&&(this.ops[g-1].attributes=p.attributes),this}}return g===this.ops.length?this.ops.push(p):this.ops.splice(g,0,p),this}chop(){const p=this.ops[this.ops.length-1];return p&&typeof p.retain=="number"&&!p.attributes&&this.ops.pop(),this}filter(p){return this.ops.filter(p)}forEach(p){this.ops.forEach(p)}map(p){return this.ops.map(p)}partition(p){const g=[],E=[];return this.forEach(w=>{(p(w)?g:E).push(w)}),[g,E]}reduce(p,g){return this.ops.reduce(p,g)}changeLength(){return this.reduce((p,g)=>g.insert?p+a.default.length(g):g.delete?p-g.delete:p,0)}length(){return this.reduce((p,g)=>p+a.default.length(g),0)}slice(p=0,g=1/0){const E=[],w=new l.default(this.ops);let k=0;for(;k<g&&w.hasNext();){let N;k<p?N=w.next(p-k):(N=w.next(g-k),E.push(N)),k+=a.default.length(N)}return new f(E)}compose(p){const g=new l.default(this.ops),E=new l.default(p.ops),w=[],k=E.peek();if(k!=null&&typeof k.retain=="number"&&k.attributes==null){let L=k.retain;for(;g.peekType()==="insert"&&g.peekLength()<=L;)L-=g.peekLength(),w.push(g.next());k.retain-L>0&&E.next(k.retain-L)}const N=new f(w);for(;g.hasNext()||E.hasNext();)if(E.peekType()==="insert")N.push(E.next());else if(g.peekType()==="delete")N.push(g.next());else{const L=Math.min(g.peekLength(),E.peekLength()),v=g.next(L),D=E.next(L);if(D.retain){const x={};if(typeof v.retain=="number")x.retain=typeof D.retain=="number"?L:D.retain;else if(typeof D.retain=="number")v.retain==null?x.insert=v.insert:x.retain=v.retain;else{const X=v.retain==null?"insert":"retain",[ee,de,se]=h(v[X],D.retain),b=f.getHandler(ee);x[X]={[ee]:b.compose(de,se,X==="retain")}}const z=o.default.compose(v.attributes,D.attributes,typeof v.retain=="number");if(z&&(x.attributes=z),N.push(x),!E.hasNext()&&r(N.ops[N.ops.length-1],x)){const X=new f(g.rest());return N.concat(X).chop()}}else typeof D.delete=="number"&&(typeof v.retain=="number"||typeof v.retain=="object"&&v.retain!==null)&&N.push(D)}return N.chop()}concat(p){const g=new f(this.ops.slice());return p.ops.length>0&&(g.push(p.ops[0]),g.ops=g.ops.concat(p.ops.slice(1))),g}diff(p,g){if(this.ops===p.ops)return new f;const E=[this,p].map(v=>v.map(D=>{if(D.insert!=null)return typeof D.insert=="string"?D.insert:c;const x=v===p?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")),w=new f,k=n(E[0],E[1],g,!0),N=new l.default(this.ops),L=new l.default(p.ops);return k.forEach(v=>{let D=v[1].length;for(;D>0;){let x=0;switch(v[0]){case n.INSERT:x=Math.min(L.peekLength(),D),w.push(L.next(x));break;case n.DELETE:x=Math.min(D,N.peekLength()),N.next(x),w.delete(x);break;case n.EQUAL:x=Math.min(N.peekLength(),L.peekLength(),D);const z=N.next(x),X=L.next(x);r(z.insert,X.insert)?w.retain(x,o.default.diff(z.attributes,X.attributes)):w.push(X).delete(x);break}D-=x}}),w.chop()}eachLine(p,g=`
`){const E=new l.default(this.ops);let w=new f,k=0;for(;E.hasNext();){if(E.peekType()!=="insert")return;const N=E.peek(),L=a.default.length(N)-E.peekLength(),v=typeof N.insert=="string"?N.insert.indexOf(g,L)-L:-1;if(v<0)w.push(E.next());else if(v>0)w.push(E.next(v));else{if(p(w,E.next(1).attributes||{},k)===!1)return;k+=1,w=new f}}w.length()>0&&p(w,{},k)}invert(p){const g=new f;return this.reduce((E,w)=>{if(w.insert)g.delete(a.default.length(w));else{if(typeof w.retain=="number"&&w.attributes==null)return g.retain(w.retain),E+w.retain;if(w.delete||typeof w.retain=="number"){const k=w.delete||w.retain;return p.slice(E,E+k).forEach(L=>{w.delete?g.push(L):w.retain&&w.attributes&&g.retain(a.default.length(L),o.default.invert(w.attributes,L.attributes))}),E+k}else if(typeof w.retain=="object"&&w.retain!==null){const k=p.slice(E,E+1),N=new l.default(k.ops).next(),[L,v,D]=h(w.retain,N.insert),x=f.getHandler(L);return g.retain({[L]:x.invert(v,D)},o.default.invert(w.attributes,N.attributes)),E+1}}return E},0),g.chop()}transform(p,g=!1){if(g=!!g,typeof p=="number")return this.transformPosition(p,g);const E=p,w=new l.default(this.ops),k=new l.default(E.ops),N=new f;for(;w.hasNext()||k.hasNext();)if(w.peekType()==="insert"&&(g||k.peekType()!=="insert"))N.retain(a.default.length(w.next()));else if(k.peekType()==="insert")N.push(k.next());else{const L=Math.min(w.peekLength(),k.peekLength()),v=w.next(L),D=k.next(L);if(v.delete)continue;if(D.delete)N.push(D);else{const x=v.retain,z=D.retain;let X=typeof z=="object"&&z!==null?z:L;if(typeof x=="object"&&x!==null&&typeof z=="object"&&z!==null){const ee=Object.keys(x)[0];if(ee===Object.keys(z)[0]){const de=f.getHandler(ee);de&&(X={[ee]:de.transform(x[ee],z[ee],g)})}}N.retain(X,o.default.transform(v.attributes,D.attributes,g))}}return N.chop()}transformPosition(p,g=!1){g=!!g;const E=new l.default(this.ops);let w=0;for(;E.hasNext()&&w<=p;){const k=E.peekLength(),N=E.peekType();if(E.next(),N==="delete"){p-=Math.min(k,p-w);continue}else N==="insert"&&(w<p||!g)&&(p+=k);w+=k}return p}}f.Op=a.default,f.OpIterator=l.default,f.AttributeMap=o.default,f.handlers={},e.default=f,t.exports=f,t.exports.default=f}(er,er.exports)),er.exports}var He=U0();const j=eh(He);class nt extends qe{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}nt.blotName="break",nt.tagName="BR";let st=class extends Ji{};const H0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ir(t){return t.replace(/[&<>"']/g,e=>H0[e])}const yt=class yt extends jo{static compare(e,n){const s=yt.order.indexOf(e),r=yt.order.indexOf(n);return s>=0||r>=0?s-r:e===n?0:e<n?-1:1}formatAt(e,n,s,r){if(yt.compare(this.statics.blotName,s)<0&&this.scroll.query(s,U.BLOT)){const o=this.isolate(e,n);r&&o.wrap(s,r)}else super.formatAt(e,n,s,r)}optimize(e){if(super.optimize(e),this.parent instanceof yt&&yt.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};M(yt,"allowedChildren",[yt,nt,qe,st]),M(yt,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let gt=yt;const hh=1;class we extends Fs{constructor(){super(...arguments);M(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=uh(this)),this.cache.delta}deleteAt(n,s){super.deleteAt(n,s),this.cache={}}formatAt(n,s,r,o){s<=0||(this.scroll.query(r,U.BLOCK)?n+s===this.length()&&this.format(r,o):super.formatAt(n,Math.min(s,this.length()-n-1),r,o),this.cache={})}insertAt(n,s,r){if(r!=null){super.insertAt(n,s,r),this.cache={};return}if(s.length===0)return;const o=s.split(`
`),a=o.shift();a.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});let l=this;o.reduce((c,h)=>(l=l.split(c,!0),l.insertAt(0,h),h.length),n+a.length)}insertBefore(n,s){const{head:r}=this.children;super.insertBefore(n,s),r instanceof nt&&r.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+hh),this.cache.length}moveChildren(n,s){super.moveChildren(n,s),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s&&(n===0||n>=this.length()-hh)){const o=this.clone();return n===0?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}const r=super.split(n,s);return this.cache={},r}}we.blotName="block",we.tagName="P",we.defaultChild=nt,we.allowedChildren=[nt,gt,qe,st];class ze extends qe{attach(){super.attach(),this.attributes=new Zi(this.domNode)}delta(){return new j().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,n){const s=this.scroll.query(e,U.BLOCK_ATTRIBUTE);s!=null&&this.attributes.attribute(s,n)}formatAt(e,n,s,r){this.format(s,r)}insertAt(e,n,s){if(s!=null){super.insertAt(e,n,s);return}const r=n.split(`
`),o=r.pop(),a=r.map(c=>{const h=this.scroll.create(we.blotName);return h.insertAt(0,c),h}),l=this.split(e);a.forEach(c=>{this.parent.insertBefore(c,l)}),o&&this.parent.insertBefore(this.scroll.create("text",o),l)}}ze.scope=U.BLOCK_BLOT;function uh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(Te).reduce((n,s)=>s.length()===0?n:n.insert(s.value(),We(s,{},e)),new j).insert(`
`,We(t))}function We(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},n&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:We(t.parent,e,n)}const Xe=class Xe extends qe{static value(){}constructor(e,n,s){super(e,n),this.selection=s,this.textNode=document.createTextNode(Xe.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,n){if(this.savedLength!==0){super.format(e,n);return}let s=this,r=0;for(;s!=null&&s.statics.scope!==U.BLOCK_BLOT;)r+=s.offset(s.parent),s=s.parent;s!=null&&(this.savedLength=Xe.CONTENTS.length,s.optimize(),s.formatAt(r,Xe.CONTENTS.length,e,n),this.savedLength=0)}index(e,n){return e===this.textNode?0:super.index(e,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof st?this.prev:null,s=n?n.length():0,r=this.next instanceof st?this.next:null,o=r?r.text:"",{textNode:a}=this,l=a.data.split(Xe.CONTENTS).join("");a.data=Xe.CONTENTS;let c;if(n)c=n,(l||r)&&(n.insertAt(n.length(),l+o),r&&r.remove());else if(r)c=r,r.insertAt(0,l);else{const h=document.createTextNode(l);c=this.scroll.create(h),this.parent.insertBefore(c,this)}if(this.remove(),e){const h=(p,g)=>n&&p===n.domNode?g:p===a?s+g-1:r&&p===r.domNode?s+l.length+g:null,f=h(e.start.node,e.start.offset),u=h(e.end.node,e.end.offset);if(f!==null&&u!==null)return{startNode:c.domNode,startOffset:f,endNode:c.domNode,endOffset:u}}return null}update(e,n){if(e.some(s=>s.type==="characterData"&&s.target===this.textNode)){const s=this.restore();s&&(n.range=s)}}optimize(e){super.optimize(e);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=Xe.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};M(Xe,"blotName","cursor"),M(Xe,"className","ql-cursor"),M(Xe,"tagName","span"),M(Xe,"CONTENTS","\uFEFF");let rs=Xe;var Ko={exports:{}},fh;function z0(){return fh||(fh=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function r(c,h,f){this.fn=c,this.context=h,this.once=f||!1}function o(c,h,f,u,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new r(f,u||c,p),E=n?n+h:h;return c._events[E]?c._events[E].fn?c._events[E]=[c._events[E],g]:c._events[E].push(g):(c._events[E]=g,c._eventsCount++),c}function a(c,h){--c._eventsCount===0?c._events=new s:delete c._events[h]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],f,u;if(this._eventsCount===0)return h;for(u in f=this._events)e.call(f,u)&&h.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},l.prototype.listeners=function(h){var f=n?n+h:h,u=this._events[f];if(!u)return[];if(u.fn)return[u.fn];for(var p=0,g=u.length,E=new Array(g);p<g;p++)E[p]=u[p].fn;return E},l.prototype.listenerCount=function(h){var f=n?n+h:h,u=this._events[f];return u?u.fn?1:u.length:0},l.prototype.emit=function(h,f,u,p,g,E){var w=n?n+h:h;if(!this._events[w])return!1;var k=this._events[w],N=arguments.length,L,v;if(k.fn){switch(k.once&&this.removeListener(h,k.fn,void 0,!0),N){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,f),!0;case 3:return k.fn.call(k.context,f,u),!0;case 4:return k.fn.call(k.context,f,u,p),!0;case 5:return k.fn.call(k.context,f,u,p,g),!0;case 6:return k.fn.call(k.context,f,u,p,g,E),!0}for(v=1,L=new Array(N-1);v<N;v++)L[v-1]=arguments[v];k.fn.apply(k.context,L)}else{var D=k.length,x;for(v=0;v<D;v++)switch(k[v].once&&this.removeListener(h,k[v].fn,void 0,!0),N){case 1:k[v].fn.call(k[v].context);break;case 2:k[v].fn.call(k[v].context,f);break;case 3:k[v].fn.call(k[v].context,f,u);break;case 4:k[v].fn.call(k[v].context,f,u,p);break;default:if(!L)for(x=1,L=new Array(N-1);x<N;x++)L[x-1]=arguments[x];k[v].fn.apply(k[v].context,L)}}return!0},l.prototype.on=function(h,f,u){return o(this,h,f,u,!1)},l.prototype.once=function(h,f,u){return o(this,h,f,u,!0)},l.prototype.removeListener=function(h,f,u,p){var g=n?n+h:h;if(!this._events[g])return this;if(!f)return a(this,g),this;var E=this._events[g];if(E.fn)E.fn===f&&(!p||E.once)&&(!u||E.context===u)&&a(this,g);else{for(var w=0,k=[],N=E.length;w<N;w++)(E[w].fn!==f||p&&!E[w].once||u&&E[w].context!==u)&&k.push(E[w]);k.length?this._events[g]=k.length===1?k[0]:k:a(this,g)}return this},l.prototype.removeAllListeners=function(h){var f;return h?(f=n?n+h:h,this._events[f]&&a(this,f)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(Ko)),Ko.exports}var W0=z0();const K0=eh(W0),Go=new WeakMap,Yo=["error","warn","log","info"];let Xo="warn";function mh(t){if(Xo&&Yo.indexOf(t)<=Yo.indexOf(Xo)){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];console[t](...n)}}function It(t){return Yo.reduce((e,n)=>(e[n]=mh.bind(console,n,t),e),{})}It.level=t=>{Xo=t},mh.level=It.level;const Zo=It("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];Array.from(document.querySelectorAll(".ql-container")).forEach(r=>{const o=Go.get(r);o&&o.emitter&&o.emitter.handleDOM(...n)})})});class q extends K0{constructor(){super(),this.domListeners={},this.on("error",Zo.error)}emit(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return Zo.log.call(Zo,...n),super.emit(...n)}handleDOM(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];(this.domListeners[e.type]||[]).forEach(o=>{let{node:a,handler:l}=o;(e.target===a||a.contains(e.target))&&l(e,...s)})}listenDOM(e,n,s){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:n,handler:s})}}M(q,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),M(q,"sources",{API:"api",SILENT:"silent",USER:"user"});const Qo=It("quill:selection");class wn{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=n}}class G0{constructor(e,n){this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new wn(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,q.sources.USER),1)}),this.emitter.on(q.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const s=this.getNativeRange();s!=null&&s.start.node!==this.cursor.textNode&&this.emitter.once(q.events.SCROLL_UPDATE,(r,o)=>{try{this.root.contains(s.start.node)&&this.root.contains(s.end.node)&&this.setNativeRange(s.start.node,s.start.offset,s.end.node,s.end.offset);const a=o.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(a?q.sources.SILENT:r)}catch{}})}),this.emitter.on(q.events.SCROLL_OPTIMIZE,(s,r)=>{if(r.range){const{startNode:o,startOffset:a,endNode:l,endOffset:c}=r.range;this.setNativeRange(o,a,l,c),this.update(q.sources.SILENT)}}),this.update(q.sources.SILENT)}handleComposition(){this.emitter.on(q.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(q.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(q.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,n){this.scroll.update();const s=this.getNativeRange();if(!(s==null||!s.native.collapsed||this.scroll.query(e,U.BLOCK))){if(s.start.node!==this.cursor.textNode){const r=this.scroll.find(s.start.node,!1);if(r==null)return;if(r instanceof Te){const o=r.split(s.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,s.start.node);this.cursor.attach()}this.cursor.format(e,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const s=this.scroll.length();e=Math.min(e,s-1),n=Math.min(e+n,s-1)-e;let r,[o,a]=this.scroll.leaf(e);if(o==null)return null;if(n>0&&a===o.length()){const[f]=this.scroll.leaf(e+1);if(f){const[u]=this.scroll.line(e),[p]=this.scroll.line(e+1);u===p&&(o=f,a=0)}}[r,a]=o.position(a,!0);const l=document.createRange();if(n>0)return l.setStart(r,a),[o,a]=this.scroll.leaf(e+n),o==null?null:([r,a]=o.position(a,!0),l.setEnd(r,a),l.getBoundingClientRect());let c="left",h;if(r instanceof Text){if(!r.data.length)return null;a<r.data.length?(l.setStart(r,a),l.setEnd(r,a+1)):(l.setStart(r,a-1),l.setEnd(r,a),c="right"),h=l.getBoundingClientRect()}else{if(!(o.domNode instanceof Element))return null;h=o.domNode.getBoundingClientRect(),a>0&&(c="right")}return{bottom:h.top+h.height,height:h.height,left:h[c],right:h[c],top:h.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const n=e.getRangeAt(0);if(n==null)return null;const s=this.normalizeNative(n);return Qo.info("getNativeRange",s),s}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Jo(this.root,document.activeElement)}normalizedToRange(e){const n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);const s=n.map(a=>{const[l,c]=a,h=this.scroll.find(l,!0),f=h.offset(this.scroll);return c===0?f:h instanceof Te?f+h.index(l,c):f+h.length()}),r=Math.min(Math.max(...s),this.scroll.length()-1),o=Math.min(r,...s);return new wn(o,r-o)}normalizeNative(e){if(!Jo(this.root,e.startContainer)||!e.collapsed&&!Jo(this.root,e.endContainer))return null;const n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[n.start,n.end].forEach(s=>{let{node:r,offset:o}=s;for(;!(r instanceof Text)&&r.childNodes.length>0;)if(r.childNodes.length>o)r=r.childNodes[o],o=0;else if(r.childNodes.length===o)r=r.lastChild,r instanceof Text?o=r.data.length:r.childNodes.length>0?o=r.childNodes.length:o=r.childNodes.length+1;else break;s.node=r,s.offset=o}),n}rangeToNative(e){const n=this.scroll.length(),s=(r,o)=>{r=Math.min(n-1,r);const[a,l]=this.scroll.leaf(r);return a?a.position(l,o):[null,-1]};return[...s(e.index,!1),...s(e.index+e.length,!0)]}setNativeRange(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Qo.info("setNativeRange",e,n,s,r),e!=null&&(this.root.parentNode==null||e.parentNode==null||s.parentNode==null))return;const a=document.getSelection();if(a!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||o||e!==l.startContainer||n!==l.startOffset||s!==l.endContainer||r!==l.endOffset){e instanceof Element&&e.tagName==="BR"&&(n=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),s instanceof Element&&s.tagName==="BR"&&(r=Array.from(s.parentNode.childNodes).indexOf(s),s=s.parentNode);const c=document.createRange();c.setStart(e,n),c.setEnd(s,r),a.removeAllRanges(),a.addRange(c)}}else a.removeAllRanges(),this.root.blur()}setRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:q.sources.API;if(typeof n=="string"&&(s=n,n=!1),Qo.info("setRange",e),e!=null){const r=this.rangeToNative(e);this.setNativeRange(...r,n)}else this.setNativeRange(null);this.update(s)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q.sources.USER;const n=this.lastRange,[s,r]=this.getRange();if(this.lastRange=s,this.lastNative=r,this.lastRange!=null&&(this.savedRange=this.lastRange),!Po(n,this.lastRange)){if(!this.composing&&r!=null&&r.native.collapsed&&r.start.node!==this.cursor.textNode){const a=this.cursor.restore();a&&this.setNativeRange(a.startNode,a.startOffset,a.endNode,a.endOffset)}const o=[q.events.SELECTION_CHANGE,Jn(this.lastRange),Jn(n),e];this.emitter.emit(q.events.EDITOR_CHANGE,...o),e!==q.sources.SILENT&&this.emitter.emit(...o)}}}function Jo(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const Y0=/^[ -~]*$/;class X0{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const s=ph(e),r=new j;return Q0(s.ops.slice()).reduce((a,l)=>{const c=He.Op.length(l);let h=l.attributes||{},f=!1,u=!1;if(l.insert!=null){if(r.retain(c),typeof l.insert=="string"){const E=l.insert;u=!E.endsWith(`
`)&&(n<=a||!!this.scroll.descendant(ze,a)[0]),this.scroll.insertAt(a,E);const[w,k]=this.scroll.line(a);let N=Zt({},We(w));if(w instanceof we){const[L]=w.descendant(Te,k);L&&(N=Zt(N,We(L)))}h=He.AttributeMap.diff(N,h)||{}}else if(typeof l.insert=="object"){const E=Object.keys(l.insert)[0];if(E==null)return a;const w=this.scroll.query(E,U.INLINE)!=null;if(w)(n<=a||this.scroll.descendant(ze,a)[0])&&(u=!0);else if(a>0){const[k,N]=this.scroll.descendant(Te,a-1);k instanceof st?k.value()[N]!==`
`&&(f=!0):k instanceof qe&&k.statics.scope===U.INLINE_BLOT&&(f=!0)}if(this.scroll.insertAt(a,E,l.insert[E]),w){const[k]=this.scroll.descendant(Te,a);if(k){const N=Zt({},We(k));h=He.AttributeMap.diff(N,h)||{}}}}n+=c}else if(r.push(l),l.retain!==null&&typeof l.retain=="object"){const E=Object.keys(l.retain)[0];if(E==null)return a;this.scroll.updateEmbedAt(a,E,l.retain[E])}Object.keys(h).forEach(E=>{this.scroll.formatAt(a,c,E,h[E])});const p=f?1:0,g=u?1:0;return n+=p+g,r.retain(p),r.delete(g),a+c+p+g},0),r.reduce((a,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(a,l.delete),a):a+He.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(s)}deleteText(e,n){return this.scroll.deleteAt(e,n),this.update(new j().retain(e).delete(n))}formatLine(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(s).forEach(o=>{this.scroll.lines(e,Math.max(n,1)).forEach(a=>{a.format(o,s[o])})}),this.scroll.optimize();const r=new j().retain(e).retain(n,Jn(s));return this.update(r)}formatText(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(s).forEach(o=>{this.scroll.formatAt(e,n,o,s[o])});const r=new j().retain(e).retain(n,Jn(s));return this.update(r)}getContents(e,n){return this.delta.slice(e,e+n)}getDelta(){return this.scroll.lines().reduce((e,n)=>e.concat(n.delta()),new j)}getFormat(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=[],r=[];n===0?this.scroll.path(e).forEach(l=>{const[c]=l;c instanceof we?s.push(c):c instanceof Te&&r.push(c)}):(s=this.scroll.lines(e,n),r=this.scroll.descendants(Te,e,n));const[o,a]=[s,r].map(l=>{const c=l.shift();if(c==null)return{};let h=We(c);for(;Object.keys(h).length>0;){const f=l.shift();if(f==null)return h;h=Z0(We(f),h)}return h});return{...o,...a}}getHTML(e,n){const[s,r]=this.scroll.line(e);if(s){const o=s.length();return s.length()>=r+n&&!(r===0&&n===o)?Hs(s,r,n,!0):Hs(this.scroll,e,n,!0)}return""}getText(e,n){return this.getContents(e,n).filter(s=>typeof s.insert=="string").map(s=>s.insert).join("")}insertContents(e,n){const s=ph(n),r=new j().retain(e).concat(s);return this.scroll.insertContents(e,s),this.update(r)}insertEmbed(e,n,s){return this.scroll.insertAt(e,n,s),this.update(new j().retain(e).insert({[n]:s}))}insertText(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,n),Object.keys(s).forEach(r=>{this.scroll.formatAt(e,n.length,r,s[r])}),this.update(new j().retain(e).insert(n,Jn(s)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==we.blotName)return!1;const n=e;return n.children.length>1?!1:n.children.head instanceof nt}removeFormat(e,n){const s=this.getText(e,n),[r,o]=this.scroll.line(e+n);let a=0,l=new j;r!=null&&(a=r.length()-o,l=r.delta().slice(o,o+a-1).insert(`
`));const h=this.getContents(e,n+a).diff(new j().insert(s).concat(l)),f=new j().retain(e).concat(h);return this.applyDelta(f)}update(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const r=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(Y0)&&this.scroll.find(n[0].target)){const o=this.scroll.find(n[0].target),a=We(o),l=o.offset(this.scroll),c=n[0].oldValue.replace(rs.CONTENTS,""),h=new j().insert(c),f=new j().insert(o.value()),u=s&&{oldRange:gh(s.oldRange,-l),newRange:gh(s.newRange,-l)};e=new j().retain(l).concat(h.diff(f,u)).reduce((g,E)=>E.insert?g.insert(E.insert,a):g.push(E),new j),this.delta=r.compose(e)}else this.delta=this.getDelta(),(!e||!Po(r.compose(e),this.delta))&&(e=r.diff(this.delta,s));return e}}function os(t,e,n){if(t.length===0){const[g]=ea(n.pop());return e<=0?`</li></${g}>`:`</li></${g}>${os([],e-1,n)}`}const[{child:s,offset:r,length:o,indent:a,type:l},...c]=t,[h,f]=ea(l);if(a>e)return n.push(l),a===e+1?`<${h}><li${f}>${Hs(s,r,o)}${os(c,a,n)}`:`<${h}><li>${os(t,e+1,n)}`;const u=n[n.length-1];if(a===e&&l===u)return`</li><li${f}>${Hs(s,r,o)}${os(c,a,n)}`;const[p]=ea(n.pop());return`</li></${p}>${os(t,e-1,n)}`}function Hs(t,e,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,n);if(t instanceof st)return ir(t.value().slice(e,e+n)).replaceAll(" ","&nbsp;");if(t instanceof tt){if(t.statics.blotName==="list-container"){const h=[];return t.children.forEachAt(e,n,(f,u,p)=>{const g="formats"in f&&typeof f.formats=="function"?f.formats():{};h.push({child:f,offset:u,length:p,indent:g.indent||0,type:g.list})}),os(h,-1,[])}const r=[];if(t.children.forEachAt(e,n,(h,f,u)=>{r.push(Hs(h,f,u))}),s||t.statics.blotName==="list")return r.join("");const{outerHTML:o,innerHTML:a}=t.domNode,[l,c]=o.split(`>${a}<`);return l==="<table"?`<table style="border: 1px solid #000;">${r.join("")}<${c}`:`${l}>${r.join("")}<${c}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function Z0(t,e){return Object.keys(e).reduce((n,s)=>{if(t[s]==null)return n;const r=e[s];return r===t[s]?n[s]=r:Array.isArray(r)?r.indexOf(t[s])<0?n[s]=r.concat([t[s]]):n[s]=r:n[s]=[r,t[s]],n},{})}function ea(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function ph(t){return t.reduce((e,n)=>{if(typeof n.insert=="string"){const s=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(s,n.attributes)}return e.push(n)},new j)}function gh(t,e){let{index:n,length:s}=t;return new wn(n+e,s)}function Q0(t){const e=[];return t.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((r,o)=>{o&&e.push({insert:`
`,attributes:n.attributes}),r&&e.push({insert:r,attributes:n.attributes})}):e.push(n)}),e}class it{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=n}}M(it,"DEFAULTS",{});const rr="\uFEFF";class ta extends qe{constructor(e,n){super(e,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(s=>{this.contentNode.appendChild(s)}),this.leftGuard=document.createTextNode(rr),this.rightGuard=document.createTextNode(rr),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,n)}restore(e){let n=null,s;const r=e.data.split(rr).join("");if(e===this.leftGuard)if(this.prev instanceof st){const o=this.prev.length();this.prev.insertAt(o,r),n={startNode:this.prev.domNode,startOffset:o+r.length}}else s=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(s),this),n={startNode:s,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof st?(this.next.insertAt(0,r),n={startNode:this.next.domNode,startOffset:r.length}):(s=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(s),this.next),n={startNode:s,startOffset:r.length}));return e.data=rr,n}update(e,n){e.forEach(s=>{if(s.type==="characterData"&&(s.target===this.leftGuard||s.target===this.rightGuard)){const r=this.restore(s.target);r&&(n.range=r)}})}}class J0{constructor(e,n){M(this,"isComposing",!1);this.scroll=e,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const n=e.target instanceof Node?this.scroll.find(e.target,!0):null;n&&!(n instanceof ta)&&(this.emitter.emit(q.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(q.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(q.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(q.events.COMPOSITION_END,e),this.isComposing=!1}}const ei=class ei{constructor(e,n){M(this,"modules",{});this.quill=e,this.options=n}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const n=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new n(this.quill,this.options.modules[e]||{}),this.modules[e]}};M(ei,"DEFAULTS",{modules:{}}),M(ei,"themes",{default:ei});let as=ei;const e_=t=>t.parentElement||t.getRootNode().host||null,t_=t=>{const e=t.getBoundingClientRect(),n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,s="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*s,left:e.left}},or=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},bh=(t,e,n,s,r,o)=>t<n&&e>s?0:t<n?-(n-t+r):e>s?e-t>s-n?t+r-n:e-s+o:0,n_=(t,e)=>{var o,a,l;const n=t.ownerDocument;let s=e,r=t;for(;r;){const c=r===n.body,h=c?{top:0,right:((o=window.visualViewport)==null?void 0:o.width)??n.documentElement.clientWidth,bottom:((a=window.visualViewport)==null?void 0:a.height)??n.documentElement.clientHeight,left:0}:t_(r),f=getComputedStyle(r),u=bh(s.left,s.right,h.left,h.right,or(f.scrollPaddingLeft),or(f.scrollPaddingRight)),p=bh(s.top,s.bottom,h.top,h.bottom,or(f.scrollPaddingTop),or(f.scrollPaddingBottom));if(u||p)if(c)(l=n.defaultView)==null||l.scrollBy(u,p);else{const{scrollLeft:g,scrollTop:E}=r;p&&(r.scrollTop+=p),u&&(r.scrollLeft+=u);const w=r.scrollLeft-g,k=r.scrollTop-E;s={left:s.left-w,top:s.top-k,right:s.right-w,bottom:s.bottom-k}}r=c||f.position==="fixed"?null:e_(r)}},s_=100,i_=["block","break","cursor","inline","scroll","text"],r_=(t,e,n)=>{const s=new ts;return i_.forEach(r=>{const o=e.query(r);o&&s.register(o)}),t.forEach(r=>{let o=e.query(r);o||n.error(`Cannot register "${r}" specified in "formats" config. Are you sure it was registered?`);let a=0;for(;o;)if(s.register(o),o="blotName"in o?o.requiredContainer??null:null,a+=1,a>s_){n.error(`Cycle detected in registering blot requiredContainer: "${r}"`);break}}),s},ls=It("quill"),ar=new ts;tt.uiClass="ql-ui";const at=class at{static debug(e){e===!0&&(e="log"),It.level(e)}static find(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Go.get(e)||ar.find(e,n)}static import(e){return this.imports[e]==null&&ls.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),s="attrName"in e?e.attrName:e.blotName;typeof s=="string"?this.register(`formats/${s}`,e,n):Object.keys(e).forEach(r=>{this.register(r,e[r],n)})}else{const e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],s=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!s&&ls.warn(`Overwriting ${e} with`,n),this.imports[e]=n,(e.startsWith("blots/")||e.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&ar.register(n),typeof n.register=="function"&&n.register(ar)}}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=o_(e,n),this.container=this.options.container,this.container==null){ls.error("Invalid Quill container",e);return}this.options.debug&&at.debug(this.options.debug);const s=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Go.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new q;const r=Ho.blotName,o=this.options.registry.query(r);if(!o||!("blotName"in o))throw new Error(`Cannot initialize Quill without "${r}" blot`);if(this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new X0(this.scroll),this.selection=new G0(this.scroll,this.emitter),this.composition=new J0(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(q.events.EDITOR_CHANGE,a=>{a===q.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(q.events.SCROLL_UPDATE,(a,l)=>{const c=this.selection.lastRange,[h]=this.selection.getRange(),f=c&&h?{oldRange:c,newRange:h}:void 0;rt.call(this,()=>this.editor.update(null,l,f),a)}),this.emitter.on(q.events.SCROLL_EMBED_UPDATE,(a,l)=>{const c=this.selection.lastRange,[h]=this.selection.getRange(),f=c&&h?{oldRange:c,newRange:h}:void 0;rt.call(this,()=>{const u=new j().retain(a.offset(this)).retain({[a.statics.blotName]:l});return this.editor.update(u,[],f)},at.sources.USER)}),s){const a=this.clipboard.convert({html:`${s}<p><br></p>`,text:`
`});this.setContents(a)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const s=e;e=document.createElement("div"),e.classList.add(s)}return this.container.insertBefore(e,n),e}blur(){this.selection.setRange(null)}deleteText(e,n,s){return[e,n,,s]=vt(e,n,s),rt.call(this,()=>this.editor.deleteText(e,n),s,e,-1*n)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const n=e();return this.allowReadOnlyEdits=!1,n}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:q.sources.API;return rt.call(this,()=>{const r=this.getSelection(!0);let o=new j;if(r==null)return o;if(this.scroll.query(e,U.BLOCK))o=this.editor.formatLine(r.index,r.length,{[e]:n});else{if(r.length===0)return this.selection.format(e,n),o;o=this.editor.formatText(r.index,r.length,{[e]:n})}return this.setSelection(r,q.sources.SILENT),o},s)}formatLine(e,n,s,r,o){let a;return[e,n,a,o]=vt(e,n,s,r,o),rt.call(this,()=>this.editor.formatLine(e,n,a),o,e,0)}formatText(e,n,s,r,o){let a;return[e,n,a,o]=vt(e,n,s,r,o),rt.call(this,()=>this.editor.formatText(e,n,a),o,e,0)}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=null;if(typeof e=="number"?s=this.selection.getBounds(e,n):s=this.selection.getBounds(e.index,e.length),!s)return null;const r=this.container.getBoundingClientRect();return{bottom:s.bottom-r.top,height:s.height,left:s.left-r.left,right:s.right-r.left,top:s.top-r.top,width:s.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,n]=vt(e,n),this.editor.getContents(e,n)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,n):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,n)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=vt(e,n),this.editor.getHTML(e,n)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=vt(e,n),this.editor.getText(e,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,n,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:at.sources.API;return rt.call(this,()=>this.editor.insertEmbed(e,n,s),r,e)}insertText(e,n,s,r,o){let a;return[e,,a,o]=vt(e,0,s,r,o),rt.call(this,()=>this.editor.insertText(e,n,a),o,e,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,n,s){return[e,n,,s]=vt(e,n,s),rt.call(this,()=>this.editor.removeFormat(e,n),s,e)}scrollRectIntoView(e){n_(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,n=e&&this.selection.getBounds(e.index,e.length);n&&this.scrollRectIntoView(n)}setContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q.sources.API;return rt.call(this,()=>{e=new j(e);const s=this.getLength(),r=this.editor.deleteText(0,s),o=this.editor.insertContents(0,e),a=this.editor.deleteText(this.getLength()-1,1);return r.compose(o).compose(a)},n)}setSelection(e,n,s){e==null?this.selection.setRange(null,n||at.sources.API):([e,n,,s]=vt(e,n,s),this.selection.setRange(new wn(Math.max(0,e),n),s),s!==q.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q.sources.API;const s=new j().insert(e);return this.setContents(s,n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q.sources.USER;const n=this.scroll.update(e);return this.selection.update(e),n}updateContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q.sources.API;return rt.call(this,()=>(e=new j(e),this.editor.applyDelta(e)),n,!0)}};M(at,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:ar,theme:"default"}),M(at,"events",q.events),M(at,"sources",q.sources),M(at,"version","2.0.3"),M(at,"imports",{delta:j,parchment:q0,"core/module":it,"core/theme":as});let C=at;function yh(t){return typeof t=="string"?document.querySelector(t):t}function na(t){return Object.entries(t??{}).reduce((e,n)=>{let[s,r]=n;return{...e,[s]:r===!0?{}:r}},{})}function Eh(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function o_(t,e){const n=yh(t);if(!n)throw new Error("Invalid Quill container");const r=!e.theme||e.theme===C.DEFAULTS.theme?as:C.import(`themes/${e.theme}`);if(!r)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:o,...a}=C.DEFAULTS,{modules:l,...c}=r.DEFAULTS;let h=na(e.modules);h!=null&&h.toolbar&&h.toolbar.constructor!==Object&&(h={...h,toolbar:{container:h.toolbar}});const f=Zt({},na(o),na(l),h),u={...a,...Eh(c),...Eh(e)};let p=e.registry;return p?e.formats&&ls.warn('Ignoring "formats" option because "registry" is specified'):p=e.formats?r_(e.formats,u.registry,ls):u.registry,{...u,registry:p,container:n,theme:r,modules:Object.entries(f).reduce((g,E)=>{let[w,k]=E;if(!k)return g;const N=C.import(`modules/${w}`);return N==null?(ls.error(`Cannot load ${w} module. Are you sure you registered it?`),g):{...g,[w]:Zt({},N.DEFAULTS||{},k)}},{}),bounds:yh(u.bounds)}}function rt(t,e,n,s){if(!this.isEnabled()&&e===q.sources.USER&&!this.allowReadOnlyEdits)return new j;let r=n==null?null:this.getSelection();const o=this.editor.delta,a=t();if(r!=null&&(n===!0&&(n=r.index),s==null?r=_h(r,a,e):s!==0&&(r=_h(r,n,s,e)),this.setSelection(r,q.sources.SILENT)),a.length()>0){const l=[q.events.TEXT_CHANGE,a,o,e];this.emitter.emit(q.events.EDITOR_CHANGE,...l),e!==q.sources.SILENT&&this.emitter.emit(...l)}return a}function vt(t,e,n,s,r){let o={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(r=s,s=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(r=s,s=n,n=e,e=0),typeof n=="object"?(o=n,r=s):typeof n=="string"&&(s!=null?o[n]=s:r=n),r=r||q.sources.API,[t,e,o,r]}function _h(t,e,n,s){const r=typeof n=="number"?n:0;if(t==null)return null;let o,a;return e&&typeof e.transformPosition=="function"?[o,a]=[t.index,t.index+t.length].map(l=>e.transformPosition(l,s!==q.sources.USER)):[o,a]=[t.index,t.index+t.length].map(l=>l<e||l===e&&s===q.sources.USER?l:r>=0?l+r:Math.max(e,l+r)),new wn(o,a-o)}class kn extends Qi{}function wh(t){return t instanceof we||t instanceof ze}function kh(t){return typeof t.updateContent=="function"}class cs extends Ho{constructor(e,n,s){let{emitter:r}=s;super(e,n),this.emitter=r,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",o=>this.handleDragStart(o))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(q.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(q.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,n){this.emitter.emit(q.events.SCROLL_EMBED_UPDATE,e,n)}deleteAt(e,n){const[s,r]=this.line(e),[o]=this.line(e+n);if(super.deleteAt(e,n),o!=null&&s!==o&&r>0){if(s instanceof ze||o instanceof ze){this.optimize();return}const a=o.children.head instanceof nt?null:o.children.head;s.moveChildren(o,a),s.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,n,s,r){super.formatAt(e,n,s,r),this.optimize()}insertAt(e,n,s){if(e>=this.length())if(s==null||this.scroll.query(n,U.BLOCK)==null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r),s==null&&n.endsWith(`
`)?r.insertAt(0,n.slice(0,-1),s):r.insertAt(0,n,s)}else{const r=this.scroll.create(n,s);this.appendChild(r)}else super.insertAt(e,n,s);this.optimize()}insertBefore(e,n){if(e.statics.scope===U.INLINE_BLOT){const s=this.scroll.create(this.statics.defaultChild.blotName);s.appendChild(e),super.insertBefore(s,n)}else super.insertBefore(e,n)}insertContents(e,n){const s=this.deltaToRenderBlocks(n.concat(new j().insert(`
`))),r=s.pop();if(r==null)return;this.batchStart();const o=s.shift();if(o){const c=o.type==="block"&&(o.delta.length()===0||!this.descendant(ze,e)[0]&&e<this.length()),h=o.type==="block"?o.delta:new j().insert({[o.key]:o.value});sa(this,e,h);const f=o.type==="block"?1:0,u=e+h.length()+f;c&&this.insertAt(u-1,`
`);const p=We(this.line(e)[0]),g=He.AttributeMap.diff(p,o.attributes)||{};Object.keys(g).forEach(E=>{this.formatAt(u-1,1,E,g[E])}),e=u}let[a,l]=this.children.find(e);if(s.length&&(a&&(a=a.split(l),l=0),s.forEach(c=>{if(c.type==="block"){const h=this.createBlock(c.attributes,a||void 0);sa(h,0,c.delta)}else{const h=this.create(c.key,c.value);this.insertBefore(h,a||void 0),Object.keys(c.attributes).forEach(f=>{h.format(f,c.attributes[f])})}})),r.type==="block"&&r.delta.length()){const c=a?a.offset(a.scroll)+l:this.length();sa(this,c,r.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const n=this.path(e).pop();if(!n)return[null,-1];const[s,r]=n;return s instanceof Te?[s,r]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(wh,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const s=(r,o,a)=>{let l=[],c=a;return r.children.forEachAt(o,a,(h,f,u)=>{wh(h)?l.push(h):h instanceof Qi&&(l=l.concat(s(h,f,c))),c-=u}),l};return s(this,e,n)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,n),e.length>0&&this.emitter.emit(q.events.SCROLL_OPTIMIZE,e,n))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let n=q.sources.USER;typeof e=="string"&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(s=>{let{target:r}=s;const o=this.find(r,!0);return o&&!kh(o)}),e.length>0&&this.emitter.emit(q.events.SCROLL_BEFORE_UPDATE,n,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(q.events.SCROLL_UPDATE,n,e)}updateEmbedAt(e,n,s){const[r]=this.descendant(o=>o instanceof ze,e);r&&r.statics.blotName===n&&kh(r)&&r.updateContent(s)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const n=[];let s=new j;return e.forEach(r=>{const o=r==null?void 0:r.insert;if(o)if(typeof o=="string"){const a=o.split(`
`);a.slice(0,-1).forEach(c=>{s.insert(c,r.attributes),n.push({type:"block",delta:s,attributes:r.attributes??{}}),s=new j});const l=a[a.length-1];l&&s.insert(l,r.attributes)}else{const a=Object.keys(o)[0];if(!a)return;this.query(a,U.INLINE)?s.push(r):(s.length()&&n.push({type:"block",delta:s,attributes:{}}),s=new j,n.push({type:"blockEmbed",key:a,value:o[a],attributes:r.attributes??{}}))}}),s.length()&&n.push({type:"block",delta:s,attributes:{}}),n}createBlock(e,n){let s;const r={};Object.entries(e).forEach(l=>{let[c,h]=l;this.query(c,U.BLOCK&U.BLOT)!=null?s=c:r[c]=h});const o=this.create(s||this.statics.defaultChild.blotName,s?e[s]:void 0);this.insertBefore(o,n||void 0);const a=o.length();return Object.entries(r).forEach(l=>{let[c,h]=l;o.formatAt(0,a,c,h)}),o}}M(cs,"blotName","scroll"),M(cs,"className","ql-editor"),M(cs,"tagName","DIV"),M(cs,"defaultChild",we),M(cs,"allowedChildren",[we,ze,kn]);function sa(t,e,n){n.reduce((s,r)=>{const o=He.Op.length(r);let a=r.attributes||{};if(r.insert!=null){if(typeof r.insert=="string"){const l=r.insert;t.insertAt(s,l);const[c]=t.descendant(Te,s),h=We(c);a=He.AttributeMap.diff(h,a)||{}}else if(typeof r.insert=="object"){const l=Object.keys(r.insert)[0];if(l==null)return s;if(t.insertAt(s,l,r.insert[l]),t.scroll.query(l,U.INLINE)!=null){const[h]=t.descendant(Te,s),f=We(h);a=He.AttributeMap.diff(f,a)||{}}}}return Object.keys(a).forEach(l=>{t.formatAt(s,o,l,a[l])}),s+o},e)}const ia={scope:U.BLOCK,whitelist:["right","center","justify"]},a_=new pt("align","align",ia),Nh=new et("align","ql-align",ia),Th=new Qt("align","text-align",ia);class Ah extends Qt{value(e){let n=super.value(e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(r=>`00${parseInt(r,10).toString(16)}`.slice(-2)).join("")}`):n}}const l_=new et("color","ql-color",{scope:U.INLINE}),ra=new Ah("color","color",{scope:U.INLINE}),c_=new et("background","ql-bg",{scope:U.INLINE}),oa=new Ah("background","background-color",{scope:U.INLINE});class Nn extends kn{static create(e){const n=super.create(e);return n.setAttribute("spellcheck","false"),n}code(e,n){return this.children.map(s=>s.length()<=1?"":s.domNode.innerText).join(`
`).slice(e,e+n)}html(e,n){return`<pre>
${ir(this.code(e,n))}
</pre>`}}class Ae extends we{static register(){C.register(Nn)}}M(Ae,"TAB","  ");class aa extends gt{}aa.blotName="code",aa.tagName="CODE",Ae.blotName="code-block",Ae.className="ql-code-block",Ae.tagName="DIV",Nn.blotName="code-block-container",Nn.className="ql-code-block-container",Nn.tagName="DIV",Nn.allowedChildren=[Ae],Ae.allowedChildren=[st,nt,rs],Ae.requiredContainer=Nn;const la={scope:U.BLOCK,whitelist:["rtl"]},Ch=new pt("direction","dir",la),Sh=new et("direction","ql-direction",la),Oh=new Qt("direction","direction",la),Lh={scope:U.INLINE,whitelist:["serif","monospace"]},Bh=new et("font","ql-font",Lh);class d_ extends Qt{value(e){return super.value(e).replace(/["']/g,"")}}const Vh=new d_("font","font-family",Lh),Ih=new et("size","ql-size",{scope:U.INLINE,whitelist:["small","large","huge"]}),vh=new Qt("size","font-size",{scope:U.INLINE,whitelist:["10px","18px","32px"]}),h_=It("quill:keyboard"),u_=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class lr extends it{static match(e,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(s=>!!n[s]!==e[s]&&n[s]!==null)?!1:n.key===e.key||n.key===e.which}constructor(e,n){super(e,n),this.bindings={},Object.keys(this.options.bindings).forEach(s=>{this.options.bindings[s]&&this.addBinding(this.options.bindings[s])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=m_(e);if(r==null){h_.warn("Attempted to add invalid keyboard binding",r);return}typeof n=="function"&&(n={handler:n}),typeof s=="function"&&(s={handler:s}),(Array.isArray(r.key)?r.key:[r.key]).forEach(a=>{const l={...r,key:a,...n,...s};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const r=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(N=>lr.match(e,N));if(r.length===0)return;const o=C.find(e.target,!0);if(o&&o.scroll!==this.quill.scroll)return;const a=this.quill.getSelection();if(a==null||!this.quill.hasFocus())return;const[l,c]=this.quill.getLine(a.index),[h,f]=this.quill.getLeaf(a.index),[u,p]=a.length===0?[h,f]:this.quill.getLeaf(a.index+a.length),g=h instanceof Ji?h.value().slice(0,f):"",E=u instanceof Ji?u.value().slice(p):"",w={collapsed:a.length===0,empty:a.length===0&&l.length()<=1,format:this.quill.getFormat(a),line:l,offset:c,prefix:g,suffix:E,event:e};r.some(N=>{if(N.collapsed!=null&&N.collapsed!==w.collapsed||N.empty!=null&&N.empty!==w.empty||N.offset!=null&&N.offset!==w.offset)return!1;if(Array.isArray(N.format)){if(N.format.every(L=>w.format[L]==null))return!1}else if(typeof N.format=="object"&&!Object.keys(N.format).every(L=>N.format[L]===!0?w.format[L]!=null:N.format[L]===!1?w.format[L]==null:Po(N.format[L],w.format[L])))return!1;return N.prefix!=null&&!N.prefix.test(w.prefix)||N.suffix!=null&&!N.suffix.test(w.suffix)?!1:N.handler.call(this,a,w,N)!==!0})&&e.preventDefault()})}handleBackspace(e,n){const s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let r={};const[o]=this.quill.getLine(e.index);let a=new j().retain(e.index-s).delete(s);if(n.offset===0){const[l]=this.quill.getLine(e.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const h=o.formats(),f=this.quill.getFormat(e.index-1,1);if(r=He.AttributeMap.diff(h,f)||{},Object.keys(r).length>0){const u=new j().retain(e.index+o.length()-2).retain(1,r);a=a.compose(u)}}}this.quill.updateContents(a,C.sources.USER),this.quill.focus()}handleDelete(e,n){const s=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(e.index>=this.quill.getLength()-s)return;let r={};const[o]=this.quill.getLine(e.index);let a=new j().retain(e.index).delete(s);if(n.offset>=o.length()-1){const[l]=this.quill.getLine(e.index+1);if(l){const c=o.formats(),h=this.quill.getFormat(e.index,1);r=He.AttributeMap.diff(c,h)||{},Object.keys(r).length>0&&(a=a.retain(l.length()-1).retain(1,r))}}this.quill.updateContents(a,C.sources.USER),this.quill.focus()}handleDeleteRange(e){da({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,n){const s=Object.keys(n.format).reduce((o,a)=>(this.quill.scroll.query(a,U.BLOCK)&&!Array.isArray(n.format[a])&&(o[a]=n.format[a]),o),{}),r=new j().retain(e.index).delete(e.length).insert(`
`,s);this.quill.updateContents(r,C.sources.USER),this.quill.setSelection(e.index+1,C.sources.SILENT),this.quill.focus()}}const f_={bindings:{bold:ca("bold"),italic:ca("italic"),underline:ca("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",C.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",C.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",C.sources.USER):e.format.list!=null&&this.quill.format("list",!1,C.sources.USER)}},"indent code-block":Dh(!0),"outdent code-block":Dh(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,C.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const n=new j().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(n,C.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,C.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,C.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,C.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,n]=this.quill.getLine(t.index),s={...e.formats(),list:"checked"},r=new j().retain(t.index).insert(`
`,s).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(r,C.sources.USER),this.quill.setSelection(t.index+1,C.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[n,s]=this.quill.getLine(t.index),r=new j().retain(t.index).insert(`
`,e.format).retain(n.length()-s-1).retain(1,{header:null});this.quill.updateContents(r,C.sources.USER),this.quill.setSelection(t.index+1,C.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[n,s,r,o]=e.getTable(t),a=p_(n,s,r,o);if(a==null)return;let l=n.offset();if(a<0){const c=new j().retain(l).insert(`
`);this.quill.updateContents(c,C.sources.USER),this.quill.setSelection(t.index+1,t.length,C.sources.SILENT)}else if(a>0){l+=n.length();const c=new j().retain(l).insert(`
`);this.quill.updateContents(c,C.sources.USER),this.quill.setSelection(l,C.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:n,line:s}=e,r=s.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(r-1,C.sources.USER):this.quill.setSelection(r+s.length(),C.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=e.prefix,[s,r]=this.quill.getLine(t.index);if(r>n)return!0;let o;switch(e.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(t.index," ",C.sources.USER),this.quill.history.cutoff();const a=new j().retain(t.index-r).delete(n+1).retain(s.length()-2-r).retain(1,{list:o});return this.quill.updateContents(a,C.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,C.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,n]=this.quill.getLine(t.index);let s=2,r=e;for(;r!=null&&r.length()<=1&&r.formats()["code-block"];)if(r=r.prev,s-=1,s<=0){const o=new j().retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(o,C.sources.USER),this.quill.setSelection(t.index-1,C.sources.SILENT),!1}return!0}},"embed left":cr("ArrowLeft",!1),"embed left shift":cr("ArrowLeft",!0),"embed right":cr("ArrowRight",!1),"embed right shift":cr("ArrowRight",!0),"table down":xh(!1),"table up":xh(!0)}};lr.DEFAULTS=f_;function Dh(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,n){let{event:s}=n;const r=this.quill.scroll.query("code-block"),{TAB:o}=r;if(e.length===0&&!s.shiftKey){this.quill.insertText(e.index,o,C.sources.USER),this.quill.setSelection(e.index+o.length,C.sources.SILENT);return}const a=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:l,length:c}=e;a.forEach((h,f)=>{t?(h.insertAt(0,o),f===0?l+=o.length:c+=o.length):h.domNode.textContent.startsWith(o)&&(h.deleteAt(0,o.length),f===0?l-=o.length:c-=o.length)}),this.quill.update(C.sources.USER),this.quill.setSelection(l,c,C.sources.SILENT)}}}function cr(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(s){let{index:r}=s;t==="ArrowRight"&&(r+=s.length+1);const[o]=this.quill.getLeaf(r);return o instanceof qe?(t==="ArrowLeft"?e?this.quill.setSelection(s.index-1,s.length+1,C.sources.USER):this.quill.setSelection(s.index-1,C.sources.USER):e?this.quill.setSelection(s.index,s.length+1,C.sources.USER):this.quill.setSelection(s.index+s.length+1,C.sources.USER),!1):!0}}}function ca(t){return{key:t[0],shortKey:!0,handler(e,n){this.quill.format(t,!n.format[t],C.sources.USER)}}}function xh(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,n){const s=t?"prev":"next",r=n.line,o=r.parent[s];if(o!=null){if(o.statics.blotName==="table-row"){let a=o.children.head,l=r;for(;l.prev!=null;)l=l.prev,a=a.next;const c=a.offset(this.quill.scroll)+Math.min(n.offset,a.length()-1);this.quill.setSelection(c,0,C.sources.USER)}}else{const a=r.table()[s];a!=null&&(t?this.quill.setSelection(a.offset(this.quill.scroll)+a.length()-1,0,C.sources.USER):this.quill.setSelection(a.offset(this.quill.scroll),0,C.sources.USER))}return!1}}}function m_(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=Jn(t);else return null;return t.shortKey&&(t[u_]=t.shortKey,delete t.shortKey),t}function da(t){let{quill:e,range:n}=t;const s=e.getLines(n);let r={};if(s.length>1){const o=s[0].formats(),a=s[s.length-1].formats();r=He.AttributeMap.diff(a,o)||{}}e.deleteText(n,C.sources.USER),Object.keys(r).length>0&&e.formatLine(n.index,1,r,C.sources.USER),e.setSelection(n.index,C.sources.SILENT)}function p_(t,e,n,s){return e.prev==null&&e.next==null?n.prev==null&&n.next==null?s===0?-1:1:n.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const g_=/font-weight:\s*normal/,b_=["P","OL","UL"],$h=t=>t&&b_.includes(t.tagName),y_=t=>{Array.from(t.querySelectorAll("br")).filter(e=>$h(e.previousElementSibling)&&$h(e.nextElementSibling)).forEach(e=>{var n;(n=e.parentNode)==null||n.removeChild(e)})},E_=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var n;return(n=e.getAttribute("style"))==null?void 0:n.match(g_)}).forEach(e=>{var s;const n=t.createDocumentFragment();n.append(...e.childNodes),(s=e.parentNode)==null||s.replaceChild(n,e)})};function __(t){t.querySelector('[id^="docs-internal-guid-"]')&&(E_(t),y_(t))}const w_=/\bmso-list:[^;]*ignore/i,k_=/\bmso-list:[^;]*\bl(\d+)/i,N_=/\bmso-list:[^;]*\blevel(\d+)/i,T_=(t,e)=>{const n=t.getAttribute("style"),s=n==null?void 0:n.match(k_);if(!s)return null;const r=Number(s[1]),o=n==null?void 0:n.match(N_),a=o?Number(o[1]):1,l=new RegExp(`@list l${r}:level${a}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),c=e.match(l),h=c&&c[1]==="bullet"?"bullet":"ordered";return{id:r,indent:a,type:h,element:t}},A_=t=>{var a,l;const e=Array.from(t.querySelectorAll("[style*=mso-list]")),n=[],s=[];e.forEach(c=>{(c.getAttribute("style")||"").match(w_)?n.push(c):s.push(c)}),n.forEach(c=>{var h;return(h=c.parentNode)==null?void 0:h.removeChild(c)});const r=t.documentElement.innerHTML,o=s.map(c=>T_(c,r)).filter(c=>c);for(;o.length;){const c=[];let h=o.shift();for(;h;)c.push(h),h=o.length&&((a=o[0])==null?void 0:a.element)===h.element.nextElementSibling&&o[0].id===h.id?o.shift():null;const f=document.createElement("ul");c.forEach(g=>{const E=document.createElement("li");E.setAttribute("data-list",g.type),g.indent>1&&E.setAttribute("class",`ql-indent-${g.indent-1}`),E.innerHTML=g.element.innerHTML,f.appendChild(E)});const u=(l=c[0])==null?void 0:l.element,{parentNode:p}=u??{};u&&(p==null||p.replaceChild(f,u)),c.slice(1).forEach(g=>{let{element:E}=g;p==null||p.removeChild(E)})}};function C_(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&A_(t)}const S_=[C_,__],O_=t=>{t.documentElement&&S_.forEach(e=>{e(t)})},L_=It("quill:clipboard"),B_=[[Node.TEXT_NODE,j_],[Node.TEXT_NODE,Ph],["br",x_],[Node.ELEMENT_NODE,Ph],[Node.ELEMENT_NODE,D_],[Node.ELEMENT_NODE,v_],[Node.ELEMENT_NODE,P_],["li",R_],["ol, ul",q_],["pre",$_],["tr",F_],["b",ua("bold")],["i",ua("italic")],["strike",ua("strike")],["style",M_]],V_=[a_,Ch].reduce((t,e)=>(t[e.keyName]=e,t),{}),Mh=[Th,oa,ra,Oh,Vh,vh].reduce((t,e)=>(t[e.keyName]=e,t),{});class Rh extends it{constructor(e,n){super(e,n),this.quill.root.addEventListener("copy",s=>this.onCaptureCopy(s,!1)),this.quill.root.addEventListener("cut",s=>this.onCaptureCopy(s,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],B_.concat(this.options.matchers??[]).forEach(s=>{let[r,o]=s;this.addMatcher(r,o)})}addMatcher(e,n){this.matchers.push([e,n])}convert(e){let{html:n,text:s}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r[Ae.blotName])return new j().insert(s||"",{[Ae.blotName]:r[Ae.blotName]});if(!n)return new j().insert(s||"",r);const o=this.convertHTML(n);return zs(o,`
`)&&(o.ops[o.ops.length-1].attributes==null||r.table)?o.compose(new j().retain(o.length()-1).delete(1)):o}normalizeHTML(e){O_(e)}convertHTML(e){const n=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(n);const s=n.body,r=new WeakMap,[o,a]=this.prepareMatching(s,r);return ha(this.quill.scroll,s,o,a,r)}dangerouslyPasteHTML(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C.sources.API;if(typeof e=="string"){const r=this.convert({html:e,text:""});this.quill.setContents(r,n),this.quill.setSelection(0,C.sources.SILENT)}else{const r=this.convert({html:n,text:""});this.quill.updateContents(new j().retain(e).concat(r),s),this.quill.setSelection(e+r.length(),C.sources.SILENT)}}onCaptureCopy(e){var a,l;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[s]=this.quill.selection.getRange();if(s==null)return;const{html:r,text:o}=this.onCopy(s,n);(a=e.clipboardData)==null||a.setData("text/plain",o),(l=e.clipboardData)==null||l.setData("text/html",r),n&&da({range:s,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(e){var a,l,c,h,f;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const s=(a=e.clipboardData)==null?void 0:a.getData("text/html");let r=(l=e.clipboardData)==null?void 0:l.getData("text/plain");if(!s&&!r){const u=(c=e.clipboardData)==null?void 0:c.getData("text/uri-list");u&&(r=this.normalizeURIList(u))}const o=Array.from(((h=e.clipboardData)==null?void 0:h.files)||[]);if(!s&&o.length>0){this.quill.uploader.upload(n,o);return}if(s&&o.length>0){const u=new DOMParser().parseFromString(s,"text/html");if(u.body.childElementCount===1&&((f=u.body.firstElementChild)==null?void 0:f.tagName)==="IMG"){this.quill.uploader.upload(n,o);return}}this.onPaste(n,{html:s,text:r})}onCopy(e){const n=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:n}}onPaste(e,n){let{text:s,html:r}=n;const o=this.quill.getFormat(e.index),a=this.convert({text:s,html:r},o);L_.log("onPaste",a,{text:s,html:r});const l=new j().retain(e.index).delete(e.length).concat(a);this.quill.updateContents(l,C.sources.USER),this.quill.setSelection(l.length()-e.length,C.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,n){const s=[],r=[];return this.matchers.forEach(o=>{const[a,l]=o;switch(a){case Node.TEXT_NODE:r.push(l);break;case Node.ELEMENT_NODE:s.push(l);break;default:Array.from(e.querySelectorAll(a)).forEach(c=>{if(n.has(c)){const h=n.get(c);h==null||h.push(l)}else n.set(c,[l])});break}}),[s,r]}}M(Rh,"DEFAULTS",{matchers:[]});function Tn(t,e,n,s){return s.query(e)?t.reduce((r,o)=>{if(!o.insert)return r;if(o.attributes&&o.attributes[e])return r.push(o);const a=n?{[e]:n}:{};return r.insert(o.insert,{...a,...o.attributes})},new j):t}function zs(t,e){let n="";for(let s=t.ops.length-1;s>=0&&n.length<e.length;--s){const r=t.ops[s];if(typeof r.insert!="string")break;n=r.insert+n}return n.slice(-1*e.length)===e}function en(t,e){if(!(t instanceof Element))return!1;const n=e.query(t);return n&&n.prototype instanceof qe?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function I_(t,e){return t.previousElementSibling&&t.nextElementSibling&&!en(t.previousElementSibling,e)&&!en(t.nextElementSibling,e)}const dr=new WeakMap;function qh(t){return t==null?!1:(dr.has(t)||(t.tagName==="PRE"?dr.set(t,!0):dr.set(t,qh(t.parentNode))),dr.get(t))}function ha(t,e,n,s,r){return e.nodeType===e.TEXT_NODE?s.reduce((o,a)=>a(e,o,t),new j):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((o,a)=>{let l=ha(t,a,n,s,r);return a.nodeType===e.ELEMENT_NODE&&(l=n.reduce((c,h)=>h(a,c,t),l),l=(r.get(a)||[]).reduce((c,h)=>h(a,c,t),l)),o.concat(l)},new j):new j}function ua(t){return(e,n,s)=>Tn(n,t,!0,s)}function v_(t,e,n){const s=pt.keys(t),r=et.keys(t),o=Qt.keys(t),a={};return s.concat(r).concat(o).forEach(l=>{let c=n.query(l,U.ATTRIBUTE);c!=null&&(a[c.attrName]=c.value(t),a[c.attrName])||(c=V_[l],c!=null&&(c.attrName===l||c.keyName===l)&&(a[c.attrName]=c.value(t)||void 0),c=Mh[l],c!=null&&(c.attrName===l||c.keyName===l)&&(c=Mh[l],a[c.attrName]=c.value(t)||void 0))}),Object.entries(a).reduce((l,c)=>{let[h,f]=c;return Tn(l,h,f,n)},e)}function D_(t,e,n){const s=n.query(t);if(s==null)return e;if(s.prototype instanceof qe){const r={},o=s.value(t);if(o!=null)return r[s.blotName]=o,new j().insert(r,s.formats(t,n))}else if(s.prototype instanceof Fs&&!zs(e,`
`)&&e.insert(`
`),"blotName"in s&&"formats"in s&&typeof s.formats=="function")return Tn(e,s.blotName,s.formats(t,n),n);return e}function x_(t,e){return zs(e,`
`)||e.insert(`
`),e}function $_(t,e,n){const s=n.query("code-block"),r=s&&"formats"in s&&typeof s.formats=="function"?s.formats(t,n):!0;return Tn(e,"code-block",r,n)}function M_(){return new j}function R_(t,e,n){const s=n.query(t);if(s==null||s.blotName!=="list"||!zs(e,`
`))return e;let r=-1,o=t.parentNode;for(;o!=null;)["OL","UL"].includes(o.tagName)&&(r+=1),o=o.parentNode;return r<=0?e:e.reduce((a,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?a.push(l):a.insert(l.insert,{indent:r,...l.attributes||{}}):a,new j)}function q_(t,e,n){const s=t;let r=s.tagName==="OL"?"ordered":"bullet";const o=s.getAttribute("data-checked");return o&&(r=o==="true"?"checked":"unchecked"),Tn(e,"list",r,n)}function Ph(t,e,n){if(!zs(e,`
`)){if(en(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let s=t.nextSibling;for(;s!=null;){if(en(s,n))return e.insert(`
`);const r=n.query(s);if(r&&r.prototype instanceof ze)return e.insert(`
`);s=s.firstChild}}}return e}function P_(t,e,n){var o;const s={},r=t.style||{};return r.fontStyle==="italic"&&(s.italic=!0),r.textDecoration==="underline"&&(s.underline=!0),r.textDecoration==="line-through"&&(s.strike=!0),((o=r.fontWeight)!=null&&o.startsWith("bold")||parseInt(r.fontWeight,10)>=700)&&(s.bold=!0),e=Object.entries(s).reduce((a,l)=>{let[c,h]=l;return Tn(a,c,h,n)},e),parseFloat(r.textIndent||0)>0?new j().insert("	").concat(e):e}function F_(t,e,n){var r,o;const s=((r=t.parentElement)==null?void 0:r.tagName)==="TABLE"?t.parentElement:(o=t.parentElement)==null?void 0:o.parentElement;if(s!=null){const l=Array.from(s.querySelectorAll("tr")).indexOf(t)+1;return Tn(e,"table",l,n)}return e}function j_(t,e,n){var r;let s=t.data;if(((r=t.parentElement)==null?void 0:r.tagName)==="O:P")return e.insert(s.trim());if(!qh(t)){if(s.trim().length===0&&s.includes(`
`)&&!I_(t,n))return e;s=s.replace(/[^\S\u00a0]/g," "),s=s.replace(/ {2,}/g," "),(t.previousSibling==null&&t.parentElement!=null&&en(t.parentElement,n)||t.previousSibling instanceof Element&&en(t.previousSibling,n))&&(s=s.replace(/^ /,"")),(t.nextSibling==null&&t.parentElement!=null&&en(t.parentElement,n)||t.nextSibling instanceof Element&&en(t.nextSibling,n))&&(s=s.replace(/ $/,"")),s=s.replaceAll(""," ")}return e.insert(s)}class Fh extends it{constructor(n,s){super(n,s);M(this,"lastRecorded",0);M(this,"ignoreChange",!1);M(this,"stack",{undo:[],redo:[]});M(this,"currentRange",null);this.quill.on(C.events.EDITOR_CHANGE,(r,o,a,l)=>{r===C.events.SELECTION_CHANGE?o&&l!==C.sources.SILENT&&(this.currentRange=o):r===C.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===C.sources.USER?this.record(o,a):this.transform(o)),this.currentRange=fa(this.currentRange,o))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",r=>{r.inputType==="historyUndo"?(this.undo(),r.preventDefault()):r.inputType==="historyRedo"&&(this.redo(),r.preventDefault())})}change(n,s){if(this.stack[n].length===0)return;const r=this.stack[n].pop();if(!r)return;const o=this.quill.getContents(),a=r.delta.invert(o);this.stack[s].push({delta:a,range:fa(r.range,a)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,C.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,s){if(n.ops.length===0)return;this.stack.redo=[];let r=n.invert(s),o=this.currentRange;const a=Date.now();if(this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(r=r.compose(l.delta),o=l.range)}else this.lastRecorded=a;r.length()!==0&&(this.stack.undo.push({delta:r,range:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){jh(this.stack.undo,n),jh(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,C.sources.USER);else{const s=H_(this.quill.scroll,n.delta);this.quill.setSelection(s,C.sources.USER)}}}M(Fh,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function jh(t,e){let n=e;for(let s=t.length-1;s>=0;s-=1){const r=t[s];t[s]={delta:n.transform(r.delta,!0),range:r.range&&fa(r.range,n)},n=r.delta.transform(n),t[s].delta.length()===0&&t.splice(s,1)}}function U_(t,e){const n=e.ops[e.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(s=>t.query(s,U.BLOCK)!=null):!1}function H_(t,e){const n=e.reduce((r,o)=>r+(o.delete||0),0);let s=e.length()-n;return U_(t,e)&&(s-=1),s}function fa(t,e){if(!t)return t;const n=e.transformPosition(t.index),s=e.transformPosition(t.index+t.length);return{index:n,length:s-n}}class Uh extends it{constructor(e,n){super(e,n),e.root.addEventListener("drop",s=>{var a;s.preventDefault();let r=null;if(document.caretRangeFromPoint)r=document.caretRangeFromPoint(s.clientX,s.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(s.clientX,s.clientY);r=document.createRange(),r.setStart(l.offsetNode,l.offset),r.setEnd(l.offsetNode,l.offset)}const o=r&&e.selection.normalizeNative(r);if(o){const l=e.selection.normalizedToRange(o);(a=s.dataTransfer)!=null&&a.files&&this.upload(l,s.dataTransfer.files)}})}upload(e,n){const s=[];Array.from(n).forEach(r=>{var o;r&&((o=this.options.mimetypes)!=null&&o.includes(r.type))&&s.push(r)}),s.length>0&&this.options.handler.call(this,e,s)}}Uh.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const n=e.map(s=>new Promise(r=>{const o=new FileReader;o.onload=()=>{r(o.result)},o.readAsDataURL(s)}));Promise.all(n).then(s=>{const r=s.reduce((o,a)=>o.insert({image:a}),new j().retain(t.index).delete(t.length));this.quill.updateContents(r,q.sources.USER),this.quill.setSelection(t.index+s.length,q.sources.SILENT)})}};const z_=["insertText","insertReplacementText"];class W_ extends it{constructor(e,n){super(e,n),e.root.addEventListener("beforeinput",s=>{this.handleBeforeInput(s)}),/Android/i.test(navigator.userAgent)||e.on(C.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){da({range:e,quill:this.quill})}replaceText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(n){const s=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new j().retain(e.index).insert(n,s),C.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+n.length,0,C.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!z_.includes(e.inputType))return;const n=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const s=K_(e);if(s==null)return;const r=this.quill.selection.normalizeNative(n),o=r?this.quill.selection.normalizedToRange(r):null;o&&this.replaceText(o,s)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function K_(t){var e;return typeof t.data=="string"?t.data:(e=t.dataTransfer)!=null&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const G_=/Mac/i.test(navigator.platform),Y_=100,X_=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||G_&&t.key==="a"&&t.ctrlKey===!0);class Z_ extends it{constructor(n,s){super(n,s);M(this,"isListening",!1);M(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,s){let{line:r,event:o}=s;if(!(r instanceof tt)||!r.uiNode)return!0;const a=getComputedStyle(r.domNode).direction==="rtl";return a&&o.key!=="ArrowRight"||!a&&o.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(o.shiftKey?1:0),C.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&X_(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+Y_,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const s=n.getRangeAt(0);if(s.collapsed!==!0||s.startOffset!==0)return;const r=this.quill.scroll.find(s.startContainer);if(!(r instanceof tt)||!r.uiNode)return;const o=document.createRange();o.setStartAfter(r.uiNode),o.setEndAfter(r.uiNode),n.removeAllRanges(),n.addRange(o)}}C.register({"blots/block":we,"blots/block/embed":ze,"blots/break":nt,"blots/container":kn,"blots/cursor":rs,"blots/embed":ta,"blots/inline":gt,"blots/scroll":cs,"blots/text":st,"modules/clipboard":Rh,"modules/history":Fh,"modules/keyboard":lr,"modules/uploader":Uh,"modules/input":W_,"modules/uiNode":Z_});class Q_ extends et{add(e,n){let s=0;if(n==="+1"||n==="-1"){const r=this.value(e)||0;s=n==="+1"?r+1:r-1}else typeof n=="number"&&(s=n);return s===0?(this.remove(e),!0):super.add(e,s.toString())}canAdd(e,n){return super.canAdd(e,n)||super.canAdd(e,parseInt(n,10))}value(e){return parseInt(super.value(e),10)||void 0}}const J_=new Q_("indent","ql-indent",{scope:U.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class ma extends we{}M(ma,"blotName","blockquote"),M(ma,"tagName","blockquote");class pa extends we{static formats(e){return this.tagName.indexOf(e.tagName)+1}}M(pa,"blotName","header"),M(pa,"tagName",["H1","H2","H3","H4","H5","H6"]);class Ws extends kn{}Ws.blotName="list-container",Ws.tagName="OL";class Ks extends we{static create(e){const n=super.create();return n.setAttribute("data-list",e),n}static formats(e){return e.getAttribute("data-list")||void 0}static register(){C.register(Ws)}constructor(e,n){super(e,n);const s=n.ownerDocument.createElement("span"),r=o=>{if(!e.isEnabled())return;const a=this.statics.formats(n,e);a==="checked"?(this.format("list","unchecked"),o.preventDefault()):a==="unchecked"&&(this.format("list","checked"),o.preventDefault())};s.addEventListener("mousedown",r),s.addEventListener("touchstart",r),this.attachUI(s)}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(e,n)}}Ks.blotName="list",Ks.tagName="LI",Ws.allowedChildren=[Ks],Ks.requiredContainer=Ws;class Gs extends gt{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}M(Gs,"blotName","bold"),M(Gs,"tagName",["STRONG","B"]);class ga extends Gs{}M(ga,"blotName","italic"),M(ga,"tagName",["EM","I"]);class tn extends gt{static create(e){const n=super.create(e);return n.setAttribute("href",this.sanitize(e)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(e){return e.getAttribute("href")}static sanitize(e){return Hh(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,n){e!==this.statics.blotName||!n?super.format(e,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}M(tn,"blotName","link"),M(tn,"tagName","A"),M(tn,"SANITIZED_URL","about:blank"),M(tn,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Hh(t,e){const n=document.createElement("a");n.href=t;const s=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(s)>-1}class ba extends gt{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}M(ba,"blotName","script"),M(ba,"tagName",["SUB","SUP"]);class ya extends Gs{}M(ya,"blotName","strike"),M(ya,"tagName",["S","STRIKE"]);class Ea extends gt{}M(Ea,"blotName","underline"),M(Ea,"tagName","U");class hr extends ta{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(e);return typeof e=="string"&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}M(hr,"blotName","formula"),M(hr,"className","ql-formula"),M(hr,"tagName","SPAN");const zh=["alt","height","width"];class _a extends qe{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("src",this.sanitize(e)),n}static formats(e){return zh.reduce((n,s)=>(e.hasAttribute(s)&&(n[s]=e.getAttribute(s)),n),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return Hh(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,n){zh.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}}M(_a,"blotName","image"),M(_a,"tagName","IMG");const Wh=["height","width"];class ur extends ze{static create(e){const n=super.create(e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(e)),n}static formats(e){return Wh.reduce((n,s)=>(e.hasAttribute(s)&&(n[s]=e.getAttribute(s)),n),{})}static sanitize(e){return tn.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,n){Wh.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}M(ur,"blotName","video"),M(ur,"className","ql-video"),M(ur,"tagName","IFRAME");const Ys=new et("code-token","hljs",{scope:U.INLINE});class Dt extends gt{static formats(e,n){for(;e!=null&&e!==n.domNode;){if(e.classList&&e.classList.contains(Ae.className))return super.formats(e,n);e=e.parentNode}}constructor(e,n,s){super(e,n,s),Ys.add(this.domNode,s)}format(e,n){e!==Dt.blotName?super.format(e,n):n?Ys.add(this.domNode,n):(Ys.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Ys.value(this.domNode)||this.unwrap()}}Dt.blotName="code-token",Dt.className="ql-token";class Ke extends Ae{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("data-language",e),n}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(e,n)}replaceWith(e,n){return this.formatAt(0,this.length(),Dt.blotName,!1),super.replaceWith(e,n)}}class Xs extends Nn{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,n){e===Ke.blotName&&(this.forceNext=!0,this.children.forEach(s=>{s.format(e,n)}))}formatAt(e,n,s,r){s===Ke.blotName&&(this.forceNext=!0),super.formatAt(e,n,s,r)}highlight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const r=`${Array.from(this.domNode.childNodes).filter(a=>a!==this.uiNode).map(a=>a.textContent).join(`
`)}
`,o=Ke.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==r){if(r.trim().length>0||this.cachedText==null){const a=this.children.reduce((c,h)=>c.concat(uh(h,!1)),new j),l=e(r,o);a.diff(l).reduce((c,h)=>{let{retain:f,attributes:u}=h;return f?(u&&Object.keys(u).forEach(p=>{[Ke.blotName,Dt.blotName].includes(p)&&this.formatAt(c,f,p,u[p])}),c+f):c},0)}this.cachedText=r,this.forceNext=!1}}html(e,n){const[s]=this.children.find(e);return`<pre data-language="${s?Ke.formats(s.domNode):"plain"}">
${ir(this.code(e,n))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=Ke.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}Xs.allowedChildren=[Ke],Ke.requiredContainer=Xs,Ke.allowedChildren=[Dt,rs,st,nt];const ew=(t,e,n)=>{if(typeof t.versionString=="string"){const s=t.versionString.split(".")[0];if(parseInt(s,10)>=11)return t.highlight(n,{language:e}).value}return t.highlight(e,n).value};class Kh extends it{static register(){C.register(Dt,!0),C.register(Ke,!0),C.register(Xs,!0)}constructor(e,n){if(super(e,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((s,r)=>{let{key:o}=r;return s[o]=!0,s},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(C.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Xs))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(s=>{let{key:r,label:o}=s;const a=n.ownerDocument.createElement("option");a.textContent=o,a.setAttribute("value",r),n.appendChild(a)}),n.addEventListener("change",()=>{e.format(Ke.blotName,n.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(n),e.children.head&&(n.value=Ke.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(C.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(C.sources.USER);const s=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Xs):[e]).forEach(o=>{o.highlight(this.highlightBlot,n)}),this.quill.update(C.sources.SILENT),s!=null&&this.quill.setSelection(s,C.sources.SILENT)}highlightBlot(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return ir(e).split(`
`).reduce((r,o,a)=>(a!==0&&r.insert(`
`,{[Ae.blotName]:n}),r.insert(o)),new j);const s=this.quill.root.ownerDocument.createElement("div");return s.classList.add(Ae.className),s.innerHTML=ew(this.options.hljs,n,e),ha(this.quill.scroll,s,[(r,o)=>{const a=Ys.value(r);return a?o.compose(new j().retain(o.length(),{[Dt.blotName]:a})):o}],[(r,o)=>r.data.split(`
`).reduce((a,l,c)=>(c!==0&&a.insert(`
`,{[Ae.blotName]:n}),a.insert(l)),o)],new WeakMap)}}Kh.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const ti=class ti extends we{static create(e){const n=super.create();return e?n.setAttribute("data-row",e):n.setAttribute("data-row",wa()),n}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,n){e===ti.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(e,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};M(ti,"blotName","table"),M(ti,"tagName","TD");let ot=ti;class xt extends kn{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),n=this.children.tail.formats(),s=this.next.children.head.formats(),r=this.next.children.tail.formats();return e.table===n.table&&e.table===s.table&&e.table===r.table}return!1}optimize(e){super.optimize(e),this.children.forEach(n=>{if(n.next==null)return;const s=n.formats(),r=n.next.formats();if(s.table!==r.table){const o=this.splitAfter(n);o&&o.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}M(xt,"blotName","table-row"),M(xt,"tagName","TR");class bt extends kn{}M(bt,"blotName","table-body"),M(bt,"tagName","TBODY");class ds extends kn{balanceCells(){const e=this.descendants(xt),n=e.reduce((s,r)=>Math.max(r.children.length,s),0);e.forEach(s=>{new Array(n-s.children.length).fill(0).forEach(()=>{let r;s.children.head!=null&&(r=ot.formats(s.children.head.domNode));const o=this.scroll.create(ot.blotName,r);s.appendChild(o),o.optimize()})})}cells(e){return this.rows().map(n=>n.children.at(e))}deleteColumn(e){const[n]=this.descendant(bt);n==null||n.children.head==null||n.children.forEach(s=>{const r=s.children.at(e);r!=null&&r.remove()})}insertColumn(e){const[n]=this.descendant(bt);n==null||n.children.head==null||n.children.forEach(s=>{const r=s.children.at(e),o=ot.formats(s.children.head.domNode),a=this.scroll.create(ot.blotName,o);s.insertBefore(a,r)})}insertRow(e){const[n]=this.descendant(bt);if(n==null||n.children.head==null)return;const s=wa(),r=this.scroll.create(xt.blotName);n.children.head.children.forEach(()=>{const a=this.scroll.create(ot.blotName,s);r.appendChild(a)});const o=n.children.at(e);n.insertBefore(r,o)}rows(){const e=this.children.head;return e==null?[]:e.children.map(n=>n)}}M(ds,"blotName","table-container"),M(ds,"tagName","TABLE"),ds.allowedChildren=[bt],bt.requiredContainer=ds,bt.allowedChildren=[xt],xt.requiredContainer=bt,xt.allowedChildren=[ot],ot.requiredContainer=xt;function wa(){return`row-${Math.random().toString(36).slice(2,6)}`}class tw extends it{static register(){C.register(ot),C.register(xt),C.register(bt),C.register(ds)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(ds).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,n]=this.getTable();n!=null&&(e.deleteColumn(n.cellOffset()),this.quill.update(C.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(C.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const n=e.offset();e.remove(),this.quill.update(C.sources.USER),this.quill.setSelection(n,C.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[n,s]=this.quill.getLine(e.index);if(n==null||n.statics.blotName!==ot.blotName)return[null,null,null,-1];const r=n.parent;return[r.parent.parent,r,n,s]}insertColumn(e){const n=this.quill.getSelection();if(!n)return;const[s,r,o]=this.getTable(n);if(o==null)return;const a=o.cellOffset();s.insertColumn(a+e),this.quill.update(C.sources.USER);let l=r.rowOffset();e===0&&(l+=1),this.quill.setSelection(n.index+l,n.length,C.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const n=this.quill.getSelection();if(!n)return;const[s,r,o]=this.getTable(n);if(o==null)return;const a=r.rowOffset();s.insertRow(a+e),this.quill.update(C.sources.USER),e>0?this.quill.setSelection(n,C.sources.SILENT):this.quill.setSelection(n.index+r.children.length,n.length,C.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,n){const s=this.quill.getSelection();if(s==null)return;const r=new Array(e).fill(0).reduce(o=>{const a=new Array(n).fill(`
`).join("");return o.insert(a,{table:wa()})},new j().retain(s.index));this.quill.updateContents(r,C.sources.USER),this.quill.setSelection(s.index,C.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(C.events.SCROLL_OPTIMIZE,e=>{e.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(C.events.TEXT_CHANGE,(s,r,o)=>{o===C.sources.USER&&this.balanceTables()}),!0):!1)})}}const Gh=It("quill:toolbar");class ka extends it{constructor(e,n){var s,r;if(super(e,n),Array.isArray(this.options.container)){const o=document.createElement("div");o.setAttribute("role","toolbar"),nw(o,this.options.container),(r=(s=e.container)==null?void 0:s.parentNode)==null||r.insertBefore(o,e.container),this.container=o}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Gh.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(o=>{var l;const a=(l=this.options.handlers)==null?void 0:l[o];a&&this.addHandler(o,a)}),Array.from(this.container.querySelectorAll("button, select")).forEach(o=>{this.attach(o)}),this.quill.on(C.events.EDITOR_CHANGE,()=>{const[o]=this.quill.selection.getRange();this.update(o)})}addHandler(e,n){this.handlers[e]=n}attach(e){let n=Array.from(e.classList).find(r=>r.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){Gh.warn("ignoring attaching to nonexistent format",n,e);return}const s=e.tagName==="SELECT"?"change":"click";e.addEventListener(s,r=>{let o;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const l=e.options[e.selectedIndex];l.hasAttribute("selected")?o=!1:o=l.value||!1}else e.classList.contains("ql-active")?o=!1:o=e.value||!e.hasAttribute("value"),r.preventDefault();this.quill.focus();const[a]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,o);else if(this.quill.scroll.query(n).prototype instanceof qe){if(o=prompt(`Enter ${n}`),!o)return;this.quill.updateContents(new j().retain(a.index).delete(a.length).insert({[n]:o}),C.sources.USER)}else this.quill.format(n,o,C.sources.USER);this.update(a)}),this.controls.push([n,e])}update(e){const n=e==null?{}:this.quill.getFormat(e);this.controls.forEach(s=>{const[r,o]=s;if(o.tagName==="SELECT"){let a=null;if(e==null)a=null;else if(n[r]==null)a=o.querySelector("option[selected]");else if(!Array.isArray(n[r])){let l=n[r];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),a=o.querySelector(`option[value="${l}"]`)}a==null?(o.value="",o.selectedIndex=-1):a.selected=!0}else if(e==null)o.classList.remove("ql-active"),o.setAttribute("aria-pressed","false");else if(o.hasAttribute("value")){const a=n[r],l=a===o.getAttribute("value")||a!=null&&a.toString()===o.getAttribute("value")||a==null&&!o.getAttribute("value");o.classList.toggle("ql-active",l),o.setAttribute("aria-pressed",l.toString())}else{const a=n[r]!=null;o.classList.toggle("ql-active",a),o.setAttribute("aria-pressed",a.toString())}})}}ka.DEFAULTS={};function Yh(t,e,n){const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add(`ql-${e}`),s.setAttribute("aria-pressed","false"),n!=null?(s.value=n,s.setAttribute("aria-label",`${e}: ${n}`)):s.setAttribute("aria-label",e),t.appendChild(s)}function nw(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(n=>{const s=document.createElement("span");s.classList.add("ql-formats"),n.forEach(r=>{if(typeof r=="string")Yh(s,r);else{const o=Object.keys(r)[0],a=r[o];Array.isArray(a)?sw(s,o,a):Yh(s,o,a)}}),t.appendChild(s)})}function sw(t,e,n){const s=document.createElement("select");s.classList.add(`ql-${e}`),n.forEach(r=>{const o=document.createElement("option");r!==!1?o.setAttribute("value",String(r)):o.setAttribute("selected","selected"),s.appendChild(o)}),t.appendChild(s)}ka.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(n=>{this.quill.scroll.query(n,U.INLINE)!=null&&this.quill.format(n,!1,C.sources.USER)})}else this.quill.removeFormat(t.index,t.length,C.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",C.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,C.sources.USER),this.quill.format("direction",t,C.sources.USER)},indent(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e),s=parseInt(n.indent||0,10);if(t==="+1"||t==="-1"){let r=t==="+1"?1:-1;n.direction==="rtl"&&(r*=-1),this.quill.format("indent",s+r,C.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,C.sources.USER)},list(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e);t==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,C.sources.USER):this.quill.format("list","unchecked",C.sources.USER):this.quill.format("list",t,C.sources.USER)}}};const iw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',rw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',ow='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',aw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',lw='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',cw='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',dw='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',hw='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Xh='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Zs={align:{"":iw,center:rw,right:ow,justify:aw},background:lw,blockquote:cw,bold:dw,clean:hw,code:Xh,"code-block":Xh,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'},uw='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Zh=0;function Qh(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class fr{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Qh(this.label,"aria-expanded"),Qh(this.options,"aria-hidden")}buildItem(e){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const s=e.getAttribute("value");return s&&n.setAttribute("data-value",s),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.selectItem(n,!0),r.preventDefault();break;case"Escape":this.escape(),r.preventDefault();break}}),n}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=uw,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${Zh}`,Zh+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(n=>{const s=this.buildItem(n);e.appendChild(s),n.selected===!0&&this.selectItem(s)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=this.container.querySelector(".ql-selected");e!==s&&(s!=null&&s.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const s=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(s)}else this.selectItem(null);const n=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class Jh extends fr{constructor(e,n){super(e),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(s=>{s.classList.add("ql-primary")})}buildItem(e){const n=super.buildItem(e);return n.style.backgroundColor=e.getAttribute("value")||"",n}selectItem(e,n){super.selectItem(e,n);const s=this.label.querySelector(".ql-color-label"),r=e&&e.getAttribute("data-value")||"";s&&(s.tagName==="line"?s.style.stroke=r:s.style.fill=r)}}class eu extends fr{constructor(e,n){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(s=>{s.innerHTML=n[s.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,n){super.selectItem(e,n);const s=e||this.defaultItem;if(s!=null){if(this.label.innerHTML===s.innerHTML)return;this.label.innerHTML=s.innerHTML}}}const fw=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class tu{constructor(e,n){this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,fw(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const n=e.left+e.width/2-this.root.offsetWidth/2,s=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${s}px`,this.root.classList.remove("ql-flip");const r=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect();let a=0;if(o.right>r.right&&(a=r.right-o.right,this.root.style.left=`${n+a}px`),o.left<r.left&&(a=r.left-o.left,this.root.style.left=`${n+a}px`),o.bottom>r.bottom){const l=o.bottom-o.top,c=e.bottom-e.top+l;this.root.style.top=`${s-c}px`,this.root.classList.add("ql-flip")}return a}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const mw=[!1,"center","right","justify"],pw=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],gw=[!1,"serif","monospace"],bw=["1","2","3",!1],yw=["small",!1,"large","huge"];class Qs extends as{constructor(e,n){super(e,n);const s=r=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",s);return}this.tooltip!=null&&!this.tooltip.root.contains(r.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(o=>{o.container.contains(r.target)||o.close()})};e.emitter.listenDOM("click",document.body,s)}addModule(e){const n=super.addModule(e);return e==="toolbar"&&this.extendToolbar(n),n}buildButtons(e,n){Array.from(e).forEach(s=>{(s.getAttribute("class")||"").split(/\s+/).forEach(o=>{if(o.startsWith("ql-")&&(o=o.slice(3),n[o]!=null))if(o==="direction")s.innerHTML=n[o][""]+n[o].rtl;else if(typeof n[o]=="string")s.innerHTML=n[o];else{const a=s.value||"";a!=null&&n[o][a]&&(s.innerHTML=n[o][a])}})})}buildPickers(e,n){this.pickers=Array.from(e).map(r=>{if(r.classList.contains("ql-align")&&(r.querySelector("option")==null&&Js(r,mw),typeof n.align=="object"))return new eu(r,n.align);if(r.classList.contains("ql-background")||r.classList.contains("ql-color")){const o=r.classList.contains("ql-background")?"background":"color";return r.querySelector("option")==null&&Js(r,pw,o==="background"?"#ffffff":"#000000"),new Jh(r,n[o])}return r.querySelector("option")==null&&(r.classList.contains("ql-font")?Js(r,gw):r.classList.contains("ql-header")?Js(r,bw):r.classList.contains("ql-size")&&Js(r,yw)),new fr(r)});const s=()=>{this.pickers.forEach(r=>{r.update()})};this.quill.on(q.events.EDITOR_CHANGE,s)}}Qs.DEFAULTS=Zt({},as.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class nu extends tu{constructor(e,n){super(e,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const s=this.quill.getBounds(this.quill.selection.savedRange);s!=null&&this.position(s),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,q.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,q.sources.USER)),this.quill.root.scrollTop=n;break}case"video":e=Ew(e);case"formula":{if(!e)break;const n=this.quill.getSelection(!0);if(n!=null){const s=n.index+n.length;this.quill.insertEmbed(s,this.root.getAttribute("data-mode"),e,q.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(s+1," ",q.sources.USER),this.quill.setSelection(s+2,q.sources.USER)}break}}this.textbox.value="",this.hide()}}function Ew(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function Js(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(s=>{const r=document.createElement("option");s===n?r.setAttribute("selected","selected"):r.setAttribute("value",String(s)),t.appendChild(r)})}const _w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class su extends nu{constructor(e,n){super(e,n),this.quill.on(q.events.EDITOR_CHANGE,(s,r,o,a)=>{if(s===q.events.SELECTION_CHANGE)if(r!=null&&r.length>0&&a===q.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(r.index,r.length);if(l.length===1){const c=this.quill.getBounds(r);c!=null&&this.position(c)}else{const c=l[l.length-1],h=this.quill.getIndex(c),f=Math.min(c.length()-1,r.index+r.length-h),u=this.quill.getBounds(new wn(h,f));u!=null&&this.position(u)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(q.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const n=this.quill.getBounds(e);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(e){const n=super.position(e),s=this.root.querySelector(".ql-tooltip-arrow");return s.style.marginLeft="",n!==0&&(s.style.marginLeft=`${-1*n-s.offsetWidth/2}px`),n}}M(su,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class iu extends Qs{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=_w),super(e,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new su(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Zs),this.buildPickers(e.container.querySelectorAll("select"),Zs))}}iu.DEFAULTS=Zt({},Qs.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,C.sources.USER)}}}}});const ww=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class ru extends nu{constructor(){super(...arguments);M(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const s=this.linkRange;this.restoreFocus(),this.quill.formatText(s,"link",!1,q.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on(q.events.SELECTION_CHANGE,(n,s,r)=>{if(n!=null){if(n.length===0&&r===q.sources.USER){const[o,a]=this.quill.scroll.descendant(tn,n.index);if(o!=null){this.linkRange=new wn(n.index-a,o.length());const l=tn.formats(o.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const c=this.quill.getBounds(this.linkRange);c!=null&&this.position(c);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}M(ru,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class ou extends Qs{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=ww),super(e,n),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Zs),this.buildPickers(e.container.querySelectorAll("select"),Zs),this.tooltip=new ru(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,s)=>{e.handlers.link.call(e,!s.format.link)}))}}ou.DEFAULTS=Zt({},Qs.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:s}=this.quill.theme;s.edit("link",n)}else this.quill.format("link",!1,C.sources.USER)}}}}}),C.register({"attributors/attribute/direction":Ch,"attributors/class/align":Nh,"attributors/class/background":c_,"attributors/class/color":l_,"attributors/class/direction":Sh,"attributors/class/font":Bh,"attributors/class/size":Ih,"attributors/style/align":Th,"attributors/style/background":oa,"attributors/style/color":ra,"attributors/style/direction":Oh,"attributors/style/font":Vh,"attributors/style/size":vh},!0),C.register({"formats/align":Nh,"formats/direction":Sh,"formats/indent":J_,"formats/background":oa,"formats/color":ra,"formats/font":Bh,"formats/size":Ih,"formats/blockquote":ma,"formats/code-block":Ae,"formats/header":pa,"formats/list":Ks,"formats/bold":Gs,"formats/code":aa,"formats/italic":ga,"formats/link":tn,"formats/script":ba,"formats/strike":ya,"formats/underline":Ea,"formats/formula":hr,"formats/image":_a,"formats/video":ur,"modules/syntax":Kh,"modules/table":tw,"modules/toolbar":ka,"themes/bubble":iu,"themes/snow":ou,"ui/icons":Zs,"ui/picker":fr,"ui/icon-picker":eu,"ui/color-picker":Jh,"ui/tooltip":tu},!0);const Ge=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},kw={props:["modelValue"],mounted(){this.initQuillEditor()},watch:{modelValue(t){t||(t=""),this.quill.root.innerHTML!=t&&(this.quill.root.innerHTML=t)}},methods:{initQuillEditor(){this.quill=new C(this.$refs.editor,{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],["link","image"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["clean"]]},formats:["bold","italic","underline","strike","link","image","list","indent","align"]}),this.modelValue?this.quill.root.innerHTML=this.modelValue:this.quill.root.innerHTML="",this.quill.on("text-change",()=>{this.$emit("update:modelValue",this.quill.root.innerHTML)})}}},Nw={class:"ql-editor-container"},Tw={class:"",ref:"editor"};function Aw(t,e,n,s,r,o){return i.openBlock(),i.createElementBlock("div",Nw,[i.createElementVNode("div",Tw,null,512)])}const Cw=Ge(kw,[["render",Aw]]),Sw={props:{file:Object},methods:{roundFileSize(t,e){return t<1024?t+(e?" Byte":""):t<1048576?(t/1024).toFixed(0)+(e?'<span class="text-muted fw-light"> KB</span>':""):t<1073741824?(t/1048576).toFixed(2)+(e?'<span class="text-muted fw-light"> MB</span>':""):(t/1073741824).toFixed(2)+(e?'<span class="text-muted fw-light"> GB</span>':"")},dateFormat(t){return new Date(t).toLocaleDateString("hu-HU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}}},Ow={key:0,class:"table table-sm w-100 vsa-file-info"},Lw={class:"text-nowrap text-center"},Bw={class:"text-center"},Vw={class:"text-nowrap text-end"},Iw=["innerHTML"],vw={class:"text-end"},Dw={class:"text-nowrap text-center"},xw={class:"text-center"},$w={class:"text-end"},Mw=["innerHTML"],Rw={class:"text-end"},qw={key:0,class:"fw-normal bg-light text-dark p-0 px-1 shadow-sm"},Pw={colspan:"3"},Fw={class:"text-end"},jw=["innerHTML"],Uw={class:"d-flex justify-content-between text-nowrap"},Hw={class:"d-flex justify-content-between text-nowrap"},zw={class:"text-muted fw-light me-3"},Ww={key:1,class:"d-flex justify-content-between"};function Kw(t,e,n,s,r,o){return i.openBlock(),i.createElementBlock("div",null,[t.file?(i.openBlock(),i.createElementBlock("table",Ow,[e[3]||(e[3]=i.createElementVNode("thead",null,[i.createElementVNode("tr",null,[i.createElementVNode("td",{class:"text-muted"}," type "),i.createElementVNode("td",{class:"text-muted text-center"}," resolution "),i.createElementVNode("td",{class:"text-muted text-center"}," ratio "),i.createElementVNode("td",{class:"text-muted text-end"}," size "),i.createElementVNode("td",{class:"text-muted text-end"}," extension "),i.createElementVNode("td",{class:"text-muted"}," crop ")])],-1)),i.createElementVNode("tbody",null,[i.createElementVNode("tr",null,[e[0]||(e[0]=i.createElementVNode("td",null," original ",-1)),i.createElementVNode("td",Lw,i.toDisplayString(t.file.original.width)+" x "+i.toDisplayString(t.file.original.height),1),i.createElementVNode("td",Bw,i.toDisplayString(t.file.original.ratio),1),i.createElementVNode("td",Vw,[i.createElementVNode("span",{innerHTML:t.roundFileSize(t.file.original.bytes,!0)},null,8,Iw)]),i.createElementVNode("td",vw,i.toDisplayString(t.file.original.extension),1),e[1]||(e[1]=i.createElementVNode("td",null,null,-1))]),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.file.types,(a,l)=>(i.openBlock(),i.createElementBlock("tr",{key:a},[i.createElementVNode("td",null,i.toDisplayString(l),1),i.createElementVNode("td",Dw,i.toDisplayString(a.width)+" x "+i.toDisplayString(a.height),1),i.createElementVNode("td",xw,i.toDisplayString(a.ratio),1),i.createElementVNode("td",$w,[i.createElementVNode("span",{class:i.normalizeClass(["text-nowrap",{"text-danger":a.bytes>t.file.original.bytes}]),innerHTML:t.roundFileSize(a.bytes,!0)},null,10,Mw)]),i.createElementVNode("td",Rw,i.toDisplayString(a.extension),1),i.createElementVNode("td",null,[a.crop?(i.openBlock(),i.createElementBlock("small",qw,i.toDisplayString(a.crop),1)):i.createCommentVNode("",!0)])]))),128))]),i.createElementVNode("tfoot",null,[i.createElementVNode("tr",null,[i.createElementVNode("td",Pw,i.toDisplayString(t.file.uploaded?"uploaded":"uploading"),1),i.createElementVNode("td",Fw,[i.createElementVNode("span",{class:"text-nowrap",innerHTML:t.roundFileSize(t.file.bytes,!0)},null,8,jw)]),e[2]||(e[2]=i.createElementVNode("td",{colspan:"2"},null,-1))])])])):i.createCommentVNode("",!0),i.createElementVNode("small",Uw,[e[4]||(e[4]=i.createElementVNode("span",{class:"text-muted fw-light me-3"},"original filename",-1)),i.createTextVNode(" "+i.toDisplayString(t.file.original.name),1)]),i.createElementVNode("small",Hw,[i.createElementVNode("span",zw,i.toDisplayString(t.file.uploaded?"uploaded":"uploading")+" filename",1),e[5]||(e[5]=i.createTextVNode()),i.createElementVNode("span",null,i.toDisplayString(t.file.slug),1)]),t.file.uploaded?(i.openBlock(),i.createElementBlock("small",Ww,[e[6]||(e[6]=i.createElementVNode("span",{class:"text-muted fw-light me-3"},"uploaded at",-1)),e[7]||(e[7]=i.createTextVNode()),i.createElementVNode("span",null,i.toDisplayString(t.dateFormat(t.file.timestamp*1e3)),1)])):i.createCommentVNode("",!0)])}const Gw=Ge(Sw,[["render",Kw]]),Ye={image:{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif"},video:{mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",mpeg:"video/mpeg",mov:"video/quicktime"},document:{txt:"text/plain",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rtf:"application/rtf"}},Yw={props:{modelValue:Array,field:Object,settings:Object},data:function(){return{files:[],editfile:null,count:0,bytes:0,wait:!1,uploadEvent:null}},components:{VuAdminFileUploadInfo:Gw},created(){let t=Math.round(Math.random()*1e5);this.uploadId="image_upload_"+t,this.params=this.field.params},mounted(){this.editfile=this.modelValue,this.editfile||(this.editfile=[])},watch:{modelValue(t){if(t==null)this.reset();else{for(let e of t)this.setDefaults(e);this.files=t}}},methods:{roundFileSize(t,e){return cb(t,e)},extensionByFilename(t){return db(t)},getAcceptMimeTypes(t){let e=[];for(const n in Ye)if(Ye.hasOwnProperty(n)){const s=Ye[n];t.forEach(r=>{s[r]&&e.push(s[r])})}return e.join(",")},setDefaults(t){!t||typeof t!="object"||this.params&&this.params.tags&&!t.tags&&(t.tags=[])},detect(t){this.setDefaults(t),t.bytes=0,t.types={default:{}},t.title=t.name.split(".").slice(0,-1).join("."),t.uid=Math.round(Math.random()*9999999).toString(32)+Date.now().toString(32),t.slug=Vs(t.title),t.timestamp=Math.round(Date.now()/1e3),t.original={bytes:t.size,mime:t.type,name:t.name,modified:t.lastModified,extension:this.extensionByFilename(t.name)},Object.values(Ye.video).indexOf(t.original.mime)>=0?t.isVideo=!0:Object.values(Ye.image).indexOf(t.original.mime)>=0?t.isImage=!0:Object.values(Ye.document).indexOf(t.original.mime)>=0?t.isDocument=!0:t.isUnknown=!0,(t.isVideo||t.isImage&&!this.params.presets.default)&&(this.params.presets.default={width:1920,height:1920,extension:"webp",quality:.9})},async createThumbnail(t,e){const n=document.createElement("video"),s=new FileReader;s.onload=r=>{n.src=r.target.result,n.addEventListener("loadeddata",()=>{n.currentTime=n.duration*Math.random(),t.video=n}),n.addEventListener("seeked",()=>{this.forEachPresets(t,n),t.loaded=!0,this.bytes+=t.bytes})},s.readAsDataURL(t)},seekRandom(t){t.video&&(t.video.currentTime=t.video.duration*Math.random())},async handleFileChange(t){this.uploadEvent=t,this.count=this.files?this.files.length:0,this.wait=!0;for(let e of t.target.files)if(this.count++,this.count<=this.params.limit){if(this.files.push(e),this.detect(e),e.isVideo)await this.createThumbnail(e);else if(e.isImage)await this.resizeImage(e);else if(e.isDocument){const n=new FileReader;n.addEventListener("load",s=>{e.types.default={extension:e.original.extension,mime:e.original.mime,slug:Vs(e.title)+"-"+e.uid,bytes:e.size,data:s.target.result},e.loaded=!0,e.bytes+=e.size,this.bytes+=e.bytes}),n.readAsDataURL(e)}}this.$emit("update:modelValue",this.files),this.wait=!1,this.uploadEvent.target.value=""},async forEachPresets(t,e,n){const s=document.createElement("canvas"),r=s.getContext("2d");let o=!!e.videoWidth,a,l;o?(a=e.videoWidth,l=e.videoHeight):(a=e.width,l=e.height),t.original.width=a,t.original.height=l,t.original.ratio=this.calculateAspectRatio(a,l);for(let c in this.params.presets){let h=this.params.presets[c];h.key=c,h.width=h.width?h.width:1920,h.height=h.height?h.height:1080;let f=h.width,u=h.height;if(h.crop==="cover"){let p=Math.max(f/a,u/l),g=a*p,E=l*p,w=(g-f)/2,k=(E-u)/2;s.width=f,s.height=u,r.drawImage(e,-w,-k,g,E)}else if(h.crop==="contain"){let p=Math.min(f/a,u/l),g=a*p,E=l*p,w=(f-g)/2,k=(u-E)/2;s.width=f,s.height=u,r.clearRect(0,0,f,u),r.drawImage(e,w,k,g,E)}else a>f&&(l=Math.round(l*(f/a)),a=f),l>u&&(a=Math.round(a*(u/l)),l=u),s.width=a,s.height=l,r.drawImage(e,0,0,a,l);t.types[h.key]={width:s.width,height:s.height,ratio:this.calculateAspectRatio(s.width,s.height),extension:h.extension?h.extension:this.getExtensionByMimeType(t.type),quality:h.quality?h.quality:.9,crop:h.crop?h.crop:null},t.types[h.key].slug=Vs(t.title)+"-"+s.width+"x"+s.height+"-"+t.uid,t.types[h.key].mime=this.getMimeTypeByExtension(t.types[h.key].extension),t.types[h.key].data=s.toDataURL(t.types[h.key].mime,t.types[h.key].quality),t.types[h.key].blob=await this.getBlob(s,t.types[h.key].mime,t.types[h.key].quality),t.types[h.key].blob&&(t.types[h.key].bytes=t.types[h.key].blob.size),t.types[h.key].bytes&&(t.bytes+=t.types[h.key].bytes),n&&n(h,t)}},getBlob(t,e,n){return new Promise((s,r)=>{t.toBlob(function(o){o?s(o):r(new Error("Failed to convert canvas to Blob"))},e,n)})},async resizeImage(t){const e=await this.fileToBlob(t),n=await createImageBitmap(e);await this.forEachPresets(t,n),t.loaded=!0,this.bytes+=t.bytes},fileToBlob(t){return new Promise(e=>{const n=new FileReader;n.onload=s=>{e(new Blob([s.target.result],{type:t.mime}))},n.readAsArrayBuffer(t)})},slug(t){if(!t.uploaded){t.slug=Vs(t.title);for(let e in t.types){let n=this.params.presets[e];t.types[e].slug=Vs(t.title)+"-"+n.width+"x"+n.height}this.$forceUpdate()}},arrayItemMoveUp(t,e){yo(t,e)},arrayItemMoveDown(t,e){Eo(t,e)},download(t,e){let n=this.files[t].types[e.download?e.download:"default"],s=document.createElement("a");s.href=n.url,s.download=n.slug+"."+n.extension,s.click()},remove(t){confirm("Are you sure you want to remove?")&&(this.bytes-=this.files[t].bytes,this.files.splice(t,1),this.count=this.files.length)},resetConfirm(){confirm("Are you sure you want to remove all?")&&this.reset()},reset(){this.files=[],this.editfile={},this.count=0,this.bytes=0,this.wait=!1,this.$emit("update:modelValue",this.files)},toggleView(){this.params.ui=this.params.ui=="list"?"grid":"list"},dateFormat(t){return new Date(t).toLocaleDateString("hu-HU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},getMimeTypeByExtension(t){for(const e in Ye)if(Ye.hasOwnProperty(e)){const n=Ye[e];if(n[t])return n[t]}return null},getExtensionByMimeType(t){for(const e in Ye)if(Ye.hasOwnProperty(e)){const n=Ye[e];for(const s in n)if(n[s]===t)return s}return null},calculateAspectRatio(t,e){function n(c,h){return h===0?c:n(h,c%h)}if(t<=0||e<=0)throw new Error("Width and height must be positive numbers.");const s=n(t,e),r=t/s,o=e/s;if(r>99||o>99)return"?";if(r===o)return"1:1";if(r%o===0)return`${r/o}:1`;const a=`${r}:${o}`;return{"2.35:1":"2.35:1","2.39:1":"2.39:1","2.76:1":"2.76:1","1.85:1":"1.85:1"}[a]||a},translate(t,e,n){return Is(t,this.settings.translate,e,n||this.settings.language)},dropdownSelectToggleOne(t,e){zc(t,e),this.$forceUpdate()},dropdownSelectAll(t,e){Wc(t,e),this.$forceUpdate()},dropdownSelectInvert(t,e){Kc(t,e),this.$forceUpdate()},dropdownSelectClear(t){typeof t!="object"?t.value=null:Gc(t),this.$forceUpdate()}}},Xw={class:""},Zw={key:0,class:"vsa-image-editor p-2 text-center text-light"},Qw={class:"row"},Jw={class:"badge bg-dark text-light fw-light mx-1 text-uppercase"},ek={class:"badge bg-dark text-light fw-light mx-1"},tk={class:"badge bg-dark text-light fw-light mx-1"},nk=["src"],sk={class:"row g-1"},ik={class:"col-md-6"},rk={class:"col-md-6"},ok={class:"col-md-6"},ak=["href"],lk={key:1,class:"row g-2 mb-1"},ck={key:0},dk={class:"table table-sm table-responsive table-borderless"},hk={class:"align-middle px-0"},uk={class:"input-group border"},fk={class:"d-block p-1 px-2 bg-secondary text-light opacity-50"},mk=["onClick"],pk=["onClick"],gk={key:0,class:"fs-5 ms-2"},bk={key:1,class:"fs-5 ms-2"},yk={key:2,class:"fs-5 ms-2"},Ek=["onUpdate:modelValue","onInput"],_k={key:3,class:"mx-1"},wk=["href"],kk=["src","alt"],Nk=["src","alt"],Tk={key:4,class:"dropdown rounded-bottom"},Ak={class:"btn btn-sm bg-light text-dark w-100",type:"button","data-bs-auto-close":"outside","data-bs-toggle":"dropdown","aria-expanded":"false"},Ck={class:"dropdown-menu"},Sk=["onClick"],Ok={key:0,class:"bi bi-check-square"},Lk={key:1,class:"bi bi-square"},Bk=["onClick"],Vk=["onClick"],Ik=["onClick"],vk={class:"dropdown"},Dk={class:"dropdown-menu"},xk={class:"p-2"},$k={class:"fw-light"},Mk=["onClick"],Rk={class:"vsa-image-container h-100 position-relative"},qk={key:0,class:"w-100 h-100 d-flex align-items-center flex-column"},Pk={key:1,class:"vsa-image-frame mb-auto border border-bottom-0 p-1 text-center w-100 h-100 d-flex justify-content-center align-items-center"},Fk=["href"],jk=["src","alt"],Uk=["src","alt"],Hk={key:2,class:"display-3 w-100 h-100 text-center mb-auto d-flex align-items-center justify-content-center"},zk=["onUpdate:modelValue","onInput"],Wk={class:"w-100 mb-2 d-flex justify-content-around align-items-center"},Kk={class:"p-1 px-2 bg-secondary text-light border border-end-0 h-100 opacity-50"},Gk=["onClick"],Yk=["onClick"],Xk={class:"dropdown border h-100 w-100"},Zk={class:"dropdown-menu"},Qk={class:"p-2"},Jk={class:"fw-light"},eN={key:0,class:"dropdown border h-100 w-100"},tN={class:"btn btn-sm bg-light text-dark w-100",type:"button","data-bs-auto-close":"outside","data-bs-toggle":"dropdown","aria-expanded":"false"},nN={class:"dropdown-menu"},sN=["onClick"],iN={key:0,class:"bi bi-check-square"},rN={key:1,class:"bi bi-square"},oN=["onClick"],aN=["onClick"],lN=["onClick"],cN=["onClick"],dN={key:1,class:"w-100 h-100 vsa-image-loading d-flex align-items-center justify-content-center"},hN={class:"row g-1"},uN={class:"col-12 d-flex align-items-center justify-content-center"},fN=["for"],mN={key:0},pN={key:0},gN={class:""},bN={class:""},yN={key:1,class:"fs-6"},EN={key:0,class:"bi bi-list-ol"},_N={key:1,class:"bi bi-grid"},wN=["disabled"],kN={class:"col-12 text-center"},NN={key:0},TN=["id","accept"];function AN(t,e,n,s,r,o){const a=i.resolveComponent("VuAdminFileUploadInfo");return i.openBlock(),i.createElementBlock("div",Xw,[i.createElementVNode("div",{class:i.normalizeClass(["vsa-upload",{wait:t.wait}])},[t.editfile&&t.editfile.presets?(i.openBlock(),i.createElementBlock("div",Zw,[i.createElementVNode("div",Qw,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.editfile.types,(l,c)=>(i.openBlock(),i.createElementBlock("div",{class:"col-md-3",key:c},[i.createElementVNode("span",Jw,i.toDisplayString(l.extension),1),i.createElementVNode("span",ek,i.toDisplayString(l.width)+" x "+i.toDisplayString(l.height),1),i.createElementVNode("span",tk,"~"+i.toDisplayString(t.roundFileSize(l.bytes)),1),l?(i.openBlock(),i.createElementBlock("img",{key:0,class:"img-thumbnail rounded",src:l.url?l.url:l.data},null,8,nk)):i.createCommentVNode("",!0)]))),128))]),i.withDirectives(i.createElementVNode("input",{type:"text",class:"form-control form-control-sm w-100 mt-1","onUpdate:modelValue":e[0]||(e[0]=l=>t.editfile.title=l)},null,512),[[i.vModelText,t.editfile.title]]),i.createElementVNode("div",sk,[i.createElementVNode("div",ik,[i.createElementVNode("button",{type:"button",class:"btn btn-sm btn-outline-danger mt-1 w-100",onClick:e[1]||(e[1]=l=>t.editfile=null)}," Close ")]),i.createElementVNode("div",rk,[i.createElementVNode("button",{type:"button",class:"btn btn-sm btn-outline-danger mt-1 w-100",onClick:e[2]||(e[2]=l=>t.remove(t.index))}," Remove ")]),i.createElementVNode("div",ok,[t.type&&!t.type.url?(i.openBlock(),i.createElementBlock("button",{key:0,type:"button",class:"btn btn-sm btn-outline-light mt-1 w-100",onClick:e[3]||(e[3]=l=>t.download(t.index,t.params))}," Download ")):i.createCommentVNode("",!0),t.type&&t.type.url?(i.openBlock(),i.createElementBlock("a",{key:1,type:"button",class:"btn btn-sm btn-outline-light mt-1 w-100",href:t.type.url}," Download ",8,ak)):i.createCommentVNode("",!0)])])])):i.createCommentVNode("",!0),t.files&&t.files.length?(i.openBlock(),i.createElementBlock("div",lk,[t.params.ui==="list"?(i.openBlock(),i.createElementBlock("div",ck,[i.createElementVNode("table",dk,[i.createElementVNode("tbody",null,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.files,(l,c)=>(i.openBlock(),i.createElementBlock("tr",{key:c},[i.createElementVNode("td",hk,[i.createElementVNode("div",uk,[i.createElementVNode("span",fk,[i.createElementVNode("small",null,i.toDisplayString(c+1),1)]),i.createElementVNode("span",{class:"cursor-pointer p-1 border-end bg-white h-100",onClick:h=>t.arrayItemMoveDown(t.files,c)},[i.createElementVNode("i",{class:i.normalizeClass(["bi bi-arrow-up",{"opacity-25":c<1}])},null,2)],8,mk),i.createElementVNode("span",{class:"cursor-pointer p-1 border-start border-end bg-white h-100",onClick:h=>t.arrayItemMoveUp(t.files,c+1)},[i.createElementVNode("i",{class:i.normalizeClass(["bi bi-arrow-down",{"opacity-25":c>=t.files.length-1}])},null,2)],8,pk),l.isDocument?(i.openBlock(),i.createElementBlock("span",gk,[i.createElementVNode("i",{class:i.normalizeClass(["bi bi-filetype-"+l.types.default.extension])},null,2)])):l.isImage?(i.openBlock(),i.createElementBlock("span",bk,e[9]||(e[9]=[i.createElementVNode("i",{class:"bi bi-file-image"},null,-1)]))):l.isVideo?(i.openBlock(),i.createElementBlock("span",yk,e[10]||(e[10]=[i.createElementVNode("i",{class:"bi bi-file-play"},null,-1)]))):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("input",{required:"text",class:"form-control py-1 px-2 border-0 fw-light","onUpdate:modelValue":h=>l.title=h,onInput:h=>t.slug(l),onKeydown:e[4]||(e[4]=i.withKeys(i.withModifiers(()=>{},["prevent"]),["enter"]))},null,40,Ek),[[i.vModelText,l.title]]),!l.isDocument&&l.types&&l.types[t.params.thumbnail]?(i.openBlock(),i.createElementBlock("span",_k,[l.types.default.url?(i.openBlock(),i.createElementBlock("a",{key:0,target:"_blank",href:l.types.default.url},[i.createElementVNode("img",{height:"32",width:"auto",class:"transparent-background",src:l.types[t.params.thumbnail].url,alt:l.name},null,8,kk)],8,wk)):(i.openBlock(),i.createElementBlock("img",{key:1,height:"32",width:"auto",class:"transparent-background",src:l.types[t.params.thumbnail].data,alt:l.name},null,8,Nk))])):i.createCommentVNode("",!0),t.params.tags?(i.openBlock(),i.createElementBlock("div",Tk,[i.createElementVNode("button",Ak,[e[11]||(e[11]=i.createElementVNode("i",{class:"bi bi-tag"},null,-1)),i.createTextVNode(" "+i.toDisplayString(l.tags?l.tags.length:0),1)]),i.createElementVNode("ul",Ck,[i.createElementVNode("li",null,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.params.tags,h=>(i.openBlock(),i.createElementBlock("span",{key:h,class:"dropdown-item cursor-pointer",onClick:f=>t.dropdownSelectToggleOne(l.tags,h.value)},[l.tags&&l.tags.indexOf(h.value)>=0?(i.openBlock(),i.createElementBlock("i",Ok)):(i.openBlock(),i.createElementBlock("i",Lk)),i.createTextVNode(" "+i.toDisplayString(t.translate(h.label?h.label:h.value)),1)],8,Sk))),128))]),e[12]||(e[12]=i.createElementVNode("li",null,[i.createElementVNode("hr",{class:"dropdown-divider"})],-1)),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>t.dropdownSelectAll(l.tags,t.params.tags)},i.toDisplayString(t.translate("Select all")),9,Bk)]),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>t.dropdownSelectClear(l.tags)},i.toDisplayString(t.translate("Unselect all")),9,Vk)]),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>t.dropdownSelectInvert(l.tags,t.params.tags)},i.toDisplayString(t.translate("Invert all")),9,Ik)])])])):i.createCommentVNode("",!0),i.createElementVNode("div",vk,[e[13]||(e[13]=i.createElementVNode("button",{class:"btn btn-sm bg-light text-dark _dropdown-toggle h-100",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[i.createElementVNode("i",{class:"bi bi-list"})],-1)),i.createElementVNode("ul",Dk,[i.createElementVNode("li",xk,[i.createElementVNode("small",$k,[i.createVNode(a,{file:l},null,8,["file"])])])])]),i.createElementVNode("button",{class:"btn text-danger px-2 py-1",onClick:h=>t.remove(c),type:"button"},e[14]||(e[14]=[i.createElementVNode("i",{class:"bi bi-x-circle"},null,-1)]),8,Mk)])])]))),128))])])])):(i.openBlock(!0),i.createElementBlock(i.Fragment,{key:1},i.renderList(t.files,(l,c)=>(i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass([t.params.colclass?t.params.colclass:"col-12 col-sm-12 col-md-6 col-lg-4 col-xl-3"]),key:c},[i.createElementVNode("div",Rk,[l.loaded?(i.openBlock(),i.createElementBlock("div",qk,[i.createCommentVNode("",!0),l.types&&l.types[t.params.thumbnail]?(i.openBlock(),i.createElementBlock("div",Pk,[l.types.default.url?(i.openBlock(),i.createElementBlock("a",{key:0,target:"_blank",href:l.types.default.url},[i.createElementVNode("img",{class:"img-fluid transparent-background",src:l.types[t.params.thumbnail].url,alt:l.name},null,8,jk)],8,Fk)):(i.openBlock(),i.createElementBlock("img",{key:1,class:"img-fluid transparent-background",src:l.types[t.params.thumbnail].data,alt:l.name},null,8,Uk))])):i.createCommentVNode("",!0),l.isDocument?(i.openBlock(),i.createElementBlock("div",Hk,[i.createElementVNode("i",{class:i.normalizeClass(["bi bi-filetype-"+l.types.default.extension])},null,2)])):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("input",{required:"text",class:"form-control rounded-0 bg-white text-dark border-bottom-0 py-1 px-2 fw-light","onUpdate:modelValue":h=>l.title=h,onInput:h=>t.slug(l),onKeydown:e[5]||(e[5]=i.withKeys(i.withModifiers(()=>{},["prevent"]),["enter"]))},null,40,zk),[[i.vModelText,l.title]]),i.createElementVNode("div",Wk,[i.createElementVNode("span",Kk,[i.createElementVNode("small",null,i.toDisplayString(c+1),1)]),i.createElementVNode("span",{class:"cursor-pointer p-1 bg-white border border-end-0 h-100",onClick:h=>t.arrayItemMoveDown(t.files,c)},[i.createElementVNode("i",{class:i.normalizeClass(["bi bi-arrow-up",{"opacity-25":c<1}])},null,2)],8,Gk),i.createElementVNode("span",{class:"cursor-pointer p-1 bg-white border border-end-0 h-100",onClick:h=>t.arrayItemMoveUp(t.files,c+1)},[i.createElementVNode("i",{class:i.normalizeClass(["bi bi-arrow-down",{"opacity-25":c>=t.files.length-1}])},null,2)],8,Yk),i.createElementVNode("div",Xk,[e[18]||(e[18]=i.createElementVNode("button",{class:"btn btn-sm bg-light text-dark _dropdown-toggle w-100",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[i.createElementVNode("i",{class:"bi bi-list"})],-1)),i.createElementVNode("ul",Zk,[i.createElementVNode("li",Qk,[i.createElementVNode("small",Jk,[i.createVNode(a,{file:l},null,8,["file"])])])])]),t.params.tags?(i.openBlock(),i.createElementBlock("div",eN,[i.createElementVNode("button",tN,[e[19]||(e[19]=i.createElementVNode("i",{class:"bi bi-tag"},null,-1)),i.createTextVNode(" "+i.toDisplayString(l.tags?l.tags.length:0),1)]),i.createElementVNode("ul",nN,[i.createElementVNode("li",null,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.params.tags,h=>(i.openBlock(),i.createElementBlock("span",{key:h,class:"dropdown-item cursor-pointer",onClick:f=>t.dropdownSelectToggleOne(l.tags,h.value)},[l.tags&&l.tags.indexOf(h.value)>=0?(i.openBlock(),i.createElementBlock("i",iN)):(i.openBlock(),i.createElementBlock("i",rN)),i.createTextVNode(" "+i.toDisplayString(t.translate(h.label?h.label:h.value)),1)],8,sN))),128))]),e[20]||(e[20]=i.createElementVNode("li",null,[i.createElementVNode("hr",{class:"dropdown-divider"})],-1)),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>t.dropdownSelectAll(l.tags,t.params.tags)},i.toDisplayString(t.translate("Select all")),9,oN)]),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>t.dropdownSelectClear(l.tags)},i.toDisplayString(t.translate("Unselect all")),9,aN)]),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>t.dropdownSelectInvert(l.tags,t.params.tags)},i.toDisplayString(t.translate("Invert all")),9,lN)])])])):i.createCommentVNode("",!0),i.createElementVNode("button",{class:"btn border rounded-0 border-start-0 text-danger px-2 py-1",onClick:h=>t.remove(c),type:"button"},e[21]||(e[21]=[i.createElementVNode("i",{class:"bi bi-x-circle"},null,-1)]),8,cN)])])):(i.openBlock(),i.createElementBlock("div",dN,e[22]||(e[22]=[i.createElementVNode("span",null,null,-1)])))])],2))),128))])):i.createCommentVNode("",!0),i.createElementVNode("div",hN,[i.createElementVNode("div",uN,[i.createElementVNode("label",{for:t.uploadId,class:i.normalizeClass([{"disabled bg-secondary":t.files&&t.params.limit<=t.files.length},"btn btn-light border border-dark cursor-pointer w-100"])},[t.files&&t.params.limit>t.files.length?(i.openBlock(),i.createElementBlock("span",mN,[e[26]||(e[26]=i.createElementVNode("i",{class:"bi bi-upload me-2"},null,-1)),i.createTextVNode(" "+i.toDisplayString(t.params.text)+" ",1),t.params.limit?(i.openBlock(),i.createElementBlock("small",pN,[e[23]||(e[23]=i.createTextVNode(" ( ")),i.createElementVNode("strong",gN,i.toDisplayString(t.files.length),1),e[24]||(e[24]=i.createTextVNode(" / ")),i.createElementVNode("span",bN,i.toDisplayString(t.params.limit),1),e[25]||(e[25]=i.createTextVNode(" ) "))])):i.createCommentVNode("",!0)])):(i.openBlock(),i.createElementBlock("span",yN,e[27]||(e[27]=[i.createElementVNode("i",{class:"bi bi-exclamation-circle"},null,-1),i.createTextVNode(" You've reached the upload limit ")])))],10,fN),i.createElementVNode("button",{type:"button",class:"btn btn-outline-primary ms-1",onClick:e[6]||(e[6]=l=>t.toggleView())},[t.params.ui!="list"?(i.openBlock(),i.createElementBlock("i",EN)):i.createCommentVNode("",!0),t.params.ui=="list"?(i.openBlock(),i.createElementBlock("i",_N)):i.createCommentVNode("",!0)]),i.createElementVNode("button",{disabled:!t.files.length,type:"button",class:"btn btn-outline-danger ms-1",onClick:e[7]||(e[7]=l=>t.resetConfirm())},e[28]||(e[28]=[i.createElementVNode("i",{class:"bi bi-trash"},null,-1)]),8,wN)]),i.createElementVNode("div",kN,[i.createElementVNode("small",null,[t.params.accept?(i.openBlock(),i.createElementBlock("div",NN,[e[29]||(e[29]=i.createElementVNode("span",{class:"text-secondary"},"accept only",-1)),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.params.accept,l=>(i.openBlock(),i.createElementBlock("strong",{class:"ms-1 text-muted",key:l},i.toDisplayString(l),1))),128))])):i.createCommentVNode("",!0),i.createCommentVNode("",!0)])])]),t.uploadId?(i.openBlock(),i.createElementBlock("input",{key:2,multiple:"",style:{opacity:"0",height:"1px",width:"1px"},id:t.uploadId,type:"file",accept:t.getAcceptMimeTypes(t.params.accept),onChange:e[8]||(e[8]=(...l)=>t.handleFileChange&&t.handleFileChange(...l))},null,40,TN)):i.createCommentVNode("",!0)],2)])}const CN=Ge(Yw,[["render",AN]]),SN={props:{modelValue:String|Object|Number,optionValue:String,field:Object,item:Object,settings:Object,formId:String,auth:Object},data:function(){return{newitem:null,options:[]}},created(){},mounted(){this.loadOptions(),this.setNewItem(this.modelValue)},watch:{modelValue(t){this.setNewItem(t)}},methods:{setNewItem(t){this.optionValue==="object"?this.newitem=t&&t.value:this.newitem=t},async loadOptions(){this.options=await this.selectOptions(this.field.options,this.field)},getValueOrFunction(t,e){return pn(t,e,this.settings,this)},async selectOptions(t,e){return typeof t=="function"?await t(this.item,e,this):t},async fetchCustom(t,e){const n=await fetch(Lt("GET",{url:t},e),Ot("GET",this.settings.form.api,null,this.auth)),s=await Yn(n);if(!Xn(n,s.data))return s.data},handleChange(t){if(this.optionValue==="object"){const e=this.options.find(n=>n.value===this.newitem);e&&this.$emit("update:modelValue",e)}else this.$emit("update:modelValue",this.newitem)}},components:{}},ON=["name","id","disabled","readonly","required"],LN=["value"];function BN(t,e,n,s,r,o){return i.withDirectives((i.openBlock(),i.createElementBlock("select",{class:i.normalizeClass(["form-select",t.getValueOrFunction(t.field.inputclass?t.field.inputclass:"",{field:t.field,item:t.item})]),name:t.field.name,id:t.formId+"_"+t.field.name,onChange:e[0]||(e[0]=a=>t.handleChange(a)),"onUpdate:modelValue":e[1]||(e[1]=a=>t.newitem=a),disabled:t.field.disabled,readonly:t.field.readonly,required:t.field.required},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.options,a=>(i.openBlock(),i.createElementBlock("option",{class:i.normalizeClass(t.getValueOrFunction(t.field.optionclass?t.field.optionclass:"",{field:t.field,item:t.item,option:a})),key:a,value:a.value},i.toDisplayString(a.label?a.label:a.value),11,LN))),128))],42,ON)),[[i.vModelSelect,t.newitem]])}const au=Ge(SN,[["render",BN]]),VN={props:{modelValue:Array,field:Object,item:Object,settings:Object,formId:String},data:function(){return{value:[]}},created(){},mounted(){},watch:{modelValue(t){this.value=t,(!this.value||typeof this.value!="object")&&(this.value=[])}},methods:{getValueOrFunction(t,e){return pn(t,e,this.settings,this)},selectOptions(t,e){return typeof t=="function"?t(this.item,e,this):t},arrayAddNewItem(t,e){let n={};for(let s in t.elements){let r=Object.assign({},t.elements[s]),o=r.value?r.value:null;if(o!=null)n[s]=o;else return}this.value.push(n),this.$emit("update:modelValue",this.value);for(let s in t.elements)t.elements[s].value=null},arrayRemoveItem(t,e){t.splice(e,1)},arrayItemMoveUp(t,e){yo(t,e)},arrayItemMoveDown(t,e){Eo(t,e)}},components:{VuAdminFormSelect:au}},IN={class:"row g-1 d-flex align-items-center justify-content-between mb-1"},vN={class:"col-10"},DN={class:"row g-1 d-flex align-items-center justify-content-between"},xN={class:"col-10"},$N={class:"row g-1 d-flex align-items-center justify-content-between"},MN=["innerHTML"],RN={key:1,class:"input-group input-group-sm"},qN=["type","required","placeholder","onUpdate:modelValue"],PN={class:"col-2 text-nowrap text-end"},FN=["onClick"],jN=["onClick"],UN=["onClick"],HN={key:0},zN={class:"row g-1 d-flex align-items-center justify-content-between"},WN={class:"col-10"},KN={class:"row g-1 d-flex align-items-center justify-content-between"},GN={class:"input-group input-group-sm"},YN={key:0,class:"input-group-text"},XN=["type","placeholder","onUpdate:modelValue"],ZN={key:3,class:"input-group-text"},QN={class:"col-2"};function JN(t,e,n,s,r,o){const a=i.resolveComponent("VuAdminFormSelect");return i.openBlock(),i.createElementBlock("div",null,[i.createElementVNode("div",IN,[i.createElementVNode("div",vN,[i.createElementVNode("div",DN,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.field.elements,l=>(i.openBlock(),i.createElementBlock("div",{key:l,class:i.normalizeClass(l.class||"col")},[i.createElementVNode("small",null,i.toDisplayString(l.placeholder?l.placeholder:l.prefix?l.prefix:""),1)],2))),128))])]),e[1]||(e[1]=i.createElementVNode("div",{class:"col-2 text-nowrap text-end"},null,-1))]),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.value,(l,c)=>(i.openBlock(),i.createElementBlock("div",{class:"row g-1 d-flex align-items-center justify-content-between mb-1",key:c},[i.createElementVNode("div",xN,[i.createElementVNode("div",$N,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(l,(h,f)=>(i.openBlock(),i.createElementBlock("div",{key:f,class:i.normalizeClass(t.field.elements[f].class||"col")},[t.field.elements[f].template?(i.openBlock(),i.createElementBlock("span",{key:0,innerHTML:t.getValueOrFunction(t.field.elements[f].template,t.value[c])},null,8,MN)):(i.openBlock(),i.createElementBlock("div",RN,[t.field.elements[f].type=="select"&&t.value[c][f]?(i.openBlock(),i.createBlock(a,{key:0,modelValue:t.value[c][f],"onUpdate:modelValue":u=>t.value[c][f]=u,field:t.field.elements[f],item:t.item,settings:t.settings,formId:t.formId,optionValue:"object"},null,8,["modelValue","onUpdate:modelValue","field","item","settings","formId"])):i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:1,type:t.field.elements[f].type,required:t.field.elements[f].required,placeholder:t.field.elements[f].placeholder||f,class:"form-control","onUpdate:modelValue":u=>t.value[c][f]=u},null,8,qN)),[[i.vModelDynamic,t.value[c][f]]])]))],2))),128))])]),i.createElementVNode("div",PN,[t.field.sortable?(i.openBlock(),i.createElementBlock("button",{key:0,type:"button",class:"btn btn-sm btn-outline-secondary p-1 me-1",onClick:h=>t.arrayItemMoveUp(t.value,c)},e[2]||(e[2]=[i.createElementVNode("i",{class:"bi bi-arrow-up"},null,-1)]),8,FN)):i.createCommentVNode("",!0),t.field.sortable?(i.openBlock(),i.createElementBlock("button",{key:1,type:"button",class:"btn btn-sm btn-outline-secondary p-1 me-1",onClick:h=>t.arrayItemMoveDown(t.value,c+1)},e[3]||(e[3]=[i.createElementVNode("i",{class:"bi bi-arrow-down"},null,-1)]),8,jN)):i.createCommentVNode("",!0),i.createElementVNode("button",{type:"button",class:"btn btn-sm btn-outline-danger p-1 me-1",onClick:h=>t.arrayRemoveItem(t.value,c)},e[4]||(e[4]=[i.createElementVNode("i",{class:"bi bi-trash"},null,-1)]),8,UN)])]))),128)),t.item[t.field.name]&&t.item[t.field.name].length?(i.openBlock(),i.createElementBlock("hr",HN)):i.createCommentVNode("",!0),i.createElementVNode("div",zN,[i.createElementVNode("div",WN,[i.createElementVNode("div",KN,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.field.elements,l=>(i.openBlock(),i.createElementBlock("div",{key:l,class:i.normalizeClass(l.class||"col")},[i.createElementVNode("div",GN,[l.prefix?(i.openBlock(),i.createElementBlock("span",YN,i.toDisplayString(l.prefix),1)):i.createCommentVNode("",!0),l.type=="select"&&(!l.relation||l.relation&&l.relation.items)?(i.openBlock(),i.createBlock(a,{key:1,modelValue:l.value,"onUpdate:modelValue":c=>l.value=c,field:l,item:t.item,settings:t.settings,formId:t.formId,optionValue:"object"},null,8,["modelValue","onUpdate:modelValue","field","item","settings","formId"])):i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:2,type:l.type,placeholder:l.placeholder||l.name,class:"form-control form-control-sm","onUpdate:modelValue":c=>l.value=c},null,8,XN)),[[i.vModelDynamic,l.value]]),l.suffix?(i.openBlock(),i.createElementBlock("span",ZN,i.toDisplayString(l.suffix),1)):i.createCommentVNode("",!0)]),i.createCommentVNode("",!0)],2))),128))])]),i.createElementVNode("div",QN,[i.createElementVNode("button",{type:"button",class:"btn btn-sm btn-outline-primary my-1 w-100",onClick:e[0]||(e[0]=l=>t.arrayAddNewItem(t.field,t.item))},e[5]||(e[5]=[i.createElementVNode("i",{class:"bi bi-plus"},null,-1)]))])])])}const eT={props:{modelValue:Object,group:Object,formId:String,settings:Object,auth:Object},data:function(){return{item:{}}},created(){},mounted(){this.item=this.modelValue},watch:{modelValue(t){this.item=this.modelValue}},methods:{getValueOrFunction(t,e){return pn(t,e,this.settings,this)},translate(t,e,n){return Is(t,this.settings.translate,e,n||this.settings.language)},selectOptions(t,e){return typeof t=="function"?t(this.item,e,this):t},renderOptions(t,e,n){let s=[];if(!t||!t.length)return[];for(let r of t)s.push({value:r[e],label:r[n]?r[n]:r[e]});return s},arrayAddNewItem(t,e){(!e[t.name]||typeof e[t.name]!="object")&&(e[t.name]=[]);let n={};for(let s in t.elements){let r=t.elements[s];n[s]=r.value,r.value=void 0}e[t.name].push(n)},arrayRemoveItem(t,e){t.splice(e,1)},arrayItemMoveUp(t,e){yo(t,e)},arrayItemMoveDown(t,e){Eo(t,e)},insertAddress(t){this.item[t]||(this.item[t]=[]),this.item[t].push({country:void 0,zipcode:void 0,city:void 0,street_name:void 0,street_type:void 0,house_number:void 0})}},components:{HtmlEditor:Cw,FileUpload:CN,VuAdminFormSelect:au,VuAdminFormList:Ge(VN,[["render",JN]])}},tT={class:"row m-1"},nT=["innerHTML"],sT={key:1,class:"row"},iT={class:"form-group pb-3"},rT={key:0},oT={key:0,class:"badge text-secondary fw-light"},aT=["for","innerHTML"],lT={key:1,class:"input-group"},cT=["innerHTML"],dT=["name","id","onUpdate:modelValue","minlength","maxlength","placeholder","disabled","readonly","required"],hT=["name","id","onUpdate:modelValue","min","max","step","placeholder","disabled","readonly","required"],uT=["type","name","id","onUpdate:modelValue","min","max","disabled","readonly","required"],fT={key:4,class:"form-check"},mT=["name","id","true-value","false-value","onUpdate:modelValue","disabled","readonly","required"],pT=["for"],gT=["name","id","onUpdate:modelValue","minlength","maxlength","placeholder","readonly","disabled","required"],bT=["name","id","onUpdate:modelValue","rows","minlength","maxlength","placeholder","disabled","readonly","required"],yT=["innerHTML"],ET={key:5},_T={key:0},wT=["for"],kT=["name","id","onUpdate:modelValue"],NT=["onClick"],TT=["innerHTML"],AT={key:7,class:"p-1"},CT=["innerHTML"];function ST(t,e,n,s,r,o){const a=i.resolveComponent("VuAdminFormSelect"),l=i.resolveComponent("HtmlEditor"),c=i.resolveComponent("FileUpload"),h=i.resolveComponent("VuAdminFormList");return i.openBlock(),i.createElementBlock("div",tT,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.settings.form.groups,f=>(i.openBlock(),i.createElementBlock("div",{key:f,class:i.normalizeClass([f.class?f.class:"col-md-12"])},[f.title?(i.openBlock(),i.createElementBlock("h2",{key:0,class:"form-row-title mb-4 fw-lighter",innerHTML:f.title?f.title:""},null,8,nT)):i.createCommentVNode("",!0),t.item&&f.fields?(i.openBlock(),i.createElementBlock("div",sT,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(f.fields,u=>(i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass([t.getValueOrFunction(u.class?u.class:"col-md-12"),"input_type_"+u.type]),key:u},[i.createElementVNode("div",iT,[u.label?(i.openBlock(),i.createElementBlock("span",rT,[["html","image","upload"].indexOf(u.type)>=0?(i.openBlock(),i.createElementBlock("label",{key:0,class:i.normalizeClass([{required:u.required},"form-label text-secondary mb-1"])},[i.createTextVNode(i.toDisplayString(u.label?u.label:t.translate(u.name))+" ",1),u.maxlength?(i.openBlock(),i.createElementBlock("span",oT,i.toDisplayString(t.item[u.name]?t.item[u.name].length:0)+" / "+i.toDisplayString(u.maxlength),1)):i.createCommentVNode("",!0)],2)):(i.openBlock(),i.createElementBlock("label",{key:1,class:i.normalizeClass([{required:u.required},"form-label text-secondary mb-1"]),for:t.formId+"_"+u.name,innerHTML:t.getValueOrFunction(u.label?u.label:t.translate(u.name),{field:u,item:t.item})},null,10,aT))])):i.createCommentVNode("",!0),["html","image","list","addresses","template"].indexOf(u.type)<0?(i.openBlock(),i.createElementBlock("div",lT,[u.prefix?(i.openBlock(),i.createElementBlock("span",{key:0,class:"input-group-text",innerHTML:t.getValueOrFunction(u.prefix,{field:u,item:t.item})},null,8,cT)):i.createCommentVNode("",!0),u.type=="text"?i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:1,class:i.normalizeClass(["form-control",t.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:t.item})]),type:"text",name:u.name,id:t.formId+"_"+u.name,"onUpdate:modelValue":p=>t.item[u.name]=p,minlength:u.minlength,maxlength:u.maxlength,placeholder:u.placeholder?u.placeholder:"",disabled:u.disabled,readonly:u.readonly,required:u.required},null,10,dT)),[[i.vModelText,t.item[u.name]]]):i.createCommentVNode("",!0),u.type=="number"?i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:2,class:i.normalizeClass(["form-control",t.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:t.item})]),type:"number",name:u.name,id:t.formId+"_"+u.name,"onUpdate:modelValue":p=>t.item[u.name]=p,min:u.min,max:u.max,step:u.step,placeholder:u.placeholder?u.placeholder:"",disabled:u.disabled,readonly:u.readonly,required:u.required},null,10,hT)),[[i.vModelText,t.item[u.name]]]):i.createCommentVNode("",!0),["date","datetime","datetime-local"].indexOf(u.type)>=0?i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:3,class:i.normalizeClass(["form-control",t.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:t.item})]),type:u.type,name:u.name,id:t.formId+"_"+u.name,"onUpdate:modelValue":p=>t.item[u.name]=p,min:u.min,max:u.max,disabled:u.disabled,readonly:u.readonly,required:u.required},null,10,uT)),[[i.vModelDynamic,t.item[u.name]]]):i.createCommentVNode("",!0),u.type=="checkbox"?(i.openBlock(),i.createElementBlock("div",fT,[i.withDirectives(i.createElementVNode("input",{class:i.normalizeClass(["form-check-input",t.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:t.item})]),type:"checkbox",name:u.name,id:t.formId+"_"+u.name,"true-value":u.true!=null?u.true:!0,"false-value":u.false!=null?u.false:!1,"onUpdate:modelValue":p=>t.item[u.name]=p,disabled:u.disabled,readonly:u.readonly,required:u.required},null,10,mT),[[i.vModelCheckbox,t.item[u.name]]]),i.createElementVNode("label",{class:"form-check-label cursor-pointer",for:t.formId+"_"+u.name},i.toDisplayString(u.checkbox),9,pT)])):i.createCommentVNode("",!0),u.type=="email"?i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:5,autocomplete:"on",class:i.normalizeClass(["form-control",t.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:t.item})]),type:"email",name:u.name,id:t.formId+"_"+u.name,"onUpdate:modelValue":p=>t.item[u.name]=p,minlength:u.minlength,maxlength:u.maxlength,placeholder:u.placeholder?u.placeholder:"",readonly:u.readonly,disabled:u.disabled,required:u.required},null,10,gT)),[[i.vModelText,t.item[u.name]]]):i.createCommentVNode("",!0),u.type=="select"&&(!u.relation||u.relation&&u.relation.items)?(i.openBlock(),i.createBlock(a,{key:6,modelValue:t.item[u.name],"onUpdate:modelValue":p=>t.item[u.name]=p,field:u,item:t.item,settings:t.settings,formId:t.formId,auth:t.auth},null,8,["modelValue","onUpdate:modelValue","field","item","settings","formId","auth"])):i.createCommentVNode("",!0),u.type=="textarea"?i.withDirectives((i.openBlock(),i.createElementBlock("textarea",{key:7,class:i.normalizeClass(["form-control",t.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:t.item})]),name:u.name,id:t.formId+"_"+u.name,"onUpdate:modelValue":p=>t.item[u.name]=p,rows:u.rows,minlength:u.minlength,maxlength:u.maxlength,placeholder:u.placeholder?u.placeholder:"",disabled:u.disabled,readonly:u.readonly,required:u.required},"              ",10,bT)),[[i.vModelText,t.item[u.name]]]):i.createCommentVNode("",!0),u.suffix?(i.openBlock(),i.createElementBlock("span",{key:8,class:"input-group-text",innerHTML:t.getValueOrFunction(u.suffix,{field:u,item:t.item})},null,8,yT)):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),u.type=="html"?(i.openBlock(),i.createBlock(l,{key:2,modelValue:t.item[u.name],"onUpdate:modelValue":p=>t.item[u.name]=p,class:i.normalizeClass([u.class])},null,8,["modelValue","onUpdate:modelValue","class"])):i.createCommentVNode("",!0),u.type=="image"||u.type=="upload"?(i.openBlock(),i.createBlock(c,{key:3,modelValue:t.item[u.name],"onUpdate:modelValue":p=>t.item[u.name]=p,class:i.normalizeClass([u.class]),field:u,settings:t.settings},null,8,["modelValue","onUpdate:modelValue","class","field","settings"])):i.createCommentVNode("",!0),u.type=="list"&&(!u.relation||u.relation&&u.relation.items)?(i.openBlock(),i.createBlock(h,{key:4,modelValue:t.item[u.name],"onUpdate:modelValue":p=>t.item[u.name]=p,field:u,item:t.item,settings:t.settings,formId:t.formId},null,8,["modelValue","onUpdate:modelValue","field","item","settings","formId"])):i.createCommentVNode("",!0),u.type=="addresses"?(i.openBlock(),i.createElementBlock("span",ET,[t.item[u.name]?(i.openBlock(),i.createElementBlock("div",_T,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.item[u.name],p=>(i.openBlock(),i.createElementBlock("div",{key:p},[i.createTextVNode(i.toDisplayString(p)+" ",1),i.createElementVNode("label",{class:"form-label text-secondary mb-1",for:t.formId+"_"+u.name},i.toDisplayString(u.label),9,wT),i.withDirectives(i.createElementVNode("input",{class:"form-control",type:"text",name:u.name,id:t.formId+"_"+u.name,"onUpdate:modelValue":g=>p.country=g},null,8,kT),[[i.vModelText,p.country]])]))),128))])):i.createCommentVNode("",!0),i.createElementVNode("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:p=>t.insertAddress(u.name)}," Add ",8,NT)])):i.createCommentVNode("",!0),u.type=="template"?(i.openBlock(),i.createElementBlock("div",{key:6,innerHTML:t.getValueOrFunction(u.template,{field:u,item:t.item})},null,8,TT)):i.createCommentVNode("",!0),u.description?(i.openBlock(),i.createElementBlock("div",AT,[i.createElementVNode("small",null,[i.createElementVNode("i",{class:"text-muted",innerHTML:t.getValueOrFunction(u.description,{field:u,item:t.item})},null,8,CT)])])):i.createCommentVNode("",!0)])],2))),128))])):i.createCommentVNode("",!0)],2))),128))])}const OT={props:{modelValue:Object,modalWindow:Object,saveItem:Function,reloadTable:Function,fetchRelation:Function,group:Object,formId:String,settings:Object,auth:Object},data:function(){return{item:{},loaded:!1,ui:{wait:{table:!1,form:!1},block:{table:!1,form:!1}},messages:{table:[],form:[]},message:{table:null,form:null},messageTimeOut:null}},created(){},mounted(){this.item=this.modelValue;let t=this.item[this.settings.pkey];this.fetchItem(t,this.settings,this.auth)},watch:{modelValue(t){this.item=this.modelValue}},methods:{translate(t,e,n){return Is(t,this.settings.translate,e,n||this.settings.language)},getValueOrFunction(t,e){return pn(t,e,this.settings,this)},formWait(t){this.ui.wait.form=!0,this.ui.block.form=t},formNoWait(){this.ui.wait.form=!1,this.ui.block.form=!1},addFormMessage(t,e,n,s){this.addMessage("form",t,e,n,s)},addMessage(t,e,n,s,r){clearTimeout(this.messageTimeout);const o=Date.now()+Math.random().toString(36).substring(2,9);this.message[t]={uid:o,msg:e,timeout:n!==void 0?n:2500,datetime:new Date().toLocaleString("hu-HU"),priority:s||"secondary",details:r},this.messages[t].unshift(this.message[t]),clearTimeout(this.messageTimeOut),this.messageTimeOut=setTimeout(()=>{this.message[t]=null,this.messages[t].length>10&&this.messages[t].splice(10)},this.message[t].timeout)},createItem(){this.item=this.settings.form.default?this.settings.form.default:{},setTimeout(()=>{this.itemOriginal=Object.assign({},this.item)},100)},copyItem(){this.item[this.settings.pkey]=void 0,setTimeout(()=>{this.itemOriginal=Object.assign({},this.item)},100)},reloadItem(){let t=this.item[this.settings.pkey];this.fetchItem(t,null,this.auth)},async fetchItem(t,e,n){try{if(e=e||this.settings,!e.form||!e.form.api)return!1;this.formWait(!0);const s=await fetch(Lt("GET",e.form.api,t),Ot("GET",e.api,null,n)).catch(l=>{}),r=await Yn(s);if(Xn(s,r.data,"form")||!r.data)return this.formNoWait(),!1;e.form.default&&(r.data=Object.assign({},e.form.default,r.data)),e.events&&e.events.afterItemLoad&&e.events.afterItemLoad(r.data,s);let a;e.form.api.input.item?a=typeof e.form.api.input.item=="string"?r.data[e.form.api.input.item]:e.form.api.input.item(r.data,s):a=r.data;for(let l of e.form.groups)for(let c of l.fields)c.relation&&e.relations[c.relation.config]&&(c.relation=Fi(e.relations[c.relation.config],c.relation),console.log(c.relation,n),await this.fetchRelation(c,[a],n));this.item=ji(a),this.itemOriginal=Object.assign({},a),this.loaded=!0,this.formNoWait()}catch(s){console.error(s),this.formNoWait()}},async submit(){let t=this.$refs.form;t.checkValidity()?this.submitItem():t.reportValidity()},async submitAndClose(){let t=this.$refs.form;t.checkValidity()?this.submitItem(!0):t.reportValidity()},async submitItem(t){this.saveItem(this.item,e=>{let n={};this.settings.form.api.input.item?n=typeof this.settings.form.api.input.item=="string"?e[this.settings.form.api.input.item]:this.settings.form.api.input.item(e,response):n=e,n&&(this.addFormMessage(this.translate("Saved")+` <small>( ${this.settings.pkey}:  ${n[this.settings.pkey]} )</small>`,2500),this.item=ji(n),this.itemOriginal=Object.assign({},n)),t===!0&&this.modalWindow.hide(),this.reloadTable()},e=>{console.log(e),this.addFormMessage(e.message,14500,"danger")})},async deleteItem(t,e){try{t||(t=this.item);let n=t[this.settings.pkey];if(!n||!confirm("Are you sure you want to delete this item?"))return;this.formWait(!0),this.settings.events&&this.settings.events.beforeItemDelete&&this.settings.events.beforeItemDelete(t);const r=await fetch(Lt("DELETE",this.settings.form.api,n,e),Ot("DELETE",this.settings.api,null,this.auth));if(r.status!==200)throw new Error(this.translate("Response status: "+r.status));this.item&&(this.item={},this.modalWindow.hide());const o=await r.json();this.settings.events&&this.settings.events.afterItemDelete&&this.settings.events.afterItemDelete(o,r),this.reloadTable(),this.formNoWait()}catch(n){console.error(n.message),this.formNoWait()}},formAction(t,e){e.$event&&e.$event.stopPropagation();let n=t.action?t.action:t.click?t.click:null;if(n&&typeof n!="string"){n(e.item,e,this);return}switch(n){case"FORM_RELOAD":if(!this.item[this.settings.pkey])return;this.reloadItem();break;case"FORM_NEW":this.createItem();break;case"FORM_COPY":this.copyItem();break;case"FORM_DELETE":if(!this.item[this.settings.pkey])return;this.deleteItem();break;case"FORM_CLOSE":this.modalWindow.hide();break;case"FORM_SAVE":this.submit();break;case"FORM_SAVE_AND_CLOSE":this.submitAndClose();break}}},components:{VuAdminFormGroup:Ge(eT,[["render",ST]])}},LT=["id","data-bs-theme"],BT={class:"modal-header"},VT={key:0,class:"modal-title"},IT=["innerHTML"],vT={key:1},DT={key:2},xT={key:3,class:"rounded border ms-2 px-2 py-0 fs-6"},$T={key:1,class:"d-inline-block ms-3 mt-1"},MT=["innerHTML"],RT={class:"spinner-border spinner-border-sm mx-2",role:"status"},qT={key:0,class:"modal-header bg-body sticky-top"},PT={key:0,class:"d-inline-block m-1"},FT={class:"dropdown d-inline-block"},jT=["innerHTML"],UT={class:"dropdown-menu text-start"},HT={class:"me-2 text-muted"},zT=["innerHTML"],WT=["disabled","onClick"],KT={key:1,class:"dropdown d-inline-block"},GT={class:"mx-1"},YT={class:"dropdown-menu px-2"},XT=["onClick"],ZT={key:1,class:"modal-body custom-scroll"},QT={key:2,class:"modal-footer d-flex justify-content-between"},JT={key:3,class:"bg-light text-dark"};function eA(t,e,n,s,r,o){const a=i.resolveComponent("VuAdminFormGroup");return t.item?(i.openBlock(),i.createElementBlock("form",{key:0,ref:"form",id:t.formId,class:i.normalizeClass(["form",[t.settings.form.class,{wait:t.ui.wait.form}]]),onSubmit:e[1]||(e[1]=i.withModifiers((...l)=>t.submitItem&&t.submitItem(...l),["prevent"])),"data-bs-theme":[t.settings.theme]},[i.createElementVNode("div",{class:i.normalizeClass(["vua-overlay",{blocked:t.ui.block.form}])},null,2),i.createElementVNode("div",BT,[t.loaded?(i.openBlock(),i.createElementBlock("h5",VT,[t.settings.form.title&&typeof t.settings.form.title=="function"?(i.openBlock(),i.createElementBlock("span",{key:0,innerHTML:t.settings.form.title(t.item,t.settings)},null,8,IT)):i.createCommentVNode("",!0),t.settings.form.title&&typeof t.settings.form.title=="string"?(i.openBlock(),i.createElementBlock("span",vT,i.toDisplayString(t.translate(t.settings.form.title)),1)):i.createCommentVNode("",!0),t.settings.form.title?i.createCommentVNode("",!0):(i.openBlock(),i.createElementBlock("span",DT,i.toDisplayString(t.translate("Edit")),1)),t.item[t.settings.pkey]?(i.openBlock(),i.createElementBlock("small",xT,[e[2]||(e[2]=i.createElementVNode("span",{class:"text-muted fw-light"},"id",-1)),i.createTextVNode(" "+i.toDisplayString(t.item[t.settings.pkey]),1)])):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),t.message.form?(i.openBlock(),i.createElementBlock("span",$T,[i.createElementVNode("span",{class:i.normalizeClass(["text-"+t.message.form.priority])},[e[3]||(e[3]=i.createElementVNode("i",{class:"bi bi-envelope-fill me-2"},null,-1)),i.createElementVNode("span",{innerHTML:t.message.form.msg},null,8,MT)],2)])):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("span",RT,e[4]||(e[4]=[i.createElementVNode("span",{class:"visually-hidden"},"Loading...",-1)]),512),[[i.vShow,t.ui.wait.form]]),e[5]||(e[5]=i.createElementVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),t.item?(i.openBlock(),i.createElementBlock("div",qT,[t.settings.form.control?(i.openBlock(),i.createElementBlock("div",{key:0,class:i.normalizeClass(["w-100",t.settings.form.control.class==null?"d-flex justify-content-center":t.settings.form.control.class])},[t.messages.form.length?(i.openBlock(),i.createElementBlock("span",PT,[i.createElementVNode("div",FT,[i.createElementVNode("button",{class:i.normalizeClass(["btn btn-sm dropdown-toggle",["btn-"+t.messages.form[0].priority]]),type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",innerHTML:t.messages.form.length+" "+(t.messages.form.length>1?t.translate("messages"):t.translate("message"))},null,10,jT),i.createElementVNode("ul",UT,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.messages.form,l=>(i.openBlock(),i.createElementBlock("li",{key:l},[i.createElementVNode("span",{class:i.normalizeClass(["dropdown-item disabled",["text-"+l.priority]])},[i.createElementVNode("small",HT,i.toDisplayString(l.datetime),1),i.createElementVNode("span",{innerHTML:l.msg},null,8,zT)],2)]))),128))])])])):i.createCommentVNode("",!0),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.settings.form.control.buttons,l=>(i.openBlock(),i.createElementBlock("span",{key:l.action},[l.dropdowns?i.createCommentVNode("",!0):(i.openBlock(),i.createElementBlock("button",{key:0,type:"button",disabled:l.disabled!==void 0?t.getValueOrFunction(l.disabled,{button:l,item:t.item,form:this}):!1,class:i.normalizeClass([l.class?l.class:t.getButtonClassByAction(l.action)]),onClick:c=>t.formAction(l,{button:l,item:t.item,form:this,$event:c})},[i.createElementVNode("i",{class:i.normalizeClass([l.icon!==void 0?t.getValueOrFunction(l.icon,{button:l,item:t.item,form:this}):t.getButtonIconClassByAction(l.action)])},null,2),i.createTextVNode(" "+i.toDisplayString(t.translate(l.title)),1)],10,WT)),l.dropdowns?(i.openBlock(),i.createElementBlock("div",KT,[i.createElementVNode("button",{type:"button",class:i.normalizeClass([[l.class],"dropdown-toggle"]),"data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false"},[i.createElementVNode("span",GT,[i.createElementVNode("i",{class:i.normalizeClass([l.icon!==void 0?t.getValueOrFunction(l.icon,{button:l,table:this}):t.getButtonIconClassByAction(l.action)])},null,2),i.createTextVNode(" "+i.toDisplayString(t.translate(l.title)),1)])],2),i.createElementVNode("ul",YT,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(l.dropdowns,c=>(i.openBlock(),i.createElementBlock("li",{key:c},[i.createElementVNode("span",{class:i.normalizeClass([c.class?c.class:""]),onClick:h=>t.formAction(c,{button:l,item:t.item,form:this,$event:h})},[c.icon?(i.openBlock(),i.createElementBlock("i",{key:0,class:i.normalizeClass([c.icon])},null,2)):i.createCommentVNode("",!0),i.createTextVNode(" "+i.toDisplayString(t.translate(c.title)),1)],10,XT)]))),128))])])):i.createCommentVNode("",!0)]))),128))],2)):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),t.settings.form?(i.openBlock(),i.createElementBlock("div",ZT,[t.settings.form.visible&&t.settings.form.groups?(i.openBlock(),i.createBlock(a,{key:0,modelValue:t.item,"onUpdate:modelValue":e[0]||(e[0]=l=>t.item=l),formid:t.formId,settings:t.settings},null,8,["modelValue","formid","settings"])):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),t.item?(i.openBlock(),i.createElementBlock("div",QT)):i.createCommentVNode("",!0),t.settings.debug>1?(i.openBlock(),i.createElementBlock("pre",JT,"        "+i.toDisplayString(t.item)+`
    `,1)):i.createCommentVNode("",!0)],42,LT)):i.createCommentVNode("",!0)}const lu=Ge(OT,[["render",eA]]),tA={name:"VuAdminTablePagination",emits:["setPage","setPageLimit","translate"],props:{config:Object,settings:Object,ui:Object},methods:{setPage(t){this.$emit("setPage",t)},setPageLimit(t){this.$emit("setPageLimit",t)},translate(t,e,n){return Is(t,this.settings.translate,e,n||this.settings.language)},firstDisabled(){return this.config.pagination.page<=1},prevDisabled(){return this.config.pagination.page<=1},nextDisabled(){return this.config.pagination.pages?this.config.pagination.page+1>this.config.pagination.pages:this.config.pagination.items<this.config.pagination.limit},lastDisabled(){return this.config.pagination.page==this.config.pagination.pages}},components:{}},nA={key:0,"aria-label":"Page navigation",class:"mt-2 d-flex align-items-center justify-content-between"},sA={class:"dropdown d-inline-block m-1"},iA={class:"mx-1"},rA={key:0},oA={key:0,class:"dropdown-menu text-end"},aA=["onClick"],lA={class:"ms-2"},cA={key:0,class:"bi bi-check-circle-fill ms-2"},dA={key:1,class:"bi bi-circle ms-2"},hA={class:"spinner-border spinner-border-sm mx-2",role:"status"},uA={class:"pagination pagination-sm m-1"},fA={class:"page-item"},mA=["innerHTML"],pA={class:"page-item"},gA=["innerHTML"],bA=["onClick"],yA={class:"page-item"},EA=["innerHTML"],_A={key:0,class:"page-item"},wA=["innerHTML"];function kA(t,e,n,s,r,o){return n.config.pagination.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createElementBlock("nav",nA,[i.createElementVNode("div",null,[i.createElementVNode("div",sA,[i.createElementVNode("button",{type:"button",class:i.normalizeClass(["btn btn-sm btn-secondary",{"dropdown-toggle":n.config.pagination.limits}]),"data-bs-toggle":"dropdown","aria-expanded":"false"},[i.withDirectives(i.createElementVNode("span",iA,[i.createElementVNode("strong",null,i.toDisplayString(n.config.pagination.from)+"-"+i.toDisplayString(n.config.pagination.to),1),n.config.pagination.total?(i.openBlock(),i.createElementBlock("span",rA," / "+i.toDisplayString(n.config.pagination.total),1)):i.createCommentVNode("",!0)],512),[[i.vShow,n.config.pagination.from>0]])],2),n.config.pagination.limits?(i.openBlock(),i.createElementBlock("ul",oA,[i.createElementVNode("li",null,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.config.pagination.limits,a=>(i.openBlock(),i.createElementBlock("span",{class:i.normalizeClass(["dropdown-item cursor-pointer",{selected:n.config.pagination.limit==a}]),key:a,onClick:l=>o.setPageLimit(a)},[i.createElementVNode("strong",null,i.toDisplayString(a),1),i.createElementVNode("small",lA,i.toDisplayString(o.translate("row"))+"/"+i.toDisplayString(o.translate("page")),1),n.config.pagination.limit==a?(i.openBlock(),i.createElementBlock("i",cA)):i.createCommentVNode("",!0),n.config.pagination.limit!=a?(i.openBlock(),i.createElementBlock("i",dA)):i.createCommentVNode("",!0)],10,aA))),128))])])):i.createCommentVNode("",!0)]),i.withDirectives(i.createElementVNode("div",hA,e[4]||(e[4]=[i.createElementVNode("span",{class:"visually-hidden"},"Loading...",-1)]),512),[[i.vShow,n.ui&&n.ui.wait.table]])]),i.createElementVNode("ul",uA,[i.createElementVNode("li",fA,[i.createElementVNode("a",{class:i.normalizeClass(["page-link cursor-pointer",{disabled:o.firstDisabled()}]),onClick:e[0]||(e[0]=a=>o.setPage(1)),"aria-label":"{{  translate('First')  }}"},[i.createElementVNode("span",{"aria-hidden":"true",innerHTML:o.translate("First")},null,8,mA)],2)]),i.createElementVNode("li",pA,[i.createElementVNode("a",{class:i.normalizeClass(["page-link cursor-pointer",{disabled:o.prevDisabled()}]),onClick:e[1]||(e[1]=a=>o.setPage(n.config.pagination.page-1)),"aria-label":"{{ translate('Prev')  }}"},[i.createElementVNode("span",{"aria-hidden":"true",innerHTML:o.translate("Prev")},null,8,gA)],2)]),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.config.pagination.numbers,a=>(i.openBlock(),i.createElementBlock("li",{key:a,class:"page-item"},[i.createElementVNode("a",{class:i.normalizeClass(["page-link cursor-pointer",{disabled:a>n.config.pagination.pages,current:a==n.config.pagination.page}]),onClick:l=>o.setPage(a)},i.toDisplayString(a),11,bA)]))),128)),i.createElementVNode("li",yA,[i.createElementVNode("a",{class:i.normalizeClass(["page-link cursor-pointer",{disabled:o.nextDisabled()}]),onClick:e[2]||(e[2]=a=>o.setPage(n.config.pagination.page+1)),"aria-label":"{{  translate('Next')  }}"},[i.createElementVNode("span",{"aria-hidden":"true",innerHTML:o.translate("Next")},null,8,EA)],2)]),n.config.pagination.total?(i.openBlock(),i.createElementBlock("li",_A,[i.createElementVNode("a",{class:i.normalizeClass(["page-link cursor-pointer",{disabled:o.lastDisabled()}]),onClick:e[3]||(e[3]=a=>o.setPage(n.config.pagination.total)),"aria-label":"{{  translate('Last')  }}"},[i.createElementVNode("span",{"aria-hidden":"true",innerHTML:o.translate("Last")},null,8,wA)],2)])):i.createCommentVNode("",!0)])]))}const NA=Ge(tA,[["render",kA]]),cu=bo(),TA={name:"VuAdminTable",props:{settings:Object,auth:Object},components:{VuAdminForm:lu,VuAdminTablePagination:NA},data(){return{item:{},items:{},selected:[],details:[],bulkitem:{},bulkinputs:[],config:{pagination:{total:void 0,page:1,skip:0,limit:10,limits:[10,20,50,100],size:5,items:null,pages:null,numbers:[]},order:{},filter:{},orderIndex:1},ui:{wait:{table:!1,form:!1},block:{table:!1,form:!1}},formId:null,formData:null,modalId:null,modalElement:null,modalWindow:null,messages:{table:[],form:[]},message:{table:null,form:null},messageTimeOut:null}},watch:{auth:{immediate:!0,handler(t,e){t!=e&&this.init()}}},created(){let t=Math.round(Math.random()*1e5);this.formId="form_"+this.settings.entity+"_"+t,this.modalId="modal_"+this.settings.entity+"_"+t},mounted(){this.modalElement=document.getElementById(this.modalId),this.modalWindow=new un(this.modalElement),this.modalElement.addEventListener("hidden.bs.modal",t=>{this.settings.form.visible=!1}),this.modalElement.addEventListener("show.bs.modal",t=>{this.settings.form.visible=!0})},methods:{init(){if(!this.settings.table)return!1;this.settings.table.pagination&&(this.config.pagination=Object.assign({},this.config.pagination,this.settings.table.pagination)),this.setPage(this.config.pagination.page,!1),this.settings.table.order&&(this.config.order=Object.assign({},this.config.order,this.settings.table.order)),this.settings.table.header||(this.settings.table.header={}),this.settings.api||(this.settings.api={}),this.settings.api=Object.assign({url:null,input:{},output:{},options:{}},this.settings.api),this.settings.table.api||(this.settings.table.api={}),this.settings.form||(this.settings.form={}),this.settings.form.api||(this.settings.form.api={}),this.settings.table.api=Object.assign({},this.settings.api,this.settings.table.api),this.settings.form.api=Object.assign({},this.settings.api,this.settings.form.api),this.settings.initialized=!0,this.listenEvent(),this.resetTable()},authAndSettings(){return this.settings.initialized&&this.auth&&this.auth.success&&this.settings&&this.settings.table},sendEvent(t,e,n){cu.emit(t+"-"+e,{from:this.settings.entity,payload:n})},listenEvent(){cu.on(`EDIT-${this.settings.entity}`,t=>{this.editItem(t.payload.item)})},tableWait(t){this.ui.wait.table=!0,this.ui.block.table=t},tableNoWait(){this.ui.wait.table=!1,this.ui.block.table=!1},countFilters(){return this.settings.table.columns.filter(t=>t.filter&&!t.hidden).length},resetTable(){this.settings.table.pagination&&(this.config.pagination.limit=this.settings.table.pagination.limit),this.resetFilter(),this.resetOrder(!0)},resetFilter(t){if(this.settings.table.columns){for(let e of this.settings.table.columns)e.filter&&(e.filter.value=e.filter.default_value!==void 0?e.filter.default_value:e.filter.multiple?[]:void 0,e.filter.operator=e.filter.default_operator!==void 0?e.filter.default_operator:void 0);t&&(this.reloadTable(),this.calcPage())}},resetOrder(t){this.settings.table.order?this.config.order=Object.assign({},this.settings.table.order):this.config.order={},t&&(this.reloadTable(),this.calcPage())},reloadTable(t){this.fetchTable(t)},calcPage(){if(!(this.config.pagination.items===null||this.config.pagination.items===void 0)){if(this.config.pagination.total!==null&&this.config.pagination.total!==void 0&&(this.config.pagination.pages=Math.ceil(this.config.pagination.total/this.config.pagination.limit)),this.config.pagination.pages!==null){let t=Math.floor((this.config.pagination.size-1)/2),e=this.config.pagination.page-t;this.config.pagination.page>this.config.pagination.pages&&(this.config.pagination.page=this.config.pagination.pages),this.config.pagination.page<1&&(this.config.pagination.page=1),e+this.config.pagination.size>this.config.pagination.pages&&(e=this.config.pagination.pages-this.config.pagination.size+1),e<1&&(e=1),this.config.pagination.numbers=Array.from({length:this.config.pagination.size},(n,s)=>e+s)}this.config.pagination.from=this.config.pagination.skip+1,this.config.pagination.to=this.config.pagination.skip+(this.config.pagination.items!==null?this.config.pagination.items:this.config.pagination.limit)}},setPage(t,e){e=e!==void 0?e:!0,t<1&&(t=1),this.config.pagination.pages!==null&&this.config.pagination.pages!==void 0&&t>this.config.pagination.pages&&(t=this.config.pagination.pages),this.config.pagination.skip=(t-1)*this.config.pagination.limit,this.config.pagination.page!=t&&e&&(this.config.pagination.page=t,this.reloadTable())},setPageLimit(t){t!=this.config.pagination.limit&&(this.config.pagination.limit=t,this.setPage(1),this.calcPage(),this.reloadTable())},getValueOrFunction(t,e){return pn(t,e,this.settings,this)},getButtonClassByAction(t){switch(t){case"TABLE_RESET_ORDERS":case"TABLE_RESET_FILTERS":return"btn btn-sm btn-outline-secondary text-nowrap mx-1";case"TABLE_CLOSE_DETAILS":return"btn btn-sm btn-outline-secondary text-nowrap mx-1";case"TABLE_ROW_EDIT":return"btn btn-sm btn-secondary text-nowrap mx-1";case"FORM_SUBMIT":case"TABLE_ROW_SAVE":case"TABLE_BULK_SAVE":return"btn btn-sm btn-primary text-nowrap mx-1";case"FORM_DELETE":case"TABLE_ROW_DELETE":case"TABLE_BULK_DELETE":return"btn btn-sm btn-danger text-nowrap mx-1";case"TABLE_ROW_DETAIL":return"btn btn-sm btn-outline-secondary text-nowrap mx-1";case"TABLE_COLUMNS":return"btn btn-sm btn-outline-dark text-nowrap mx-1";case"TABLE_EXPORT":return"btn btn-sm btn-primary text-nowrap mx-1";default:return"btn btn-sm btn-outline-primary text-nowrap mx-1"}},getButtonIconClassByAction(t){switch(t){case"TABLE_RESET_ORDERS":case"TABLE_RESET_FILTERS":return"bi bi-x";case"TABLE_CLOSE_DETAILS":return"bi bi-chevron-compact-up";case"TABLE_ROW_EDIT":return"bi bi-pencil-square";case"FORM_SUBMIT":case"TABLE_ROW_SAVE":case"TABLE_BULK_SAVE":return"bi bi-save";case"FORM_DELETE":case"TABLE_ROW_DELETE":case"TABLE_BULK_DELETE":return"bi bi-trash";case"TABLE_ROW_DETAIL":return"bi bi-chevron-compact-down";case"TABLE_COLUMNS":return"bi bi-table";case"TABLE_EXPORT":return"bi bi-download";default:return"bi bi-question"}},tableCellValue(t,e,n,s){try{return t===void 0||e===void 0?void 0:s.value?s.value(t,e,n,s):e[t]!==void 0||!t.includes(".")?e[t]:t.split(".").reduce((r,o)=>r&&r[o],e)}catch(r){return r.message}},tableCellTemplate(t,e,n,s){try{return typeof t=="string"?t:t(e[s.name],e,n,s)}catch(r){return r.message}},tableAction(t,e){e.$event&&e.$event.stopPropagation();let n=t.action?t.action:t.click?t.click:null;if(n&&typeof n!="string"){n(e.item,e,this);return}switch(n){case"TABLE_ROW_SELECT":this.toggleSelected(e.item[this.settings.pkey]);break;case"TABLE_ROW_DETAIL":this.toggleDetail(e.item[this.settings.pkey]);break;case"TABLE_CLOSE_DETAILS":this.details=[];break;case"TABLE_RESET_ORDERS":this.resetOrder(!0);break;case"TABLE_RESET_FILTERS":this.resetFilter(!0);break;case"TABLE_ROW_EDIT":this.editItem(e.item);break;case"TABLE_ROW_SAVE":this.tableRowSave(e.item,t.params);break;case"FORM_SUBMIT":this.saveForm(e.item);break;case"___save":this.saveItem(item,()=>{this.addTableMessage(this.translate("Saved")+` <small>( ${this.settings.pkey}:  ${e.item[this.settings.pkey]} )</small>`,2500)},s=>{this.addTableMessage(s.message,3500,"danger")},t.params);break;case"FORM_CREATE":this.createItem(e.item,t.params);break;case"TABLE_ROW_DELETE":this.deleteItem(e.item,t.params);break;case"FORM_DELETE":this.deleteItem(e.item,t.params);break;case"TABLE_RELOAD":this.reloadTable(t.params);break;case"TABLE_EXPORT":this.exportTable(t.params);break}},tableBulkAction(t,e,n,s){if(s&&s.stopPropagation(),t&&typeof t!="string"){t(item,this);return}switch(t){case"TABLE_BULK_SAVE":this.saveBulk(()=>{this.addTableMessage(this.translate("Saved all selected items"),2500)});break;case"TABLE_BULK_DELETE":this.deleteItems(this.selected,r=>{this.selected=[]});break}},isSortable(t){return t.sortable===void 0||t.sortable},sortTable(t){if(this.config.order[t.name]&&this.config.order[t.name].fixed||!this.isSortable(t))return;this.config.order[t.name]===void 0||this.config.order[t.name]===null?this.config.order[t.name]={dir:"ASC",idx:this.config.orderIndex++}:this.config.order[t.name].dir==="ASC"?this.config.order[t.name]={dir:"DESC",idx:this.config.orderIndex++}:delete this.config.order[t.name],Object.entries(this.config.order).sort((n,s)=>n[1].idx-s[1].idx).forEach((n,s)=>{n[1].idx=s}),this.reloadTable()},getOrdersForFetch(){let t=[],e=!1;for(let n of Object.keys(this.config.order))e=!0,t[this.config.order[n].idx]={key:n,dir:this.config.order[n].dir};return e?t:null},getFiltersForFetch(){let t={},e=!1;for(let n of this.settings.table.columns)n.filter&&n.filter.value!==void 0&&(e=!0,t[n.name]={type:n.filter.type,value:n.filter.onchange?n.filter.onchange(n.filter):n.filter.value,operator:n.filter.operator});return e?t:null},async fetchTableRelations(t){for(let e of this.settings.table.columns)if(e.relation&&this.settings.relations[e.relation.config]){let n=[];e.relation=Fi(this.settings.relations[e.relation.config],e.relation);for(let s of t)s[e.relation.local]&&n.push(s[e.relation.local]);e.relation.ids=ab(n),await this.fetchRelation(e,t,this.auth)}},async fetchTable(t){try{this.tableWait(!0),t=t||{},t.filter=this.getFiltersForFetch(),t.order=this.getOrdersForFetch(),this.config.pagination.page!==null&&this.config.pagination.page!==void 0&&(t.page=this.config.pagination.page),this.config.pagination.limit!==null&&this.config.pagination.limit!==void 0&&(t.limit=this.config.pagination.limit),t.page&&t.limit&&(t.skip=(t.page-1)*t.limit);let e=await this.fetchItems(this.settings,t,this.config,this.auth);if(e===!1)return this.tableNoWait(),!1;await this.fetchTableRelations(e),this.items=e,this.tableNoWait()}catch(e){console.error(e),this.addTableMessage(e.message,3500,"danger"),this.tableNoWait()}},async fetchItems(t,e,n,s){t.events&&t.events.beforeItemsLoad&&t.events.beforeItemsLoad(e,t);const r=await fetch(Lt("GET",t.table.api,null,e),Ot("GET",t.table.api,null,s)),o=await Yn(r),a=Xn(r,o.data);if(a){this.handleTableErrors(a);return}if(o.error){this.handleTableErrors(o.error);return}t.events&&t.events.afterItemsLoad&&t.events.afterItemsLoad(o.data,r);let l;t.table.api.input.items?l=typeof t.table.api.input.items=="string"?o.data[t.table.api.input.items]:t.table.api.input.items(o.data,r):l=o.data,n&&(t.table.api.input.total?n.pagination.total=typeof t.table.api.input.total=="string"?o.data[t.table.api.input.total]:t.table.api.input.total(o.data,r):o.data.total&&(n.pagination.total=o.data.total),n.pagination.items=l.length,this.calcPage());let c=sb(l);return this.convertIn(t.table.columns,c),c},async fetchRelation(t,e,n){try{let s=t.relation.params?t.relation.params:{};t.relation.columns&&(s.columns=JSON.stringify(t.relation.columns));let r={};if(t.relation.ids&&t.relation.ids.length){let h=(typeof t.relation.ids[0]=="string"?"text":"number")==="string"?"'"+t.relation.ids.join("','")+"'":t.relation.ids.join(",");r[t.relation.foreign]={type:"array",value:h,operator:"IN"}}s.filter=JSON.stringify(r),lb(s,{column:t});const o=await fetch(Lt("GET",t.relation.api,null,s),Ot("GET",t.relation.api,null,n));if(o.status!==200)throw new Error(this.translate("Response status: "+o.status));const a=await Yn(o);if(Xn(o,a.data)||!a.data)return;if(t.relation.api.input.items?t.relation.items=typeof t.relation.api.input.items=="string"?a.data[t.relation.api.input.items]:t.relation.api.input.items(a.data,o):t.relation.items=a.data,e&&e[0])for(let c of e)c[t.relation.local]&&(c[t.relation.entity]=t.relation.items.find((h,f,u)=>h[t.relation.foreign]===c[t.relation.local]))}catch(s){console.error(s)}},async editItem(t){if(!this.settings.form||!this.settings.form.api)return!1;this.item=t,this.message.form=null,this.messages.form=[],this.modalWindow.show()},async deleteItem(t,e){try{t||(t=this.item);let n=t[this.settings.pkey];if(!n||!confirm("Are you sure you want to delete this item"))return;this.tableWait(!0),this.settings.events&&this.settings.events.beforeItemDelete&&this.settings.events.beforeItemDelete(t);const r=await fetch(Lt("DELETE",this.settings.form.api,n,e),Ot("DELETE",this.settings.api,null,this.auth));if(r.status!==200)throw new Error(this.translate("Response status: "+r.status));let o=this.items.find(l=>l[this.settings.pkey]===n);o>=0&&this.items.splice(o,1),this.item&&(this.item={});const a=await r.json();this.settings.events&&this.settings.events.afterItemDelete&&this.settings.events.afterItemDelete(a,r),this.reloadTable()}catch(n){console.error(n),this.tableNoWait()}},async deleteItems(t,e){try{if(!t||!confirm(this.translate("Are you sure you want to delete all selected items?")))return;this.tableWait(!0);const s=await fetch(Lt("DELETE",this.settings.table.api),Ot("DELETE",this.settings.api,{body:JSON.stringify({ids:t})},this.auth));if(s.status!==200)throw new Error(this.translate("Response status: "+s.status));e&&e(s),this.reloadTable(),this.tableNoWait()}catch(n){console.error(n),this.tableNoWait()}},tableRowSave(t,e){this.tableWait(),this.saveItem(t,()=>{this.tableNoWait(),this.addTableMessage(this.translate("Saved")+` <small>( ${this.settings.pkey}:  ${t[this.settings.pkey]} )</small>`,2500)},(n,s,r,o)=>{this.tableNoWait(),this.handleTableErrors(n)},e)},handleTableErrors(t){if(console.log(t),t==null)return;const e=3500,n="danger";if(typeof t=="string"){this.addTableMessage(t,e,n);return}if(t.length>0)for(let s of t)this.addTableMessage(s.message,s.timeout,s.priority)},handleFormErrors(){if(errors==null)return;const t=3500,e="danger";if(typeof errors=="string"){this.addTableMessage(errors,t,e);return}if(errors.length>0)for(let n of errors)this.addTableMessage(n.message,n.timeout,n.priority)},getColumnByName(t){return this.settings.table.columns.find(e=>e.name===t)},createItem(){this.item=this.settings.form.default?this.settings.form.default:{},this.modalWindow.show(),setTimeout(()=>{this.itemOriginal=Object.assign({},this.item)},100)},async saveItem(t,e,n,s){try{s=s||{};let r={},o=t[this.settings.pkey];if(this.settings.form.api.output&&this.settings.form.api.output.fields)for(let u in t)this.settings.form.api.output.fields.includes(u)&&(r[u]=t[u]);else Object.assign(r,t);let a,l;if(this.convertOut(this.settings.table.columns,[r]),(!this.settings.form.api.output.flatten||!o)&&(r=ib(r)),this.settings.events&&this.settings.events.beforeItemSave&&this.settings.events.beforeItemSave(r,s,t),!this.settings.form.api.output.item)a=JSON.stringify(r);else if(typeof this.settings.form.api.output.item=="string"){let u={};u[this.settings.form.api.output.item]=r,a=JSON.stringify(u)}else a=JSON.stringify(this.settings.form.api.output.item(r,options));const c=o?"PUT":"POST";l=await fetch(Lt(c,this.settings.form.api,o,s),Ot(c,this.settings.form.api,{body:a},this.auth));const h=await Yn(l),f=Xn(l,h.data);if(f){n&&n(f,t,s,l);return}if(h.error){n&&n(h.error,t,s,l);return}this.settings.events&&this.settings.events.afterItemSave&&this.settings.events.afterItemSave(h.data,s),e&&e(h.data,l)}catch(r){n&&n(r,t,s)}},async saveBulk(t){try{this.tableWait(!0);let e={};this.settings.events&&this.settings.events.beforeBulkSave&&this.settings.events.beforeBulkSave(this.bulkitem);for(let o in this.bulkitem)this.bulkinputs.indexOf(o)>=0&&this.settings.table.api.output.fields.includes(o)&&(e[o]=this.bulkitem[o]);this.convertOut(this.settings.table.columns,[e]);const n=await fetch(Lt("PUT",this.settings.table.api),Ot("PUT",this.settings.table.api,{body:JSON.stringify({item:e,ids:this.selected})},this.auth)).catch(o=>{console.error(o),this.addTableMessage(o.message,3500,"danger",o)}),s=await Yn(n),r=Xn(n,s.data);if(this.tableNoWait(),r)return;t&&t(s.data),this.reloadTable()}catch(e){console.error(e),this.addTableMessage(e.message,3500,"danger",e),this.tableNoWait()}},countHiddenColumns(){return this.settings.table.columns.filter(t=>t.hidden===!0).length},toggleColumn(t){t===!0?this.settings.table.columns.map(e=>{e.hidden=!1}):t===!1?this.settings.table.columns.map(e=>{e.hidden=!0}):t.hidden=!t.hidden},toggleSelectedAll(){this.selected.length?this.selected=[]:this.selected=this.items.map(t=>t[this.settings.pkey])},toggleSelected(t){let e=this.selected.indexOf(t);e>=0?this.selected.splice(e,1):this.selected.push(t)},toggleSelectedRowInPage(){if(this.haveSelectedRowInPage())for(let t of this.items){let e=this.selected.indexOf(t[this.settings.pkey]);e>=0&&this.selected.splice(e,1)}else for(let t of this.items)this.selected.indexOf(t[this.settings.pkey])<0&&this.selected.push(t[this.settings.pkey]);this.selected.length||(this.bulkitem={})},haveSelectedRowInPage(){if(!this.items||!this.items.length)return!1;for(let t of this.items)if(this.selected.indexOf(t[this.settings.pkey])>=0)return!0;return!1},toggleDetail(t){let e=this.details.indexOf(t);e>=0?this.details.splice(e,1):this.details.push(t)},dropdownSelectToggleOne(t,e){let n=e.value;t.multiple?zc(t.value,n):t.value=t.value===n?null:n,this.reloadTable()},dropdownSelectAll(t,e){Wc(t,e),this.reloadTable()},dropdownSelectInvert(t,e){Kc(t,e),this.reloadTable()},dropdownSelectClear(t){typeof t!="object"?t.value=null:Gc(t),this.reloadTable()},async exportTable(t){try{fetchItems,t.limit=this.config.pagination.total?this.config.pagination.total:0;let e=this.getFiltersForFetch(),n=this.getOrdersForFetch();this.selected.length>0&&(e[this.settings.pkey]={type:"string",value:this.selected,operator:"in"}),t.filter=e,t.order=n,this.settings.events&&this.settings.events.beforeItemsExport&&this.settings.events.beforeItemsExport(items);let s=rb(items,this.settings.table.exports[t.type].fields);ob(s,this.settings.entity+".csv")}catch(e){console.error(e),this.addTableMessage(e.message,3500,"danger")}},onRowInputChange(t,e,n,s){!e||!e.input||(e.input.onchange&&e.input.onchange(t,e,n),e.input.autosave&&(this.tableWait(),this.saveItem(n,()=>{this.tableNoWait(),this.addTableMessage(this.translate("Saved")+` <small>( ${this.settings.pkey}:  ${n[this.settings.pkey]} )</small>`,2500)},(r,o,a,l)=>{this.tableNoWait(),this.handleTableErrors(r)})))},onBulkInputChange(t,e,n){!n||!n.input||n.input.onchange&&n.input.onchange(t,n)},ifBulkInputClick(t){let e=this.bulkinputs.indexOf(t.name);e<0?this.bulkinputs.push(t.name):this.bulkinputs.splice(e,1),this.bulkitem[t.name]===void 0?this.bulkitem[t.name]=null:this.bulkitem[t.name]=void 0},addTableMessage(t,e,n,s){this.addMessage("table",t,e,n,s)},addMessage(t,e,n,s,r){clearTimeout(this.messageTimeout);const o=Date.now()+Math.random().toString(36).substring(2,9);this.message[t]={uid:o,msg:e,timeout:n!==void 0?n:2500,datetime:new Date().toLocaleString("hu-HU"),priority:s||"secondary",details:r},this.messages[t].unshift(this.message[t]),clearTimeout(this.messageTimeOut),this.messageTimeOut=setTimeout(()=>{this.message[t]=null,this.messages[t].length>10&&this.messages[t].splice(10)},this.message[t].timeout)},translate(t,e,n){return Is(t,this.settings.translate,e,n||this.settings.language)},convertIn(t,e){for(let n of t)if(n.convert&&n.convert.in)for(let s of e)s[n.name]=n.convert.in(s[n.name],s,n)},convertOut(t,e){for(let n of t)if(n.convert&&n.convert.out)for(let s of e)s[n.name]=n.convert.out(s[n.name],s,n)}}},AA=["data-bs-theme"],CA={class:"vua-table-title"},SA={class:"d-flex align-items-center justify-content-between"},OA={class:"d-inline-block"},LA={key:0,class:"card-title d-inline-block mb-2"},BA={class:"spinner-border spinner-border-sm mx-2",role:"status"},VA={key:0,class:"d-inline-block"},IA={key:0,class:"d-inline-block px-1 mx-1"},vA=["innerHTML"],DA={class:"dropdown d-inline-block"},xA=["innerHTML"],$A={class:"dropdown-menu text-start"},MA={class:"me-2 text-muted"},RA=["innerHTML"],qA=["onClick"],PA={key:1,class:"dropdown d-inline-block"},FA={class:"mx-1"},jA={key:0},UA={class:"dropdown-menu"},HA=["onClick"],zA={key:0,class:"bi bi-check-square-fill me-2"},WA={key:1,class:"bi bi-x-square me-2 text-danger"},KA={class:"badge text-secondary fw-normal"},GA={key:2,class:"dropdown d-inline-block"},YA={class:"mx-1"},XA={class:"dropdown-menu"},ZA=["onClick"],QA={class:"vua-table-header"},JA=["width"],eC=["onClick"],tC=["innerHTML"],nC={key:0,class:"bi bi-arrow-down"},sC={key:1,class:"bi bi-arrow-up"},iC={key:0},rC=["disabled","onClick"],oC={key:0,class:"vua-table-filter"},aC=["width"],lC={key:0,class:"d-inline-block w-100 px-1"},cC={class:"bi bi-check-all"},dC={class:"bi bi-x-lg"},hC={key:1,class:"input-group input-group-sm my-1"},uC=["onUpdate:modelValue"],fC=["disabled","onClick"],mC={key:2,class:"input-group input-group-sm my-1"},pC=["onUpdate:modelValue","disabled"],gC={value:"="},bC={value:">"},yC={value:">="},EC={value:"<"},_C={value:"<="},wC=["onUpdate:modelValue","disabled"],kC=["value"],NC=["onUpdate:modelValue","disabled","min","max"],TC=["disabled","onClick"],AC={key:3},CC={key:0,class:"dropdown"},SC={class:"btn btn-sm btn-secondary dropdown-toggle my-1",type:"button","data-bs-auto-close":"outside","data-bs-toggle":"dropdown","aria-expanded":"false"},OC={class:"dropdown-menu"},LC=["onClick"],BC={key:0,class:"bi bi-check-square"},VC={key:1,class:"bi bi-square"},IC={key:0},vC={key:1},DC=["onClick"],xC={key:2},$C=["onClick"],MC={key:3},RC=["onClick"],qC={key:1,class:"input-group input-group-sm my-1"},PC=["onUpdate:modelValue","multiple"],FC=["value"],jC=["disabled","onClick"],UC={key:4,class:"input-group input-group-sm my-1"},HC=["onUpdate:modelValue"],zC={value:"="},WC={value:">"},KC={value:">="},GC={value:"<"},YC={value:"<="},XC=["onUpdate:modelValue"],ZC=["value"],QC=["type","onUpdate:modelValue"],JC=["disabled","onClick"],eS=["disabled","onClick"],tS={class:"align-middle"},nS=["data-label","width","onClick"],sS={key:0,class:"d-inline-block w-100 px-1"},iS=["innerHTML"],rS={key:1},oS=["innerHTML"],aS=["aria-valuenow","aria-valuemax"],lS={key:0},cS={key:4,class:"input-group input-group-sm"},dS=["innerHTML"],hS=["type","onChange","onUpdate:modelValue"],uS=["onChange","onUpdate:modelValue"],fS=["value"],mS=["innerHTML"],pS={key:5},gS=["disabled","onClick"],bS=["innerHTML"],yS={key:2},ES={key:0},_S=["colspan"],wS={class:"row g-3 align-items-center"},kS={class:"col-form-label"},NS=["type","onUpdate:modelValue","onChange"],TS=["onUpdate:modelValue","onChange"],AS=["onUpdate:modelValue","onChange"],CS=["value"],SS=["innerHTML"],OS={key:0,class:"bg-light text-dark"},LS={key:0,class:"vua-table-bulk border-info"},BS=["data-label","width"],VS={key:0,class:"d-inline-block w-100 px-1"},IS={key:1,class:"input-group input-group-sm my-1"},vS=["type","disabled","onChange","onUpdate:modelValue"],DS=["disabled","onChange","onUpdate:modelValue"],xS=["value"],$S=["onClick"],MS={key:0,class:"bi bi-square text-secondary"},RS={key:1,class:"bi bi-check-square"},qS={key:2},PS=["disabled","onClick"],FS=["innerHTML"],jS={key:2},US=["id"],HS={class:"modal-dialog modal-xl"},zS={class:"modal-content h-100"};function WS(t,e,n,s,r,o){const a=i.resolveComponent("VuAdminTablePagination"),l=i.resolveComponent("VuAdminForm");return i.openBlock(),i.createElementBlock("div",null,[o.authAndSettings()?(i.openBlock(),i.createElementBlock("div",{key:0,class:i.normalizeClass(["vua-table-container",[n.settings.class]]),"data-bs-theme":[n.settings.theme]},[i.createElementVNode("div",{class:i.normalizeClass(["vua-overlay",{blocked:r.ui.block.table}])},null,2),i.createElementVNode("div",CA,[i.createElementVNode("div",SA,[i.createElementVNode("div",OA,[n.settings.table.title?(i.openBlock(),i.createElementBlock("h5",LA,i.toDisplayString(n.settings.table.title),1)):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("div",BA,e[15]||(e[15]=[i.createElementVNode("span",{class:"visually-hidden"},"Loading...",-1)]),512),[[i.vShow,r.ui.wait.table&&n.settings.table.title]])]),r.messages.table.length?(i.openBlock(),i.createElementBlock("div",VA,[r.message.table?(i.openBlock(),i.createElementBlock("small",IA,[i.createElementVNode("span",{class:i.normalizeClass(["text-"+r.message.table.priority])},[i.createElementVNode("span",{class:"fw-bold",innerHTML:r.message.table.msg},null,8,vA)],2)])):i.createCommentVNode("",!0),i.createElementVNode("div",DA,[i.createElementVNode("button",{class:i.normalizeClass(["btn btn-sm dropdown-toggle",["btn-"+r.messages.table[0].priority]]),type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",innerHTML:r.messages.table.length+" "+(r.messages.table.length>1?o.translate("messages"):o.translate("message"))},null,10,xA),i.createElementVNode("ul",$A,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(r.messages.table,c=>(i.openBlock(),i.createElementBlock("li",{key:c},[i.createElementVNode("span",{class:i.normalizeClass(["dropdown-item",["text-"+c.priority]])},[i.createElementVNode("small",MA,i.toDisplayString(c.datetime),1),i.createElementVNode("span",{class:"fw-bold",innerHTML:c.msg},null,8,RA)],2)]))),128))])])])):i.createCommentVNode("",!0)])]),n.settings.table.control?(i.openBlock(),i.createElementBlock("div",{key:0,class:i.normalizeClass(["vua-table-control",[n.settings.table.control.class]])},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.settings.table.control.buttons,c=>(i.openBlock(),i.createElementBlock("span",{key:c.action},[c.action!=="TABLE_COLUMNS"&&!c.dropdowns?(i.openBlock(),i.createElementBlock("button",{key:0,type:"button",class:i.normalizeClass([c.class?c.class:o.getButtonClassByAction(c.action)]),onClick:h=>o.tableAction(c,{items:r.items,$event:h})},[i.createElementVNode("i",{class:i.normalizeClass([c.icon!==void 0?o.getValueOrFunction(c.icon,{button:c,table:this}):o.getButtonIconClassByAction(c.action)])},null,2),i.createTextVNode(" "+i.toDisplayString(o.translate(c.title)),1)],10,qA)):i.createCommentVNode("",!0),c.action==="TABLE_COLUMNS"?(i.openBlock(),i.createElementBlock("div",PA,[i.createElementVNode("button",{type:"button",class:i.normalizeClass([[c.class?c.class:o.getButtonClassByAction(c.action)],"dropdown-toggle"]),"data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false"},[i.withDirectives(i.createElementVNode("span",FA,[i.createElementVNode("i",{class:i.normalizeClass([c.icon!==void 0?o.getValueOrFunction(c.icon,{button:c,table:this}):o.getButtonIconClassByAction(c.action)])},null,2),i.createTextVNode(" "+i.toDisplayString(o.translate(c.title))+" ",1),o.countHiddenColumns()?(i.openBlock(),i.createElementBlock("span",jA," ( "+i.toDisplayString(o.countHiddenColumns())+" "+i.toDisplayString(o.translate("hidden"))+" ) ",1)):i.createCommentVNode("",!0)],512),[[i.vShow,n.settings.table.columns.length>0]])],2),i.createElementVNode("ul",UA,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.settings.table.columns,h=>(i.openBlock(),i.createElementBlock("li",{key:h},[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:f=>o.toggleColumn(h)},[h.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createElementBlock("i",zA)),h.hidden?(i.openBlock(),i.createElementBlock("i",WA)):i.createCommentVNode("",!0),i.createTextVNode(" "+i.toDisplayString(h.title)+" ",1),i.createElementVNode("small",KA,i.toDisplayString(h.name),1)],8,HA)]))),128)),e[16]||(e[16]=i.createElementVNode("li",null,[i.createElementVNode("hr",{class:"dropdown-divider"})],-1)),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:e[0]||(e[0]=h=>o.toggleColumn(!0))},i.toDisplayString(o.translate("Visible all")),1)]),i.createElementVNode("li",null,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:e[1]||(e[1]=h=>o.toggleColumn(!1))},i.toDisplayString(o.translate("Hidden all")),1)])])])):i.createCommentVNode("",!0),c.dropdowns?(i.openBlock(),i.createElementBlock("div",GA,[i.createElementVNode("button",{type:"button",class:i.normalizeClass([[c.class],"dropdown-toggle"]),"data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false"},[i.createElementVNode("span",YA,[i.createElementVNode("i",{class:i.normalizeClass([c.icon!==void 0?o.getValueOrFunction(c.icon,{button:c,table:this}):o.getButtonIconClassByAction(c.action)])},null,2),i.createTextVNode(" "+i.toDisplayString(o.translate(c.title)),1)])],2),i.createElementVNode("ul",XA,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.dropdowns,h=>(i.openBlock(),i.createElementBlock("li",{key:h},[i.createElementVNode("span",{class:i.normalizeClass(["dropdown-item cursor-pointer",[h.class]]),onClick:f=>o.tableAction(h,{items:r.items,$event:f})},[h.icon?(i.openBlock(),i.createElementBlock("i",{key:0,class:i.normalizeClass([h.icon])},null,2)):i.createCommentVNode("",!0),i.createTextVNode(" "+i.toDisplayString(o.translate(h.title)),1)],10,ZA)]))),128))])])):i.createCommentVNode("",!0)]))),128))],2)):i.createCommentVNode("",!0),n.settings.table?(i.openBlock(),i.createElementBlock("table",{key:1,class:i.normalizeClass(["table vua-table mb-0",[n.settings.table.class]])},[i.createElementVNode("thead",null,[i.createElementVNode("tr",QA,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.settings.table.columns,c=>(i.openBlock(),i.createElementBlock("th",{class:i.normalizeClass(["",[c.header?c.header.class:""]]),style:i.normalizeStyle([c.hidden?"display: none":""]),key:c,width:c.width},[i.createElementVNode("span",{class:i.normalizeClass(["d-inline-block no-select text-nowrap",{"cursor-pointer":o.isSortable(c)}]),onClick:h=>o.sortTable(c)},[i.createElementVNode("span",{innerHTML:c.header&&c.header.title!==void 0?o.translate(c.header.title):c.title?o.translate(c.title):o.translate(c.name)},null,8,tC),r.config.order[c.name]?(i.openBlock(),i.createElementBlock("span",{key:0,class:i.normalizeClass(["badge text-bg-light ms-1 p-badge",{"opacity-50":r.config.order[c.name].fixed}])},[r.config.order[c.name].dir==="ASC"?(i.openBlock(),i.createElementBlock("i",nC)):i.createCommentVNode("",!0),r.config.order[c.name].dir==="DESC"?(i.openBlock(),i.createElementBlock("i",sC)):i.createCommentVNode("",!0),i.createTextVNode(" "+i.toDisplayString(r.config.order[c.name].idx+1),1)],2)):i.createCommentVNode("",!0)],10,eC),c.header&&c.header.buttons?(i.openBlock(),i.createElementBlock("span",iC,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.header.buttons,h=>(i.openBlock(),i.createElementBlock("button",{key:h.action,type:"button",disabled:h.disabled!==void 0?o.getValueOrFunction(h.disabled):null,class:i.normalizeClass([h.class?h.class:o.getButtonClassByAction(h.action)]),onClick:f=>o.tableAction(h,{items:r.items,$event:f})},[i.createElementVNode("i",{class:i.normalizeClass([h.icon!==void 0?o.getValueOrFunction(h.icon,{button:h,column:c,table:this}):o.getButtonIconClassByAction(h.action)])},null,2),i.createTextVNode(" "+i.toDisplayString(o.translate(h.title)),1)],10,rC))),128))])):i.createCommentVNode("",!0)],14,JA))),128))]),o.countFilters()?(i.openBlock(),i.createElementBlock("tr",oC,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.settings.table.columns,c=>(i.openBlock(),i.createElementBlock("th",{style:i.normalizeStyle([c.hidden?"display: none":""]),key:c,width:c.width,class:i.normalizeClass([c.filter?c.filter.class:""])},[c.index&&c.click?(i.openBlock(),i.createElementBlock("div",lC,[i.createElementVNode("span",{class:i.normalizeClass(["cursor-pointer badge border badge-index-toggle py-1 px-2 me-1 my-2 w-100",{active:o.haveSelectedRowInPage()}]),onClick:e[2]||(e[2]=h=>o.toggleSelectedRowInPage())},[i.withDirectives(i.createElementVNode("i",cC,null,512),[[i.vShow,!o.haveSelectedRowInPage()]]),i.withDirectives(i.createElementVNode("i",dC,null,512),[[i.vShow,o.haveSelectedRowInPage()]])],2)])):i.createCommentVNode("",!0),c.filter&&c.filter.type=="text"?(i.openBlock(),i.createElementBlock("div",hC,[i.withDirectives(i.createElementVNode("input",{type:"text",class:i.normalizeClass([{fixed:c.filter.fixed},"form-control form-control-sm"]),"onUpdate:modelValue":h=>c.filter.value=h,onKeyup:e[3]||(e[3]=i.withKeys(h=>o.reloadTable(),["enter"]))},null,42,uC),[[i.vModelText,c.filter.value]]),c.filter.buttonx&&c.filter.buttonx!=!1?(i.openBlock(),i.createElementBlock("button",{key:0,class:i.normalizeClass(["btn btn-outline-secondary",{"opacity-25":c.filter.value==null}]),disabled:c.filter.value==null,onClick:h=>{c.filter.value=void 0,o.reloadTable()}},e[17]||(e[17]=[i.createElementVNode("i",{class:"bi bi-x"},null,-1)]),10,fC)):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),c.filter&&c.filter.type=="number"?(i.openBlock(),i.createElementBlock("div",mC,[c.filter.operators==!0?i.withDirectives((i.openBlock(),i.createElementBlock("select",{key:0,"onUpdate:modelValue":h=>c.filter.operator=h,disabled:c.filter.fixed,onChange:e[4]||(e[4]=h=>o.reloadTable()),class:"form-select form-select-sm pe-0"},[i.createElementVNode("option",gC,i.toDisplayString(o.translate("=")),1),i.createElementVNode("option",bC,i.toDisplayString(o.translate(">")),1),i.createElementVNode("option",yC,i.toDisplayString(o.translate(">=")),1),i.createElementVNode("option",EC,i.toDisplayString(o.translate("<")),1),i.createElementVNode("option",_C,i.toDisplayString(o.translate("<=")),1)],40,pC)),[[i.vModelSelect,c.filter.operator]]):i.createCommentVNode("",!0),c.filter.operators&&c.filter.operators.length>0?i.withDirectives((i.openBlock(),i.createElementBlock("select",{key:1,"onUpdate:modelValue":h=>c.filter.operator=h,disabled:c.filter.fixed,onChange:e[5]||(e[5]=h=>o.reloadTable()),class:"form-select form-select-sm pe-0"},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.filter.operators,h=>(i.openBlock(),i.createElementBlock("option",{key:h,value:h.value},i.toDisplayString(h.label),9,kC))),128))],40,wC)),[[i.vModelSelect,c.filter.operator]]):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("input",{type:"number",class:i.normalizeClass(["form-control",{fixed:c.filter.fixed}]),"onUpdate:modelValue":h=>c.filter.value=h,disabled:c.filter.fixed,min:c.filter.min,max:c.filter.max,onChange:e[6]||(e[6]=h=>o.reloadTable()),onKeyup:e[7]||(e[7]=i.withKeys(h=>o.reloadTable(),["enter"]))},null,42,NC),[[i.vModelText,c.filter.value]]),!c.filter.fixed&&c.filter.buttonx&&c.filter.buttonx!=!1?(i.openBlock(),i.createElementBlock("button",{key:2,class:i.normalizeClass(["btn btn-outline-secondary",{"opacity-25":c.filter.value==null}]),disabled:c.filter.value==null,onClick:h=>{c.filter.value=void 0,o.reloadTable()}},e[18]||(e[18]=[i.createElementVNode("i",{class:"bi bi-x"},null,-1)]),10,TC)):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),c.filter&&c.filter.type=="select"?(i.openBlock(),i.createElementBlock("div",AC,[c.filter.dropdown?(i.openBlock(),i.createElementBlock("div",CC,[i.createElementVNode("button",SC,i.toDisplayString(c.filter.multiple?c.filter.value.length+" selected":c.filter.value?c.filter.value:"not selected"),1),i.createElementVNode("ul",OC,[i.createElementVNode("li",null,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.filter.options,h=>(i.openBlock(),i.createElementBlock("span",{key:h,class:i.normalizeClass(["dropdown-item cursor-pointer",{selected:c.filter.multiple?c.filter.value.indexOf(h.value)>=0:c.filter.value===h.value}]),onClick:f=>o.dropdownSelectToggleOne(c.filter,h)},[(c.filter.multiple?c.filter.value.indexOf(h.value)>=0:c.filter.value===h.value)?(i.openBlock(),i.createElementBlock("i",BC)):(i.openBlock(),i.createElementBlock("i",VC)),i.createTextVNode(" "+i.toDisplayString(o.translate(h.label?h.label:h.value)),1)],10,LC))),128))]),c.filter.multiple?(i.openBlock(),i.createElementBlock("li",IC,e[19]||(e[19]=[i.createElementVNode("hr",{class:"dropdown-divider"},null,-1)]))):i.createCommentVNode("",!0),c.filter.multiple?(i.openBlock(),i.createElementBlock("li",vC,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>o.dropdownSelectAll(c.filter.value,c.filter.options)},i.toDisplayString(o.translate("Select all")),9,DC)])):i.createCommentVNode("",!0),c.filter.multiple?(i.openBlock(),i.createElementBlock("li",xC,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>o.dropdownSelectClear(c.filter.value)},i.toDisplayString(o.translate("Unselect all")),9,$C)])):i.createCommentVNode("",!0),c.filter.multiple?(i.openBlock(),i.createElementBlock("li",MC,[i.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>o.dropdownSelectInvert(c.filter.value,c.filter.options)},i.toDisplayString(o.translate("Invert all")),9,RC)])):i.createCommentVNode("",!0)])])):(i.openBlock(),i.createElementBlock("div",qC,[i.withDirectives(i.createElementVNode("select",{"onUpdate:modelValue":h=>c.filter.value=h,onChange:e[8]||(e[8]=h=>o.reloadTable()),multiple:c.filter.multiple,class:"form-select form-select-sm pe-0"},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.filter.options,h=>(i.openBlock(),i.createElementBlock("option",{key:h,value:h.value},i.toDisplayString(o.translate(h.label?h.label:h.value)),9,FC))),128))],40,PC),[[i.vModelSelect,c.filter.value]]),c.filter.buttonx&&c.filter.buttonx!=!1?(i.openBlock(),i.createElementBlock("button",{key:0,class:i.normalizeClass(["btn btn-outline-secondary",{"opacity-25":c.filter.value==null}]),disabled:c.filter.value==null,onClick:h=>{c.filter.value=void 0,o.reloadTable()}},e[20]||(e[20]=[i.createElementVNode("i",{class:"bi bi-x"},null,-1)]),10,jC)):i.createCommentVNode("",!0)]))])):i.createCommentVNode("",!0),c.filter&&(c.filter.type=="datetime-local"||c.filter.type=="date")?(i.openBlock(),i.createElementBlock("div",UC,[c.filter.operators==!0?i.withDirectives((i.openBlock(),i.createElementBlock("select",{key:0,"onUpdate:modelValue":h=>c.filter.operator=h,onChange:e[9]||(e[9]=h=>o.reloadTable()),class:"form-select form-select-sm pe-0"},[i.createElementVNode("option",zC,i.toDisplayString(o.translate("=")),1),i.createElementVNode("option",WC,i.toDisplayString(o.translate(">")),1),i.createElementVNode("option",KC,i.toDisplayString(o.translate(">=")),1),i.createElementVNode("option",GC,i.toDisplayString(o.translate("<")),1),i.createElementVNode("option",YC,i.toDisplayString(o.translate("<=")),1)],40,HC)),[[i.vModelSelect,c.filter.operator]]):i.createCommentVNode("",!0),c.filter.operators&&c.filter.operators.length>0?i.withDirectives((i.openBlock(),i.createElementBlock("select",{key:1,"onUpdate:modelValue":h=>c.filter.operator=h,onChange:e[10]||(e[10]=h=>o.reloadTable()),class:"form-select form-select-sm pe-0"},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.filter.operators,h=>(i.openBlock(),i.createElementBlock("option",{key:h,value:h.value},i.toDisplayString(o.translate(h.label)),9,ZC))),128))],40,XC)),[[i.vModelSelect,c.filter.operator]]):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("input",{type:c.filter.type,class:i.normalizeClass([{fixed:c.filter.fixed},"form-control form-control-sm"]),"onUpdate:modelValue":h=>c.filter.value=h,onChange:e[11]||(e[11]=h=>o.reloadTable()),onKeyup:e[12]||(e[12]=i.withKeys(h=>o.reloadTable(),["enter"]))},null,42,QC),[[i.vModelDynamic,c.filter.value]]),i.createElementVNode("button",{class:i.normalizeClass(["btn btn-outline-secondary",{"opacity-25":!c.filter.value}]),disabled:!c.filter.value,onClick:h=>{c.filter.value=void 0,o.reloadTable()}},e[21]||(e[21]=[i.createElementVNode("i",{class:"bi bi-x"},null,-1)]),10,JC)])):i.createCommentVNode("",!0),c.filter&&c.filter.buttons?(i.openBlock(),i.createElementBlock("span",{key:5,class:i.normalizeClass(o.getValueOrFunction(c.filter.buttons,{column:c}))},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.filter.buttons,h=>(i.openBlock(),i.createElementBlock("span",{key:h.action},[i.createElementVNode("button",{type:"button",disabled:h.disabled!==void 0?o.getValueOrFunction(h.disabled):null,class:i.normalizeClass([h.class?h.class:o.getButtonClassByAction(h.action)]),onClick:f=>o.tableAction(h,{items:r.items,$event:f})},[i.createElementVNode("i",{class:i.normalizeClass([h.icon!==void 0?o.getValueOrFunction(h.icon,{button:h,column:c,table:this}):o.getButtonIconClassByAction(h.action)])},null,2),i.createTextVNode(" "+i.toDisplayString(o.translate(h.title)),1)],10,eS)]))),128))],2)):i.createCommentVNode("",!0)],14,aC))),128))])):i.createCommentVNode("",!0)]),i.createElementVNode("tbody",null,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(this.items,(c,h)=>(i.openBlock(),i.createElementBlock(i.Fragment,{key:c.id},[i.createElementVNode("tr",tS,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.settings.table.columns,f=>(i.openBlock(),i.createElementBlock("td",{style:i.normalizeStyle([f.hidden?"display: none":""]),key:f.name,"data-label":f.title?f.title:o.translate(f.name),width:f.width,class:i.normalizeClass(o.getValueOrFunction(f.class,{column:f,item:c})),onClick:u=>o.tableAction(f,{item:c,index:h,$event:u})},[f.index?(i.openBlock(),i.createElementBlock("div",sS,[i.createElementVNode("span",{class:i.normalizeClass(["cursor-pointer badge border badge-index p-1 w-100",{selected:r.selected.indexOf(c[n.settings.pkey])>=0}]),innerHTML:h+1+(r.config.pagination.page-1)*r.config.pagination.limit},null,10,iS)])):i.createCommentVNode("",!0),!f.template&&!f.input&&!f.progressbar?(i.openBlock(),i.createElementBlock("span",rS,i.toDisplayString(o.tableCellValue(f.name,c,h,f)),1)):i.createCommentVNode("",!0),f.template?(i.openBlock(),i.createElementBlock("span",{key:2,innerHTML:o.tableCellTemplate(f.template,c,h,f)},null,8,oS)):i.createCommentVNode("",!0),f.progressbar?(i.openBlock(),i.createElementBlock("div",{key:3,class:"progress",role:"progressbar","aria-label":"Warning example","aria-valuenow":c[f.name],"aria-valuemax":f.progressbar.max},[i.createElementVNode("div",{class:i.normalizeClass(["progress-bar",[f.progressbar.class]]),style:i.normalizeStyle({width:Math.round(c[f.name]/f.progressbar.max*100)+"%"})},[f.progressbar.value?(i.openBlock(),i.createElementBlock("span",lS,i.toDisplayString(c[f.name]),1)):i.createCommentVNode("",!0)],6)],8,aS)):i.createCommentVNode("",!0),f.input?(i.openBlock(),i.createElementBlock("div",cS,[f.input.prefix?(i.openBlock(),i.createElementBlock("span",{key:0,class:"input-group-text",innerHTML:o.getValueOrFunction(f.input.prefix,{column:f,item:c})},null,8,dS)):i.createCommentVNode("",!0),["text","number","date","datetime-local"].indexOf(f.input.type)>=0?i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:1,type:f.input.type,class:i.normalizeClass(["form-control form-control-sm",o.getValueOrFunction(f.input.class,{column:f,item:c})]),onChange:u=>o.onRowInputChange(c[f.name],f,c,h),"onUpdate:modelValue":u=>c[f.name]=u},null,42,hS)),[[i.vModelDynamic,c[f.name]]]):i.createCommentVNode("",!0),f.input.type=="select"?i.withDirectives((i.openBlock(),i.createElementBlock("select",{key:2,class:i.normalizeClass(["form-select form-select-sm pe-0",o.getValueOrFunction(f.input.class,{column:f,item:c})]),onChange:u=>o.onRowInputChange(c[f.name],f,c,h),"onUpdate:modelValue":u=>c[f.name]=u},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(f.input.options,u=>(i.openBlock(),i.createElementBlock("option",{value:u.value,key:u},i.toDisplayString(o.translate(u.label)),9,fS))),128))],42,uS)),[[i.vModelSelect,c[f.name]]]):i.createCommentVNode("",!0),f.input.suffix?(i.openBlock(),i.createElementBlock("span",{key:3,class:"input-group-text",innerHTML:o.getValueOrFunction(f.input.suffix,{column:f,item:c})},null,8,mS)):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),f.buttons?(i.openBlock(),i.createElementBlock("span",pS,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(f.buttons,u=>(i.openBlock(),i.createElementBlock("span",{key:u.action},[u.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createElementBlock("button",{key:0,type:"button",disabled:u.disabled!==void 0?o.getValueOrFunction(u.disabled):null,class:i.normalizeClass([u.class?o.getValueOrFunction(u.class,{button:u,column:f,item:c,table:this}):o.getButtonClassByAction(u.action)]),onClick:p=>o.tableAction(u,{column:f,item:c,index:h,$event:p})},[u.icon!==null?(i.openBlock(),i.createElementBlock("i",{key:0,class:i.normalizeClass([u.icon!==void 0?o.getValueOrFunction(u.icon,{button:u,column:f,item:c,table:this}):o.getButtonIconClassByAction(u.action)])},null,2)):i.createCommentVNode("",!0),u.template?(i.openBlock(),i.createElementBlock("span",{key:1,innerHTML:o.tableCellTemplate(u.template,c,h,f)},null,8,bS)):(i.openBlock(),i.createElementBlock("span",yS,i.toDisplayString(o.translate(u.title)),1))],10,gS))]))),128))])):i.createCommentVNode("",!0)],14,nS))),128))]),n.settings.table.details&&r.details.indexOf(c[n.settings.pkey])>=0?(i.openBlock(),i.createElementBlock("tr",ES,[i.createElementVNode("td",{class:i.normalizeClass([n.settings.table.details.class]),colspan:n.settings.table.columns.length},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.settings.table.details.fields,f=>(i.openBlock(),i.createElementBlock("div",{class:"m-0",key:f},[i.createElementVNode("div",wS,[i.createElementVNode("div",{class:i.normalizeClass(["col text-end",[f.class]])},[i.createElementVNode("label",kS,i.toDisplayString(f.label),1)],2),i.createElementVNode("div",{class:i.normalizeClass(["col",[f.input.class]])},[["select","textarea"].indexOf(f.input.type)<0?i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:0,type:f.input.type,class:"form-control form-control-sm","onUpdate:modelValue":u=>c[f.name]=u,onChange:u=>o.onRowInputChange(c[f.name],f,c,h)},null,40,NS)),[[i.vModelDynamic,c[f.name]]]):i.createCommentVNode("",!0),f.input.type=="textarea"?i.withDirectives((i.openBlock(),i.createElementBlock("textarea",{key:1,class:"form-control form-control-sm",rows:"3","onUpdate:modelValue":u=>c[f.name]=u,onChange:u=>o.onRowInputChange(c[f.name],f,c,h)},`\r
                    `,40,TS)),[[i.vModelText,c[f.name]]]):i.createCommentVNode("",!0),f.input.type=="select"?i.withDirectives((i.openBlock(),i.createElementBlock("select",{key:2,class:"form-select form-select-sm pe-0","onUpdate:modelValue":u=>c[f.name]=u,onChange:u=>o.onRowInputChange(c[f.name],f,c,h)},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(f.input.options,u=>(i.openBlock(),i.createElementBlock("option",{value:u.value,key:u},i.toDisplayString(o.translate(u.label)),9,CS))),128))],40,AS)),[[i.vModelSelect,c[f.name]]]):i.createCommentVNode("",!0)],2)])]))),128)),i.createElementVNode("span",{innerHTML:n.settings.table.details.raw(c)},null,8,SS),n.settings.debug>1?(i.openBlock(),i.createElementBlock("pre",OS,"                  "+i.toDisplayString(c)+`
                `,1)):i.createCommentVNode("",!0)],10,_S)])):i.createCommentVNode("",!0)],64))),128))]),i.createElementVNode("tfoot",null,[r.selected.length>0?(i.openBlock(),i.createElementBlock("tr",LS,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(n.settings.table.columns,c=>(i.openBlock(),i.createElementBlock("td",{style:i.normalizeStyle([c.hidden?"display: none":""]),key:c.name,"data-label":c.title,width:c.width,class:i.normalizeClass(c.class)},[c.index?(i.openBlock(),i.createElementBlock("div",VS,[i.createElementVNode("span",{class:"cursor-pointer d-inline-block badge border badge-index-toggle active py-1 px-2 me-1 my-2 w-100",onClick:e[13]||(e[13]=h=>o.toggleSelectedAll())},i.toDisplayString(r.selected.length),1)])):i.createCommentVNode("",!0),c.input&&c.bulk&&c.bulk.enabled?(i.openBlock(),i.createElementBlock("div",IS,[["text","number","date","datetime-local"].indexOf(c.input.type)>=0?i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:0,type:c.input.type,class:i.normalizeClass(["form-control form-control-sm",c.input.class]),disabled:r.bulkinputs.indexOf(c.name)<0,onChange:h=>o.onBulkInputChange(r.bulkitem[c.name],r.bulkitem,c),"onUpdate:modelValue":h=>r.bulkitem[c.name]=h},null,42,vS)),[[i.vModelDynamic,r.bulkitem[c.name]]]):i.createCommentVNode("",!0),c.input.type=="select"?i.withDirectives((i.openBlock(),i.createElementBlock("select",{key:1,class:i.normalizeClass(["form-select form-select-sm pe-0",c.input.class]),disabled:r.bulkinputs.indexOf(c.name)<0,onChange:h=>o.onBulkInputChange(r.bulkitem[c.name],r.bulkitem,c),"onUpdate:modelValue":h=>r.bulkitem[c.name]=h},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.input.options,h=>(i.openBlock(),i.createElementBlock("option",{value:h.value,key:h},i.toDisplayString(o.translate(h.label)),9,xS))),128))],42,DS)),[[i.vModelSelect,r.bulkitem[c.name]]]):i.createCommentVNode("",!0),i.createElementVNode("span",{class:"input-group-text cursor-pointer",onClick:h=>o.ifBulkInputClick(c)},[r.bulkitem[c.name]===void 0?(i.openBlock(),i.createElementBlock("i",MS)):(i.openBlock(),i.createElementBlock("i",RS))],8,$S)])):i.createCommentVNode("",!0),c.bulk?(i.openBlock(),i.createElementBlock("span",qS,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.bulk.buttons,h=>(i.openBlock(),i.createElementBlock("span",{key:h.action},[i.createElementVNode("button",{type:"button",class:i.normalizeClass([h.class?h.class:o.getButtonClassByAction(h.action)]),disabled:h.action==="save"&&!this.bulkinputs.length,onClick:f=>o.tableBulkAction(h.action,r.bulkitem,c,f)},[h.icon!==null?(i.openBlock(),i.createElementBlock("i",{key:0,class:i.normalizeClass([h.icon!==void 0?o.getValueOrFunction(h.icon,{button:h,column:c,table:this}):o.getButtonIconClassByAction(h.action)])},null,2)):i.createCommentVNode("",!0),h.template?(i.openBlock(),i.createElementBlock("span",{key:1,innerHTML:o.tableCellTemplate(h.template,r.bulkitem,null,c)},null,8,FS)):(i.openBlock(),i.createElementBlock("span",jS,i.toDisplayString(o.translate(h.title)),1))],10,PS)]))),128))])):i.createCommentVNode("",!0)],14,BS))),128))])):i.createCommentVNode("",!0)])],2)):i.createCommentVNode("",!0),i.createVNode(a,{settings:n.settings,config:r.config,ui:r.ui,onSetPage:o.setPage,onSetPageLimit:o.setPageLimit,onTranslate:o.translate},null,8,["settings","config","ui","onSetPage","onSetPageLimit","onTranslate"])],10,AA)):i.createCommentVNode("",!0),i.createElementVNode("div",{class:"modal shadow",id:r.modalId,tabindex:"-1"},[i.createElementVNode("div",HS,[i.createElementVNode("div",zS,[o.authAndSettings()&&n.settings.form.visible&&n.settings.form.groups?(i.openBlock(),i.createBlock(l,{key:0,modelValue:r.item,"onUpdate:modelValue":e[14]||(e[14]=c=>r.item=c),formid:r.formId,settings:n.settings,modalWindow:r.modalWindow,auth:n.auth,saveItem:o.saveItem,deleteItem:o.deleteItem,reloadTable:o.reloadTable,fetchRelation:o.fetchRelation},null,8,["modelValue","formid","settings","modalWindow","auth","saveItem","deleteItem","reloadTable","fetchRelation"])):i.createCommentVNode("",!0)])])],8,US)])}const KS={name:"VuAdmin",props:{entity:{type:String,required:!0},preset:{type:String,required:!1},auth:{type:Object}},init:t=>{},watch:{auth:{immediate:!0,handler(t,e){t!=e&&this.loadSettings()}}},data(){return{settings:void 0,defaults:{pkey:"id",theme:void 0,class:"my-1 p-3 rounded",init:null,language:document.documentElement?document.documentElement.lang:"hu",api:{auth:{},options:{},input:{item:void 0,items:void 0,total:void 0},output:{item:void 0,flatten:!0,fields:void 0}},translate:{hu:{Columns:"Oszlopok",All:"Mind",page:"oldal",row:"sor",hidden:"rejtett",First:"Els",Next:"Kvetkez",Prev:"Elz",Last:"Utols",Reload:"jratlts",New:"j",Active:"Aktv",Deleted:"Trlt",Copy:"Msols",Delete:"Trls",Close:"Bezr",Save:"Ments",Send:"Klds",Export:"Exportls","Select all":"Mind kivlaszt","Unselect all":"Mind trl","Invert all":"Kijellsek megfordtsa","Visible all":"Mind lthat","Hidden all":"Mind rejtett","Save and close":"Ment s bezr","=":"Egyenl",">":"Nagyobb",">=":"Nagyobb vagy egyenl","<":"Kisebb","<=":"Kisebb vagy egyenl","Are you sure you want to delete all selected items?":"Biztos hogy trlni akarod az sszes kivlasztott elemet?"}},events:{afterSettingsInit:void 0,beforeItemsLoad:void 0,afterItemsLoad:void 0,afterItemLoad:void 0,beforeItemSave:void 0,afterItemSave:void 0,beforeItemDelete:void 0,afterItemDelete:void 0,beforeBulkSave:void 0,afterBulkSave:void 0,beforeItemsExport:void 0},relations:{},table:{title:null,columns:[],pagination:{size:10,limit:10,limits:[10,20,50,100]},order:{},control:{},details:{},exports:{}},form:{}}}},created(){},mounted(){},methods:{async loadSettings(){if(!this.auth.settings||!this.auth.settings.entities||!this.auth.settings.entities[this.entity])return;const t=await import(this.auth.settings.entities[this.entity]);this.init(t.default(this.preset))},init(t){if(t){if(this.settings=Fi(this.defaults,t),this.settings.entity=this.entity,this.settings.preset=this.preset?this.preset:"default",!this.settings.theme){const e=document.documentElement.getAttribute("data-bs-theme");this.settings.theme=e||"light"}this.settings.events.afterSettingsInit&&this.settings.events.afterSettingsInit(this.settings),this.settings.debug&&(console.log("vu-admin ","1.2.87"),console.log(`Entity config (${this.entity}) initialized`),this.settings.debug>1&&console.log(this.settings))}else console.log("vu-admin ","1.2.87"),console.error(`Entity config (${this.entity}) not found`)}},components:{VuAdminTable:Ge(TA,[["render",WS]])}},GS={key:0},YS=["data-bs-theme"];function XS(t,e,n,s,r,o){const a=i.resolveComponent("vu-admin-table");return t.entity&&t.settings?(i.openBlock(),i.createElementBlock("div",GS,[t.auth?(i.openBlock(),i.createElementBlock("div",{key:0,class:"vu-admin","data-bs-theme":[t.settings.theme]},[i.createVNode(a,{settings:t.settings,auth:t.auth},null,8,["settings","auth"])],8,YS)):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0)}const du=Ge(KS,[["render",XS]]),ZS=t=>{const e=new DataView(t);let n="";for(let s=0;s<e.byteLength;s+=4)n+=e.getUint32(s).toString(16).padStart(8,"0");return n},QS=(t=>async(e,{outputFormat:n="hex"}={})=>{typeof e=="string"&&(e=new globalThis.TextEncoder().encode(e));const s=await globalThis.crypto.subtle.digest(t,e);return n==="hex"?ZS(s):s})("SHA-384");bo();const JS={name:"VuAuth",props:{modelValue:Object},data(){return{auth:void 0,username:"",password:"",password_again:"",accepts:{},inputs:{},recaptchaSiteKey:null,responseMessage:null,captcha:{items:["A","B","C","D","E"],required:"D",selected:null},modalId:null,modalElement:null,modalWindow:null}},components:{VuAdminForm:lu},watch:{modelValue(t,e){t!=e&&(this.auth=t,this.updateInputs(),this.$forceUpdate())}},methods:{updateInputs(){this.auth.inputs&&(this.inputs=Object.assign(this.inputs,this.auth.inputs))},checkStorage(){this.auth.user={},this.auth.user=JSON.parse(localStorage.getItem("vu-user")),this.auth.header=JSON.parse(localStorage.getItem("vu-header")),this.auth.settings=JSON.parse(localStorage.getItem("vu-settings")),this.auth.user&&(this.auth.success=!0),this.$emit("update:modelValue",this.auth)},async handleSubmit(){if(this.auth.panel=="login"){this.handleLogin();return}if(this.auth.panel=="forgot"){this.handleForgotPasswordSubmit();return}if(this.auth.panel=="registration"){this.handleNewRegistrationSubmit();return}},async handleLogin(){if(!this.username||!this.password)return;const t=await fetch(this.settings.api.login,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:await this.hashPassword(this.password),accept:this.accepts})});if(t.ok){const e=await t.json();this.responseOk=!0,this.responseMessage="Sikeres bejelentkezs",this.login(e),this.close()}else this.responseOk=!1,this.auth.success=!1,this.responseMessage="Sikertelen bejelentkezs"},async handleNewRegistrationSubmit(){if(!this.username||!this.password||!this.password_again||this.password!=this.password_again)return;const t=await fetch(this.settings.api.register,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:await this.hashPassword(this.password),accept:this.accepts,input:this.inputs})});t.ok?(await t.json(),this.responseOk=!0,this.responseMessage="Sikeres regisztrci"):(this.responseOk=!1,this.responseMessage="Sikertelen regisztrci")},handleForgotPasswordSubmit(){console.log("Elfelejtett jelsz e-mail bekldve:",this.email),alert("E-mail elkldve a megadott cmre!"),this.reset()},async hashPassword(t){this.settings.password.hash=this.settings.password.hash===void 0?0:this.settings.password.hash;let e=t;for(let n=0;n<this.settings.password.hash;n++)e=await QS(e);return e},reset(){this.password="",this.password_again="",this.responseMessage="",this.responseOk=!1},close(){this.auth.visible=!1,this.$emit("update:modelValue",this.auth),this.reset()},toggleClear(){this.auth.panel="login",this.reset()},toggleForgotPassword(){this.auth.panel=this.auth.panel!=="forgot"?"forgot":"login",this.reset()},toggleNewRegistration(){this.auth.panel=this.auth.panel!=="registration"?"registration":"login",this.reset()},toggleHelp(){this.auth.panel=this.auth.panel!=="help"?"help":"login",this.reset()},toggleType(t){this.settings[t].type=this.settings[t].type!="password"?"password":"text",this.$forceUpdate()},onCaptchaClick(){console.log("reCAPTCHA clicked")},authUpdate(){this.$emit("update:modelValue",this.auth)},handleEscapeKey(t){t.key==="Escape"&&this.close()},login(t){this.settings.onSuccess&&(this.settings.onSuccess(t,this.auth),localStorage.setItem("vu-user",JSON.stringify(this.auth.user)),localStorage.setItem("vu-header",JSON.stringify(this.auth.header)),localStorage.setItem("vu-settings",JSON.stringify(this.auth.settings))),this.auth.success=!0,setTimeout(()=>{this.authUpdate(t),this.$forceUpdate()},0)},logout(){this.auth.success=!1,this.auth.header=null,this.auth.settings=null,this.auth.user=null,this.$emit("update:modelValue",this.auth),localStorage.removeItem("vu-user"),localStorage.removeItem("vu-header"),localStorage.removeItem("vu-settings")},showProfilModal(){this.modalWindow.show()},getValueOrFunction(t,e){return pn(t,e,this.settings,this)}},created(){window.VuSettings&&window.VuSettings.auth&&(this.settings=window.VuSettings.auth);let t=Math.round(Math.random()*1e5);this.formId="form_profil_"+t,this.modalId="modal_profil_"+t},mounted(){if(window.addEventListener("keydown",this.handleEscapeKey),this.recaptchaSiteKey&&!document.querySelector('script[src="https://www.google.com/recaptcha/api.js"]')){const t=document.createElement("script");t.src="https://www.google.com/recaptcha/api.js",t.async=!0,t.defer=!0,document.head.appendChild(t)}this.settings.username.value&&(this.username=this.settings.username.value),this.auth||(this.auth={user:void 0,header:void 0,settings:void 0,success:!1},this.authUpdate()),this.checkStorage(),this.reset(),this.updateInputs(),this.$forceUpdate()},beforeUnmount(){window.removeEventListener("keydown",this.handleEscapeKey)}},eO={key:0,class:"vua-auth"},tO={class:"col-12 col-sm-10 col-md-8 col-lg-6 col-xl-4 mx-auto"},nO={class:"text-center mt-2 mb-4"},sO={key:0},iO={key:1},rO={key:2},oO={key:3},aO={key:0},lO=["innerHTML"],cO={class:"d-flex justify-content-between"},dO={class:"mb-3"},hO={for:"email",class:"form-label text-primary"},uO={class:"input-group"},fO=["type","placeholder"],mO=["innerHTML"],pO={class:"mb-3"},gO={for:"password",class:"form-label text-primary"},bO={class:"input-group"},yO=["type","placeholder","pattern","minlength"],EO={key:0,class:"bi bi-eye"},_O={key:1,class:"bi bi-eye-slash"},wO=["innerHTML"],kO={key:0,class:"mb-4"},NO={for:"password_again",class:"form-label text-primary"},TO={key:0,class:"text-danger"},AO={class:"input-group"},CO=["type","placeholder","minlength"],SO={key:0,class:"bi bi-eye"},OO={key:1,class:"bi bi-eye-slash"},LO=["innerHTML"],BO={class:"mb-3 text-center"},VO=["data-sitekey"],IO={key:1,class:"mb-4 text-center"},vO={key:2,class:"d-flex mb-4"},DO={key:3},xO={key:0},$O=["for","innerHTML"],MO={class:"input-group"},RO=["innerHTML"],qO=["required","onUpdate:modelValue","multiple"],PO=["value","innerHTML"],FO=["id","name","type","onUpdate:modelValue","placeholder","required"],jO=["innerHTML"],UO=["innerHTML"],HO={key:0,class:"form-check"},zO=["id","name","onUpdate:modelValue","required"],WO=["for","innerHTML"],KO={key:4,class:"mt-4"},GO=["innerHTML"],YO={class:"mt-4 d-flex justify-content-between"},XO={key:0,class:"bi bi-person-plus mx-1"},ZO={key:1,class:"bi bi-arrow-right-square mx-1"},QO={key:5,class:"mt-3 text-center"},JO=["innerHTML"],eL={class:"mt-2 text-end"},tL=["id"],nL={class:"modal-dialog modal-xl"},sL={class:"modal-content h-100"};function iL(t,e,n,s,r,o){const a=i.resolveComponent("VuAdminForm");return t.auth&&t.auth.visible?(i.openBlock(),i.createElementBlock("div",eO,[i.createElementVNode("div",{class:"row d-flex justify-content-center align-items-center min-vh-100",onClick:e[16]||(e[16]=i.withModifiers((...l)=>t.close&&t.close(...l),["stop"]))},[i.createElementVNode("div",tO,[i.createElementVNode("div",{class:"card shadow p-4 position-relative bg-light",onClick:e[15]||(e[15]=i.withModifiers(()=>{},["stop"]))},[i.createElementVNode("button",{type:"button",class:"btn position-absolute top-0 end-0 p-0 m-2",onClick:e[0]||(e[0]=i.withModifiers((...l)=>t.close&&t.close(...l),["stop"]))},e[18]||(e[18]=[i.createElementVNode("i",{class:"bi bi-x px-1 text-muted"},null,-1)])),i.createElementVNode("h1",nO,[t.auth.panel=="forgot"?(i.openBlock(),i.createElementBlock("span",sO," Elfelejtett jelsz ")):i.createCommentVNode("",!0),t.auth.panel=="registration"?(i.openBlock(),i.createElementBlock("span",iO," Regisztrci ")):i.createCommentVNode("",!0),t.auth.panel=="help"?(i.openBlock(),i.createElementBlock("span",rO," Segtsg ")):i.createCommentVNode("",!0),t.auth.panel=="login"?(i.openBlock(),i.createElementBlock("span",oO," Bejelentkezs ")):i.createCommentVNode("",!0)]),t.auth.panel=="help"?(i.openBlock(),i.createElementBlock("div",aO,[i.createElementVNode("div",{innerHTML:t.settings.help,class:"mb-4"},null,8,lO),i.createElementVNode("div",cO,[t.auth.panel!="login"?(i.openBlock(),i.createElementBlock("button",{key:0,type:"button",onClick:e[1]||(e[1]=i.withModifiers((...l)=>t.toggleClear&&t.toggleClear(...l),["stop"])),class:"btn btn-secondary w-100 me-1"},e[19]||(e[19]=[i.createElementVNode("i",{class:"bi bi-arrow-left-square mx-1"},null,-1),i.createTextVNode(" Vissza ")]))):i.createCommentVNode("",!0)])])):(i.openBlock(),i.createElementBlock("form",{key:1,onSubmit:e[13]||(e[13]=i.withModifiers(l=>t.handleSubmit(),["prevent"])),onClick:e[14]||(e[14]=i.withModifiers(()=>{},["stop"]))},[i.createElementVNode("div",dO,[i.createElementVNode("label",hO,i.toDisplayString(t.settings.username.label),1),i.createElementVNode("div",uO,[t.settings.username.icon?(i.openBlock(),i.createElementBlock("span",{key:0,class:i.normalizeClass(["input-group-text",{"rounded-bottom-0":t.settings.username.help}])},[i.createElementVNode("i",{class:i.normalizeClass([t.settings.username.icon])},null,2)],2)):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("input",{id:"email",name:"email",type:t.settings.username.type,"onUpdate:modelValue":e[2]||(e[2]=l=>t.username=l),class:i.normalizeClass(["form-control",{"rounded-bottom-0":t.settings.username.help}]),placeholder:t.settings.username.placeholder,required:""},null,10,fO),[[i.vModelDynamic,t.username]])]),t.settings.username.help?(i.openBlock(),i.createElementBlock("small",{key:0,class:"d-block border border-top-0 rounded-bottom bg-light p-2 text-muted",innerHTML:t.settings.username.help},null,8,mO)):i.createCommentVNode("",!0)]),t.auth.panel!="forgot"?(i.openBlock(),i.createElementBlock(i.Fragment,{key:0},[i.createElementVNode("div",pO,[i.createElementVNode("label",gO,i.toDisplayString(t.settings.password.label),1),i.createElementVNode("div",bO,[t.settings.password.icon?(i.openBlock(),i.createElementBlock("span",{key:0,class:i.normalizeClass(["input-group-text",{"rounded-bottom-0":t.auth.panel=="registration"&&t.settings.password.help}])},[i.createElementVNode("i",{class:i.normalizeClass([t.settings.password.icon])},null,2)],2)):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("input",{id:"password",name:"password",type:t.settings.password.type,"onUpdate:modelValue":e[3]||(e[3]=l=>t.password=l),class:i.normalizeClass(["form-control",{"rounded-bottom-0":t.auth.panel=="registration"&&t.settings.password.help}]),placeholder:t.settings.password.placeholder,pattern:t.settings.password.pattern,minlength:t.auth.panel=="registration"?t.settings.password.minlength:1,required:""},null,10,yO),[[i.vModelDynamic,t.password]]),t.auth.panel=="registration"?(i.openBlock(),i.createElementBlock("span",{key:1,class:i.normalizeClass(["input-group-text",{"rounded-bottom-0":t.auth.panel=="registration"&&t.settings.password.help}])},[i.createElementVNode("small",{class:i.normalizeClass(["",{"text-success":t.password.length>=t.settings.password.minlength,"text-danger":t.password.length<t.settings.password.minlength}])},i.toDisplayString(t.password.length),3)],2)):i.createCommentVNode("",!0),i.createElementVNode("span",{class:i.normalizeClass(["cursor-pointer input-group-text",{"rounded-bottom-0":t.auth.panel=="registration"&&t.settings.password.help}]),onClick:e[4]||(e[4]=i.withModifiers(l=>t.toggleType("password"),["stop"]))},[t.settings.password.type=="password"?(i.openBlock(),i.createElementBlock("i",EO)):(i.openBlock(),i.createElementBlock("i",_O))],2)]),t.auth.panel=="registration"&&t.settings.password.help?(i.openBlock(),i.createElementBlock("small",{key:0,class:"d-block border border-top-0 rounded-bottom bg-light p-2 text-muted",innerHTML:t.settings.password.help},null,8,wO)):i.createCommentVNode("",!0)]),t.auth.panel==="registration"?(i.openBlock(),i.createElementBlock("div",kO,[i.createElementVNode("label",NO,[i.createTextVNode(i.toDisplayString(t.settings.password_again.label)+" ",1),t.password_again.length>0&&t.password_again!=t.password?(i.openBlock(),i.createElementBlock("small",TO," ( a kt jelsz nem egyezik ) ")):i.createCommentVNode("",!0)]),i.createElementVNode("div",AO,[t.settings.password.icon?(i.openBlock(),i.createElementBlock("span",{key:0,class:i.normalizeClass(["input-group-text",{"rounded-bottom-0":t.settings.password_again.help}])},[i.createElementVNode("i",{class:i.normalizeClass([t.settings.password_again.icon])},null,2)],2)):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("input",{id:"password_again",name:"password_again",type:t.settings.password_again.type,"onUpdate:modelValue":e[5]||(e[5]=l=>t.password_again=l),class:i.normalizeClass(["form-control",{"rounded-bottom-0":t.settings.password_again.help}]),placeholder:t.settings.password_again.placeholder,minlength:t.settings.password.minlength,required:""},null,10,CO),[[i.vModelDynamic,t.password_again]]),i.createElementVNode("span",{class:i.normalizeClass(["input-group-text",{"rounded-bottom-0":t.settings.password_again.help}])},[i.createElementVNode("small",{class:i.normalizeClass(["",{"text-success":t.password_again.length>=t.settings.password.minlength,"text-danger":t.password_again.length<t.settings.password.minlength}])},i.toDisplayString(t.password_again.length),3)],2),i.createElementVNode("span",{class:i.normalizeClass(["cursor-pointer input-group-text",{"rounded-bottom-0":t.auth.panel=="registration"&&t.settings.password_again.help}]),onClick:e[6]||(e[6]=i.withModifiers(l=>t.toggleType("password_again"),["stop"]))},[t.settings.password_again.type=="password"?(i.openBlock(),i.createElementBlock("i",SO)):(i.openBlock(),i.createElementBlock("i",OO))],2)]),t.auth.panel=="registration"&&t.settings.password_again.help?(i.openBlock(),i.createElementBlock("small",{key:0,class:"d-block border border-top-0 rounded-bottom bg-light p-2 text-muted",innerHTML:t.settings.password_again.help},null,8,LO)):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),i.createElementVNode("div",BO,[i.createElementVNode("div",{class:"g-recaptcha","data-sitekey":t.recaptchaSiteKey,onClick:e[7]||(e[7]=i.withModifiers((...l)=>t.onCaptchaClick&&t.onCaptchaClick(...l),["stop"]))},null,8,VO)])],64)):i.createCommentVNode("",!0),t.auth.panel=="login"?(i.openBlock(),i.createElementBlock("div",IO,[i.createElementVNode("button",{type:"button",class:"btn btn-link p-0 text-decoration-none text-nowrap",onClick:e[8]||(e[8]=i.withModifiers((...l)=>t.toggleForgotPassword&&t.toggleForgotPassword(...l),["stop"]))}," Elfelejtetted a jelszavad? "),t.settings.help?(i.openBlock(),i.createElementBlock("button",{key:0,type:"button",class:"btn btn-link p-0 text-decoration-none text-nowrap",onClick:e[9]||(e[9]=i.withModifiers((...l)=>t.toggleHelp&&t.toggleHelp(...l),["stop"]))}," Segtsgre van szksged? ")):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),t.auth.panel=="forgot"?(i.openBlock(),i.createElementBlock("div",vO,e[20]||(e[20]=[i.createElementVNode("small",{class:"text-muted"}," A megadott e-mail cmre ( amennyiben az szerepel az adatbzisunkban ) egy levelet kldnk, melyben az j jelsz ignylse linkre kattintva egy weboldalra jutsz. Ott tudod megadni az j jelszavadat. Az e-mailben szerepl link csak 1 rig rvnyes. ",-1)]))):i.createCommentVNode("",!0),t.auth.panel=="registration"?(i.openBlock(),i.createElementBlock("div",DO,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.settings.inputs,(l,c)=>(i.openBlock(),i.createElementBlock("div",{key:c,class:"mb-4"},[l.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createElementBlock("div",xO,[i.createElementVNode("label",{for:c,class:"form-label text-primary",innerHTML:t.getValueOrFunction(l.label)},null,8,$O),i.createElementVNode("div",MO,[l.prefix?(i.openBlock(),i.createElementBlock("span",{key:0,class:i.normalizeClass(["input-group-text",{"rounded-bottom-0":l.help}]),innerHTML:t.getValueOrFunction(l.prefix)},null,10,RO)):i.createCommentVNode("",!0),l.type=="select"?i.withDirectives((i.openBlock(),i.createElementBlock("select",{key:1,class:"form-select",required:l.required,"onUpdate:modelValue":h=>t.inputs[c]=h,multiple:l.multiple},[e[21]||(e[21]=i.createElementVNode("option",null,null,-1)),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(l.options,h=>(i.openBlock(),i.createElementBlock("option",{key:h,value:h.value,innerHTML:t.getValueOrFunction(h.label)},null,8,PO))),128))],8,qO)),[[i.vModelSelect,t.inputs[c]]]):i.withDirectives((i.openBlock(),i.createElementBlock("input",{key:2,id:c,name:c,type:l.type,"onUpdate:modelValue":h=>t.inputs[c]=h,class:i.normalizeClass(["form-control",{"rounded-bottom-0":l.help}]),placeholder:l.placeholder,required:l.required},null,10,FO)),[[i.vModelDynamic,t.inputs[c]]]),l.suffix?(i.openBlock(),i.createElementBlock("span",{key:3,class:i.normalizeClass(["input-group-text",{"rounded-bottom-0":l.help}]),innerHTML:t.getValueOrFunction(l.suffix)},null,10,jO)):i.createCommentVNode("",!0)]),l.help?(i.openBlock(),i.createElementBlock("small",{key:0,class:"d-block border border-top-0 rounded-bottom bg-light p-2 text-muted",innerHTML:t.getValueOrFunction(l.help)},null,8,UO)):i.createCommentVNode("",!0)]))]))),128))])):i.createCommentVNode("",!0),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.settings.accepts,l=>(i.openBlock(),i.createElementBlock("div",{key:l},[l.panels.indexOf(t.auth.panel)>=0?(i.openBlock(),i.createElementBlock("div",HO,[i.withDirectives(i.createElementVNode("input",{type:"checkbox",class:"form-check-input",id:"accept_"+l.name,name:"accept_"+l.name,"onUpdate:modelValue":c=>t.accepts[l.name]=c,required:l.required},null,8,zO),[[i.vModelCheckbox,t.accepts[l.name]]]),i.createElementVNode("label",{class:"form-check-label",for:"accept_"+l.name,innerHTML:t.getValueOrFunction(l.label)},null,8,WO)])):i.createCommentVNode("",!0)]))),128)),t.auth.panel=="registration"&&t.settings.registration?(i.openBlock(),i.createElementBlock("div",KO,[t.settings.registration.help?(i.openBlock(),i.createElementBlock("div",{key:0,innerHTML:t.getValueOrFunction(t.settings.registration.help)},null,8,GO)):i.createCommentVNode("",!0)])):i.createCommentVNode("",!0),i.createElementVNode("div",YO,[t.auth.panel!="login"?(i.openBlock(),i.createElementBlock("button",{key:0,type:"button",onClick:e[10]||(e[10]=i.withModifiers((...l)=>t.toggleClear&&t.toggleClear(...l),["stop"])),class:"btn btn-secondary w-100 me-2 text-nowrap"},e[22]||(e[22]=[i.createElementVNode("i",{class:"bi bi-arrow-left-square mx-1"},null,-1),i.createTextVNode(" Bejelentkezs ")]))):i.createCommentVNode("",!0),t.auth.panel=="login"?(i.openBlock(),i.createElementBlock("button",{key:1,type:"button",class:"btn btn-warning w-100 me-2 text-nowrap",onClick:e[11]||(e[11]=i.withModifiers((...l)=>t.toggleNewRegistration&&t.toggleNewRegistration(...l),["stop"]))},e[23]||(e[23]=[i.createElementVNode("i",{class:"bi bi-person-plus mx-1"},null,-1),i.createTextVNode(" Regisztrci ")]))):i.createCommentVNode("",!0),i.createElementVNode("button",{type:"submit",class:i.normalizeClass(["btn w-100 text-nowrap",{"btn-primary":t.auth.panel!="registration","btn-warning":t.auth.panel=="registration"}])},[i.createTextVNode(i.toDisplayString(t.auth.panel=="forgot"?"j jelsz krse":t.auth.panel=="registration"?"Regisztrci":"Bejelentkezs")+" ",1),t.auth.panel=="registration"?(i.openBlock(),i.createElementBlock("i",XO)):(i.openBlock(),i.createElementBlock("i",ZO))],2)]),t.responseMessage?(i.openBlock(),i.createElementBlock("div",QO,[i.createElementVNode("div",{class:i.normalizeClass({"text-danger":!t.responseOk,"text-success":t.responseOk}),innerHTML:t.responseMessage},null,10,JO)])):i.createCommentVNode("",!0),i.createElementVNode("div",eL,[i.createElementVNode("button",{type:"button",onClick:e[12]||(e[12]=i.withModifiers((...l)=>t.close&&t.close(...l),["stop"])),class:"btn btn-light border w-100 me-1"},e[24]||(e[24]=[i.createElementVNode("i",{class:"bi bi-x-square mx-1"},null,-1),i.createTextVNode(" Mgsem ")]))])],32))])])]),i.createElementVNode("div",{class:"modal shadow",id:t.modalId,tabindex:"-1"},[i.createElementVNode("div",nL,[i.createElementVNode("div",sL,[t.settings.form&&t.settings.form.visible&&t.settings.form.groups?(i.openBlock(),i.createBlock(a,{key:0,modelValue:t.item,"onUpdate:modelValue":e[17]||(e[17]=l=>t.item=l),formid:t.formId,settings:t.settings,modalWindow:t.modalWindow,auth:t.auth,saveItem:t.saveItem,deleteItem:t.deleteItem,reloadTable:t.reloadTable,fetchRelation:t.fetchRelation},null,8,["modelValue","formid","settings","modalWindow","auth","saveItem","deleteItem","reloadTable","fetchRelation"])):i.createCommentVNode("",!0)])])],8,tL)])):i.createCommentVNode("",!0)}const hu=Ge(JS,[["render",iL]]);bo();const rL={name:"VuUserButton",props:{modelValue:Object,panel:String},data(){return{auth:{},settings:{}}},watch:{modelValue(t,e){t!=e&&(this.auth=t,this.$forceUpdate())}},computed:{},methods:{getValueOrFunction(t,e){return pn(t,e,this.settings,this)},dropdownAction(t,e){e&&e.stopPropagation();let n={dropdown:t,settings:this.settings};if(t.action){t.action(n,this);return}},updateAuth(){this.$emit("update:modelValue",this.auth)},togglePanel(){this.auth.visible=!this.auth.visible,this.auth.panel=this.panel?this.panel:"login",this.updateAuth(),console.log(this.auth)},logout(){this.auth.visible=!1,this.auth.user=null,this.auth.header=null,this.auth.success=!1,localStorage.removeItem("vu-header"),localStorage.removeItem("vu-user"),this.updateAuth()}},created(){window.VuSettings&&window.VuSettings.button&&window.VuSettings.button[this.panel]&&(this.settings=window.VuSettings.button[this.panel])},mounted(){}},oL={key:0,class:"vua-user-button d-inline-block"},aL={key:0,class:"dropdown"},lL=["innerHTML"],cL={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"userDropdown"},dL=["onClick","innerHTML"],hL={key:1,class:"d-inline-block"},uL=["innerHTML"];function fL(t,e,n,s,r,o){return!t.auth.user&&t.panel!="login"||t.panel=="login"?(i.openBlock(),i.createElementBlock("div",oL,[t.auth.user?(i.openBlock(),i.createElementBlock("div",aL,[i.createElementVNode("button",{class:i.normalizeClass(["dropdown-toggle",[t.settings.class]]),type:"button",id:"userDropdown","data-bs-toggle":"dropdown","aria-expanded":"false"},[i.createElementVNode("span",{innerHTML:t.getValueOrFunction(t.settings.label)},null,8,lL)],2),i.createElementVNode("ul",cL,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.settings.dropdowns,a=>(i.openBlock(),i.createElementBlock("li",{key:a,class:i.normalizeClass([a.class]),onClick:l=>t.dropdownAction(a),innerHTML:t.getValueOrFunction(a.label)},null,10,dL))),128))])])):(i.openBlock(),i.createElementBlock("div",hL,[i.createElementVNode("button",{class:i.normalizeClass([t.settings.class]),type:"button",onClick:e[0]||(e[0]=(...a)=>t.togglePanel&&t.togglePanel(...a))},[t.settings.icon?(i.openBlock(),i.createElementBlock("i",{key:0,class:i.normalizeClass([t.settings.icon])},null,2)):i.createCommentVNode("",!0),i.createElementVNode("span",{innerHTML:t.getValueOrFunction(t.settings.label)},null,8,uL)],2)]))])):i.createCommentVNode("",!0)}const uu=Ge(rL,[["render",fL]]),mL={install(t){t.component("VuAdmin",du),t.component("VuAuth",hu),t.component("VuUserButton",uu)}};fe.VuAdmin=du,fe.VuAuth=hu,fe.VuUserButton=uu,fe.default=mL,Object.defineProperties(fe,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
