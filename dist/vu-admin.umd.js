(function(fe,s){typeof exports=="object"&&typeof module<"u"?s(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],s):(fe=typeof globalThis<"u"?globalThis:fe||self,s(fe.VuAdmin={},fe.Vue))})(this,function(fe,s){"use strict";var R2=Object.defineProperty;var q2=(fe,s,be)=>s in fe?R2(fe,s,{enumerable:!0,configurable:!0,writable:!0,value:be}):fe[s]=be;var M=(fe,s,be)=>q2(fe,typeof s!="symbol"?s+"":s,be);var be="top",$e="bottom",Me="right",Le="left",yi="auto",Dn=[be,$e,Me,Le],an="start",vn="end",cl="clippingParents",Br="viewport",$n="popper",dl="reference",Vr=Dn.reduce(function(t,e){return t.concat([e+"-"+an,e+"-"+vn])},[]),Ir=[].concat(Dn,[yi]).reduce(function(t,e){return t.concat([e,e+"-"+an,e+"-"+vn])},[]),hl="beforeRead",ul="read",fl="afterRead",ml="beforeMain",pl="main",gl="afterMain",bl="beforeWrite",yl="write",El="afterWrite",_l=[hl,ul,fl,ml,pl,gl,bl,yl,El];function dt(t){return t?(t.nodeName||"").toLowerCase():null}function Re(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ln(t){var e=Re(t).Element;return t instanceof e||t instanceof Element}function Pe(t){var e=Re(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function xr(t){if(typeof ShadowRoot>"u")return!1;var e=Re(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function pu(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},o=e.elements[n];!Pe(o)||!dt(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(a){var c=r[a];c===!1?o.removeAttribute(a):o.setAttribute(a,c===!0?"":c)}))})}function gu(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),c=a.reduce(function(l,h){return l[h]="",l},{});!Pe(r)||!dt(r)||(Object.assign(r.style,c),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}const Dr={name:"applyStyles",enabled:!0,phase:"write",fn:pu,effect:gu,requires:["computeStyles"]};function ht(t){return t.split("-")[0]}var cn=Math.max,Ei=Math.min,Mn=Math.round;function vr(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function wl(){return!/^((?!chrome|android).)*safari/i.test(vr())}function Rn(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,o=1;e&&Pe(t)&&(r=t.offsetWidth>0&&Mn(i.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Mn(i.height)/t.offsetHeight||1);var a=ln(t)?Re(t):window,c=a.visualViewport,l=!wl()&&n,h=(i.left+(l&&c?c.offsetLeft:0))/r,f=(i.top+(l&&c?c.offsetTop:0))/o,u=i.width/r,p=i.height/o;return{width:u,height:p,top:f,right:h+u,bottom:f+p,left:h,x:h,y:f}}function $r(t){var e=Rn(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function kl(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&xr(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Tt(t){return Re(t).getComputedStyle(t)}function bu(t){return["table","td","th"].indexOf(dt(t))>=0}function Ft(t){return((ln(t)?t.ownerDocument:t.document)||window.document).documentElement}function _i(t){return dt(t)==="html"?t:t.assignedSlot||t.parentNode||(xr(t)?t.host:null)||Ft(t)}function Nl(t){return!Pe(t)||Tt(t).position==="fixed"?null:t.offsetParent}function yu(t){var e=/firefox/i.test(vr()),n=/Trident/i.test(vr());if(n&&Pe(t)){var i=Tt(t);if(i.position==="fixed")return null}var r=_i(t);for(xr(r)&&(r=r.host);Pe(r)&&["html","body"].indexOf(dt(r))<0;){var o=Tt(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function ws(t){for(var e=Re(t),n=Nl(t);n&&bu(n)&&Tt(n).position==="static";)n=Nl(n);return n&&(dt(n)==="html"||dt(n)==="body"&&Tt(n).position==="static")?e:n||yu(t)||e}function Mr(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ks(t,e,n){return cn(t,Ei(e,n))}function Eu(t,e,n){var i=ks(t,e,n);return i>n?n:i}function Tl(){return{top:0,right:0,bottom:0,left:0}}function Al(t){return Object.assign({},Tl(),t)}function Cl(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var _u=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Al(typeof e!="number"?e:Cl(e,Dn))};function wu(t){var e,n=t.state,i=t.name,r=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,c=ht(n.placement),l=Mr(c),h=[Le,Me].indexOf(c)>=0,f=h?"height":"width";if(!(!o||!a)){var u=_u(r.padding,n),p=$r(o),g=l==="y"?be:Le,E=l==="y"?$e:Me,w=n.rects.reference[f]+n.rects.reference[l]-a[l]-n.rects.popper[f],k=a[l]-n.rects.reference[l],N=ws(o),L=N?l==="y"?N.clientHeight||0:N.clientWidth||0:0,x=w/2-k/2,D=u[g],v=L-p[f]-u[E],z=L/2-p[f]/2+x,X=ks(D,z,v),ee=l;n.modifiersData[i]=(e={},e[ee]=X,e.centerOffset=X-z,e)}}function ku(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||kl(e.elements.popper,r)&&(e.elements.arrow=r))}const Sl={name:"arrow",enabled:!0,phase:"main",fn:wu,effect:ku,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qn(t){return t.split("-")[1]}var Nu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Tu(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:Mn(n*r)/r||0,y:Mn(i*r)/r||0}}function Ol(t){var e,n=t.popper,i=t.popperRect,r=t.placement,o=t.variation,a=t.offsets,c=t.position,l=t.gpuAcceleration,h=t.adaptive,f=t.roundOffsets,u=t.isFixed,p=a.x,g=p===void 0?0:p,E=a.y,w=E===void 0?0:E,k=typeof f=="function"?f({x:g,y:w}):{x:g,y:w};g=k.x,w=k.y;var N=a.hasOwnProperty("x"),L=a.hasOwnProperty("y"),x=Le,D=be,v=window;if(h){var z=ws(n),X="clientHeight",ee="clientWidth";if(z===Re(n)&&(z=Ft(n),Tt(z).position!=="static"&&c==="absolute"&&(X="scrollHeight",ee="scrollWidth")),z=z,r===be||(r===Le||r===Me)&&o===vn){D=$e;var de=u&&z===v&&v.visualViewport?v.visualViewport.height:z[X];w-=de-i.height,w*=l?1:-1}if(r===Le||(r===be||r===$e)&&o===vn){x=Me;var se=u&&z===v&&v.visualViewport?v.visualViewport.width:z[ee];g-=se-i.width,g*=l?1:-1}}var b=Object.assign({position:c},h&&Nu),S=f===!0?Tu({x:g,y:w},Re(n)):{x:g,y:w};if(g=S.x,w=S.y,l){var _;return Object.assign({},b,(_={},_[D]=L?"0":"",_[x]=N?"0":"",_.transform=(v.devicePixelRatio||1)<=1?"translate("+g+"px, "+w+"px)":"translate3d("+g+"px, "+w+"px, 0)",_))}return Object.assign({},b,(e={},e[D]=L?w+"px":"",e[x]=N?g+"px":"",e.transform="",e))}function Au(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,a=o===void 0?!0:o,c=n.roundOffsets,l=c===void 0?!0:c,h={placement:ht(e.placement),variation:qn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ol(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ol(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Rr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Au,data:{}};var wi={passive:!0};function Cu(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,o=r===void 0?!0:r,a=i.resize,c=a===void 0?!0:a,l=Re(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&h.forEach(function(f){f.addEventListener("scroll",n.update,wi)}),c&&l.addEventListener("resize",n.update,wi),function(){o&&h.forEach(function(f){f.removeEventListener("scroll",n.update,wi)}),c&&l.removeEventListener("resize",n.update,wi)}}const qr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Cu,data:{}};var Su={left:"right",right:"left",bottom:"top",top:"bottom"};function ki(t){return t.replace(/left|right|bottom|top/g,function(e){return Su[e]})}var Ou={start:"end",end:"start"};function Ll(t){return t.replace(/start|end/g,function(e){return Ou[e]})}function Pr(t){var e=Re(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function jr(t){return Rn(Ft(t)).left+Pr(t).scrollLeft}function Lu(t,e){var n=Re(t),i=Ft(t),r=n.visualViewport,o=i.clientWidth,a=i.clientHeight,c=0,l=0;if(r){o=r.width,a=r.height;var h=wl();(h||!h&&e==="fixed")&&(c=r.offsetLeft,l=r.offsetTop)}return{width:o,height:a,x:c+jr(t),y:l}}function Bu(t){var e,n=Ft(t),i=Pr(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=cn(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=cn(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),c=-i.scrollLeft+jr(t),l=-i.scrollTop;return Tt(r||n).direction==="rtl"&&(c+=cn(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:c,y:l}}function Fr(t){var e=Tt(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function Bl(t){return["html","body","#document"].indexOf(dt(t))>=0?t.ownerDocument.body:Pe(t)&&Fr(t)?t:Bl(_i(t))}function Ns(t,e){var n;e===void 0&&(e=[]);var i=Bl(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),o=Re(i),a=r?[o].concat(o.visualViewport||[],Fr(i)?i:[]):i,c=e.concat(a);return r?c:c.concat(Ns(_i(a)))}function Ur(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Vu(t,e){var n=Rn(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Vl(t,e,n){return e===Br?Ur(Lu(t,n)):ln(e)?Vu(e,n):Ur(Bu(Ft(t)))}function Iu(t){var e=Ns(_i(t)),n=["absolute","fixed"].indexOf(Tt(t).position)>=0,i=n&&Pe(t)?ws(t):t;return ln(i)?e.filter(function(r){return ln(r)&&kl(r,i)&&dt(r)!=="body"}):[]}function xu(t,e,n,i){var r=e==="clippingParents"?Iu(t):[].concat(e),o=[].concat(r,[n]),a=o[0],c=o.reduce(function(l,h){var f=Vl(t,h,i);return l.top=cn(f.top,l.top),l.right=Ei(f.right,l.right),l.bottom=Ei(f.bottom,l.bottom),l.left=cn(f.left,l.left),l},Vl(t,a,i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function Il(t){var e=t.reference,n=t.element,i=t.placement,r=i?ht(i):null,o=i?qn(i):null,a=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,l;switch(r){case be:l={x:a,y:e.y-n.height};break;case $e:l={x:a,y:e.y+e.height};break;case Me:l={x:e.x+e.width,y:c};break;case Le:l={x:e.x-n.width,y:c};break;default:l={x:e.x,y:e.y}}var h=r?Mr(r):null;if(h!=null){var f=h==="y"?"height":"width";switch(o){case an:l[h]=l[h]-(e[f]/2-n[f]/2);break;case vn:l[h]=l[h]+(e[f]/2-n[f]/2);break}}return l}function Pn(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,o=n.strategy,a=o===void 0?t.strategy:o,c=n.boundary,l=c===void 0?cl:c,h=n.rootBoundary,f=h===void 0?Br:h,u=n.elementContext,p=u===void 0?$n:u,g=n.altBoundary,E=g===void 0?!1:g,w=n.padding,k=w===void 0?0:w,N=Al(typeof k!="number"?k:Cl(k,Dn)),L=p===$n?dl:$n,x=t.rects.popper,D=t.elements[E?L:p],v=xu(ln(D)?D:D.contextElement||Ft(t.elements.popper),l,f,a),z=Rn(t.elements.reference),X=Il({reference:z,element:x,strategy:"absolute",placement:r}),ee=Ur(Object.assign({},x,X)),de=p===$n?ee:z,se={top:v.top-de.top+N.top,bottom:de.bottom-v.bottom+N.bottom,left:v.left-de.left+N.left,right:de.right-v.right+N.right},b=t.modifiersData.offset;if(p===$n&&b){var S=b[r];Object.keys(se).forEach(function(_){var I=[Me,$e].indexOf(_)>=0?1:-1,V=[be,$e].indexOf(_)>=0?"y":"x";se[_]+=S[V]*I})}return se}function Du(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,o=n.rootBoundary,a=n.padding,c=n.flipVariations,l=n.allowedAutoPlacements,h=l===void 0?Ir:l,f=qn(i),u=f?c?Vr:Vr.filter(function(E){return qn(E)===f}):Dn,p=u.filter(function(E){return h.indexOf(E)>=0});p.length===0&&(p=u);var g=p.reduce(function(E,w){return E[w]=Pn(t,{placement:w,boundary:r,rootBoundary:o,padding:a})[ht(w)],E},{});return Object.keys(g).sort(function(E,w){return g[E]-g[w]})}function vu(t){if(ht(t)===yi)return[];var e=ki(t);return[Ll(t),e,Ll(e)]}function $u(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,c=a===void 0?!0:a,l=n.fallbackPlacements,h=n.padding,f=n.boundary,u=n.rootBoundary,p=n.altBoundary,g=n.flipVariations,E=g===void 0?!0:g,w=n.allowedAutoPlacements,k=e.options.placement,N=ht(k),L=N===k,x=l||(L||!E?[ki(k)]:vu(k)),D=[k].concat(x).reduce(function(Z,j){return Z.concat(ht(j)===yi?Du(e,{placement:j,boundary:f,rootBoundary:u,padding:h,flipVariations:E,allowedAutoPlacements:w}):j)},[]),v=e.rects.reference,z=e.rects.popper,X=new Map,ee=!0,de=D[0],se=0;se<D.length;se++){var b=D[se],S=ht(b),_=qn(b)===an,I=[be,$e].indexOf(S)>=0,V=I?"width":"height",A=Pn(e,{placement:b,boundary:f,rootBoundary:u,altBoundary:p,padding:h}),B=I?_?Me:Le:_?$e:be;v[V]>z[V]&&(B=ki(B));var R=ki(B),P=[];if(o&&P.push(A[S]<=0),c&&P.push(A[B]<=0,A[R]<=0),P.every(function(Z){return Z})){de=b,ee=!1;break}X.set(b,P)}if(ee)for(var $=E?3:1,Y=function(j){var ae=D.find(function(ue){var G=X.get(ue);if(G)return G.slice(0,j).every(function(te){return te})});if(ae)return de=ae,"break"},K=$;K>0;K--){var J=Y(K);if(J==="break")break}e.placement!==de&&(e.modifiersData[i]._skip=!0,e.placement=de,e.reset=!0)}}const xl={name:"flip",enabled:!0,phase:"main",fn:$u,requiresIfExists:["offset"],data:{_skip:!1}};function Dl(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function vl(t){return[be,Me,$e,Le].some(function(e){return t[e]>=0})}function Mu(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=Pn(e,{elementContext:"reference"}),c=Pn(e,{altBoundary:!0}),l=Dl(a,i),h=Dl(c,r,o),f=vl(l),u=vl(h);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":u})}const $l={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Mu};function Ru(t,e,n){var i=ht(t),r=[Le,be].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],c=o[1];return a=a||0,c=(c||0)*r,[Le,Me].indexOf(i)>=0?{x:c,y:a}:{x:a,y:c}}function qu(t){var e=t.state,n=t.options,i=t.name,r=n.offset,o=r===void 0?[0,0]:r,a=Ir.reduce(function(f,u){return f[u]=Ru(u,e.rects,o),f},{}),c=a[e.placement],l=c.x,h=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=h),e.modifiersData[i]=a}const Ml={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:qu};function Pu(t){var e=t.state,n=t.name;e.modifiersData[n]=Il({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Hr={name:"popperOffsets",enabled:!0,phase:"read",fn:Pu,data:{}};function ju(t){return t==="x"?"y":"x"}function Fu(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,c=a===void 0?!1:a,l=n.boundary,h=n.rootBoundary,f=n.altBoundary,u=n.padding,p=n.tether,g=p===void 0?!0:p,E=n.tetherOffset,w=E===void 0?0:E,k=Pn(e,{boundary:l,rootBoundary:h,padding:u,altBoundary:f}),N=ht(e.placement),L=qn(e.placement),x=!L,D=Mr(N),v=ju(D),z=e.modifiersData.popperOffsets,X=e.rects.reference,ee=e.rects.popper,de=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,se=typeof de=="number"?{mainAxis:de,altAxis:de}:Object.assign({mainAxis:0,altAxis:0},de),b=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,S={x:0,y:0};if(z){if(o){var _,I=D==="y"?be:Le,V=D==="y"?$e:Me,A=D==="y"?"height":"width",B=z[D],R=B+k[I],P=B-k[V],$=g?-ee[A]/2:0,Y=L===an?X[A]:ee[A],K=L===an?-ee[A]:-X[A],J=e.elements.arrow,Z=g&&J?$r(J):{width:0,height:0},j=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Tl(),ae=j[I],ue=j[V],G=ks(0,X[A],Z[A]),te=x?X[A]/2-$-G-ae-se.mainAxis:Y-G-ae-se.mainAxis,ie=x?-X[A]/2+$+G+ue+se.mainAxis:K+G+ue+se.mainAxis,ne=e.elements.arrow&&ws(e.elements.arrow),le=ne?D==="y"?ne.clientTop||0:ne.clientLeft||0:0,ce=(_=b==null?void 0:b[D])!=null?_:0,ge=B+te-ce-le,_e=B+ie-ce,nn=ks(g?Ei(R,ge):R,B,g?cn(P,_e):P);z[D]=nn,S[D]=nn-B}if(c){var An,ni=D==="x"?be:Le,si=D==="x"?$e:Me,Ie=z[v],Et=v==="y"?"height":"width",Cn=Ie+k[ni],Sn=Ie-k[si],xe=[be,Le].indexOf(N)!==-1,$t=(An=b==null?void 0:b[v])!=null?An:0,hs=xe?Cn:Ie-X[Et]-ee[Et]-$t+se.altAxis,_t=xe?Ie+X[Et]+ee[Et]-$t-se.altAxis:Sn,Mt=g&&xe?Eu(hs,Ie,_t):ks(g?hs:Cn,Ie,g?_t:Sn);z[v]=Mt,S[v]=Mt-Ie}e.modifiersData[i]=S}}const Rl={name:"preventOverflow",enabled:!0,phase:"main",fn:Fu,requiresIfExists:["offset"]};function Uu(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Hu(t){return t===Re(t)||!Pe(t)?Pr(t):Uu(t)}function zu(t){var e=t.getBoundingClientRect(),n=Mn(e.width)/t.offsetWidth||1,i=Mn(e.height)/t.offsetHeight||1;return n!==1||i!==1}function Wu(t,e,n){n===void 0&&(n=!1);var i=Pe(e),r=Pe(e)&&zu(e),o=Ft(e),a=Rn(t,r,n),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((dt(e)!=="body"||Fr(o))&&(c=Hu(e)),Pe(e)?(l=Rn(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=jr(o))),{x:a.left+c.scrollLeft-l.x,y:a.top+c.scrollTop-l.y,width:a.width,height:a.height}}function Ku(t){var e=new Map,n=new Set,i=[];t.forEach(function(o){e.set(o.name,o)});function r(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(c){if(!n.has(c)){var l=e.get(c);l&&r(l)}}),i.push(o)}return t.forEach(function(o){n.has(o.name)||r(o)}),i}function Gu(t){var e=Ku(t);return _l.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function Yu(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Xu(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var ql={placement:"bottom",modifiers:[],strategy:"absolute"};function Pl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Ni(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,o=r===void 0?ql:r;return function(c,l,h){h===void 0&&(h=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},ql,o),modifiersData:{},elements:{reference:c,popper:l},attributes:{},styles:{}},u=[],p=!1,g={state:f,setOptions:function(N){var L=typeof N=="function"?N(f.options):N;w(),f.options=Object.assign({},o,f.options,L),f.scrollParents={reference:ln(c)?Ns(c):c.contextElement?Ns(c.contextElement):[],popper:Ns(l)};var x=Gu(Xu([].concat(i,f.options.modifiers)));return f.orderedModifiers=x.filter(function(D){return D.enabled}),E(),g.update()},forceUpdate:function(){if(!p){var N=f.elements,L=N.reference,x=N.popper;if(Pl(L,x)){f.rects={reference:Wu(L,ws(x),f.options.strategy==="fixed"),popper:$r(x)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(se){return f.modifiersData[se.name]=Object.assign({},se.data)});for(var D=0;D<f.orderedModifiers.length;D++){if(f.reset===!0){f.reset=!1,D=-1;continue}var v=f.orderedModifiers[D],z=v.fn,X=v.options,ee=X===void 0?{}:X,de=v.name;typeof z=="function"&&(f=z({state:f,options:ee,name:de,instance:g})||f)}}}},update:Yu(function(){return new Promise(function(k){g.forceUpdate(),k(f)})}),destroy:function(){w(),p=!0}};if(!Pl(c,l))return g;g.setOptions(h).then(function(k){!p&&h.onFirstUpdate&&h.onFirstUpdate(k)});function E(){f.orderedModifiers.forEach(function(k){var N=k.name,L=k.options,x=L===void 0?{}:L,D=k.effect;if(typeof D=="function"){var v=D({state:f,name:N,instance:g,options:x}),z=function(){};u.push(v||z)}})}function w(){u.forEach(function(k){return k()}),u=[]}return g}}var Zu=Ni(),Qu=[qr,Hr,Rr,Dr],Ju=Ni({defaultModifiers:Qu}),ef=[qr,Hr,Rr,Dr,Ml,xl,Rl,Sl,$l],zr=Ni({defaultModifiers:ef});const jl=Object.freeze(Object.defineProperty({__proto__:null,afterMain:gl,afterRead:fl,afterWrite:El,applyStyles:Dr,arrow:Sl,auto:yi,basePlacements:Dn,beforeMain:ml,beforeRead:hl,beforeWrite:bl,bottom:$e,clippingParents:cl,computeStyles:Rr,createPopper:zr,createPopperBase:Zu,createPopperLite:Ju,detectOverflow:Pn,end:vn,eventListeners:qr,flip:xl,hide:$l,left:Le,main:pl,modifierPhases:_l,offset:Ml,placements:Ir,popper:$n,popperGenerator:Ni,popperOffsets:Hr,preventOverflow:Rl,read:ul,reference:dl,right:Me,start:an,top:be,variationPlacements:Vr,viewport:Br,write:yl},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Ut=new Map,Wr={set(t,e,n){Ut.has(t)||Ut.set(t,new Map);const i=Ut.get(t);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,n)},get(t,e){return Ut.has(t)&&Ut.get(t).get(e)||null},remove(t,e){if(!Ut.has(t))return;const n=Ut.get(t);n.delete(e),n.size===0&&Ut.delete(t)}},tf=1e6,nf=1e3,Kr="transitionend",Fl=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),sf=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),rf=t=>{do t+=Math.floor(Math.random()*tf);while(document.getElementById(t));return t},of=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),r=Number.parseFloat(n);return!i&&!r?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*nf)},Ul=t=>{t.dispatchEvent(new Event(Kr))},At=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Ht=t=>At(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(Fl(t)):null,jn=t=>{if(!At(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const i=t.closest("summary");if(i&&i.parentNode!==n||i===null)return!1}return e},zt=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Hl=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Hl(t.parentNode):null},Ti=()=>{},Ts=t=>{t.offsetHeight},zl=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Gr=[],af=t=>{document.readyState==="loading"?(Gr.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Gr)e()}),Gr.push(t)):t()},je=()=>document.documentElement.dir==="rtl",Fe=t=>{af(()=>{const e=zl();if(e){const n=t.NAME,i=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=i,t.jQueryInterface)}})},Ve=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,Wl=(t,e,n=!0)=>{if(!n){Ve(t);return}const r=of(e)+5;let o=!1;const a=({target:c})=>{c===e&&(o=!0,e.removeEventListener(Kr,a),Ve(t))};e.addEventListener(Kr,a),setTimeout(()=>{o||Ul(e)},r)},Yr=(t,e,n,i)=>{const r=t.length;let o=t.indexOf(e);return o===-1?!n&&i?t[r-1]:t[0]:(o+=n?1:-1,i&&(o=(o+r)%r),t[Math.max(0,Math.min(o,r-1))])},lf=/[^.]*(?=\..*)\.|.*/,cf=/\..*/,df=/::\d+$/,Xr={};let Kl=1;const Gl={mouseenter:"mouseover",mouseleave:"mouseout"},hf=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Yl(t,e){return e&&`${e}::${Kl++}`||t.uidEvent||Kl++}function Xl(t){const e=Yl(t);return t.uidEvent=e,Xr[e]=Xr[e]||{},Xr[e]}function uf(t,e){return function n(i){return Qr(i,{delegateTarget:t}),n.oneOff&&O.off(t,i.type,e),e.apply(t,[i])}}function ff(t,e,n){return function i(r){const o=t.querySelectorAll(e);for(let{target:a}=r;a&&a!==this;a=a.parentNode)for(const c of o)if(c===a)return Qr(r,{delegateTarget:a}),i.oneOff&&O.off(t,r.type,e,n),n.apply(a,[r])}}function Zl(t,e,n=null){return Object.values(t).find(i=>i.callable===e&&i.delegationSelector===n)}function Ql(t,e,n){const i=typeof e=="string",r=i?n:e||n;let o=ec(t);return hf.has(o)||(o=t),[i,r,o]}function Jl(t,e,n,i,r){if(typeof e!="string"||!t)return;let[o,a,c]=Ql(e,n,i);e in Gl&&(a=(E=>function(w){if(!w.relatedTarget||w.relatedTarget!==w.delegateTarget&&!w.delegateTarget.contains(w.relatedTarget))return E.call(this,w)})(a));const l=Xl(t),h=l[c]||(l[c]={}),f=Zl(h,a,o?n:null);if(f){f.oneOff=f.oneOff&&r;return}const u=Yl(a,e.replace(lf,"")),p=o?ff(t,n,a):uf(t,a);p.delegationSelector=o?n:null,p.callable=a,p.oneOff=r,p.uidEvent=u,h[u]=p,t.addEventListener(c,p,o)}function Zr(t,e,n,i,r){const o=Zl(e[n],i,r);o&&(t.removeEventListener(n,o,!!r),delete e[n][o.uidEvent])}function mf(t,e,n,i){const r=e[n]||{};for(const[o,a]of Object.entries(r))o.includes(i)&&Zr(t,e,n,a.callable,a.delegationSelector)}function ec(t){return t=t.replace(cf,""),Gl[t]||t}const O={on(t,e,n,i){Jl(t,e,n,i,!1)},one(t,e,n,i){Jl(t,e,n,i,!0)},off(t,e,n,i){if(typeof e!="string"||!t)return;const[r,o,a]=Ql(e,n,i),c=a!==e,l=Xl(t),h=l[a]||{},f=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(h).length)return;Zr(t,l,a,o,r?n:null);return}if(f)for(const u of Object.keys(l))mf(t,l,u,e.slice(1));for(const[u,p]of Object.entries(h)){const g=u.replace(df,"");(!c||e.includes(g))&&Zr(t,l,a,p.callable,p.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const i=zl(),r=ec(e),o=e!==r;let a=null,c=!0,l=!0,h=!1;o&&i&&(a=i.Event(e,n),i(t).trigger(a),c=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),h=a.isDefaultPrevented());const f=Qr(new Event(e,{bubbles:c,cancelable:!0}),n);return h&&f.preventDefault(),l&&t.dispatchEvent(f),f.defaultPrevented&&a&&a.preventDefault(),f}};function Qr(t,e={}){for(const[n,i]of Object.entries(e))try{t[n]=i}catch{Object.defineProperty(t,n,{configurable:!0,get(){return i}})}return t}function tc(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Jr(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Ct={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Jr(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Jr(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of n){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=tc(t.dataset[i])}return e},getDataAttribute(t,e){return tc(t.getAttribute(`data-bs-${Jr(e)}`))}};class As{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const i=At(n)?Ct.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...At(n)?Ct.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[i,r]of Object.entries(n)){const o=e[i],a=At(o)?"element":sf(o);if(!new RegExp(r).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${a}" but expected type "${r}".`)}}}const pf="5.3.3";class Ze extends As{constructor(e,n){super(),e=Ht(e),e&&(this._element=e,this._config=this._getConfig(n),Wr.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Wr.remove(this._element,this.constructor.DATA_KEY),O.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,i=!0){Wl(e,n,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Wr.get(Ht(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return pf}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const eo=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>Fl(n)).join(","):null},W={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let i=t.parentNode.closest(e);for(;i;)n.push(i),i=i.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!zt(n)&&jn(n))},getSelectorFromElement(t){const e=eo(t);return e&&W.findOne(e)?e:null},getElementFromSelector(t){const e=eo(t);return e?W.findOne(e):null},getMultipleElementsFromSelector(t){const e=eo(t);return e?W.find(e):[]}},Ai=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;O.on(document,n,`[data-bs-dismiss="${i}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),zt(this))return;const o=W.getElementFromSelector(this)||this.closest(`.${i}`);t.getOrCreateInstance(o)[e]()})},gf="alert",nc=".bs.alert",bf=`close${nc}`,yf=`closed${nc}`,Ef="fade",_f="show";class Ci extends Ze{static get NAME(){return gf}close(){if(O.trigger(this._element,bf).defaultPrevented)return;this._element.classList.remove(_f);const n=this._element.classList.contains(Ef);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),O.trigger(this._element,yf),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=Ci.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Ai(Ci,"close"),Fe(Ci);const wf="button",kf=".bs.button",Nf=".data-api",Tf="active",sc='[data-bs-toggle="button"]',Af=`click${kf}${Nf}`;class Si extends Ze{static get NAME(){return wf}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Tf))}static jQueryInterface(e){return this.each(function(){const n=Si.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}O.on(document,Af,sc,t=>{t.preventDefault();const e=t.target.closest(sc);Si.getOrCreateInstance(e).toggle()}),Fe(Si);const Cf="swipe",Fn=".bs.swipe",Sf=`touchstart${Fn}`,Of=`touchmove${Fn}`,Lf=`touchend${Fn}`,Bf=`pointerdown${Fn}`,Vf=`pointerup${Fn}`,If="touch",xf="pen",Df="pointer-event",vf=40,$f={endCallback:null,leftCallback:null,rightCallback:null},Mf={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Oi extends As{constructor(e,n){super(),this._element=e,!(!e||!Oi.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return $f}static get DefaultType(){return Mf}static get NAME(){return Cf}dispose(){O.off(this._element,Fn)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Ve(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=vf)return;const n=e/this._deltaX;this._deltaX=0,n&&Ve(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(O.on(this._element,Bf,e=>this._start(e)),O.on(this._element,Vf,e=>this._end(e)),this._element.classList.add(Df)):(O.on(this._element,Sf,e=>this._start(e)),O.on(this._element,Of,e=>this._move(e)),O.on(this._element,Lf,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===xf||e.pointerType===If)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Rf="carousel",Wt=".bs.carousel",ic=".data-api",qf="ArrowLeft",Pf="ArrowRight",jf=500,Cs="next",Un="prev",Hn="left",Li="right",Ff=`slide${Wt}`,to=`slid${Wt}`,Uf=`keydown${Wt}`,Hf=`mouseenter${Wt}`,zf=`mouseleave${Wt}`,Wf=`dragstart${Wt}`,Kf=`load${Wt}${ic}`,Gf=`click${Wt}${ic}`,rc="carousel",Bi="active",Yf="slide",Xf="carousel-item-end",Zf="carousel-item-start",Qf="carousel-item-next",Jf="carousel-item-prev",oc=".active",ac=".carousel-item",em=oc+ac,tm=".carousel-item img",nm=".carousel-indicators",sm="[data-bs-slide], [data-bs-slide-to]",im='[data-bs-ride="carousel"]',rm={[qf]:Li,[Pf]:Hn},om={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},am={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ss extends Ze{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=W.findOne(nm,this._element),this._addEventListeners(),this._config.ride===rc&&this.cycle()}static get Default(){return om}static get DefaultType(){return am}static get NAME(){return Rf}next(){this._slide(Cs)}nextWhenVisible(){!document.hidden&&jn(this._element)&&this.next()}prev(){this._slide(Un)}pause(){this._isSliding&&Ul(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){O.one(this._element,to,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){O.one(this._element,to,()=>this.to(e));return}const i=this._getItemIndex(this._getActive());if(i===e)return;const r=e>i?Cs:Un;this._slide(r,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&O.on(this._element,Uf,e=>this._keydown(e)),this._config.pause==="hover"&&(O.on(this._element,Hf,()=>this.pause()),O.on(this._element,zf,()=>this._maybeEnableCycle())),this._config.touch&&Oi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of W.find(tm,this._element))O.on(i,Wf,r=>r.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(Hn)),rightCallback:()=>this._slide(this._directionToOrder(Li)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),jf+this._config.interval))}};this._swipeHelper=new Oi(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=rm[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=W.findOne(oc,this._indicatorsElement);n.classList.remove(Bi),n.removeAttribute("aria-current");const i=W.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(Bi),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const i=this._getActive(),r=e===Cs,o=n||Yr(this._getItems(),i,r,this._config.wrap);if(o===i)return;const a=this._getItemIndex(o),c=g=>O.trigger(this._element,g,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:a});if(c(Ff).defaultPrevented||!i||!o)return;const h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=o;const f=r?Zf:Xf,u=r?Qf:Jf;o.classList.add(u),Ts(o),i.classList.add(f),o.classList.add(f);const p=()=>{o.classList.remove(f,u),o.classList.add(Bi),i.classList.remove(Bi,u,f),this._isSliding=!1,c(to)};this._queueCallback(p,i,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(Yf)}_getActive(){return W.findOne(em,this._element)}_getItems(){return W.find(ac,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return je()?e===Hn?Un:Cs:e===Hn?Cs:Un}_orderToDirection(e){return je()?e===Un?Hn:Li:e===Un?Li:Hn}static jQueryInterface(e){return this.each(function(){const n=Ss.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}O.on(document,Gf,sm,function(t){const e=W.getElementFromSelector(this);if(!e||!e.classList.contains(rc))return;t.preventDefault();const n=Ss.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");if(i){n.to(i),n._maybeEnableCycle();return}if(Ct.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()}),O.on(window,Kf,()=>{const t=W.find(im);for(const e of t)Ss.getOrCreateInstance(e)}),Fe(Ss);const lm="collapse",Os=".bs.collapse",cm=".data-api",dm=`show${Os}`,hm=`shown${Os}`,um=`hide${Os}`,fm=`hidden${Os}`,mm=`click${Os}${cm}`,no="show",zn="collapse",Vi="collapsing",pm="collapsed",gm=`:scope .${zn} .${zn}`,bm="collapse-horizontal",ym="width",Em="height",_m=".collapse.show, .collapse.collapsing",so='[data-bs-toggle="collapse"]',wm={parent:null,toggle:!0},km={parent:"(null|element)",toggle:"boolean"};class Ls extends Ze{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const i=W.find(so);for(const r of i){const o=W.getSelectorFromElement(r),a=W.find(o).filter(c=>c===this._element);o!==null&&a.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return wm}static get DefaultType(){return km}static get NAME(){return lm}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(_m).filter(c=>c!==this._element).map(c=>Ls.getOrCreateInstance(c,{toggle:!1}))),e.length&&e[0]._isTransitioning||O.trigger(this._element,dm).defaultPrevented)return;for(const c of e)c.hide();const i=this._getDimension();this._element.classList.remove(zn),this._element.classList.add(Vi),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Vi),this._element.classList.add(zn,no),this._element.style[i]="",O.trigger(this._element,hm)},a=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[i]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||O.trigger(this._element,um).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Ts(this._element),this._element.classList.add(Vi),this._element.classList.remove(zn,no);for(const r of this._triggerArray){const o=W.getElementFromSelector(r);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Vi),this._element.classList.add(zn),O.trigger(this._element,fm)};this._element.style[n]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(no)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Ht(e.parent),e}_getDimension(){return this._element.classList.contains(bm)?ym:Em}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(so);for(const n of e){const i=W.getElementFromSelector(n);i&&this._addAriaAndCollapsedClass([n],this._isShown(i))}}_getFirstLevelChildren(e){const n=W.find(gm,this._config.parent);return W.find(e,this._config.parent).filter(i=>!n.includes(i))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const i of e)i.classList.toggle(pm,!n),i.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const i=Ls.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}O.on(document,mm,so,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of W.getMultipleElementsFromSelector(this))Ls.getOrCreateInstance(e,{toggle:!1}).toggle()}),Fe(Ls);const lc="dropdown",dn=".bs.dropdown",io=".data-api",Nm="Escape",cc="Tab",Tm="ArrowUp",dc="ArrowDown",Am=2,Cm=`hide${dn}`,Sm=`hidden${dn}`,Om=`show${dn}`,Lm=`shown${dn}`,hc=`click${dn}${io}`,uc=`keydown${dn}${io}`,Bm=`keyup${dn}${io}`,Wn="show",Vm="dropup",Im="dropend",xm="dropstart",Dm="dropup-center",vm="dropdown-center",hn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',$m=`${hn}.${Wn}`,Ii=".dropdown-menu",Mm=".navbar",Rm=".navbar-nav",qm=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Pm=je()?"top-end":"top-start",jm=je()?"top-start":"top-end",Fm=je()?"bottom-end":"bottom-start",Um=je()?"bottom-start":"bottom-end",Hm=je()?"left-start":"right-start",zm=je()?"right-start":"left-start",Wm="top",Km="bottom",Gm={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ym={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ut extends Ze{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=W.next(this._element,Ii)[0]||W.prev(this._element,Ii)[0]||W.findOne(Ii,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Gm}static get DefaultType(){return Ym}static get NAME(){return lc}toggle(){return this._isShown()?this.hide():this.show()}show(){if(zt(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!O.trigger(this._element,Om,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Rm))for(const i of[].concat(...document.body.children))O.on(i,"mouseover",Ti);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Wn),this._element.classList.add(Wn),O.trigger(this._element,Lm,e)}}hide(){if(zt(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!O.trigger(this._element,Cm,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))O.off(i,"mouseover",Ti);this._popper&&this._popper.destroy(),this._menu.classList.remove(Wn),this._element.classList.remove(Wn),this._element.setAttribute("aria-expanded","false"),Ct.removeDataAttribute(this._menu,"popper"),O.trigger(this._element,Sm,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!At(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${lc.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof jl>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:At(this._config.reference)?e=Ht(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=zr(e,this._menu,n)}_isShown(){return this._menu.classList.contains(Wn)}_getPlacement(){const e=this._parent;if(e.classList.contains(Im))return Hm;if(e.classList.contains(xm))return zm;if(e.classList.contains(Dm))return Wm;if(e.classList.contains(vm))return Km;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Vm)?n?jm:Pm:n?Um:Fm}_detectNavbar(){return this._element.closest(Mm)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ct.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Ve(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const i=W.find(qm,this._menu).filter(r=>jn(r));i.length&&Yr(i,n,e===dc,!i.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=ut.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===Am||e.type==="keyup"&&e.key!==cc)return;const n=W.find($m);for(const i of n){const r=ut.getInstance(i);if(!r||r._config.autoClose===!1)continue;const o=e.composedPath(),a=o.includes(r._menu);if(o.includes(r._element)||r._config.autoClose==="inside"&&!a||r._config.autoClose==="outside"&&a||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===cc||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const c={relatedTarget:r._element};e.type==="click"&&(c.clickEvent=e),r._completeHide(c)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),i=e.key===Nm,r=[Tm,dc].includes(e.key);if(!r&&!i||n&&!i)return;e.preventDefault();const o=this.matches(hn)?this:W.prev(this,hn)[0]||W.next(this,hn)[0]||W.findOne(hn,e.delegateTarget.parentNode),a=ut.getOrCreateInstance(o);if(r){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),o.focus())}}O.on(document,uc,hn,ut.dataApiKeydownHandler),O.on(document,uc,Ii,ut.dataApiKeydownHandler),O.on(document,hc,ut.clearMenus),O.on(document,Bm,ut.clearMenus),O.on(document,hc,hn,function(t){t.preventDefault(),ut.getOrCreateInstance(this).toggle()}),Fe(ut);const fc="backdrop",Xm="fade",mc="show",pc=`mousedown.bs.${fc}`,Zm={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Qm={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class gc extends As{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Zm}static get DefaultType(){return Qm}static get NAME(){return fc}show(e){if(!this._config.isVisible){Ve(e);return}this._append();const n=this._getElement();this._config.isAnimated&&Ts(n),n.classList.add(mc),this._emulateAnimation(()=>{Ve(e)})}hide(e){if(!this._config.isVisible){Ve(e);return}this._getElement().classList.remove(mc),this._emulateAnimation(()=>{this.dispose(),Ve(e)})}dispose(){this._isAppended&&(O.off(this._element,pc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Xm),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Ht(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),O.on(e,pc,()=>{Ve(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Wl(e,this._getElement(),this._config.isAnimated)}}const Jm="focustrap",xi=".bs.focustrap",ep=`focusin${xi}`,tp=`keydown.tab${xi}`,np="Tab",sp="forward",bc="backward",ip={autofocus:!0,trapElement:null},rp={autofocus:"boolean",trapElement:"element"};class yc extends As{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ip}static get DefaultType(){return rp}static get NAME(){return Jm}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),O.off(document,xi),O.on(document,ep,e=>this._handleFocusin(e)),O.on(document,tp,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,O.off(document,xi))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const i=W.focusableChildren(n);i.length===0?n.focus():this._lastTabNavDirection===bc?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===np&&(this._lastTabNavDirection=e.shiftKey?bc:sp)}}const Ec=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_c=".sticky-top",Di="padding-right",wc="margin-right";class ro{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Di,n=>n+e),this._setElementAttributes(Ec,Di,n=>n+e),this._setElementAttributes(_c,wc,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Di),this._resetElementAttributes(Ec,Di),this._resetElementAttributes(_c,wc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,i){const r=this.getWidth(),o=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+r)return;this._saveInitialAttribute(a,n);const c=window.getComputedStyle(a).getPropertyValue(n);a.style.setProperty(n,`${i(Number.parseFloat(c))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,n){const i=e.style.getPropertyValue(n);i&&Ct.setDataAttribute(e,n,i)}_resetElementAttributes(e,n){const i=r=>{const o=Ct.getDataAttribute(r,n);if(o===null){r.style.removeProperty(n);return}Ct.removeDataAttribute(r,n),r.style.setProperty(n,o)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,n){if(At(e)){n(e);return}for(const i of W.find(e,this._element))n(i)}}const op="modal",Ue=".bs.modal",ap=".data-api",lp="Escape",cp=`hide${Ue}`,dp=`hidePrevented${Ue}`,kc=`hidden${Ue}`,Nc=`show${Ue}`,hp=`shown${Ue}`,up=`resize${Ue}`,fp=`click.dismiss${Ue}`,mp=`mousedown.dismiss${Ue}`,pp=`keydown.dismiss${Ue}`,gp=`click${Ue}${ap}`,Tc="modal-open",bp="fade",Ac="show",oo="modal-static",yp=".modal.show",Ep=".modal-dialog",_p=".modal-body",wp='[data-bs-toggle="modal"]',kp={backdrop:!0,focus:!0,keyboard:!0},Np={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class un extends Ze{constructor(e,n){super(e,n),this._dialog=W.findOne(Ep,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ro,this._addEventListeners()}static get Default(){return kp}static get DefaultType(){return Np}static get NAME(){return op}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||O.trigger(this._element,Nc,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Tc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||O.trigger(this._element,cp).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ac),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){O.off(window,Ue),O.off(this._dialog,Ue),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new gc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new yc({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=W.findOne(_p,this._dialog);n&&(n.scrollTop=0),Ts(this._element),this._element.classList.add(Ac);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,O.trigger(this._element,hp,{relatedTarget:e})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){O.on(this._element,pp,e=>{if(e.key===lp){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),O.on(window,up,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),O.on(this._element,mp,e=>{O.one(this._element,fp,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Tc),this._resetAdjustments(),this._scrollBar.reset(),O.trigger(this._element,kc)})}_isAnimated(){return this._element.classList.contains(bp)}_triggerBackdropTransition(){if(O.trigger(this._element,dp).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(oo)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(oo),this._queueCallback(()=>{this._element.classList.remove(oo),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),i=n>0;if(i&&!e){const r=je()?"paddingLeft":"paddingRight";this._element.style[r]=`${n}px`}if(!i&&e){const r=je()?"paddingRight":"paddingLeft";this._element.style[r]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const i=un.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](n)}})}}O.on(document,gp,wp,function(t){const e=W.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),O.one(e,Nc,r=>{r.defaultPrevented||O.one(e,kc,()=>{jn(this)&&this.focus()})});const n=W.findOne(yp);n&&un.getInstance(n).hide(),un.getOrCreateInstance(e).toggle(this)}),Ai(un),Fe(un);const Tp="offcanvas",St=".bs.offcanvas",Cc=".data-api",Ap=`load${St}${Cc}`,Cp="Escape",Sc="show",Oc="showing",Lc="hiding",Sp="offcanvas-backdrop",Bc=".offcanvas.show",Op=`show${St}`,Lp=`shown${St}`,Bp=`hide${St}`,Vc=`hidePrevented${St}`,Ic=`hidden${St}`,Vp=`resize${St}`,Ip=`click${St}${Cc}`,xp=`keydown.dismiss${St}`,Dp='[data-bs-toggle="offcanvas"]',vp={backdrop:!0,keyboard:!0,scroll:!1},$p={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Kt extends Ze{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return vp}static get DefaultType(){return $p}static get NAME(){return Tp}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||O.trigger(this._element,Op,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ro().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Oc);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Sc),this._element.classList.remove(Oc),O.trigger(this._element,Lp,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||O.trigger(this._element,Bp).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Lc),this._backdrop.hide();const n=()=>{this._element.classList.remove(Sc,Lc),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ro().reset(),O.trigger(this._element,Ic)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){O.trigger(this._element,Vc);return}this.hide()},n=!!this._config.backdrop;return new gc({className:Sp,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new yc({trapElement:this._element})}_addEventListeners(){O.on(this._element,xp,e=>{if(e.key===Cp){if(this._config.keyboard){this.hide();return}O.trigger(this._element,Vc)}})}static jQueryInterface(e){return this.each(function(){const n=Kt.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}O.on(document,Ip,Dp,function(t){const e=W.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),zt(this))return;O.one(e,Ic,()=>{jn(this)&&this.focus()});const n=W.findOne(Bc);n&&n!==e&&Kt.getInstance(n).hide(),Kt.getOrCreateInstance(e).toggle(this)}),O.on(window,Ap,()=>{for(const t of W.find(Bc))Kt.getOrCreateInstance(t).show()}),O.on(window,Vp,()=>{for(const t of W.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Kt.getOrCreateInstance(t).hide()}),Ai(Kt),Fe(Kt);const xc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Mp=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Rp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,qp=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?Mp.has(n)?!!Rp.test(t.nodeValue):!0:e.filter(i=>i instanceof RegExp).some(i=>i.test(n))};function Pp(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const r=new window.DOMParser().parseFromString(t,"text/html"),o=[].concat(...r.body.querySelectorAll("*"));for(const a of o){const c=a.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){a.remove();continue}const l=[].concat(...a.attributes),h=[].concat(e["*"]||[],e[c]||[]);for(const f of l)qp(f,h)||a.removeAttribute(f.nodeName)}return r.body.innerHTML}const jp="TemplateFactory",Fp={allowList:xc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Up={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Hp={entry:"(string|element|function|null)",selector:"(string|element)"};class zp extends As{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Fp}static get DefaultType(){return Up}static get NAME(){return jp}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[r,o]of Object.entries(this._config.content))this._setContent(e,o,r);const n=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&n.classList.add(...i.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,i]of Object.entries(e))super._typeCheckConfig({selector:n,entry:i},Hp)}_setContent(e,n,i){const r=W.findOne(i,e);if(r){if(n=this._resolvePossibleFunction(n),!n){r.remove();return}if(At(n)){this._putElementInTemplate(Ht(n),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(n);return}r.textContent=n}}_maybeSanitize(e){return this._config.sanitize?Pp(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Ve(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const Wp="tooltip",Kp=new Set(["sanitize","allowList","sanitizeFn"]),ao="fade",Gp="modal",vi="show",Yp=".tooltip-inner",Dc=`.${Gp}`,vc="hide.bs.modal",Bs="hover",lo="focus",Xp="click",Zp="manual",Qp="hide",Jp="hidden",eg="show",tg="shown",ng="inserted",sg="click",ig="focusin",rg="focusout",og="mouseenter",ag="mouseleave",lg={AUTO:"auto",TOP:"top",RIGHT:je()?"left":"right",BOTTOM:"bottom",LEFT:je()?"right":"left"},cg={allowList:xc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},dg={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let $i=class fu extends Ze{constructor(e,n){if(typeof jl>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return cg}static get DefaultType(){return dg}static get NAME(){return Wp}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),O.off(this._element.closest(Dc),vc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=O.trigger(this._element,this.constructor.eventName(eg)),i=(Hl(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(r),O.trigger(this._element,this.constructor.eventName(ng))),this._popper=this._createPopper(r),r.classList.add(vi),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))O.on(c,"mouseover",Ti);const a=()=>{O.trigger(this._element,this.constructor.eventName(tg)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||O.trigger(this._element,this.constructor.eventName(Qp)).defaultPrevented)return;if(this._getTipElement().classList.remove(vi),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))O.off(r,"mouseover",Ti);this._activeTrigger[Xp]=!1,this._activeTrigger[lo]=!1,this._activeTrigger[Bs]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),O.trigger(this._element,this.constructor.eventName(Jp)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(ao,vi),n.classList.add(`bs-${this.constructor.NAME}-auto`);const i=rf(this.constructor.NAME).toString();return n.setAttribute("id",i),this._isAnimated()&&n.classList.add(ao),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new zp({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Yp]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ao)}_isShown(){return this.tip&&this.tip.classList.contains(vi)}_createPopper(e){const n=Ve(this._config.placement,[this,e,this._element]),i=lg[n.toUpperCase()];return zr(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return Ve(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...n,...Ve(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")O.on(this._element,this.constructor.eventName(sg),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(n!==Zp){const i=n===Bs?this.constructor.eventName(og):this.constructor.eventName(ig),r=n===Bs?this.constructor.eventName(ag):this.constructor.eventName(rg);O.on(this._element,i,this._config.selector,o=>{const a=this._initializeOnDelegatedTarget(o);a._activeTrigger[o.type==="focusin"?lo:Bs]=!0,a._enter()}),O.on(this._element,r,this._config.selector,o=>{const a=this._initializeOnDelegatedTarget(o);a._activeTrigger[o.type==="focusout"?lo:Bs]=a._element.contains(o.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},O.on(this._element.closest(Dc),vc,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=Ct.getDataAttributes(this._element);for(const i of Object.keys(n))Kp.has(i)&&delete n[i];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Ht(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,i]of Object.entries(this._config))this.constructor.Default[n]!==i&&(e[n]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=fu.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}};Fe($i);const hg="popover",ug=".popover-header",fg=".popover-body",mg={...$i.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},pg={...$i.DefaultType,content:"(null|string|element|function)"};class co extends $i{static get Default(){return mg}static get DefaultType(){return pg}static get NAME(){return hg}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[ug]:this._getTitle(),[fg]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=co.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Fe(co);const gg="scrollspy",ho=".bs.scrollspy",bg=".data-api",yg=`activate${ho}`,$c=`click${ho}`,Eg=`load${ho}${bg}`,_g="dropdown-item",Kn="active",wg='[data-bs-spy="scroll"]',uo="[href]",kg=".nav, .list-group",Mc=".nav-link",Ng=`${Mc}, .nav-item > ${Mc}, .list-group-item`,Tg=".dropdown",Ag=".dropdown-toggle",Cg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Sg={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Mi extends Ze{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Cg}static get DefaultType(){return Sg}static get NAME(){return gg}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Ht(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(O.off(this._config.target,$c),O.on(this._config.target,$c,uo,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const i=this._rootElement||window,r=n.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:r,behavior:"smooth"});return}i.scrollTop=r}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=a=>this._targetLinks.get(`#${a.target.id}`),i=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(n(a))},r=(this._rootElement||document.documentElement).scrollTop,o=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(a));continue}const c=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&c){if(i(a),!r)return;continue}!o&&!c&&i(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=W.find(uo,this._config.target);for(const n of e){if(!n.hash||zt(n))continue;const i=W.findOne(decodeURI(n.hash),this._element);jn(i)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Kn),this._activateParents(e),O.trigger(this._element,yg,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(_g)){W.findOne(Ag,e.closest(Tg)).classList.add(Kn);return}for(const n of W.parents(e,kg))for(const i of W.prev(n,Ng))i.classList.add(Kn)}_clearActiveClass(e){e.classList.remove(Kn);const n=W.find(`${uo}.${Kn}`,e);for(const i of n)i.classList.remove(Kn)}static jQueryInterface(e){return this.each(function(){const n=Mi.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}O.on(window,Eg,()=>{for(const t of W.find(wg))Mi.getOrCreateInstance(t)}),Fe(Mi);const Og="tab",fn=".bs.tab",Lg=`hide${fn}`,Bg=`hidden${fn}`,Vg=`show${fn}`,Ig=`shown${fn}`,xg=`click${fn}`,Dg=`keydown${fn}`,vg=`load${fn}`,$g="ArrowLeft",Rc="ArrowRight",Mg="ArrowUp",qc="ArrowDown",fo="Home",Pc="End",mn="active",jc="fade",mo="show",Rg="dropdown",Fc=".dropdown-toggle",qg=".dropdown-menu",po=`:not(${Fc})`,Pg='.list-group, .nav, [role="tablist"]',jg=".nav-item, .list-group-item",Fg=`.nav-link${po}, .list-group-item${po}, [role="tab"]${po}`,Uc='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',go=`${Fg}, ${Uc}`,Ug=`.${mn}[data-bs-toggle="tab"], .${mn}[data-bs-toggle="pill"], .${mn}[data-bs-toggle="list"]`;class Gn extends Ze{constructor(e){super(e),this._parent=this._element.closest(Pg),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),O.on(this._element,Dg,n=>this._keydown(n)))}static get NAME(){return Og}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),i=n?O.trigger(n,Lg,{relatedTarget:e}):null;O.trigger(e,Vg,{relatedTarget:n}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(mn),this._activate(W.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(mo);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),O.trigger(e,Ig,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(jc))}_deactivate(e,n){if(!e)return;e.classList.remove(mn),e.blur(),this._deactivate(W.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(mo);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),O.trigger(e,Bg,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(jc))}_keydown(e){if(![$g,Rc,Mg,qc,fo,Pc].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(r=>!zt(r));let i;if([fo,Pc].includes(e.key))i=n[e.key===fo?0:n.length-1];else{const r=[Rc,qc].includes(e.key);i=Yr(n,e.target,r,!0)}i&&(i.focus({preventScroll:!0}),Gn.getOrCreateInstance(i).show())}_getChildren(){return W.find(go,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const i of n)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",n),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=W.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const i=this._getOuterElement(e);if(!i.classList.contains(Rg))return;const r=(o,a)=>{const c=W.findOne(o,i);c&&c.classList.toggle(a,n)};r(Fc,mn),r(qg,mo),i.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,i){e.hasAttribute(n)||e.setAttribute(n,i)}_elemIsActive(e){return e.classList.contains(mn)}_getInnerElement(e){return e.matches(go)?e:W.findOne(go,e)}_getOuterElement(e){return e.closest(jg)||e}static jQueryInterface(e){return this.each(function(){const n=Gn.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}O.on(document,xg,Uc,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!zt(this)&&Gn.getOrCreateInstance(this).show()}),O.on(window,vg,()=>{for(const t of W.find(Ug))Gn.getOrCreateInstance(t)}),Fe(Gn);const Hg="toast",Gt=".bs.toast",zg=`mouseover${Gt}`,Wg=`mouseout${Gt}`,Kg=`focusin${Gt}`,Gg=`focusout${Gt}`,Yg=`hide${Gt}`,Xg=`hidden${Gt}`,Zg=`show${Gt}`,Qg=`shown${Gt}`,Jg="fade",Hc="hide",Ri="show",qi="showing",eb={animation:"boolean",autohide:"boolean",delay:"number"},tb={animation:!0,autohide:!0,delay:5e3};class Pi extends Ze{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return tb}static get DefaultType(){return eb}static get NAME(){return Hg}show(){if(O.trigger(this._element,Zg).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Jg);const n=()=>{this._element.classList.remove(qi),O.trigger(this._element,Qg),this._maybeScheduleHide()};this._element.classList.remove(Hc),Ts(this._element),this._element.classList.add(Ri,qi),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||O.trigger(this._element,Yg).defaultPrevented)return;const n=()=>{this._element.classList.add(Hc),this._element.classList.remove(qi,Ri),O.trigger(this._element,Xg)};this._element.classList.add(qi),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ri),super.dispose()}isShown(){return this._element.classList.contains(Ri)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){O.on(this._element,zg,e=>this._onInteraction(e,!0)),O.on(this._element,Wg,e=>this._onInteraction(e,!1)),O.on(this._element,Kg,e=>this._onInteraction(e,!0)),O.on(this._element,Gg,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=Pi.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Ai(Pi),Fe(Pi);function bo(t){return{all:t=t||new Map,on:function(e,n){var i=t.get(e);i?i.push(n):t.set(e,[n])},off:function(e,n){var i=t.get(e);i&&(n?i.splice(i.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var i=t.get(e);i&&i.slice().map(function(r){r(n)}),(i=t.get("*"))&&i.slice().map(function(r){r(e,n)})}}}function ji(t,e){for(const n in e)e[n]instanceof Object&&n in t&&Object.assign(e[n],ji(t[n],e[n]));return Object.assign(t||{},e)}function pn(t,e,n,i){try{return typeof t=="function"?t(e,n,i):t}catch(r){return console.error(r),null}}async function Yn(t){try{return{data:await t.json(),error:null}}catch(e){return{data:void 0,error:e}}}function Xn(t,e){let n=[];if(e&&e.errors)for(let i of e.errors)n.push({message:i.message,timeout:3500,priority:"danger"});else t.status>=400&&t.status<=511&&n.push({message:t.status+(t.statusText?" "+t.statusText:""),timeout:3500,priority:"danger"});return n.length>0?n:null}function Ot(t,e,n,i){return e.options||(e.options={}),e.options.headers||(e.options.headers={}),t!="GET"&&(e.options.headers["Content-Type"]||(e.options.headers["Content-Type"]="application/json")),i&&i.header&&i.header[0]&&(e.options.headers[i.header[0]]=i.header[1]),e.options.body=void 0,e.options.method=t,n&&Object.assign(e.options,n),e.debug&&console.log("FETCH OPTIONS",e.options),e.options}function Lt(t,e,n,i){let r=!1,o=Object.assign({},i||{});return i&&(i.filter&&(o.filter=JSON.stringify(i.filter)),i.order&&(o.order=JSON.stringify(i.order)),r=Object.keys(o).length),e.url+(n?"/"+n:"")+(r?"?"+new URLSearchParams(o).toString():"")}function Vs(t,e="-"){return t.toString().normalize("NFKD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\_/g,"-").replace(/\-\-+/g,"-").replace(/\-$/g,"")}function nb(t){let e=[];for(let n of t)e.push(Fi(n));return e}function Fi(t,e="",n={}){for(let i in t){let r=e?e+"."+i:i;typeof t[i]=="object"&&!Array.isArray(t[i])?Fi(t[i],r,n):n[r]=t[i]}return n}function sb(t){let e={};for(let n in t){let i=n.split(".");i.reduce((r,o,a)=>r[o]||(r[o]=isNaN(Number(i[a+1]))?i.length-1===a?t[n]:{}:[]),e)}return e}function Is(t,e,n,i){const r=(o,a)=>!o||!a?o:o.replace(/{\s*(.*?)\s*}/g,(c,l)=>a[l]?a[l]:"");return!e||(i=i||document.documentElement.lang,!i||!e[i])||!e[i][t]?r(t,n):r(e[i][t])}function ib(t,e,n=";"){const i=e.map(o=>o.title?o.title:o.name.charAt(0).toUpperCase()+o.name.slice(1)).join(n),r=t.map(o=>e.map(a=>{let c=o[a.name];return a.template?a.template(c,o,t):c!==void 0?c:""}).join(n));return[i,...r].join(`
`)}function rb(t,e="export.csv"){t="\uFEFF"+t;const n=new Blob([t],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(n),r=document.createElement("a");r.href=i,r.download=e,r.click(),URL.revokeObjectURL(i)}function ob(t){return[...new Set(t)]}function zc(t,e){t.indexOf(e)>=0?t.splice(t.indexOf(e),1):t.push(e)}function Wc(t,e){for(let n of e)t.indexOf(n.value)<0&&t.push(n.value)}function Kc(t,e){for(let n of e)t.indexOf(n.value)<0?t.push(n.value):t.splice(t.indexOf(n.value),1)}function Gc(t){t.length=0}function yo(t,e){e<=0||e>=t.length||([t[e-1],t[e]]=[t[e],t[e-1]])}function Eo(t,e){e<=0||e>=t.length||(console.log(t[e-1],t[e]),[t[e-1],t[e]]=[t[e],t[e-1]])}function ab(t,e){Object.keys(t).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n](e))})}var Yc=typeof global=="object"&&global&&global.Object===Object&&global,lb=typeof self=="object"&&self&&self.Object===Object&&self,ft=Yc||lb||Function("return this")(),Yt=ft.Symbol,Xc=Object.prototype,cb=Xc.hasOwnProperty,db=Xc.toString,xs=Yt?Yt.toStringTag:void 0;function hb(t){var e=cb.call(t,xs),n=t[xs];try{t[xs]=void 0;var i=!0}catch{}var r=db.call(t);return i&&(e?t[xs]=n:delete t[xs]),r}var ub=Object.prototype,fb=ub.toString;function mb(t){return fb.call(t)}var pb="[object Null]",gb="[object Undefined]",Zc=Yt?Yt.toStringTag:void 0;function Zn(t){return t==null?t===void 0?gb:pb:Zc&&Zc in Object(t)?hb(t):mb(t)}function Bt(t){return t!=null&&typeof t=="object"}var gn=Array.isArray;function Xt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Qc(t){return t}var bb="[object AsyncFunction]",yb="[object Function]",Eb="[object GeneratorFunction]",_b="[object Proxy]";function _o(t){if(!Xt(t))return!1;var e=Zn(t);return e==yb||e==Eb||e==bb||e==_b}var wo=ft["__core-js_shared__"],Jc=function(){var t=/[^.]+$/.exec(wo&&wo.keys&&wo.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function wb(t){return!!Jc&&Jc in t}var kb=Function.prototype,Nb=kb.toString;function bn(t){if(t!=null){try{return Nb.call(t)}catch{}try{return t+""}catch{}}return""}var Tb=/[\\^$.*+?()[\]{}|]/g,Ab=/^\[object .+?Constructor\]$/,Cb=Function.prototype,Sb=Object.prototype,Ob=Cb.toString,Lb=Sb.hasOwnProperty,Bb=RegExp("^"+Ob.call(Lb).replace(Tb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vb(t){if(!Xt(t)||wb(t))return!1;var e=_o(t)?Bb:Ab;return e.test(bn(t))}function Ib(t,e){return t==null?void 0:t[e]}function yn(t,e){var n=Ib(t,e);return Vb(n)?n:void 0}var ko=yn(ft,"WeakMap"),ed=Object.create,xb=function(){function t(){}return function(e){if(!Xt(e))return{};if(ed)return ed(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Db(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function td(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var vb=800,$b=16,Mb=Date.now;function Rb(t){var e=0,n=0;return function(){var i=Mb(),r=$b-(i-n);if(n=i,r>0){if(++e>=vb)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function qb(t){return function(){return t}}var Ui=function(){try{var t=yn(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Pb=Ui?function(t,e){return Ui(t,"toString",{configurable:!0,enumerable:!1,value:qb(e),writable:!0})}:Qc,jb=Rb(Pb);function Fb(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}var Ub=9007199254740991,Hb=/^(?:0|[1-9]\d*)$/;function nd(t,e){var n=typeof t;return e=e??Ub,!!e&&(n=="number"||n!="symbol"&&Hb.test(t))&&t>-1&&t%1==0&&t<e}function No(t,e,n){e=="__proto__"&&Ui?Ui(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ds(t,e){return t===e||t!==t&&e!==e}var zb=Object.prototype,Wb=zb.hasOwnProperty;function sd(t,e,n){var i=t[e];(!(Wb.call(t,e)&&Ds(i,n))||n===void 0&&!(e in t))&&No(t,e,n)}function vs(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var c=e[o],l=void 0;l===void 0&&(l=t[c]),r?No(n,c,l):sd(n,c,l)}return n}var id=Math.max;function Kb(t,e,n){return e=id(e===void 0?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=id(i.length-e,0),a=Array(o);++r<o;)a[r]=i[e+r];r=-1;for(var c=Array(e+1);++r<e;)c[r]=i[r];return c[e]=n(a),Db(t,this,c)}}function Gb(t,e){return jb(Kb(t,e,Qc),t+"")}var Yb=9007199254740991;function rd(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Yb}function Hi(t){return t!=null&&rd(t.length)&&!_o(t)}function Xb(t,e,n){if(!Xt(n))return!1;var i=typeof e;return(i=="number"?Hi(n)&&nd(e,n.length):i=="string"&&e in n)?Ds(n[e],t):!1}function Zb(t){return Gb(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(r--,o):void 0,a&&Xb(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),e=Object(e);++i<r;){var c=n[i];c&&t(e,c,i,o)}return e})}var Qb=Object.prototype;function To(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Qb;return t===n}function Jb(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var e1="[object Arguments]";function od(t){return Bt(t)&&Zn(t)==e1}var ad=Object.prototype,t1=ad.hasOwnProperty,n1=ad.propertyIsEnumerable,Ao=od(function(){return arguments}())?od:function(t){return Bt(t)&&t1.call(t,"callee")&&!n1.call(t,"callee")};function s1(){return!1}var ld=typeof fe=="object"&&fe&&!fe.nodeType&&fe,cd=ld&&typeof module=="object"&&module&&!module.nodeType&&module,i1=cd&&cd.exports===ld,dd=i1?ft.Buffer:void 0,r1=dd?dd.isBuffer:void 0,$s=r1||s1,o1="[object Arguments]",a1="[object Array]",l1="[object Boolean]",c1="[object Date]",d1="[object Error]",h1="[object Function]",u1="[object Map]",f1="[object Number]",m1="[object Object]",p1="[object RegExp]",g1="[object Set]",b1="[object String]",y1="[object WeakMap]",E1="[object ArrayBuffer]",_1="[object DataView]",w1="[object Float32Array]",k1="[object Float64Array]",N1="[object Int8Array]",T1="[object Int16Array]",A1="[object Int32Array]",C1="[object Uint8Array]",S1="[object Uint8ClampedArray]",O1="[object Uint16Array]",L1="[object Uint32Array]",pe={};pe[w1]=pe[k1]=pe[N1]=pe[T1]=pe[A1]=pe[C1]=pe[S1]=pe[O1]=pe[L1]=!0,pe[o1]=pe[a1]=pe[E1]=pe[l1]=pe[_1]=pe[c1]=pe[d1]=pe[h1]=pe[u1]=pe[f1]=pe[m1]=pe[p1]=pe[g1]=pe[b1]=pe[y1]=!1;function B1(t){return Bt(t)&&rd(t.length)&&!!pe[Zn(t)]}function Co(t){return function(e){return t(e)}}var hd=typeof fe=="object"&&fe&&!fe.nodeType&&fe,Ms=hd&&typeof module=="object"&&module&&!module.nodeType&&module,V1=Ms&&Ms.exports===hd,So=V1&&Yc.process,Qn=function(){try{var t=Ms&&Ms.require&&Ms.require("util").types;return t||So&&So.binding&&So.binding("util")}catch{}}(),ud=Qn&&Qn.isTypedArray,Oo=ud?Co(ud):B1,I1=Object.prototype,x1=I1.hasOwnProperty;function fd(t,e){var n=gn(t),i=!n&&Ao(t),r=!n&&!i&&$s(t),o=!n&&!i&&!r&&Oo(t),a=n||i||r||o,c=a?Jb(t.length,String):[],l=c.length;for(var h in t)(e||x1.call(t,h))&&!(a&&(h=="length"||r&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||nd(h,l)))&&c.push(h);return c}function md(t,e){return function(n){return t(e(n))}}var D1=md(Object.keys,Object),v1=Object.prototype,$1=v1.hasOwnProperty;function M1(t){if(!To(t))return D1(t);var e=[];for(var n in Object(t))$1.call(t,n)&&n!="constructor"&&e.push(n);return e}function Lo(t){return Hi(t)?fd(t):M1(t)}function R1(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var q1=Object.prototype,P1=q1.hasOwnProperty;function j1(t){if(!Xt(t))return R1(t);var e=To(t),n=[];for(var i in t)i=="constructor"&&(e||!P1.call(t,i))||n.push(i);return n}function Rs(t){return Hi(t)?fd(t,!0):j1(t)}var qs=yn(Object,"create");function F1(){this.__data__=qs?qs(null):{},this.size=0}function U1(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var H1="__lodash_hash_undefined__",z1=Object.prototype,W1=z1.hasOwnProperty;function K1(t){var e=this.__data__;if(qs){var n=e[t];return n===H1?void 0:n}return W1.call(e,t)?e[t]:void 0}var G1=Object.prototype,Y1=G1.hasOwnProperty;function X1(t){var e=this.__data__;return qs?e[t]!==void 0:Y1.call(e,t)}var Z1="__lodash_hash_undefined__";function Q1(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=qs&&e===void 0?Z1:e,this}function En(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}En.prototype.clear=F1,En.prototype.delete=U1,En.prototype.get=K1,En.prototype.has=X1,En.prototype.set=Q1;function J1(){this.__data__=[],this.size=0}function zi(t,e){for(var n=t.length;n--;)if(Ds(t[n][0],e))return n;return-1}var ey=Array.prototype,ty=ey.splice;function ny(t){var e=this.__data__,n=zi(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():ty.call(e,n,1),--this.size,!0}function sy(t){var e=this.__data__,n=zi(e,t);return n<0?void 0:e[n][1]}function iy(t){return zi(this.__data__,t)>-1}function ry(t,e){var n=this.__data__,i=zi(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function Vt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Vt.prototype.clear=J1,Vt.prototype.delete=ny,Vt.prototype.get=sy,Vt.prototype.has=iy,Vt.prototype.set=ry;var Ps=yn(ft,"Map");function oy(){this.size=0,this.__data__={hash:new En,map:new(Ps||Vt),string:new En}}function ay(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Wi(t,e){var n=t.__data__;return ay(e)?n[typeof e=="string"?"string":"hash"]:n.map}function ly(t){var e=Wi(this,t).delete(t);return this.size-=e?1:0,e}function cy(t){return Wi(this,t).get(t)}function dy(t){return Wi(this,t).has(t)}function hy(t,e){var n=Wi(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function _n(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}_n.prototype.clear=oy,_n.prototype.delete=ly,_n.prototype.get=cy,_n.prototype.has=dy,_n.prototype.set=hy;function pd(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var Bo=md(Object.getPrototypeOf,Object),uy="[object Object]",fy=Function.prototype,my=Object.prototype,gd=fy.toString,py=my.hasOwnProperty,gy=gd.call(Object);function by(t){if(!Bt(t)||Zn(t)!=uy)return!1;var e=Bo(t);if(e===null)return!0;var n=py.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&gd.call(n)==gy}function yy(){this.__data__=new Vt,this.size=0}function Ey(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function _y(t){return this.__data__.get(t)}function wy(t){return this.__data__.has(t)}var ky=200;function Ny(t,e){var n=this.__data__;if(n instanceof Vt){var i=n.__data__;if(!Ps||i.length<ky-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new _n(i)}return n.set(t,e),this.size=n.size,this}function mt(t){var e=this.__data__=new Vt(t);this.size=e.size}mt.prototype.clear=yy,mt.prototype.delete=Ey,mt.prototype.get=_y,mt.prototype.has=wy,mt.prototype.set=Ny;function Ty(t,e){return t&&vs(e,Lo(e),t)}function Ay(t,e){return t&&vs(e,Rs(e),t)}var bd=typeof fe=="object"&&fe&&!fe.nodeType&&fe,yd=bd&&typeof module=="object"&&module&&!module.nodeType&&module,Cy=yd&&yd.exports===bd,Ed=Cy?ft.Buffer:void 0,_d=Ed?Ed.allocUnsafe:void 0;function wd(t,e){if(e)return t.slice();var n=t.length,i=_d?_d(n):new t.constructor(n);return t.copy(i),i}function Sy(t,e){for(var n=-1,i=t==null?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function kd(){return[]}var Oy=Object.prototype,Ly=Oy.propertyIsEnumerable,Nd=Object.getOwnPropertySymbols,Vo=Nd?function(t){return t==null?[]:(t=Object(t),Sy(Nd(t),function(e){return Ly.call(t,e)}))}:kd;function By(t,e){return vs(t,Vo(t),e)}var Vy=Object.getOwnPropertySymbols,Td=Vy?function(t){for(var e=[];t;)pd(e,Vo(t)),t=Bo(t);return e}:kd;function Iy(t,e){return vs(t,Td(t),e)}function Ad(t,e,n){var i=e(t);return gn(t)?i:pd(i,n(t))}function Io(t){return Ad(t,Lo,Vo)}function xy(t){return Ad(t,Rs,Td)}var xo=yn(ft,"DataView"),Do=yn(ft,"Promise"),vo=yn(ft,"Set"),Cd="[object Map]",Dy="[object Object]",Sd="[object Promise]",Od="[object Set]",Ld="[object WeakMap]",Bd="[object DataView]",vy=bn(xo),$y=bn(Ps),My=bn(Do),Ry=bn(vo),qy=bn(ko),Qe=Zn;(xo&&Qe(new xo(new ArrayBuffer(1)))!=Bd||Ps&&Qe(new Ps)!=Cd||Do&&Qe(Do.resolve())!=Sd||vo&&Qe(new vo)!=Od||ko&&Qe(new ko)!=Ld)&&(Qe=function(t){var e=Zn(t),n=e==Dy?t.constructor:void 0,i=n?bn(n):"";if(i)switch(i){case vy:return Bd;case $y:return Cd;case My:return Sd;case Ry:return Od;case qy:return Ld}return e});var Py=Object.prototype,jy=Py.hasOwnProperty;function Fy(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&jy.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Ki=ft.Uint8Array;function $o(t){var e=new t.constructor(t.byteLength);return new Ki(e).set(new Ki(t)),e}function Uy(t,e){var n=e?$o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Hy=/\w*$/;function zy(t){var e=new t.constructor(t.source,Hy.exec(t));return e.lastIndex=t.lastIndex,e}var Vd=Yt?Yt.prototype:void 0,Id=Vd?Vd.valueOf:void 0;function Wy(t){return Id?Object(Id.call(t)):{}}function xd(t,e){var n=e?$o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Ky="[object Boolean]",Gy="[object Date]",Yy="[object Map]",Xy="[object Number]",Zy="[object RegExp]",Qy="[object Set]",Jy="[object String]",eE="[object Symbol]",tE="[object ArrayBuffer]",nE="[object DataView]",sE="[object Float32Array]",iE="[object Float64Array]",rE="[object Int8Array]",oE="[object Int16Array]",aE="[object Int32Array]",lE="[object Uint8Array]",cE="[object Uint8ClampedArray]",dE="[object Uint16Array]",hE="[object Uint32Array]";function uE(t,e,n){var i=t.constructor;switch(e){case tE:return $o(t);case Ky:case Gy:return new i(+t);case nE:return Uy(t,n);case sE:case iE:case rE:case oE:case aE:case lE:case cE:case dE:case hE:return xd(t,n);case Yy:return new i;case Xy:case Jy:return new i(t);case Zy:return zy(t);case Qy:return new i;case eE:return Wy(t)}}function Dd(t){return typeof t.constructor=="function"&&!To(t)?xb(Bo(t)):{}}var fE="[object Map]";function mE(t){return Bt(t)&&Qe(t)==fE}var vd=Qn&&Qn.isMap,pE=vd?Co(vd):mE,gE="[object Set]";function bE(t){return Bt(t)&&Qe(t)==gE}var $d=Qn&&Qn.isSet,yE=$d?Co($d):bE,EE=1,_E=2,wE=4,Md="[object Arguments]",kE="[object Array]",NE="[object Boolean]",TE="[object Date]",AE="[object Error]",Rd="[object Function]",CE="[object GeneratorFunction]",SE="[object Map]",OE="[object Number]",qd="[object Object]",LE="[object RegExp]",BE="[object Set]",VE="[object String]",IE="[object Symbol]",xE="[object WeakMap]",DE="[object ArrayBuffer]",vE="[object DataView]",$E="[object Float32Array]",ME="[object Float64Array]",RE="[object Int8Array]",qE="[object Int16Array]",PE="[object Int32Array]",jE="[object Uint8Array]",FE="[object Uint8ClampedArray]",UE="[object Uint16Array]",HE="[object Uint32Array]",me={};me[Md]=me[kE]=me[DE]=me[vE]=me[NE]=me[TE]=me[$E]=me[ME]=me[RE]=me[qE]=me[PE]=me[SE]=me[OE]=me[qd]=me[LE]=me[BE]=me[VE]=me[IE]=me[jE]=me[FE]=me[UE]=me[HE]=!0,me[AE]=me[Rd]=me[xE]=!1;function Gi(t,e,n,i,r,o){var a,c=e&EE,l=e&_E,h=e&wE;if(a!==void 0)return a;if(!Xt(t))return t;var f=gn(t);if(f){if(a=Fy(t),!c)return td(t,a)}else{var u=Qe(t),p=u==Rd||u==CE;if($s(t))return wd(t,c);if(u==qd||u==Md||p&&!r){if(a=l||p?{}:Dd(t),!c)return l?Iy(t,Ay(a,t)):By(t,Ty(a,t))}else{if(!me[u])return r?t:{};a=uE(t,u,c)}}o||(o=new mt);var g=o.get(t);if(g)return g;o.set(t,a),yE(t)?t.forEach(function(k){a.add(Gi(k,e,n,k,t,o))}):pE(t)&&t.forEach(function(k,N){a.set(N,Gi(k,e,n,N,t,o))});var E=h?l?xy:Io:l?Rs:Lo,w=f?void 0:E(t);return Fb(w||t,function(k,N){w&&(N=k,k=t[N]),sd(a,N,Gi(k,e,n,N,t,o))}),a}var zE=1,WE=4;function Jn(t){return Gi(t,zE|WE)}var KE="__lodash_hash_undefined__";function GE(t){return this.__data__.set(t,KE),this}function YE(t){return this.__data__.has(t)}function Yi(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new _n;++e<n;)this.add(t[e])}Yi.prototype.add=Yi.prototype.push=GE,Yi.prototype.has=YE;function XE(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function ZE(t,e){return t.has(e)}var QE=1,JE=2;function Pd(t,e,n,i,r,o){var a=n&QE,c=t.length,l=e.length;if(c!=l&&!(a&&l>c))return!1;var h=o.get(t),f=o.get(e);if(h&&f)return h==e&&f==t;var u=-1,p=!0,g=n&JE?new Yi:void 0;for(o.set(t,e),o.set(e,t);++u<c;){var E=t[u],w=e[u];if(i)var k=a?i(w,E,u,e,t,o):i(E,w,u,t,e,o);if(k!==void 0){if(k)continue;p=!1;break}if(g){if(!XE(e,function(N,L){if(!ZE(g,L)&&(E===N||r(E,N,n,i,o)))return g.push(L)})){p=!1;break}}else if(!(E===w||r(E,w,n,i,o))){p=!1;break}}return o.delete(t),o.delete(e),p}function e0(t){var e=-1,n=Array(t.size);return t.forEach(function(i,r){n[++e]=[r,i]}),n}function t0(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var n0=1,s0=2,i0="[object Boolean]",r0="[object Date]",o0="[object Error]",a0="[object Map]",l0="[object Number]",c0="[object RegExp]",d0="[object Set]",h0="[object String]",u0="[object Symbol]",f0="[object ArrayBuffer]",m0="[object DataView]",jd=Yt?Yt.prototype:void 0,Mo=jd?jd.valueOf:void 0;function p0(t,e,n,i,r,o,a){switch(n){case m0:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case f0:return!(t.byteLength!=e.byteLength||!o(new Ki(t),new Ki(e)));case i0:case r0:case l0:return Ds(+t,+e);case o0:return t.name==e.name&&t.message==e.message;case c0:case h0:return t==e+"";case a0:var c=e0;case d0:var l=i&n0;if(c||(c=t0),t.size!=e.size&&!l)return!1;var h=a.get(t);if(h)return h==e;i|=s0,a.set(t,e);var f=Pd(c(t),c(e),i,r,o,a);return a.delete(t),f;case u0:if(Mo)return Mo.call(t)==Mo.call(e)}return!1}var g0=1,b0=Object.prototype,y0=b0.hasOwnProperty;function E0(t,e,n,i,r,o){var a=n&g0,c=Io(t),l=c.length,h=Io(e),f=h.length;if(l!=f&&!a)return!1;for(var u=l;u--;){var p=c[u];if(!(a?p in e:y0.call(e,p)))return!1}var g=o.get(t),E=o.get(e);if(g&&E)return g==e&&E==t;var w=!0;o.set(t,e),o.set(e,t);for(var k=a;++u<l;){p=c[u];var N=t[p],L=e[p];if(i)var x=a?i(L,N,p,e,t,o):i(N,L,p,t,e,o);if(!(x===void 0?N===L||r(N,L,n,i,o):x)){w=!1;break}k||(k=p=="constructor")}if(w&&!k){var D=t.constructor,v=e.constructor;D!=v&&"constructor"in t&&"constructor"in e&&!(typeof D=="function"&&D instanceof D&&typeof v=="function"&&v instanceof v)&&(w=!1)}return o.delete(t),o.delete(e),w}var _0=1,Fd="[object Arguments]",Ud="[object Array]",Xi="[object Object]",w0=Object.prototype,Hd=w0.hasOwnProperty;function k0(t,e,n,i,r,o){var a=gn(t),c=gn(e),l=a?Ud:Qe(t),h=c?Ud:Qe(e);l=l==Fd?Xi:l,h=h==Fd?Xi:h;var f=l==Xi,u=h==Xi,p=l==h;if(p&&$s(t)){if(!$s(e))return!1;a=!0,f=!1}if(p&&!f)return o||(o=new mt),a||Oo(t)?Pd(t,e,n,i,r,o):p0(t,e,l,n,i,r,o);if(!(n&_0)){var g=f&&Hd.call(t,"__wrapped__"),E=u&&Hd.call(e,"__wrapped__");if(g||E){var w=g?t.value():t,k=E?e.value():e;return o||(o=new mt),r(w,k,n,i,o)}}return p?(o||(o=new mt),E0(t,e,n,i,r,o)):!1}function zd(t,e,n,i,r){return t===e?!0:t==null||e==null||!Bt(t)&&!Bt(e)?t!==t&&e!==e:k0(t,e,n,i,zd,r)}function N0(t){return function(e,n,i){for(var r=-1,o=Object(e),a=i(e),c=a.length;c--;){var l=a[++r];if(n(o[l],l,o)===!1)break}return e}}var T0=N0();function Ro(t,e,n){(n!==void 0&&!Ds(t[e],n)||n===void 0&&!(e in t))&&No(t,e,n)}function A0(t){return Bt(t)&&Hi(t)}function qo(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function C0(t){return vs(t,Rs(t))}function S0(t,e,n,i,r,o,a){var c=qo(t,n),l=qo(e,n),h=a.get(l);if(h){Ro(t,n,h);return}var f=o?o(c,l,n+"",t,e,a):void 0,u=f===void 0;if(u){var p=gn(l),g=!p&&$s(l),E=!p&&!g&&Oo(l);f=l,p||g||E?gn(c)?f=c:A0(c)?f=td(c):g?(u=!1,f=wd(l,!0)):E?(u=!1,f=xd(l,!0)):f=[]:by(l)||Ao(l)?(f=c,Ao(c)?f=C0(c):(!Xt(c)||_o(c))&&(f=Dd(l))):u=!1}u&&(a.set(l,f),r(f,l,i,o,a),a.delete(l)),Ro(t,n,f)}function Wd(t,e,n,i,r){t!==e&&T0(e,function(o,a){if(r||(r=new mt),Xt(o))S0(t,e,a,n,Wd,i,r);else{var c=i?i(qo(t,a),o,a+"",t,e,r):void 0;c===void 0&&(c=o),Ro(t,a,c)}},Rs)}function Po(t,e){return zd(t,e)}var Zt=Zb(function(t,e,n){Wd(t,e,n)}),U=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(U||{});class pt{constructor(e,n,i={}){this.attrName=e,this.keyName=n;const r=U.TYPE&U.ATTRIBUTE;this.scope=i.scope!=null?i.scope&U.LEVEL|r:U.ATTRIBUTE,i.whitelist!=null&&(this.whitelist=i.whitelist)}static keys(e){return Array.from(e.attributes).map(n=>n.name)}add(e,n){return this.canAdd(e,n)?(e.setAttribute(this.keyName,n),!0):!1}canAdd(e,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const n=e.getAttribute(this.keyName);return this.canAdd(e,n)&&n?n:""}}class es extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const Kd=class al{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,n=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(n){let i=null;try{i=e.parentNode}catch{return null}return this.find(i,n)}return null}create(e,n,i){const r=this.query(n);if(r==null)throw new es(`Unable to create ${n} blot`);const o=r,a=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:o.create(i),c=new o(e,a,i);return al.blots.set(c.domNode,c),c}find(e,n=!1){return al.find(e,n)}query(e,n=U.ANY){let i;return typeof e=="string"?i=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?i=this.types.text:typeof e=="number"?e&U.LEVEL&U.BLOCK?i=this.types.block:e&U.LEVEL&U.INLINE&&(i=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(r=>(i=this.classes[r],!!i)),i=i||this.tags[e.tagName]),i==null?null:"scope"in i&&n&U.LEVEL&i.scope&&n&U.TYPE&i.scope?i:null}register(...e){return e.map(n=>{const i="blotName"in n,r="attrName"in n;if(!i&&!r)throw new es("Invalid definition");if(i&&n.blotName==="abstract")throw new es("Cannot register abstract class");const o=i?n.blotName:r?n.attrName:void 0;return this.types[o]=n,r?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):i&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(a=>a.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(a=>{(this.tags[a]==null||n.className==null)&&(this.tags[a]=n)}))),n})}};Kd.blots=new WeakMap;let ts=Kd;function Gd(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${e}-`)===0)}class O0 extends pt{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(e,n){return this.canAdd(e,n)?(this.remove(e),e.classList.add(`${this.keyName}-${n}`),!0):!1}remove(e){Gd(e,this.keyName).forEach(n=>{e.classList.remove(n)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const n=(Gd(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,n)?n:""}}const Je=O0;function jo(t){const e=t.split("-"),n=e.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("");return e[0]+n}class L0 extends pt{static keys(e){return(e.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(e,n){return this.canAdd(e,n)?(e.style[jo(this.keyName)]=n,!0):!1}remove(e){e.style[jo(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const n=e.style[jo(this.keyName)];return this.canAdd(e,n)?n:""}}const Qt=L0;class B0{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,n){n?e.add(this.domNode,n)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=ts.find(this.domNode);if(e==null)return;const n=pt.keys(this.domNode),i=Je.keys(this.domNode),r=Qt.keys(this.domNode);n.concat(i).concat(r).forEach(o=>{const a=e.scroll.query(o,U.ATTRIBUTE);a instanceof pt&&(this.attributes[a.attrName]=a)})}copy(e){Object.keys(this.attributes).forEach(n=>{const i=this.attributes[n].value(this.domNode);e.format(n,i)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,n)=>(e[n]=this.attributes[n].value(this.domNode),e),{})}}const Zi=B0,Yd=class{constructor(e,n){this.scroll=e,this.domNode=n,ts.blots.set(n,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new es("Blot definition missing tagName");let n,i;return Array.isArray(this.tagName)?(typeof e=="string"?(i=e.toUpperCase(),parseInt(i,10).toString()===i&&(i=parseInt(i,10))):typeof e=="number"&&(i=e),typeof i=="number"?n=document.createElement(this.tagName[i-1]):i&&this.tagName.indexOf(i)>-1?n=document.createElement(i):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),ts.blots.delete(this.domNode)}deleteAt(e,n){this.isolate(e,n).remove()}formatAt(e,n,i,r){const o=this.isolate(e,n);if(this.scroll.query(i,U.BLOT)!=null&&r)o.wrap(i,r);else if(this.scroll.query(i,U.ATTRIBUTE)!=null){const a=this.scroll.create(this.statics.scope);o.wrap(a),a.format(i,r)}}insertAt(e,n,i){const r=i==null?this.scroll.create("text",n):this.scroll.create(n,i),o=this.split(e);this.parent.insertBefore(r,o||void 0)}isolate(e,n){const i=this.split(e);if(i==null)throw new Error("Attempt to isolate at end");return i.split(n),i}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,n){const i=typeof e=="string"?this.scroll.create(e,n):e;return this.parent!=null&&(this.parent.insertBefore(i,this.next||void 0),this.remove()),i}split(e,n){return e===0?this:this.next}update(e,n){}wrap(e,n){const i=typeof e=="string"?this.scroll.create(e,n):e;if(this.parent!=null&&this.parent.insertBefore(i,this.next||void 0),typeof i.appendChild!="function")throw new es(`Cannot wrap ${e}`);return i.appendChild(this),i}};Yd.blotName="abstract";let Xd=Yd;const Zd=class extends Xd{static value(e){return!0}index(e,n){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(e,n){let i=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(i+=1),[this.parent.domNode,i]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Zd.scope=U.INLINE_BLOT;const Te=Zd;class V0{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const n=e.slice(1);this.append(...n)}}at(e){const n=this.iterator();let i=n();for(;i&&e>0;)e-=1,i=n();return i}contains(e){const n=this.iterator();let i=n();for(;i;){if(i===e)return!0;i=n()}return!1}indexOf(e){const n=this.iterator();let i=n(),r=0;for(;i;){if(i===e)return r;r+=1,i=n()}return-1}insertBefore(e,n){e!=null&&(this.remove(e),e.next=n,n!=null?(e.prev=n.prev,n.prev!=null&&(n.prev.next=e),n.prev=e,n===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let n=0,i=this.head;for(;i!=null;){if(i===e)return n;n+=i.length(),i=i.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const n=e;return e!=null&&(e=e.next),n}}find(e,n=!1){const i=this.iterator();let r=i();for(;r;){const o=r.length();if(e<o||n&&e===o&&(r.next==null||r.next.length()!==0))return[r,e];e-=o,r=i()}return[null,0]}forEach(e){const n=this.iterator();let i=n();for(;i;)e(i),i=n()}forEachAt(e,n,i){if(n<=0)return;const[r,o]=this.find(e);let a=e-o;const c=this.iterator(r);let l=c();for(;l&&a<e+n;){const h=l.length();e>a?i(l,e-a,Math.min(n,a+h-e)):i(l,0,Math.min(h,e+n-a)),a+=h,l=c()}}map(e){return this.reduce((n,i)=>(n.push(e(i)),n),[])}reduce(e,n){const i=this.iterator();let r=i();for(;r;)n=e(n,r),r=i();return n}}function Qd(t,e){const n=e.find(t);if(n)return n;try{return e.create(t)}catch{const i=e.create(U.INLINE);return Array.from(t.childNodes).forEach(r=>{i.domNode.appendChild(r)}),t.parentNode&&t.parentNode.replaceChild(i.domNode,t),i.attach(),i}}const Jd=class on extends Xd{constructor(e,n){super(e,n),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,on.uiClass&&this.uiNode.classList.add(on.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new V0,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const n=Qd(e,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof es)return;throw n}})}deleteAt(e,n){if(e===0&&n===this.length())return this.remove();this.children.forEachAt(e,n,(i,r,o)=>{i.deleteAt(r,o)})}descendant(e,n=0){const[i,r]=this.children.find(n);return e.blotName==null&&e(i)||e.blotName!=null&&i instanceof e?[i,r]:i instanceof on?i.descendant(e,r):[null,-1]}descendants(e,n=0,i=Number.MAX_VALUE){let r=[],o=i;return this.children.forEachAt(n,i,(a,c,l)=>{(e.blotName==null&&e(a)||e.blotName!=null&&a instanceof e)&&r.push(a),a instanceof on&&(r=r.concat(a.descendants(e,c,o))),o-=l}),r}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(n=>{e||this.statics.allowedChildren.some(i=>n instanceof i)||(n.statics.scope===U.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),e=!0):n instanceof on?n.unwrap():n.remove())})}formatAt(e,n,i,r){this.children.forEachAt(e,n,(o,a,c)=>{o.formatAt(a,c,i,r)})}insertAt(e,n,i){const[r,o]=this.children.find(e);if(r)r.insertAt(o,n,i);else{const a=i==null?this.scroll.create("text",n):this.scroll.create(n,i);this.appendChild(a)}}insertBefore(e,n){e.parent!=null&&e.parent.children.remove(e);let i=null;this.children.insertBefore(e,n||null),e.parent=this,n!=null&&(i=n.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==i)&&this.domNode.insertBefore(e.domNode,i),e.attach()}length(){return this.children.reduce((e,n)=>e+n.length(),0)}moveChildren(e,n){this.children.forEach(i=>{e.insertBefore(i,n)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(e,n=!1){const[i,r]=this.children.find(e,n),o=[[this,e]];return i instanceof on?o.concat(i.path(r,n)):(i!=null&&o.push([i,r]),o)}removeChild(e){this.children.remove(e)}replaceWith(e,n){const i=typeof e=="string"?this.scroll.create(e,n):e;return i instanceof on&&this.moveChildren(i),super.replaceWith(i)}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const i=this.clone();return this.parent&&this.parent.insertBefore(i,this.next||void 0),this.children.forEachAt(e,this.length(),(r,o,a)=>{const c=r.split(o,n);c!=null&&i.appendChild(c)}),i}splitAfter(e){const n=this.clone();for(;e.next!=null;)n.appendChild(e.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,n){const i=[],r=[];e.forEach(o=>{o.target===this.domNode&&o.type==="childList"&&(i.push(...o.addedNodes),r.push(...o.removedNodes))}),r.forEach(o=>{if(o.parentNode!=null&&o.tagName!=="IFRAME"&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const a=this.scroll.find(o);a!=null&&(a.domNode.parentNode==null||a.domNode.parentNode===this.domNode)&&a.detach()}),i.filter(o=>o.parentNode===this.domNode&&o!==this.uiNode).sort((o,a)=>o===a?0:o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(o=>{let a=null;o.nextSibling!=null&&(a=this.scroll.find(o.nextSibling));const c=Qd(o,this.scroll);(c.next!==a||c.next==null)&&(c.parent!=null&&c.parent.removeChild(this),this.insertBefore(c,a||void 0))}),this.enforceAllowedChildren()}};Jd.uiClass="";const et=Jd;function I0(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}const ns=class _s extends et{static create(e){return super.create(e)}static formats(e,n){const i=n.query(_s.blotName);if(!(i!=null&&e.tagName===i.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Zi(this.domNode)}format(e,n){if(e===this.statics.blotName&&!n)this.children.forEach(i=>{i instanceof _s||(i=i.wrap(_s.blotName,!0)),this.attributes.copy(i)}),this.unwrap();else{const i=this.scroll.query(e,U.INLINE);if(i==null)return;i instanceof pt?this.attributes.attribute(i,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,i,r){this.formats()[i]!=null||this.scroll.query(i,U.ATTRIBUTE)?this.isolate(e,n).format(i,r):super.formatAt(e,n,i,r)}optimize(e){super.optimize(e);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const i=this.next;i instanceof _s&&i.prev===this&&I0(n,i.formats())&&(i.moveChildren(this),i.remove())}replaceWith(e,n){const i=super.replaceWith(e,n);return this.attributes.copy(i),i}update(e,n){super.update(e,n),e.some(i=>i.target===this.domNode&&i.type==="attributes")&&this.attributes.build()}wrap(e,n){const i=super.wrap(e,n);return i instanceof _s&&this.attributes.move(i),i}};ns.allowedChildren=[ns,Te],ns.blotName="inline",ns.scope=U.INLINE_BLOT,ns.tagName="SPAN";const Fo=ns,ss=class ll extends et{static create(e){return super.create(e)}static formats(e,n){const i=n.query(ll.blotName);if(!(i!=null&&e.tagName===i.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Zi(this.domNode)}format(e,n){const i=this.scroll.query(e,U.BLOCK);i!=null&&(i instanceof pt?this.attributes.attribute(i,n):e===this.statics.blotName&&!n?this.replaceWith(ll.blotName):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n))}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,i,r){this.scroll.query(i,U.BLOCK)!=null?this.format(i,r):super.formatAt(e,n,i,r)}insertAt(e,n,i){if(i==null||this.scroll.query(n,U.INLINE)!=null)super.insertAt(e,n,i);else{const r=this.split(e);if(r!=null){const o=this.scroll.create(n,i);r.parent.insertBefore(o,r)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,n){const i=super.replaceWith(e,n);return this.attributes.copy(i),i}update(e,n){super.update(e,n),e.some(i=>i.target===this.domNode&&i.type==="attributes")&&this.attributes.build()}};ss.blotName="block",ss.scope=U.BLOCK_BLOT,ss.tagName="P",ss.allowedChildren=[Fo,ss,Te];const js=ss,Uo=class extends et{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,n){super.deleteAt(e,n),this.enforceAllowedChildren()}formatAt(e,n,i,r){super.formatAt(e,n,i,r),this.enforceAllowedChildren()}insertAt(e,n,i){super.insertAt(e,n,i),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Uo.blotName="container",Uo.scope=U.BLOCK_BLOT;const Qi=Uo;class x0 extends Te{static formats(e,n){}format(e,n){super.formatAt(0,this.length(),e,n)}formatAt(e,n,i,r){e===0&&n===this.length()?this.format(i,r):super.formatAt(e,n,i,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const qe=x0,D0={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},v0=100,is=class extends et{constructor(e,n){super(null,n),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(i=>{this.update(i)}),this.observer.observe(this.domNode,D0),this.attach()}create(e,n){return this.registry.create(this,e,n)}find(e,n=!1){const i=this.registry.find(e,n);return i?i.scroll===this?i:n?this.find(i.scroll.domNode.parentNode,!0):null:null}query(e,n=U.ANY){return this.registry.query(e,n)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,n){this.update(),e===0&&n===this.length()?this.children.forEach(i=>{i.remove()}):super.deleteAt(e,n)}formatAt(e,n,i,r){this.update(),super.formatAt(e,n,i,r)}insertAt(e,n,i){this.update(),super.insertAt(e,n,i)}optimize(e=[],n={}){super.optimize(n);const i=n.mutationsMap||new WeakMap;let r=Array.from(this.observer.takeRecords());for(;r.length>0;)e.push(r.pop());const o=(l,h=!0)=>{l==null||l===this||l.domNode.parentNode!=null&&(i.has(l.domNode)||i.set(l.domNode,[]),h&&o(l.parent))},a=l=>{i.has(l.domNode)&&(l instanceof et&&l.children.forEach(a),i.delete(l.domNode),l.optimize(n))};let c=e;for(let l=0;c.length>0;l+=1){if(l>=v0)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(h=>{const f=this.find(h.target,!0);f!=null&&(f.domNode===h.target&&(h.type==="childList"?(o(this.find(h.previousSibling,!1)),Array.from(h.addedNodes).forEach(u=>{const p=this.find(u,!1);o(p,!1),p instanceof et&&p.children.forEach(g=>{o(g,!1)})})):h.type==="attributes"&&o(f.prev)),o(f))}),this.children.forEach(a),c=Array.from(this.observer.takeRecords()),r=c.slice();r.length>0;)e.push(r.pop())}}update(e,n={}){e=e||this.observer.takeRecords();const i=new WeakMap;e.map(r=>{const o=this.find(r.target,!0);return o==null?null:i.has(o.domNode)?(i.get(o.domNode).push(r),null):(i.set(o.domNode,[r]),o)}).forEach(r=>{r!=null&&r!==this&&i.has(r.domNode)&&r.update(i.get(r.domNode)||[],n)}),n.mutationsMap=i,i.has(this.domNode)&&super.update(i.get(this.domNode),n),this.optimize(e,n)}};is.blotName="scroll",is.defaultChild=js,is.allowedChildren=[js,Qi],is.scope=U.BLOCK_BLOT,is.tagName="DIV";const Ho=is,zo=class mu extends Te{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,n){super(e,n),this.text=this.statics.value(this.domNode)}deleteAt(e,n){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+n)}index(e,n){return this.domNode===e?n:-1}insertAt(e,n,i){i==null?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,n,i)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof mu&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,n=!1){return[this.domNode,e]}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const i=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(i,this.next||void 0),this.text=this.statics.value(this.domNode),i}update(e,n){e.some(i=>i.type==="characterData"&&i.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};zo.blotName="text",zo.scope=U.INLINE_BLOT;const Ji=zo,$0=Object.freeze(Object.defineProperty({__proto__:null,Attributor:pt,AttributorStore:Zi,BlockBlot:js,ClassAttributor:Je,ContainerBlot:Qi,EmbedBlot:qe,InlineBlot:Fo,LeafBlot:Te,ParentBlot:et,Registry:ts,Scope:U,ScrollBlot:Ho,StyleAttributor:Qt,TextBlot:Ji},Symbol.toStringTag,{value:"Module"}));var Jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var er={exports:{}},Wo,th;function M0(){if(th)return Wo;th=1;var t=-1,e=1,n=0;function i(b,S,_,I,V){if(b===S)return b?[[n,b]]:[];if(_!=null){var A=de(b,S,_);if(A)return A}var B=c(b,S),R=b.substring(0,B);b=b.substring(B),S=S.substring(B),B=h(b,S);var P=b.substring(b.length-B);b=b.substring(0,b.length-B),S=S.substring(0,S.length-B);var $=r(b,S);return R&&$.unshift([n,R]),P&&$.push([n,P]),L($,V),I&&u($),$}function r(b,S){var _;if(!b)return[[e,S]];if(!S)return[[t,b]];var I=b.length>S.length?b:S,V=b.length>S.length?S:b,A=I.indexOf(V);if(A!==-1)return _=[[e,I.substring(0,A)],[n,V],[e,I.substring(A+V.length)]],b.length>S.length&&(_[0][0]=_[2][0]=t),_;if(V.length===1)return[[t,b],[e,S]];var B=f(b,S);if(B){var R=B[0],P=B[1],$=B[2],Y=B[3],K=B[4],J=i(R,$),Z=i(P,Y);return J.concat([[n,K]],Z)}return o(b,S)}function o(b,S){for(var _=b.length,I=S.length,V=Math.ceil((_+I)/2),A=V,B=2*V,R=new Array(B),P=new Array(B),$=0;$<B;$++)R[$]=-1,P[$]=-1;R[A+1]=0,P[A+1]=0;for(var Y=_-I,K=Y%2!==0,J=0,Z=0,j=0,ae=0,ue=0;ue<V;ue++){for(var G=-ue+J;G<=ue-Z;G+=2){var te=A+G,ie;G===-ue||G!==ue&&R[te-1]<R[te+1]?ie=R[te+1]:ie=R[te-1]+1;for(var ne=ie-G;ie<_&&ne<I&&b.charAt(ie)===S.charAt(ne);)ie++,ne++;if(R[te]=ie,ie>_)Z+=2;else if(ne>I)J+=2;else if(K){var le=A+Y-G;if(le>=0&&le<B&&P[le]!==-1){var ce=_-P[le];if(ie>=ce)return a(b,S,ie,ne)}}}for(var ge=-ue+j;ge<=ue-ae;ge+=2){var le=A+ge,ce;ge===-ue||ge!==ue&&P[le-1]<P[le+1]?ce=P[le+1]:ce=P[le-1]+1;for(var _e=ce-ge;ce<_&&_e<I&&b.charAt(_-ce-1)===S.charAt(I-_e-1);)ce++,_e++;if(P[le]=ce,ce>_)ae+=2;else if(_e>I)j+=2;else if(!K){var te=A+Y-ge;if(te>=0&&te<B&&R[te]!==-1){var ie=R[te],ne=A+ie-te;if(ce=_-ce,ie>=ce)return a(b,S,ie,ne)}}}}return[[t,b],[e,S]]}function a(b,S,_,I){var V=b.substring(0,_),A=S.substring(0,I),B=b.substring(_),R=S.substring(I),P=i(V,A),$=i(B,R);return P.concat($)}function c(b,S){if(!b||!S||b.charAt(0)!==S.charAt(0))return 0;for(var _=0,I=Math.min(b.length,S.length),V=I,A=0;_<V;)b.substring(A,V)==S.substring(A,V)?(_=V,A=_):I=V,V=Math.floor((I-_)/2+_);return x(b.charCodeAt(V-1))&&V--,V}function l(b,S){var _=b.length,I=S.length;if(_==0||I==0)return 0;_>I?b=b.substring(_-I):_<I&&(S=S.substring(0,_));var V=Math.min(_,I);if(b==S)return V;for(var A=0,B=1;;){var R=b.substring(V-B),P=S.indexOf(R);if(P==-1)return A;B+=P,(P==0||b.substring(V-B)==S.substring(0,B))&&(A=B,B++)}}function h(b,S){if(!b||!S||b.slice(-1)!==S.slice(-1))return 0;for(var _=0,I=Math.min(b.length,S.length),V=I,A=0;_<V;)b.substring(b.length-V,b.length-A)==S.substring(S.length-V,S.length-A)?(_=V,A=_):I=V,V=Math.floor((I-_)/2+_);return D(b.charCodeAt(b.length-V))&&V--,V}function f(b,S){var _=b.length>S.length?b:S,I=b.length>S.length?S:b;if(_.length<4||I.length*2<_.length)return null;function V(Z,j,ae){for(var ue=Z.substring(ae,ae+Math.floor(Z.length/4)),G=-1,te="",ie,ne,le,ce;(G=j.indexOf(ue,G+1))!==-1;){var ge=c(Z.substring(ae),j.substring(G)),_e=h(Z.substring(0,ae),j.substring(0,G));te.length<_e+ge&&(te=j.substring(G-_e,G)+j.substring(G,G+ge),ie=Z.substring(0,ae-_e),ne=Z.substring(ae+ge),le=j.substring(0,G-_e),ce=j.substring(G+ge))}return te.length*2>=Z.length?[ie,ne,le,ce,te]:null}var A=V(_,I,Math.ceil(_.length/4)),B=V(_,I,Math.ceil(_.length/2)),R;if(!A&&!B)return null;B?A?R=A[4].length>B[4].length?A:B:R=B:R=A;var P,$,Y,K;b.length>S.length?(P=R[0],$=R[1],Y=R[2],K=R[3]):(Y=R[0],K=R[1],P=R[2],$=R[3]);var J=R[4];return[P,$,Y,K,J]}function u(b){for(var S=!1,_=[],I=0,V=null,A=0,B=0,R=0,P=0,$=0;A<b.length;)b[A][0]==n?(_[I++]=A,B=P,R=$,P=0,$=0,V=b[A][1]):(b[A][0]==e?P+=b[A][1].length:$+=b[A][1].length,V&&V.length<=Math.max(B,R)&&V.length<=Math.max(P,$)&&(b.splice(_[I-1],0,[t,V]),b[_[I-1]+1][0]=e,I--,I--,A=I>0?_[I-1]:-1,B=0,R=0,P=0,$=0,V=null,S=!0)),A++;for(S&&L(b),N(b),A=1;A<b.length;){if(b[A-1][0]==t&&b[A][0]==e){var Y=b[A-1][1],K=b[A][1],J=l(Y,K),Z=l(K,Y);J>=Z?(J>=Y.length/2||J>=K.length/2)&&(b.splice(A,0,[n,K.substring(0,J)]),b[A-1][1]=Y.substring(0,Y.length-J),b[A+1][1]=K.substring(J),A++):(Z>=Y.length/2||Z>=K.length/2)&&(b.splice(A,0,[n,Y.substring(0,Z)]),b[A-1][0]=e,b[A-1][1]=K.substring(0,K.length-Z),b[A+1][0]=t,b[A+1][1]=Y.substring(Z),A++),A++}A++}}var p=/[^a-zA-Z0-9]/,g=/\s/,E=/[\r\n]/,w=/\n\r?\n$/,k=/^\r?\n\r?\n/;function N(b){function S(Z,j){if(!Z||!j)return 6;var ae=Z.charAt(Z.length-1),ue=j.charAt(0),G=ae.match(p),te=ue.match(p),ie=G&&ae.match(g),ne=te&&ue.match(g),le=ie&&ae.match(E),ce=ne&&ue.match(E),ge=le&&Z.match(w),_e=ce&&j.match(k);return ge||_e?5:le||ce?4:G&&!ie&&ne?3:ie||ne?2:G||te?1:0}for(var _=1;_<b.length-1;){if(b[_-1][0]==n&&b[_+1][0]==n){var I=b[_-1][1],V=b[_][1],A=b[_+1][1],B=h(I,V);if(B){var R=V.substring(V.length-B);I=I.substring(0,I.length-B),V=R+V.substring(0,V.length-B),A=R+A}for(var P=I,$=V,Y=A,K=S(I,V)+S(V,A);V.charAt(0)===A.charAt(0);){I+=V.charAt(0),V=V.substring(1)+A.charAt(0),A=A.substring(1);var J=S(I,V)+S(V,A);J>=K&&(K=J,P=I,$=V,Y=A)}b[_-1][1]!=P&&(P?b[_-1][1]=P:(b.splice(_-1,1),_--),b[_][1]=$,Y?b[_+1][1]=Y:(b.splice(_+1,1),_--))}_++}}function L(b,S){b.push([n,""]);for(var _=0,I=0,V=0,A="",B="",R;_<b.length;){if(_<b.length-1&&!b[_][1]){b.splice(_,1);continue}switch(b[_][0]){case e:V++,B+=b[_][1],_++;break;case t:I++,A+=b[_][1],_++;break;case n:var P=_-V-I-1;if(S){if(P>=0&&z(b[P][1])){var $=b[P][1].slice(-1);if(b[P][1]=b[P][1].slice(0,-1),A=$+A,B=$+B,!b[P][1]){b.splice(P,1),_--;var Y=P-1;b[Y]&&b[Y][0]===e&&(V++,B=b[Y][1]+B,Y--),b[Y]&&b[Y][0]===t&&(I++,A=b[Y][1]+A,Y--),P=Y}}if(v(b[_][1])){var $=b[_][1].charAt(0);b[_][1]=b[_][1].slice(1),A+=$,B+=$}}if(_<b.length-1&&!b[_][1]){b.splice(_,1);break}if(A.length>0||B.length>0){A.length>0&&B.length>0&&(R=c(B,A),R!==0&&(P>=0?b[P][1]+=B.substring(0,R):(b.splice(0,0,[n,B.substring(0,R)]),_++),B=B.substring(R),A=A.substring(R)),R=h(B,A),R!==0&&(b[_][1]=B.substring(B.length-R)+b[_][1],B=B.substring(0,B.length-R),A=A.substring(0,A.length-R)));var K=V+I;A.length===0&&B.length===0?(b.splice(_-K,K),_=_-K):A.length===0?(b.splice(_-K,K,[e,B]),_=_-K+1):B.length===0?(b.splice(_-K,K,[t,A]),_=_-K+1):(b.splice(_-K,K,[t,A],[e,B]),_=_-K+2)}_!==0&&b[_-1][0]===n?(b[_-1][1]+=b[_][1],b.splice(_,1)):_++,V=0,I=0,A="",B="";break}}b[b.length-1][1]===""&&b.pop();var J=!1;for(_=1;_<b.length-1;)b[_-1][0]===n&&b[_+1][0]===n&&(b[_][1].substring(b[_][1].length-b[_-1][1].length)===b[_-1][1]?(b[_][1]=b[_-1][1]+b[_][1].substring(0,b[_][1].length-b[_-1][1].length),b[_+1][1]=b[_-1][1]+b[_+1][1],b.splice(_-1,1),J=!0):b[_][1].substring(0,b[_+1][1].length)==b[_+1][1]&&(b[_-1][1]+=b[_+1][1],b[_][1]=b[_][1].substring(b[_+1][1].length)+b[_+1][1],b.splice(_+1,1),J=!0)),_++;J&&L(b,S)}function x(b){return b>=55296&&b<=56319}function D(b){return b>=56320&&b<=57343}function v(b){return D(b.charCodeAt(0))}function z(b){return x(b.charCodeAt(b.length-1))}function X(b){for(var S=[],_=0;_<b.length;_++)b[_][1].length>0&&S.push(b[_]);return S}function ee(b,S,_,I){return z(b)||v(I)?null:X([[n,b],[t,S],[e,_],[n,I]])}function de(b,S,_){var I=typeof _=="number"?{index:_,length:0}:_.oldRange,V=typeof _=="number"?null:_.newRange,A=b.length,B=S.length;if(I.length===0&&(V===null||V.length===0)){var R=I.index,P=b.slice(0,R),$=b.slice(R),Y=V?V.index:null;e:{var K=R+B-A;if(Y!==null&&Y!==K||K<0||K>B)break e;var J=S.slice(0,K),Z=S.slice(K);if(Z!==$)break e;var j=Math.min(R,K),ae=P.slice(0,j),ue=J.slice(0,j);if(ae!==ue)break e;var G=P.slice(j),te=J.slice(j);return ee(ae,G,te,$)}e:{if(Y!==null&&Y!==R)break e;var ie=R,J=S.slice(0,ie),Z=S.slice(ie);if(J!==P)break e;var ne=Math.min(A-ie,B-ie),le=$.slice($.length-ne),ce=Z.slice(Z.length-ne);if(le!==ce)break e;var G=$.slice(0,$.length-ne),te=Z.slice(0,Z.length-ne);return ee(P,G,te,le)}}if(I.length>0&&V&&V.length===0)e:{var ae=b.slice(0,I.index),le=b.slice(I.index+I.length),j=ae.length,ne=le.length;if(B<j+ne)break e;var ue=S.slice(0,j),ce=S.slice(B-ne);if(ae!==ue||le!==ce)break e;var G=b.slice(j,A-ne),te=S.slice(j,B-ne);return ee(ae,G,te,le)}return null}function se(b,S,_,I){return i(b,S,_,I,!0)}return se.INSERT=e,se.DELETE=t,se.EQUAL=n,Wo=se,Wo}var Fs={exports:{}};Fs.exports;var nh;function sh(){return nh||(nh=1,function(t,e){var n=200,i="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",a="[object Array]",c="[object Boolean]",l="[object Date]",h="[object Error]",f="[object Function]",u="[object GeneratorFunction]",p="[object Map]",g="[object Number]",E="[object Object]",w="[object Promise]",k="[object RegExp]",N="[object Set]",L="[object String]",x="[object Symbol]",D="[object WeakMap]",v="[object ArrayBuffer]",z="[object DataView]",X="[object Float32Array]",ee="[object Float64Array]",de="[object Int8Array]",se="[object Int16Array]",b="[object Int32Array]",S="[object Uint8Array]",_="[object Uint8ClampedArray]",I="[object Uint16Array]",V="[object Uint32Array]",A=/[\\^$.*+?()[\]{}|]/g,B=/\w*$/,R=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,$={};$[o]=$[a]=$[v]=$[z]=$[c]=$[l]=$[X]=$[ee]=$[de]=$[se]=$[b]=$[p]=$[g]=$[E]=$[k]=$[N]=$[L]=$[x]=$[S]=$[_]=$[I]=$[V]=!0,$[h]=$[f]=$[D]=!1;var Y=typeof Jt=="object"&&Jt&&Jt.Object===Object&&Jt,K=typeof self=="object"&&self&&self.Object===Object&&self,J=Y||K||Function("return this")(),Z=e&&!e.nodeType&&e,j=Z&&!0&&t&&!t.nodeType&&t,ae=j&&j.exports===Z;function ue(d,m){return d.set(m[0],m[1]),d}function G(d,m){return d.add(m),d}function te(d,m){for(var y=-1,T=d?d.length:0;++y<T&&m(d[y],y,d)!==!1;);return d}function ie(d,m){for(var y=-1,T=m.length,Q=d.length;++y<T;)d[Q+y]=m[y];return d}function ne(d,m,y,T){for(var Q=-1,H=d?d.length:0;++Q<H;)y=m(y,d[Q],Q,d);return y}function le(d,m){for(var y=-1,T=Array(d);++y<d;)T[y]=m(y);return T}function ce(d,m){return d==null?void 0:d[m]}function ge(d){var m=!1;if(d!=null&&typeof d.toString!="function")try{m=!!(d+"")}catch{}return m}function _e(d){var m=-1,y=Array(d.size);return d.forEach(function(T,Q){y[++m]=[Q,T]}),y}function nn(d,m){return function(y){return d(m(y))}}function An(d){var m=-1,y=Array(d.size);return d.forEach(function(T){y[++m]=T}),y}var ni=Array.prototype,si=Function.prototype,Ie=Object.prototype,Et=J["__core-js_shared__"],Cn=function(){var d=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),Sn=si.toString,xe=Ie.hasOwnProperty,$t=Ie.toString,hs=RegExp("^"+Sn.call(xe).replace(A,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_t=ae?J.Buffer:void 0,Mt=J.Symbol,ii=J.Uint8Array,Xe=nn(Object.getPrototypeOf,Object),mr=Object.create,pr=Ie.propertyIsEnumerable,Na=ni.splice,ri=Object.getOwnPropertySymbols,us=_t?_t.isBuffer:void 0,gr=nn(Object.keys,Object),fs=ct(J,"DataView"),On=ct(J,"Map"),lt=ct(J,"Promise"),ms=ct(J,"Set"),oi=ct(J,"WeakMap"),Ln=ct(Object,"create"),ai=Be(fs),Bn=Be(On),li=Be(lt),ci=Be(ms),di=Be(oi),sn=Mt?Mt.prototype:void 0,br=sn?sn.valueOf:void 0;function Rt(d){var m=-1,y=d?d.length:0;for(this.clear();++m<y;){var T=d[m];this.set(T[0],T[1])}}function Ta(){this.__data__=Ln?Ln(null):{}}function Aa(d){return this.has(d)&&delete this.__data__[d]}function Ca(d){var m=this.__data__;if(Ln){var y=m[d];return y===i?void 0:y}return xe.call(m,d)?m[d]:void 0}function yr(d){var m=this.__data__;return Ln?m[d]!==void 0:xe.call(m,d)}function hi(d,m){var y=this.__data__;return y[d]=Ln&&m===void 0?i:m,this}Rt.prototype.clear=Ta,Rt.prototype.delete=Aa,Rt.prototype.get=Ca,Rt.prototype.has=yr,Rt.prototype.set=hi;function ke(d){var m=-1,y=d?d.length:0;for(this.clear();++m<y;){var T=d[m];this.set(T[0],T[1])}}function Sa(){this.__data__=[]}function Oa(d){var m=this.__data__,y=gs(m,d);if(y<0)return!1;var T=m.length-1;return y==T?m.pop():Na.call(m,y,1),!0}function La(d){var m=this.__data__,y=gs(m,d);return y<0?void 0:m[y][1]}function Ba(d){return gs(this.__data__,d)>-1}function Va(d,m){var y=this.__data__,T=gs(y,d);return T<0?y.push([d,m]):y[T][1]=m,this}ke.prototype.clear=Sa,ke.prototype.delete=Oa,ke.prototype.get=La,ke.prototype.has=Ba,ke.prototype.set=Va;function Ce(d){var m=-1,y=d?d.length:0;for(this.clear();++m<y;){var T=d[m];this.set(T[0],T[1])}}function Ia(){this.__data__={hash:new Rt,map:new(On||ke),string:new Rt}}function xa(d){return In(this,d).delete(d)}function Da(d){return In(this,d).get(d)}function va(d){return In(this,d).has(d)}function $a(d,m){return In(this,d).set(d,m),this}Ce.prototype.clear=Ia,Ce.prototype.delete=xa,Ce.prototype.get=Da,Ce.prototype.has=va,Ce.prototype.set=$a;function De(d){this.__data__=new ke(d)}function Ma(){this.__data__=new ke}function Ra(d){return this.__data__.delete(d)}function qa(d){return this.__data__.get(d)}function Pa(d){return this.__data__.has(d)}function ja(d,m){var y=this.__data__;if(y instanceof ke){var T=y.__data__;if(!On||T.length<n-1)return T.push([d,m]),this;y=this.__data__=new Ce(T)}return y.set(d,m),this}De.prototype.clear=Ma,De.prototype.delete=Ra,De.prototype.get=qa,De.prototype.has=Pa,De.prototype.set=ja;function ps(d,m){var y=pi(d)||ys(d)?le(d.length,String):[],T=y.length,Q=!!T;for(var H in d)xe.call(d,H)&&!(Q&&(H=="length"||tl(H,T)))&&y.push(H);return y}function Er(d,m,y){var T=d[m];(!(xe.call(d,m)&&Tr(T,y))||y===void 0&&!(m in d))&&(d[m]=y)}function gs(d,m){for(var y=d.length;y--;)if(Tr(d[y][0],m))return y;return-1}function wt(d,m){return d&&mi(m,bi(m),d)}function ui(d,m,y,T,Q,H,oe){var re;if(T&&(re=H?T(d,Q,H,oe):T(d)),re!==void 0)return re;if(!Nt(d))return d;var ye=pi(d);if(ye){if(re=Ja(d),!m)return Xa(d,re)}else{var he=Pt(d),Se=he==f||he==u;if(Ar(d))return bs(d,m);if(he==E||he==o||Se&&!H){if(ge(d))return H?d:{};if(re=kt(Se?{}:d),!m)return Za(d,wt(re,d))}else{if(!$[he])return H?d:{};re=el(d,he,ui,m)}}oe||(oe=new De);var ve=oe.get(d);if(ve)return ve;if(oe.set(d,re),!ye)var Ee=y?Qa(d):bi(d);return te(Ee||d,function(Oe,Ne){Ee&&(Ne=Oe,Oe=d[Ne]),Er(re,Ne,ui(Oe,m,y,T,Ne,d,oe))}),re}function Fa(d){return Nt(d)?mr(d):{}}function Ua(d,m,y){var T=m(d);return pi(d)?T:ie(T,y(d))}function Ha(d){return $t.call(d)}function za(d){if(!Nt(d)||sl(d))return!1;var m=gi(d)||ge(d)?hs:R;return m.test(Be(d))}function Wa(d){if(!kr(d))return gr(d);var m=[];for(var y in Object(d))xe.call(d,y)&&y!="constructor"&&m.push(y);return m}function bs(d,m){if(m)return d.slice();var y=new d.constructor(d.length);return d.copy(y),y}function fi(d){var m=new d.constructor(d.byteLength);return new ii(m).set(new ii(d)),m}function Vn(d,m){var y=m?fi(d.buffer):d.buffer;return new d.constructor(y,d.byteOffset,d.byteLength)}function _r(d,m,y){var T=m?y(_e(d),!0):_e(d);return ne(T,ue,new d.constructor)}function wr(d){var m=new d.constructor(d.source,B.exec(d));return m.lastIndex=d.lastIndex,m}function Ka(d,m,y){var T=m?y(An(d),!0):An(d);return ne(T,G,new d.constructor)}function Ga(d){return br?Object(br.call(d)):{}}function Ya(d,m){var y=m?fi(d.buffer):d.buffer;return new d.constructor(y,d.byteOffset,d.length)}function Xa(d,m){var y=-1,T=d.length;for(m||(m=Array(T));++y<T;)m[y]=d[y];return m}function mi(d,m,y,T){y||(y={});for(var Q=-1,H=m.length;++Q<H;){var oe=m[Q],re=void 0;Er(y,oe,re===void 0?d[oe]:re)}return y}function Za(d,m){return mi(d,qt(d),m)}function Qa(d){return Ua(d,bi,qt)}function In(d,m){var y=d.__data__;return nl(m)?y[typeof m=="string"?"string":"hash"]:y.map}function ct(d,m){var y=ce(d,m);return za(y)?y:void 0}var qt=ri?nn(ri,Object):rl,Pt=Ha;(fs&&Pt(new fs(new ArrayBuffer(1)))!=z||On&&Pt(new On)!=p||lt&&Pt(lt.resolve())!=w||ms&&Pt(new ms)!=N||oi&&Pt(new oi)!=D)&&(Pt=function(d){var m=$t.call(d),y=m==E?d.constructor:void 0,T=y?Be(y):void 0;if(T)switch(T){case ai:return z;case Bn:return p;case li:return w;case ci:return N;case di:return D}return m});function Ja(d){var m=d.length,y=d.constructor(m);return m&&typeof d[0]=="string"&&xe.call(d,"index")&&(y.index=d.index,y.input=d.input),y}function kt(d){return typeof d.constructor=="function"&&!kr(d)?Fa(Xe(d)):{}}function el(d,m,y,T){var Q=d.constructor;switch(m){case v:return fi(d);case c:case l:return new Q(+d);case z:return Vn(d,T);case X:case ee:case de:case se:case b:case S:case _:case I:case V:return Ya(d,T);case p:return _r(d,T,y);case g:case L:return new Q(d);case k:return wr(d);case N:return Ka(d,T,y);case x:return Ga(d)}}function tl(d,m){return m=m??r,!!m&&(typeof d=="number"||P.test(d))&&d>-1&&d%1==0&&d<m}function nl(d){var m=typeof d;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?d!=="__proto__":d===null}function sl(d){return!!Cn&&Cn in d}function kr(d){var m=d&&d.constructor,y=typeof m=="function"&&m.prototype||Ie;return d===y}function Be(d){if(d!=null){try{return Sn.call(d)}catch{}try{return d+""}catch{}}return""}function Nr(d){return ui(d,!0,!0)}function Tr(d,m){return d===m||d!==d&&m!==m}function ys(d){return il(d)&&xe.call(d,"callee")&&(!pr.call(d,"callee")||$t.call(d)==o)}var pi=Array.isArray;function Es(d){return d!=null&&Cr(d.length)&&!gi(d)}function il(d){return Sr(d)&&Es(d)}var Ar=us||ol;function gi(d){var m=Nt(d)?$t.call(d):"";return m==f||m==u}function Cr(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=r}function Nt(d){var m=typeof d;return!!d&&(m=="object"||m=="function")}function Sr(d){return!!d&&typeof d=="object"}function bi(d){return Es(d)?ps(d):Wa(d)}function rl(){return[]}function ol(){return!1}t.exports=Nr}(Fs,Fs.exports)),Fs.exports}var Us={exports:{}};Us.exports;var ih;function rh(){return ih||(ih=1,function(t,e){var n=200,i="__lodash_hash_undefined__",r=1,o=2,a=9007199254740991,c="[object Arguments]",l="[object Array]",h="[object AsyncFunction]",f="[object Boolean]",u="[object Date]",p="[object Error]",g="[object Function]",E="[object GeneratorFunction]",w="[object Map]",k="[object Number]",N="[object Null]",L="[object Object]",x="[object Promise]",D="[object Proxy]",v="[object RegExp]",z="[object Set]",X="[object String]",ee="[object Symbol]",de="[object Undefined]",se="[object WeakMap]",b="[object ArrayBuffer]",S="[object DataView]",_="[object Float32Array]",I="[object Float64Array]",V="[object Int8Array]",A="[object Int16Array]",B="[object Int32Array]",R="[object Uint8Array]",P="[object Uint8ClampedArray]",$="[object Uint16Array]",Y="[object Uint32Array]",K=/[\\^$.*+?()[\]{}|]/g,J=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,j={};j[_]=j[I]=j[V]=j[A]=j[B]=j[R]=j[P]=j[$]=j[Y]=!0,j[c]=j[l]=j[b]=j[f]=j[S]=j[u]=j[p]=j[g]=j[w]=j[k]=j[L]=j[v]=j[z]=j[X]=j[se]=!1;var ae=typeof Jt=="object"&&Jt&&Jt.Object===Object&&Jt,ue=typeof self=="object"&&self&&self.Object===Object&&self,G=ae||ue||Function("return this")(),te=e&&!e.nodeType&&e,ie=te&&!0&&t&&!t.nodeType&&t,ne=ie&&ie.exports===te,le=ne&&ae.process,ce=function(){try{return le&&le.binding&&le.binding("util")}catch{}}(),ge=ce&&ce.isTypedArray;function _e(d,m){for(var y=-1,T=d==null?0:d.length,Q=0,H=[];++y<T;){var oe=d[y];m(oe,y,d)&&(H[Q++]=oe)}return H}function nn(d,m){for(var y=-1,T=m.length,Q=d.length;++y<T;)d[Q+y]=m[y];return d}function An(d,m){for(var y=-1,T=d==null?0:d.length;++y<T;)if(m(d[y],y,d))return!0;return!1}function ni(d,m){for(var y=-1,T=Array(d);++y<d;)T[y]=m(y);return T}function si(d){return function(m){return d(m)}}function Ie(d,m){return d.has(m)}function Et(d,m){return d==null?void 0:d[m]}function Cn(d){var m=-1,y=Array(d.size);return d.forEach(function(T,Q){y[++m]=[Q,T]}),y}function Sn(d,m){return function(y){return d(m(y))}}function xe(d){var m=-1,y=Array(d.size);return d.forEach(function(T){y[++m]=T}),y}var $t=Array.prototype,hs=Function.prototype,_t=Object.prototype,Mt=G["__core-js_shared__"],ii=hs.toString,Xe=_t.hasOwnProperty,mr=function(){var d=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),pr=_t.toString,Na=RegExp("^"+ii.call(Xe).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ri=ne?G.Buffer:void 0,us=G.Symbol,gr=G.Uint8Array,fs=_t.propertyIsEnumerable,On=$t.splice,lt=us?us.toStringTag:void 0,ms=Object.getOwnPropertySymbols,oi=ri?ri.isBuffer:void 0,Ln=Sn(Object.keys,Object),ai=qt(G,"DataView"),Bn=qt(G,"Map"),li=qt(G,"Promise"),ci=qt(G,"Set"),di=qt(G,"WeakMap"),sn=qt(Object,"create"),br=Be(ai),Rt=Be(Bn),Ta=Be(li),Aa=Be(ci),Ca=Be(di),yr=us?us.prototype:void 0,hi=yr?yr.valueOf:void 0;function ke(d){var m=-1,y=d==null?0:d.length;for(this.clear();++m<y;){var T=d[m];this.set(T[0],T[1])}}function Sa(){this.__data__=sn?sn(null):{},this.size=0}function Oa(d){var m=this.has(d)&&delete this.__data__[d];return this.size-=m?1:0,m}function La(d){var m=this.__data__;if(sn){var y=m[d];return y===i?void 0:y}return Xe.call(m,d)?m[d]:void 0}function Ba(d){var m=this.__data__;return sn?m[d]!==void 0:Xe.call(m,d)}function Va(d,m){var y=this.__data__;return this.size+=this.has(d)?0:1,y[d]=sn&&m===void 0?i:m,this}ke.prototype.clear=Sa,ke.prototype.delete=Oa,ke.prototype.get=La,ke.prototype.has=Ba,ke.prototype.set=Va;function Ce(d){var m=-1,y=d==null?0:d.length;for(this.clear();++m<y;){var T=d[m];this.set(T[0],T[1])}}function Ia(){this.__data__=[],this.size=0}function xa(d){var m=this.__data__,y=bs(m,d);if(y<0)return!1;var T=m.length-1;return y==T?m.pop():On.call(m,y,1),--this.size,!0}function Da(d){var m=this.__data__,y=bs(m,d);return y<0?void 0:m[y][1]}function va(d){return bs(this.__data__,d)>-1}function $a(d,m){var y=this.__data__,T=bs(y,d);return T<0?(++this.size,y.push([d,m])):y[T][1]=m,this}Ce.prototype.clear=Ia,Ce.prototype.delete=xa,Ce.prototype.get=Da,Ce.prototype.has=va,Ce.prototype.set=$a;function De(d){var m=-1,y=d==null?0:d.length;for(this.clear();++m<y;){var T=d[m];this.set(T[0],T[1])}}function Ma(){this.size=0,this.__data__={hash:new ke,map:new(Bn||Ce),string:new ke}}function Ra(d){var m=ct(this,d).delete(d);return this.size-=m?1:0,m}function qa(d){return ct(this,d).get(d)}function Pa(d){return ct(this,d).has(d)}function ja(d,m){var y=ct(this,d),T=y.size;return y.set(d,m),this.size+=y.size==T?0:1,this}De.prototype.clear=Ma,De.prototype.delete=Ra,De.prototype.get=qa,De.prototype.has=Pa,De.prototype.set=ja;function ps(d){var m=-1,y=d==null?0:d.length;for(this.__data__=new De;++m<y;)this.add(d[m])}function Er(d){return this.__data__.set(d,i),this}function gs(d){return this.__data__.has(d)}ps.prototype.add=ps.prototype.push=Er,ps.prototype.has=gs;function wt(d){var m=this.__data__=new Ce(d);this.size=m.size}function ui(){this.__data__=new Ce,this.size=0}function Fa(d){var m=this.__data__,y=m.delete(d);return this.size=m.size,y}function Ua(d){return this.__data__.get(d)}function Ha(d){return this.__data__.has(d)}function za(d,m){var y=this.__data__;if(y instanceof Ce){var T=y.__data__;if(!Bn||T.length<n-1)return T.push([d,m]),this.size=++y.size,this;y=this.__data__=new De(T)}return y.set(d,m),this.size=y.size,this}wt.prototype.clear=ui,wt.prototype.delete=Fa,wt.prototype.get=Ua,wt.prototype.has=Ha,wt.prototype.set=za;function Wa(d,m){var y=ys(d),T=!y&&Tr(d),Q=!y&&!T&&Es(d),H=!y&&!T&&!Q&&Sr(d),oe=y||T||Q||H,re=oe?ni(d.length,String):[],ye=re.length;for(var he in d)Xe.call(d,he)&&!(oe&&(he=="length"||Q&&(he=="offset"||he=="parent")||H&&(he=="buffer"||he=="byteLength"||he=="byteOffset")||el(he,ye)))&&re.push(he);return re}function bs(d,m){for(var y=d.length;y--;)if(Nr(d[y][0],m))return y;return-1}function fi(d,m,y){var T=m(d);return ys(d)?T:nn(T,y(d))}function Vn(d){return d==null?d===void 0?de:N:lt&&lt in Object(d)?Pt(d):kr(d)}function _r(d){return Nt(d)&&Vn(d)==c}function wr(d,m,y,T,Q){return d===m?!0:d==null||m==null||!Nt(d)&&!Nt(m)?d!==d&&m!==m:Ka(d,m,y,T,wr,Q)}function Ka(d,m,y,T,Q,H){var oe=ys(d),re=ys(m),ye=oe?l:kt(d),he=re?l:kt(m);ye=ye==c?L:ye,he=he==c?L:he;var Se=ye==L,ve=he==L,Ee=ye==he;if(Ee&&Es(d)){if(!Es(m))return!1;oe=!0,Se=!1}if(Ee&&!Se)return H||(H=new wt),oe||Sr(d)?mi(d,m,y,T,Q,H):Za(d,m,ye,y,T,Q,H);if(!(y&r)){var Oe=Se&&Xe.call(d,"__wrapped__"),Ne=ve&&Xe.call(m,"__wrapped__");if(Oe||Ne){var rn=Oe?d.value():d,jt=Ne?m.value():m;return H||(H=new wt),Q(rn,jt,y,T,H)}}return Ee?(H||(H=new wt),Qa(d,m,y,T,Q,H)):!1}function Ga(d){if(!Cr(d)||nl(d))return!1;var m=Ar(d)?Na:J;return m.test(Be(d))}function Ya(d){return Nt(d)&&gi(d.length)&&!!j[Vn(d)]}function Xa(d){if(!sl(d))return Ln(d);var m=[];for(var y in Object(d))Xe.call(d,y)&&y!="constructor"&&m.push(y);return m}function mi(d,m,y,T,Q,H){var oe=y&r,re=d.length,ye=m.length;if(re!=ye&&!(oe&&ye>re))return!1;var he=H.get(d);if(he&&H.get(m))return he==m;var Se=-1,ve=!0,Ee=y&o?new ps:void 0;for(H.set(d,m),H.set(m,d);++Se<re;){var Oe=d[Se],Ne=m[Se];if(T)var rn=oe?T(Ne,Oe,Se,m,d,H):T(Oe,Ne,Se,d,m,H);if(rn!==void 0){if(rn)continue;ve=!1;break}if(Ee){if(!An(m,function(jt,xn){if(!Ie(Ee,xn)&&(Oe===jt||Q(Oe,jt,y,T,H)))return Ee.push(xn)})){ve=!1;break}}else if(!(Oe===Ne||Q(Oe,Ne,y,T,H))){ve=!1;break}}return H.delete(d),H.delete(m),ve}function Za(d,m,y,T,Q,H,oe){switch(y){case S:if(d.byteLength!=m.byteLength||d.byteOffset!=m.byteOffset)return!1;d=d.buffer,m=m.buffer;case b:return!(d.byteLength!=m.byteLength||!H(new gr(d),new gr(m)));case f:case u:case k:return Nr(+d,+m);case p:return d.name==m.name&&d.message==m.message;case v:case X:return d==m+"";case w:var re=Cn;case z:var ye=T&r;if(re||(re=xe),d.size!=m.size&&!ye)return!1;var he=oe.get(d);if(he)return he==m;T|=o,oe.set(d,m);var Se=mi(re(d),re(m),T,Q,H,oe);return oe.delete(d),Se;case ee:if(hi)return hi.call(d)==hi.call(m)}return!1}function Qa(d,m,y,T,Q,H){var oe=y&r,re=In(d),ye=re.length,he=In(m),Se=he.length;if(ye!=Se&&!oe)return!1;for(var ve=ye;ve--;){var Ee=re[ve];if(!(oe?Ee in m:Xe.call(m,Ee)))return!1}var Oe=H.get(d);if(Oe&&H.get(m))return Oe==m;var Ne=!0;H.set(d,m),H.set(m,d);for(var rn=oe;++ve<ye;){Ee=re[ve];var jt=d[Ee],xn=m[Ee];if(T)var uu=oe?T(xn,jt,Ee,m,d,H):T(jt,xn,Ee,d,m,H);if(!(uu===void 0?jt===xn||Q(jt,xn,y,T,H):uu)){Ne=!1;break}rn||(rn=Ee=="constructor")}if(Ne&&!rn){var Or=d.constructor,Lr=m.constructor;Or!=Lr&&"constructor"in d&&"constructor"in m&&!(typeof Or=="function"&&Or instanceof Or&&typeof Lr=="function"&&Lr instanceof Lr)&&(Ne=!1)}return H.delete(d),H.delete(m),Ne}function In(d){return fi(d,bi,Ja)}function ct(d,m){var y=d.__data__;return tl(m)?y[typeof m=="string"?"string":"hash"]:y.map}function qt(d,m){var y=Et(d,m);return Ga(y)?y:void 0}function Pt(d){var m=Xe.call(d,lt),y=d[lt];try{d[lt]=void 0;var T=!0}catch{}var Q=pr.call(d);return T&&(m?d[lt]=y:delete d[lt]),Q}var Ja=ms?function(d){return d==null?[]:(d=Object(d),_e(ms(d),function(m){return fs.call(d,m)}))}:rl,kt=Vn;(ai&&kt(new ai(new ArrayBuffer(1)))!=S||Bn&&kt(new Bn)!=w||li&&kt(li.resolve())!=x||ci&&kt(new ci)!=z||di&&kt(new di)!=se)&&(kt=function(d){var m=Vn(d),y=m==L?d.constructor:void 0,T=y?Be(y):"";if(T)switch(T){case br:return S;case Rt:return w;case Ta:return x;case Aa:return z;case Ca:return se}return m});function el(d,m){return m=m??a,!!m&&(typeof d=="number"||Z.test(d))&&d>-1&&d%1==0&&d<m}function tl(d){var m=typeof d;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?d!=="__proto__":d===null}function nl(d){return!!mr&&mr in d}function sl(d){var m=d&&d.constructor,y=typeof m=="function"&&m.prototype||_t;return d===y}function kr(d){return pr.call(d)}function Be(d){if(d!=null){try{return ii.call(d)}catch{}try{return d+""}catch{}}return""}function Nr(d,m){return d===m||d!==d&&m!==m}var Tr=_r(function(){return arguments}())?_r:function(d){return Nt(d)&&Xe.call(d,"callee")&&!fs.call(d,"callee")},ys=Array.isArray;function pi(d){return d!=null&&gi(d.length)&&!Ar(d)}var Es=oi||ol;function il(d,m){return wr(d,m)}function Ar(d){if(!Cr(d))return!1;var m=Vn(d);return m==g||m==E||m==h||m==D}function gi(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=a}function Cr(d){var m=typeof d;return d!=null&&(m=="object"||m=="function")}function Nt(d){return d!=null&&typeof d=="object"}var Sr=ge?si(ge):Ya;function bi(d){return pi(d)?Wa(d):Xa(d)}function rl(){return[]}function ol(){return!1}t.exports=il}(Us,Us.exports)),Us.exports}var tr={},oh;function R0(){if(oh)return tr;oh=1,Object.defineProperty(tr,"__esModule",{value:!0});const t=sh(),e=rh();var n;return function(i){function r(l={},h={},f=!1){typeof l!="object"&&(l={}),typeof h!="object"&&(h={});let u=t(h);f||(u=Object.keys(u).reduce((p,g)=>(u[g]!=null&&(p[g]=u[g]),p),{}));for(const p in l)l[p]!==void 0&&h[p]===void 0&&(u[p]=l[p]);return Object.keys(u).length>0?u:void 0}i.compose=r;function o(l={},h={}){typeof l!="object"&&(l={}),typeof h!="object"&&(h={});const f=Object.keys(l).concat(Object.keys(h)).reduce((u,p)=>(e(l[p],h[p])||(u[p]=h[p]===void 0?null:h[p]),u),{});return Object.keys(f).length>0?f:void 0}i.diff=o;function a(l={},h={}){l=l||{};const f=Object.keys(h).reduce((u,p)=>(h[p]!==l[p]&&l[p]!==void 0&&(u[p]=h[p]),u),{});return Object.keys(l).reduce((u,p)=>(l[p]!==h[p]&&h[p]===void 0&&(u[p]=null),u),f)}i.invert=a;function c(l,h,f=!1){if(typeof l!="object")return h;if(typeof h!="object")return;if(!f)return h;const u=Object.keys(h).reduce((p,g)=>(l[g]===void 0&&(p[g]=h[g]),p),{});return Object.keys(u).length>0?u:void 0}i.transform=c}(n||(n={})),tr.default=n,tr}var nr={},ah;function lh(){if(ah)return nr;ah=1,Object.defineProperty(nr,"__esModule",{value:!0});var t;return function(e){function n(i){return typeof i.delete=="number"?i.delete:typeof i.retain=="number"?i.retain:typeof i.retain=="object"&&i.retain!==null?1:typeof i.insert=="string"?i.insert.length:1}e.length=n}(t||(t={})),nr.default=t,nr}var sr={},ch;function q0(){if(ch)return sr;ch=1,Object.defineProperty(sr,"__esModule",{value:!0});const t=lh();class e{constructor(i){this.ops=i,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(i){i||(i=1/0);const r=this.ops[this.index];if(r){const o=this.offset,a=t.default.length(r);if(i>=a-o?(i=a-o,this.index+=1,this.offset=0):this.offset+=i,typeof r.delete=="number")return{delete:i};{const c={};return r.attributes&&(c.attributes=r.attributes),typeof r.retain=="number"?c.retain=i:typeof r.retain=="object"&&r.retain!==null?c.retain=r.retain:typeof r.insert=="string"?c.insert=r.insert.substr(o,i):c.insert=r.insert,c}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const i=this.ops[this.index];return i?typeof i.delete=="number"?"delete":typeof i.retain=="number"||typeof i.retain=="object"&&i.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const i=this.offset,r=this.index,o=this.next(),a=this.ops.slice(this.index);return this.offset=i,this.index=r,[o].concat(a)}}else return[]}}return sr.default=e,sr}var dh;function P0(){return dh||(dh=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const n=M0(),i=sh(),r=rh(),o=R0();e.AttributeMap=o.default;const a=lh();e.Op=a.default;const c=q0();e.OpIterator=c.default;const l="\0",h=(u,p)=>{if(typeof u!="object"||u===null)throw new Error(`cannot retain a ${typeof u}`);if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);const g=Object.keys(u)[0];if(!g||g!==Object.keys(p)[0])throw new Error(`embed types not matched: ${g} != ${Object.keys(p)[0]}`);return[g,u[g],p[g]]};class f{constructor(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]}static registerEmbed(p,g){this.handlers[p]=g}static unregisterEmbed(p){delete this.handlers[p]}static getHandler(p){const g=this.handlers[p];if(!g)throw new Error(`no handlers for embed type "${p}"`);return g}insert(p,g){const E={};return typeof p=="string"&&p.length===0?this:(E.insert=p,g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(E.attributes=g),this.push(E))}delete(p){return p<=0?this:this.push({delete:p})}retain(p,g){if(typeof p=="number"&&p<=0)return this;const E={retain:p};return g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(E.attributes=g),this.push(E)}push(p){let g=this.ops.length,E=this.ops[g-1];if(p=i(p),typeof E=="object"){if(typeof p.delete=="number"&&typeof E.delete=="number")return this.ops[g-1]={delete:E.delete+p.delete},this;if(typeof E.delete=="number"&&p.insert!=null&&(g-=1,E=this.ops[g-1],typeof E!="object"))return this.ops.unshift(p),this;if(r(p.attributes,E.attributes)){if(typeof p.insert=="string"&&typeof E.insert=="string")return this.ops[g-1]={insert:E.insert+p.insert},typeof p.attributes=="object"&&(this.ops[g-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof E.retain=="number")return this.ops[g-1]={retain:E.retain+p.retain},typeof p.attributes=="object"&&(this.ops[g-1].attributes=p.attributes),this}}return g===this.ops.length?this.ops.push(p):this.ops.splice(g,0,p),this}chop(){const p=this.ops[this.ops.length-1];return p&&typeof p.retain=="number"&&!p.attributes&&this.ops.pop(),this}filter(p){return this.ops.filter(p)}forEach(p){this.ops.forEach(p)}map(p){return this.ops.map(p)}partition(p){const g=[],E=[];return this.forEach(w=>{(p(w)?g:E).push(w)}),[g,E]}reduce(p,g){return this.ops.reduce(p,g)}changeLength(){return this.reduce((p,g)=>g.insert?p+a.default.length(g):g.delete?p-g.delete:p,0)}length(){return this.reduce((p,g)=>p+a.default.length(g),0)}slice(p=0,g=1/0){const E=[],w=new c.default(this.ops);let k=0;for(;k<g&&w.hasNext();){let N;k<p?N=w.next(p-k):(N=w.next(g-k),E.push(N)),k+=a.default.length(N)}return new f(E)}compose(p){const g=new c.default(this.ops),E=new c.default(p.ops),w=[],k=E.peek();if(k!=null&&typeof k.retain=="number"&&k.attributes==null){let L=k.retain;for(;g.peekType()==="insert"&&g.peekLength()<=L;)L-=g.peekLength(),w.push(g.next());k.retain-L>0&&E.next(k.retain-L)}const N=new f(w);for(;g.hasNext()||E.hasNext();)if(E.peekType()==="insert")N.push(E.next());else if(g.peekType()==="delete")N.push(g.next());else{const L=Math.min(g.peekLength(),E.peekLength()),x=g.next(L),D=E.next(L);if(D.retain){const v={};if(typeof x.retain=="number")v.retain=typeof D.retain=="number"?L:D.retain;else if(typeof D.retain=="number")x.retain==null?v.insert=x.insert:v.retain=x.retain;else{const X=x.retain==null?"insert":"retain",[ee,de,se]=h(x[X],D.retain),b=f.getHandler(ee);v[X]={[ee]:b.compose(de,se,X==="retain")}}const z=o.default.compose(x.attributes,D.attributes,typeof x.retain=="number");if(z&&(v.attributes=z),N.push(v),!E.hasNext()&&r(N.ops[N.ops.length-1],v)){const X=new f(g.rest());return N.concat(X).chop()}}else typeof D.delete=="number"&&(typeof x.retain=="number"||typeof x.retain=="object"&&x.retain!==null)&&N.push(D)}return N.chop()}concat(p){const g=new f(this.ops.slice());return p.ops.length>0&&(g.push(p.ops[0]),g.ops=g.ops.concat(p.ops.slice(1))),g}diff(p,g){if(this.ops===p.ops)return new f;const E=[this,p].map(x=>x.map(D=>{if(D.insert!=null)return typeof D.insert=="string"?D.insert:l;const v=x===p?"on":"with";throw new Error("diff() called "+v+" non-document")}).join("")),w=new f,k=n(E[0],E[1],g,!0),N=new c.default(this.ops),L=new c.default(p.ops);return k.forEach(x=>{let D=x[1].length;for(;D>0;){let v=0;switch(x[0]){case n.INSERT:v=Math.min(L.peekLength(),D),w.push(L.next(v));break;case n.DELETE:v=Math.min(D,N.peekLength()),N.next(v),w.delete(v);break;case n.EQUAL:v=Math.min(N.peekLength(),L.peekLength(),D);const z=N.next(v),X=L.next(v);r(z.insert,X.insert)?w.retain(v,o.default.diff(z.attributes,X.attributes)):w.push(X).delete(v);break}D-=v}}),w.chop()}eachLine(p,g=`
`){const E=new c.default(this.ops);let w=new f,k=0;for(;E.hasNext();){if(E.peekType()!=="insert")return;const N=E.peek(),L=a.default.length(N)-E.peekLength(),x=typeof N.insert=="string"?N.insert.indexOf(g,L)-L:-1;if(x<0)w.push(E.next());else if(x>0)w.push(E.next(x));else{if(p(w,E.next(1).attributes||{},k)===!1)return;k+=1,w=new f}}w.length()>0&&p(w,{},k)}invert(p){const g=new f;return this.reduce((E,w)=>{if(w.insert)g.delete(a.default.length(w));else{if(typeof w.retain=="number"&&w.attributes==null)return g.retain(w.retain),E+w.retain;if(w.delete||typeof w.retain=="number"){const k=w.delete||w.retain;return p.slice(E,E+k).forEach(L=>{w.delete?g.push(L):w.retain&&w.attributes&&g.retain(a.default.length(L),o.default.invert(w.attributes,L.attributes))}),E+k}else if(typeof w.retain=="object"&&w.retain!==null){const k=p.slice(E,E+1),N=new c.default(k.ops).next(),[L,x,D]=h(w.retain,N.insert),v=f.getHandler(L);return g.retain({[L]:v.invert(x,D)},o.default.invert(w.attributes,N.attributes)),E+1}}return E},0),g.chop()}transform(p,g=!1){if(g=!!g,typeof p=="number")return this.transformPosition(p,g);const E=p,w=new c.default(this.ops),k=new c.default(E.ops),N=new f;for(;w.hasNext()||k.hasNext();)if(w.peekType()==="insert"&&(g||k.peekType()!=="insert"))N.retain(a.default.length(w.next()));else if(k.peekType()==="insert")N.push(k.next());else{const L=Math.min(w.peekLength(),k.peekLength()),x=w.next(L),D=k.next(L);if(x.delete)continue;if(D.delete)N.push(D);else{const v=x.retain,z=D.retain;let X=typeof z=="object"&&z!==null?z:L;if(typeof v=="object"&&v!==null&&typeof z=="object"&&z!==null){const ee=Object.keys(v)[0];if(ee===Object.keys(z)[0]){const de=f.getHandler(ee);de&&(X={[ee]:de.transform(v[ee],z[ee],g)})}}N.retain(X,o.default.transform(x.attributes,D.attributes,g))}}return N.chop()}transformPosition(p,g=!1){g=!!g;const E=new c.default(this.ops);let w=0;for(;E.hasNext()&&w<=p;){const k=E.peekLength(),N=E.peekType();if(E.next(),N==="delete"){p-=Math.min(k,p-w);continue}else N==="insert"&&(w<p||!g)&&(p+=k);w+=k}return p}}f.Op=a.default,f.OpIterator=c.default,f.AttributeMap=o.default,f.handlers={},e.default=f,t.exports=f,t.exports.default=f}(er,er.exports)),er.exports}var He=P0();const F=eh(He);class tt extends qe{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}tt.blotName="break",tt.tagName="BR";let nt=class extends Ji{};const j0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ir(t){return t.replace(/[&<>"']/g,e=>j0[e])}const yt=class yt extends Fo{static compare(e,n){const i=yt.order.indexOf(e),r=yt.order.indexOf(n);return i>=0||r>=0?i-r:e===n?0:e<n?-1:1}formatAt(e,n,i,r){if(yt.compare(this.statics.blotName,i)<0&&this.scroll.query(i,U.BLOT)){const o=this.isolate(e,n);r&&o.wrap(i,r)}else super.formatAt(e,n,i,r)}optimize(e){if(super.optimize(e),this.parent instanceof yt&&yt.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};M(yt,"allowedChildren",[yt,tt,qe,nt]),M(yt,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let gt=yt;const hh=1;class we extends js{constructor(){super(...arguments);M(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=uh(this)),this.cache.delta}deleteAt(n,i){super.deleteAt(n,i),this.cache={}}formatAt(n,i,r,o){i<=0||(this.scroll.query(r,U.BLOCK)?n+i===this.length()&&this.format(r,o):super.formatAt(n,Math.min(i,this.length()-n-1),r,o),this.cache={})}insertAt(n,i,r){if(r!=null){super.insertAt(n,i,r),this.cache={};return}if(i.length===0)return;const o=i.split(`
`),a=o.shift();a.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});let c=this;o.reduce((l,h)=>(c=c.split(l,!0),c.insertAt(0,h),h.length),n+a.length)}insertBefore(n,i){const{head:r}=this.children;super.insertBefore(n,i),r instanceof tt&&r.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+hh),this.cache.length}moveChildren(n,i){super.moveChildren(n,i),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i&&(n===0||n>=this.length()-hh)){const o=this.clone();return n===0?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}const r=super.split(n,i);return this.cache={},r}}we.blotName="block",we.tagName="P",we.defaultChild=tt,we.allowedChildren=[tt,gt,qe,nt];class ze extends qe{attach(){super.attach(),this.attributes=new Zi(this.domNode)}delta(){return new F().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,n){const i=this.scroll.query(e,U.BLOCK_ATTRIBUTE);i!=null&&this.attributes.attribute(i,n)}formatAt(e,n,i,r){this.format(i,r)}insertAt(e,n,i){if(i!=null){super.insertAt(e,n,i);return}const r=n.split(`
`),o=r.pop(),a=r.map(l=>{const h=this.scroll.create(we.blotName);return h.insertAt(0,l),h}),c=this.split(e);a.forEach(l=>{this.parent.insertBefore(l,c)}),o&&this.parent.insertBefore(this.scroll.create("text",o),c)}}ze.scope=U.BLOCK_BLOT;function uh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(Te).reduce((n,i)=>i.length()===0?n:n.insert(i.value(),We(i,{},e)),new F).insert(`
`,We(t))}function We(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},n&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:We(t.parent,e,n)}const Ye=class Ye extends qe{static value(){}constructor(e,n,i){super(e,n),this.selection=i,this.textNode=document.createTextNode(Ye.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,n){if(this.savedLength!==0){super.format(e,n);return}let i=this,r=0;for(;i!=null&&i.statics.scope!==U.BLOCK_BLOT;)r+=i.offset(i.parent),i=i.parent;i!=null&&(this.savedLength=Ye.CONTENTS.length,i.optimize(),i.formatAt(r,Ye.CONTENTS.length,e,n),this.savedLength=0)}index(e,n){return e===this.textNode?0:super.index(e,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof nt?this.prev:null,i=n?n.length():0,r=this.next instanceof nt?this.next:null,o=r?r.text:"",{textNode:a}=this,c=a.data.split(Ye.CONTENTS).join("");a.data=Ye.CONTENTS;let l;if(n)l=n,(c||r)&&(n.insertAt(n.length(),c+o),r&&r.remove());else if(r)l=r,r.insertAt(0,c);else{const h=document.createTextNode(c);l=this.scroll.create(h),this.parent.insertBefore(l,this)}if(this.remove(),e){const h=(p,g)=>n&&p===n.domNode?g:p===a?i+g-1:r&&p===r.domNode?i+c.length+g:null,f=h(e.start.node,e.start.offset),u=h(e.end.node,e.end.offset);if(f!==null&&u!==null)return{startNode:l.domNode,startOffset:f,endNode:l.domNode,endOffset:u}}return null}update(e,n){if(e.some(i=>i.type==="characterData"&&i.target===this.textNode)){const i=this.restore();i&&(n.range=i)}}optimize(e){super.optimize(e);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=Ye.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};M(Ye,"blotName","cursor"),M(Ye,"className","ql-cursor"),M(Ye,"tagName","span"),M(Ye,"CONTENTS","\uFEFF");let rs=Ye;var Ko={exports:{}},fh;function F0(){return fh||(fh=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function r(l,h,f){this.fn=l,this.context=h,this.once=f||!1}function o(l,h,f,u,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new r(f,u||l,p),E=n?n+h:h;return l._events[E]?l._events[E].fn?l._events[E]=[l._events[E],g]:l._events[E].push(g):(l._events[E]=g,l._eventsCount++),l}function a(l,h){--l._eventsCount===0?l._events=new i:delete l._events[h]}function c(){this._events=new i,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],f,u;if(this._eventsCount===0)return h;for(u in f=this._events)e.call(f,u)&&h.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},c.prototype.listeners=function(h){var f=n?n+h:h,u=this._events[f];if(!u)return[];if(u.fn)return[u.fn];for(var p=0,g=u.length,E=new Array(g);p<g;p++)E[p]=u[p].fn;return E},c.prototype.listenerCount=function(h){var f=n?n+h:h,u=this._events[f];return u?u.fn?1:u.length:0},c.prototype.emit=function(h,f,u,p,g,E){var w=n?n+h:h;if(!this._events[w])return!1;var k=this._events[w],N=arguments.length,L,x;if(k.fn){switch(k.once&&this.removeListener(h,k.fn,void 0,!0),N){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,f),!0;case 3:return k.fn.call(k.context,f,u),!0;case 4:return k.fn.call(k.context,f,u,p),!0;case 5:return k.fn.call(k.context,f,u,p,g),!0;case 6:return k.fn.call(k.context,f,u,p,g,E),!0}for(x=1,L=new Array(N-1);x<N;x++)L[x-1]=arguments[x];k.fn.apply(k.context,L)}else{var D=k.length,v;for(x=0;x<D;x++)switch(k[x].once&&this.removeListener(h,k[x].fn,void 0,!0),N){case 1:k[x].fn.call(k[x].context);break;case 2:k[x].fn.call(k[x].context,f);break;case 3:k[x].fn.call(k[x].context,f,u);break;case 4:k[x].fn.call(k[x].context,f,u,p);break;default:if(!L)for(v=1,L=new Array(N-1);v<N;v++)L[v-1]=arguments[v];k[x].fn.apply(k[x].context,L)}}return!0},c.prototype.on=function(h,f,u){return o(this,h,f,u,!1)},c.prototype.once=function(h,f,u){return o(this,h,f,u,!0)},c.prototype.removeListener=function(h,f,u,p){var g=n?n+h:h;if(!this._events[g])return this;if(!f)return a(this,g),this;var E=this._events[g];if(E.fn)E.fn===f&&(!p||E.once)&&(!u||E.context===u)&&a(this,g);else{for(var w=0,k=[],N=E.length;w<N;w++)(E[w].fn!==f||p&&!E[w].once||u&&E[w].context!==u)&&k.push(E[w]);k.length?this._events[g]=k.length===1?k[0]:k:a(this,g)}return this},c.prototype.removeAllListeners=function(h){var f;return h?(f=n?n+h:h,this._events[f]&&a(this,f)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(Ko)),Ko.exports}var U0=F0();const H0=eh(U0),Go=new WeakMap,Yo=["error","warn","log","info"];let Xo="warn";function mh(t){if(Xo&&Yo.indexOf(t)<=Yo.indexOf(Xo)){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];console[t](...n)}}function It(t){return Yo.reduce((e,n)=>(e[n]=mh.bind(console,n,t),e),{})}It.level=t=>{Xo=t},mh.level=It.level;const Zo=It("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];Array.from(document.querySelectorAll(".ql-container")).forEach(r=>{const o=Go.get(r);o&&o.emitter&&o.emitter.handleDOM(...n)})})});class q extends H0{constructor(){super(),this.domListeners={},this.on("error",Zo.error)}emit(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Zo.log.call(Zo,...n),super.emit(...n)}handleDOM(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(this.domListeners[e.type]||[]).forEach(o=>{let{node:a,handler:c}=o;(e.target===a||a.contains(e.target))&&c(e,...i)})}listenDOM(e,n,i){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:n,handler:i})}}M(q,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),M(q,"sources",{API:"api",SILENT:"silent",USER:"user"});const Qo=It("quill:selection");class wn{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=n}}class z0{constructor(e,n){this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new wn(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,q.sources.USER),1)}),this.emitter.on(q.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const i=this.getNativeRange();i!=null&&i.start.node!==this.cursor.textNode&&this.emitter.once(q.events.SCROLL_UPDATE,(r,o)=>{try{this.root.contains(i.start.node)&&this.root.contains(i.end.node)&&this.setNativeRange(i.start.node,i.start.offset,i.end.node,i.end.offset);const a=o.some(c=>c.type==="characterData"||c.type==="childList"||c.type==="attributes"&&c.target===this.root);this.update(a?q.sources.SILENT:r)}catch{}})}),this.emitter.on(q.events.SCROLL_OPTIMIZE,(i,r)=>{if(r.range){const{startNode:o,startOffset:a,endNode:c,endOffset:l}=r.range;this.setNativeRange(o,a,c,l),this.update(q.sources.SILENT)}}),this.update(q.sources.SILENT)}handleComposition(){this.emitter.on(q.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(q.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(q.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,n){this.scroll.update();const i=this.getNativeRange();if(!(i==null||!i.native.collapsed||this.scroll.query(e,U.BLOCK))){if(i.start.node!==this.cursor.textNode){const r=this.scroll.find(i.start.node,!1);if(r==null)return;if(r instanceof Te){const o=r.split(i.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,i.start.node);this.cursor.attach()}this.cursor.format(e,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const i=this.scroll.length();e=Math.min(e,i-1),n=Math.min(e+n,i-1)-e;let r,[o,a]=this.scroll.leaf(e);if(o==null)return null;if(n>0&&a===o.length()){const[f]=this.scroll.leaf(e+1);if(f){const[u]=this.scroll.line(e),[p]=this.scroll.line(e+1);u===p&&(o=f,a=0)}}[r,a]=o.position(a,!0);const c=document.createRange();if(n>0)return c.setStart(r,a),[o,a]=this.scroll.leaf(e+n),o==null?null:([r,a]=o.position(a,!0),c.setEnd(r,a),c.getBoundingClientRect());let l="left",h;if(r instanceof Text){if(!r.data.length)return null;a<r.data.length?(c.setStart(r,a),c.setEnd(r,a+1)):(c.setStart(r,a-1),c.setEnd(r,a),l="right"),h=c.getBoundingClientRect()}else{if(!(o.domNode instanceof Element))return null;h=o.domNode.getBoundingClientRect(),a>0&&(l="right")}return{bottom:h.top+h.height,height:h.height,left:h[l],right:h[l],top:h.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const n=e.getRangeAt(0);if(n==null)return null;const i=this.normalizeNative(n);return Qo.info("getNativeRange",i),i}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Jo(this.root,document.activeElement)}normalizedToRange(e){const n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);const i=n.map(a=>{const[c,l]=a,h=this.scroll.find(c,!0),f=h.offset(this.scroll);return l===0?f:h instanceof Te?f+h.index(c,l):f+h.length()}),r=Math.min(Math.max(...i),this.scroll.length()-1),o=Math.min(r,...i);return new wn(o,r-o)}normalizeNative(e){if(!Jo(this.root,e.startContainer)||!e.collapsed&&!Jo(this.root,e.endContainer))return null;const n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[n.start,n.end].forEach(i=>{let{node:r,offset:o}=i;for(;!(r instanceof Text)&&r.childNodes.length>0;)if(r.childNodes.length>o)r=r.childNodes[o],o=0;else if(r.childNodes.length===o)r=r.lastChild,r instanceof Text?o=r.data.length:r.childNodes.length>0?o=r.childNodes.length:o=r.childNodes.length+1;else break;i.node=r,i.offset=o}),n}rangeToNative(e){const n=this.scroll.length(),i=(r,o)=>{r=Math.min(n-1,r);const[a,c]=this.scroll.leaf(r);return a?a.position(c,o):[null,-1]};return[...i(e.index,!1),...i(e.index+e.length,!0)]}setNativeRange(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Qo.info("setNativeRange",e,n,i,r),e!=null&&(this.root.parentNode==null||e.parentNode==null||i.parentNode==null))return;const a=document.getSelection();if(a!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:c}=this.getNativeRange()||{};if(c==null||o||e!==c.startContainer||n!==c.startOffset||i!==c.endContainer||r!==c.endOffset){e instanceof Element&&e.tagName==="BR"&&(n=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),i instanceof Element&&i.tagName==="BR"&&(r=Array.from(i.parentNode.childNodes).indexOf(i),i=i.parentNode);const l=document.createRange();l.setStart(e,n),l.setEnd(i,r),a.removeAllRanges(),a.addRange(l)}}else a.removeAllRanges(),this.root.blur()}setRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:q.sources.API;if(typeof n=="string"&&(i=n,n=!1),Qo.info("setRange",e),e!=null){const r=this.rangeToNative(e);this.setNativeRange(...r,n)}else this.setNativeRange(null);this.update(i)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q.sources.USER;const n=this.lastRange,[i,r]=this.getRange();if(this.lastRange=i,this.lastNative=r,this.lastRange!=null&&(this.savedRange=this.lastRange),!Po(n,this.lastRange)){if(!this.composing&&r!=null&&r.native.collapsed&&r.start.node!==this.cursor.textNode){const a=this.cursor.restore();a&&this.setNativeRange(a.startNode,a.startOffset,a.endNode,a.endOffset)}const o=[q.events.SELECTION_CHANGE,Jn(this.lastRange),Jn(n),e];this.emitter.emit(q.events.EDITOR_CHANGE,...o),e!==q.sources.SILENT&&this.emitter.emit(...o)}}}function Jo(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const W0=/^[ -~]*$/;class K0{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const i=ph(e),r=new F;return Y0(i.ops.slice()).reduce((a,c)=>{const l=He.Op.length(c);let h=c.attributes||{},f=!1,u=!1;if(c.insert!=null){if(r.retain(l),typeof c.insert=="string"){const E=c.insert;u=!E.endsWith(`
`)&&(n<=a||!!this.scroll.descendant(ze,a)[0]),this.scroll.insertAt(a,E);const[w,k]=this.scroll.line(a);let N=Zt({},We(w));if(w instanceof we){const[L]=w.descendant(Te,k);L&&(N=Zt(N,We(L)))}h=He.AttributeMap.diff(N,h)||{}}else if(typeof c.insert=="object"){const E=Object.keys(c.insert)[0];if(E==null)return a;const w=this.scroll.query(E,U.INLINE)!=null;if(w)(n<=a||this.scroll.descendant(ze,a)[0])&&(u=!0);else if(a>0){const[k,N]=this.scroll.descendant(Te,a-1);k instanceof nt?k.value()[N]!==`
`&&(f=!0):k instanceof qe&&k.statics.scope===U.INLINE_BLOT&&(f=!0)}if(this.scroll.insertAt(a,E,c.insert[E]),w){const[k]=this.scroll.descendant(Te,a);if(k){const N=Zt({},We(k));h=He.AttributeMap.diff(N,h)||{}}}}n+=l}else if(r.push(c),c.retain!==null&&typeof c.retain=="object"){const E=Object.keys(c.retain)[0];if(E==null)return a;this.scroll.updateEmbedAt(a,E,c.retain[E])}Object.keys(h).forEach(E=>{this.scroll.formatAt(a,l,E,h[E])});const p=f?1:0,g=u?1:0;return n+=p+g,r.retain(p),r.delete(g),a+l+p+g},0),r.reduce((a,c)=>typeof c.delete=="number"?(this.scroll.deleteAt(a,c.delete),a):a+He.Op.length(c),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(i)}deleteText(e,n){return this.scroll.deleteAt(e,n),this.update(new F().retain(e).delete(n))}formatLine(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(i).forEach(o=>{this.scroll.lines(e,Math.max(n,1)).forEach(a=>{a.format(o,i[o])})}),this.scroll.optimize();const r=new F().retain(e).retain(n,Jn(i));return this.update(r)}formatText(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(i).forEach(o=>{this.scroll.formatAt(e,n,o,i[o])});const r=new F().retain(e).retain(n,Jn(i));return this.update(r)}getContents(e,n){return this.delta.slice(e,e+n)}getDelta(){return this.scroll.lines().reduce((e,n)=>e.concat(n.delta()),new F)}getFormat(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=[],r=[];n===0?this.scroll.path(e).forEach(c=>{const[l]=c;l instanceof we?i.push(l):l instanceof Te&&r.push(l)}):(i=this.scroll.lines(e,n),r=this.scroll.descendants(Te,e,n));const[o,a]=[i,r].map(c=>{const l=c.shift();if(l==null)return{};let h=We(l);for(;Object.keys(h).length>0;){const f=c.shift();if(f==null)return h;h=G0(We(f),h)}return h});return{...o,...a}}getHTML(e,n){const[i,r]=this.scroll.line(e);if(i){const o=i.length();return i.length()>=r+n&&!(r===0&&n===o)?Hs(i,r,n,!0):Hs(this.scroll,e,n,!0)}return""}getText(e,n){return this.getContents(e,n).filter(i=>typeof i.insert=="string").map(i=>i.insert).join("")}insertContents(e,n){const i=ph(n),r=new F().retain(e).concat(i);return this.scroll.insertContents(e,i),this.update(r)}insertEmbed(e,n,i){return this.scroll.insertAt(e,n,i),this.update(new F().retain(e).insert({[n]:i}))}insertText(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,n),Object.keys(i).forEach(r=>{this.scroll.formatAt(e,n.length,r,i[r])}),this.update(new F().retain(e).insert(n,Jn(i)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==we.blotName)return!1;const n=e;return n.children.length>1?!1:n.children.head instanceof tt}removeFormat(e,n){const i=this.getText(e,n),[r,o]=this.scroll.line(e+n);let a=0,c=new F;r!=null&&(a=r.length()-o,c=r.delta().slice(o,o+a-1).insert(`
`));const h=this.getContents(e,n+a).diff(new F().insert(i).concat(c)),f=new F().retain(e).concat(h);return this.applyDelta(f)}update(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const r=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(W0)&&this.scroll.find(n[0].target)){const o=this.scroll.find(n[0].target),a=We(o),c=o.offset(this.scroll),l=n[0].oldValue.replace(rs.CONTENTS,""),h=new F().insert(l),f=new F().insert(o.value()),u=i&&{oldRange:gh(i.oldRange,-c),newRange:gh(i.newRange,-c)};e=new F().retain(c).concat(h.diff(f,u)).reduce((g,E)=>E.insert?g.insert(E.insert,a):g.push(E),new F),this.delta=r.compose(e)}else this.delta=this.getDelta(),(!e||!Po(r.compose(e),this.delta))&&(e=r.diff(this.delta,i));return e}}function os(t,e,n){if(t.length===0){const[g]=ea(n.pop());return e<=0?`</li></${g}>`:`</li></${g}>${os([],e-1,n)}`}const[{child:i,offset:r,length:o,indent:a,type:c},...l]=t,[h,f]=ea(c);if(a>e)return n.push(c),a===e+1?`<${h}><li${f}>${Hs(i,r,o)}${os(l,a,n)}`:`<${h}><li>${os(t,e+1,n)}`;const u=n[n.length-1];if(a===e&&c===u)return`</li><li${f}>${Hs(i,r,o)}${os(l,a,n)}`;const[p]=ea(n.pop());return`</li></${p}>${os(t,e-1,n)}`}function Hs(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,n);if(t instanceof nt)return ir(t.value().slice(e,e+n)).replaceAll(" ","&nbsp;");if(t instanceof et){if(t.statics.blotName==="list-container"){const h=[];return t.children.forEachAt(e,n,(f,u,p)=>{const g="formats"in f&&typeof f.formats=="function"?f.formats():{};h.push({child:f,offset:u,length:p,indent:g.indent||0,type:g.list})}),os(h,-1,[])}const r=[];if(t.children.forEachAt(e,n,(h,f,u)=>{r.push(Hs(h,f,u))}),i||t.statics.blotName==="list")return r.join("");const{outerHTML:o,innerHTML:a}=t.domNode,[c,l]=o.split(`>${a}<`);return c==="<table"?`<table style="border: 1px solid #000;">${r.join("")}<${l}`:`${c}>${r.join("")}<${l}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function G0(t,e){return Object.keys(e).reduce((n,i)=>{if(t[i]==null)return n;const r=e[i];return r===t[i]?n[i]=r:Array.isArray(r)?r.indexOf(t[i])<0?n[i]=r.concat([t[i]]):n[i]=r:n[i]=[r,t[i]],n},{})}function ea(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function ph(t){return t.reduce((e,n)=>{if(typeof n.insert=="string"){const i=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(i,n.attributes)}return e.push(n)},new F)}function gh(t,e){let{index:n,length:i}=t;return new wn(n+e,i)}function Y0(t){const e=[];return t.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((r,o)=>{o&&e.push({insert:`
`,attributes:n.attributes}),r&&e.push({insert:r,attributes:n.attributes})}):e.push(n)}),e}class st{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=n}}M(st,"DEFAULTS",{});const rr="\uFEFF";class ta extends qe{constructor(e,n){super(e,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(i=>{this.contentNode.appendChild(i)}),this.leftGuard=document.createTextNode(rr),this.rightGuard=document.createTextNode(rr),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,n)}restore(e){let n=null,i;const r=e.data.split(rr).join("");if(e===this.leftGuard)if(this.prev instanceof nt){const o=this.prev.length();this.prev.insertAt(o,r),n={startNode:this.prev.domNode,startOffset:o+r.length}}else i=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(i),this),n={startNode:i,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof nt?(this.next.insertAt(0,r),n={startNode:this.next.domNode,startOffset:r.length}):(i=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(i),this.next),n={startNode:i,startOffset:r.length}));return e.data=rr,n}update(e,n){e.forEach(i=>{if(i.type==="characterData"&&(i.target===this.leftGuard||i.target===this.rightGuard)){const r=this.restore(i.target);r&&(n.range=r)}})}}class X0{constructor(e,n){M(this,"isComposing",!1);this.scroll=e,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const n=e.target instanceof Node?this.scroll.find(e.target,!0):null;n&&!(n instanceof ta)&&(this.emitter.emit(q.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(q.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(q.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(q.events.COMPOSITION_END,e),this.isComposing=!1}}const ei=class ei{constructor(e,n){M(this,"modules",{});this.quill=e,this.options=n}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const n=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new n(this.quill,this.options.modules[e]||{}),this.modules[e]}};M(ei,"DEFAULTS",{modules:{}}),M(ei,"themes",{default:ei});let as=ei;const Z0=t=>t.parentElement||t.getRootNode().host||null,Q0=t=>{const e=t.getBoundingClientRect(),n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,i="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*i,left:e.left}},or=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},bh=(t,e,n,i,r,o)=>t<n&&e>i?0:t<n?-(n-t+r):e>i?e-t>i-n?t+r-n:e-i+o:0,J0=(t,e)=>{var o,a,c;const n=t.ownerDocument;let i=e,r=t;for(;r;){const l=r===n.body,h=l?{top:0,right:((o=window.visualViewport)==null?void 0:o.width)??n.documentElement.clientWidth,bottom:((a=window.visualViewport)==null?void 0:a.height)??n.documentElement.clientHeight,left:0}:Q0(r),f=getComputedStyle(r),u=bh(i.left,i.right,h.left,h.right,or(f.scrollPaddingLeft),or(f.scrollPaddingRight)),p=bh(i.top,i.bottom,h.top,h.bottom,or(f.scrollPaddingTop),or(f.scrollPaddingBottom));if(u||p)if(l)(c=n.defaultView)==null||c.scrollBy(u,p);else{const{scrollLeft:g,scrollTop:E}=r;p&&(r.scrollTop+=p),u&&(r.scrollLeft+=u);const w=r.scrollLeft-g,k=r.scrollTop-E;i={left:i.left-w,top:i.top-k,right:i.right-w,bottom:i.bottom-k}}r=l||f.position==="fixed"?null:Z0(r)}},e_=100,t_=["block","break","cursor","inline","scroll","text"],n_=(t,e,n)=>{const i=new ts;return t_.forEach(r=>{const o=e.query(r);o&&i.register(o)}),t.forEach(r=>{let o=e.query(r);o||n.error(`Cannot register "${r}" specified in "formats" config. Are you sure it was registered?`);let a=0;for(;o;)if(i.register(o),o="blotName"in o?o.requiredContainer??null:null,a+=1,a>e_){n.error(`Cycle detected in registering blot requiredContainer: "${r}"`);break}}),i},ls=It("quill"),ar=new ts;et.uiClass="ql-ui";const at=class at{static debug(e){e===!0&&(e="log"),It.level(e)}static find(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Go.get(e)||ar.find(e,n)}static import(e){return this.imports[e]==null&&ls.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),i="attrName"in e?e.attrName:e.blotName;typeof i=="string"?this.register(`formats/${i}`,e,n):Object.keys(e).forEach(r=>{this.register(r,e[r],n)})}else{const e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],i=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!i&&ls.warn(`Overwriting ${e} with`,n),this.imports[e]=n,(e.startsWith("blots/")||e.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&ar.register(n),typeof n.register=="function"&&n.register(ar)}}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=s_(e,n),this.container=this.options.container,this.container==null){ls.error("Invalid Quill container",e);return}this.options.debug&&at.debug(this.options.debug);const i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Go.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new q;const r=Ho.blotName,o=this.options.registry.query(r);if(!o||!("blotName"in o))throw new Error(`Cannot initialize Quill without "${r}" blot`);if(this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new K0(this.scroll),this.selection=new z0(this.scroll,this.emitter),this.composition=new X0(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(q.events.EDITOR_CHANGE,a=>{a===q.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(q.events.SCROLL_UPDATE,(a,c)=>{const l=this.selection.lastRange,[h]=this.selection.getRange(),f=l&&h?{oldRange:l,newRange:h}:void 0;it.call(this,()=>this.editor.update(null,c,f),a)}),this.emitter.on(q.events.SCROLL_EMBED_UPDATE,(a,c)=>{const l=this.selection.lastRange,[h]=this.selection.getRange(),f=l&&h?{oldRange:l,newRange:h}:void 0;it.call(this,()=>{const u=new F().retain(a.offset(this)).retain({[a.statics.blotName]:c});return this.editor.update(u,[],f)},at.sources.USER)}),i){const a=this.clipboard.convert({html:`${i}<p><br></p>`,text:`
`});this.setContents(a)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const i=e;e=document.createElement("div"),e.classList.add(i)}return this.container.insertBefore(e,n),e}blur(){this.selection.setRange(null)}deleteText(e,n,i){return[e,n,,i]=xt(e,n,i),it.call(this,()=>this.editor.deleteText(e,n),i,e,-1*n)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const n=e();return this.allowReadOnlyEdits=!1,n}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:q.sources.API;return it.call(this,()=>{const r=this.getSelection(!0);let o=new F;if(r==null)return o;if(this.scroll.query(e,U.BLOCK))o=this.editor.formatLine(r.index,r.length,{[e]:n});else{if(r.length===0)return this.selection.format(e,n),o;o=this.editor.formatText(r.index,r.length,{[e]:n})}return this.setSelection(r,q.sources.SILENT),o},i)}formatLine(e,n,i,r,o){let a;return[e,n,a,o]=xt(e,n,i,r,o),it.call(this,()=>this.editor.formatLine(e,n,a),o,e,0)}formatText(e,n,i,r,o){let a;return[e,n,a,o]=xt(e,n,i,r,o),it.call(this,()=>this.editor.formatText(e,n,a),o,e,0)}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=null;if(typeof e=="number"?i=this.selection.getBounds(e,n):i=this.selection.getBounds(e.index,e.length),!i)return null;const r=this.container.getBoundingClientRect();return{bottom:i.bottom-r.top,height:i.height,left:i.left-r.left,right:i.right-r.left,top:i.top-r.top,width:i.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,n]=xt(e,n),this.editor.getContents(e,n)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,n):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,n)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=xt(e,n),this.editor.getHTML(e,n)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=xt(e,n),this.editor.getText(e,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,n,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:at.sources.API;return it.call(this,()=>this.editor.insertEmbed(e,n,i),r,e)}insertText(e,n,i,r,o){let a;return[e,,a,o]=xt(e,0,i,r,o),it.call(this,()=>this.editor.insertText(e,n,a),o,e,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,n,i){return[e,n,,i]=xt(e,n,i),it.call(this,()=>this.editor.removeFormat(e,n),i,e)}scrollRectIntoView(e){J0(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,n=e&&this.selection.getBounds(e.index,e.length);n&&this.scrollRectIntoView(n)}setContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q.sources.API;return it.call(this,()=>{e=new F(e);const i=this.getLength(),r=this.editor.deleteText(0,i),o=this.editor.insertContents(0,e),a=this.editor.deleteText(this.getLength()-1,1);return r.compose(o).compose(a)},n)}setSelection(e,n,i){e==null?this.selection.setRange(null,n||at.sources.API):([e,n,,i]=xt(e,n,i),this.selection.setRange(new wn(Math.max(0,e),n),i),i!==q.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q.sources.API;const i=new F().insert(e);return this.setContents(i,n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q.sources.USER;const n=this.scroll.update(e);return this.selection.update(e),n}updateContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q.sources.API;return it.call(this,()=>(e=new F(e),this.editor.applyDelta(e)),n,!0)}};M(at,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:ar,theme:"default"}),M(at,"events",q.events),M(at,"sources",q.sources),M(at,"version","2.0.3"),M(at,"imports",{delta:F,parchment:$0,"core/module":st,"core/theme":as});let C=at;function yh(t){return typeof t=="string"?document.querySelector(t):t}function na(t){return Object.entries(t??{}).reduce((e,n)=>{let[i,r]=n;return{...e,[i]:r===!0?{}:r}},{})}function Eh(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function s_(t,e){const n=yh(t);if(!n)throw new Error("Invalid Quill container");const r=!e.theme||e.theme===C.DEFAULTS.theme?as:C.import(`themes/${e.theme}`);if(!r)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:o,...a}=C.DEFAULTS,{modules:c,...l}=r.DEFAULTS;let h=na(e.modules);h!=null&&h.toolbar&&h.toolbar.constructor!==Object&&(h={...h,toolbar:{container:h.toolbar}});const f=Zt({},na(o),na(c),h),u={...a,...Eh(l),...Eh(e)};let p=e.registry;return p?e.formats&&ls.warn('Ignoring "formats" option because "registry" is specified'):p=e.formats?n_(e.formats,u.registry,ls):u.registry,{...u,registry:p,container:n,theme:r,modules:Object.entries(f).reduce((g,E)=>{let[w,k]=E;if(!k)return g;const N=C.import(`modules/${w}`);return N==null?(ls.error(`Cannot load ${w} module. Are you sure you registered it?`),g):{...g,[w]:Zt({},N.DEFAULTS||{},k)}},{}),bounds:yh(u.bounds)}}function it(t,e,n,i){if(!this.isEnabled()&&e===q.sources.USER&&!this.allowReadOnlyEdits)return new F;let r=n==null?null:this.getSelection();const o=this.editor.delta,a=t();if(r!=null&&(n===!0&&(n=r.index),i==null?r=_h(r,a,e):i!==0&&(r=_h(r,n,i,e)),this.setSelection(r,q.sources.SILENT)),a.length()>0){const c=[q.events.TEXT_CHANGE,a,o,e];this.emitter.emit(q.events.EDITOR_CHANGE,...c),e!==q.sources.SILENT&&this.emitter.emit(...c)}return a}function xt(t,e,n,i,r){let o={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(r=i,i=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(r=i,i=n,n=e,e=0),typeof n=="object"?(o=n,r=i):typeof n=="string"&&(i!=null?o[n]=i:r=n),r=r||q.sources.API,[t,e,o,r]}function _h(t,e,n,i){const r=typeof n=="number"?n:0;if(t==null)return null;let o,a;return e&&typeof e.transformPosition=="function"?[o,a]=[t.index,t.index+t.length].map(c=>e.transformPosition(c,i!==q.sources.USER)):[o,a]=[t.index,t.index+t.length].map(c=>c<e||c===e&&i===q.sources.USER?c:r>=0?c+r:Math.max(e,c+r)),new wn(o,a-o)}class kn extends Qi{}function wh(t){return t instanceof we||t instanceof ze}function kh(t){return typeof t.updateContent=="function"}class cs extends Ho{constructor(e,n,i){let{emitter:r}=i;super(e,n),this.emitter=r,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",o=>this.handleDragStart(o))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(q.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(q.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,n){this.emitter.emit(q.events.SCROLL_EMBED_UPDATE,e,n)}deleteAt(e,n){const[i,r]=this.line(e),[o]=this.line(e+n);if(super.deleteAt(e,n),o!=null&&i!==o&&r>0){if(i instanceof ze||o instanceof ze){this.optimize();return}const a=o.children.head instanceof tt?null:o.children.head;i.moveChildren(o,a),i.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,n,i,r){super.formatAt(e,n,i,r),this.optimize()}insertAt(e,n,i){if(e>=this.length())if(i==null||this.scroll.query(n,U.BLOCK)==null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r),i==null&&n.endsWith(`
`)?r.insertAt(0,n.slice(0,-1),i):r.insertAt(0,n,i)}else{const r=this.scroll.create(n,i);this.appendChild(r)}else super.insertAt(e,n,i);this.optimize()}insertBefore(e,n){if(e.statics.scope===U.INLINE_BLOT){const i=this.scroll.create(this.statics.defaultChild.blotName);i.appendChild(e),super.insertBefore(i,n)}else super.insertBefore(e,n)}insertContents(e,n){const i=this.deltaToRenderBlocks(n.concat(new F().insert(`
`))),r=i.pop();if(r==null)return;this.batchStart();const o=i.shift();if(o){const l=o.type==="block"&&(o.delta.length()===0||!this.descendant(ze,e)[0]&&e<this.length()),h=o.type==="block"?o.delta:new F().insert({[o.key]:o.value});sa(this,e,h);const f=o.type==="block"?1:0,u=e+h.length()+f;l&&this.insertAt(u-1,`
`);const p=We(this.line(e)[0]),g=He.AttributeMap.diff(p,o.attributes)||{};Object.keys(g).forEach(E=>{this.formatAt(u-1,1,E,g[E])}),e=u}let[a,c]=this.children.find(e);if(i.length&&(a&&(a=a.split(c),c=0),i.forEach(l=>{if(l.type==="block"){const h=this.createBlock(l.attributes,a||void 0);sa(h,0,l.delta)}else{const h=this.create(l.key,l.value);this.insertBefore(h,a||void 0),Object.keys(l.attributes).forEach(f=>{h.format(f,l.attributes[f])})}})),r.type==="block"&&r.delta.length()){const l=a?a.offset(a.scroll)+c:this.length();sa(this,l,r.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const n=this.path(e).pop();if(!n)return[null,-1];const[i,r]=n;return i instanceof Te?[i,r]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(wh,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const i=(r,o,a)=>{let c=[],l=a;return r.children.forEachAt(o,a,(h,f,u)=>{wh(h)?c.push(h):h instanceof Qi&&(c=c.concat(i(h,f,l))),l-=u}),c};return i(this,e,n)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,n),e.length>0&&this.emitter.emit(q.events.SCROLL_OPTIMIZE,e,n))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let n=q.sources.USER;typeof e=="string"&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(i=>{let{target:r}=i;const o=this.find(r,!0);return o&&!kh(o)}),e.length>0&&this.emitter.emit(q.events.SCROLL_BEFORE_UPDATE,n,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(q.events.SCROLL_UPDATE,n,e)}updateEmbedAt(e,n,i){const[r]=this.descendant(o=>o instanceof ze,e);r&&r.statics.blotName===n&&kh(r)&&r.updateContent(i)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const n=[];let i=new F;return e.forEach(r=>{const o=r==null?void 0:r.insert;if(o)if(typeof o=="string"){const a=o.split(`
`);a.slice(0,-1).forEach(l=>{i.insert(l,r.attributes),n.push({type:"block",delta:i,attributes:r.attributes??{}}),i=new F});const c=a[a.length-1];c&&i.insert(c,r.attributes)}else{const a=Object.keys(o)[0];if(!a)return;this.query(a,U.INLINE)?i.push(r):(i.length()&&n.push({type:"block",delta:i,attributes:{}}),i=new F,n.push({type:"blockEmbed",key:a,value:o[a],attributes:r.attributes??{}}))}}),i.length()&&n.push({type:"block",delta:i,attributes:{}}),n}createBlock(e,n){let i;const r={};Object.entries(e).forEach(c=>{let[l,h]=c;this.query(l,U.BLOCK&U.BLOT)!=null?i=l:r[l]=h});const o=this.create(i||this.statics.defaultChild.blotName,i?e[i]:void 0);this.insertBefore(o,n||void 0);const a=o.length();return Object.entries(r).forEach(c=>{let[l,h]=c;o.formatAt(0,a,l,h)}),o}}M(cs,"blotName","scroll"),M(cs,"className","ql-editor"),M(cs,"tagName","DIV"),M(cs,"defaultChild",we),M(cs,"allowedChildren",[we,ze,kn]);function sa(t,e,n){n.reduce((i,r)=>{const o=He.Op.length(r);let a=r.attributes||{};if(r.insert!=null){if(typeof r.insert=="string"){const c=r.insert;t.insertAt(i,c);const[l]=t.descendant(Te,i),h=We(l);a=He.AttributeMap.diff(h,a)||{}}else if(typeof r.insert=="object"){const c=Object.keys(r.insert)[0];if(c==null)return i;if(t.insertAt(i,c,r.insert[c]),t.scroll.query(c,U.INLINE)!=null){const[h]=t.descendant(Te,i),f=We(h);a=He.AttributeMap.diff(f,a)||{}}}}return Object.keys(a).forEach(c=>{t.formatAt(i,o,c,a[c])}),i+o},e)}const ia={scope:U.BLOCK,whitelist:["right","center","justify"]},i_=new pt("align","align",ia),Nh=new Je("align","ql-align",ia),Th=new Qt("align","text-align",ia);class Ah extends Qt{value(e){let n=super.value(e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(r=>`00${parseInt(r,10).toString(16)}`.slice(-2)).join("")}`):n}}const r_=new Je("color","ql-color",{scope:U.INLINE}),ra=new Ah("color","color",{scope:U.INLINE}),o_=new Je("background","ql-bg",{scope:U.INLINE}),oa=new Ah("background","background-color",{scope:U.INLINE});class Nn extends kn{static create(e){const n=super.create(e);return n.setAttribute("spellcheck","false"),n}code(e,n){return this.children.map(i=>i.length()<=1?"":i.domNode.innerText).join(`
`).slice(e,e+n)}html(e,n){return`<pre>
${ir(this.code(e,n))}
</pre>`}}class Ae extends we{static register(){C.register(Nn)}}M(Ae,"TAB","  ");class aa extends gt{}aa.blotName="code",aa.tagName="CODE",Ae.blotName="code-block",Ae.className="ql-code-block",Ae.tagName="DIV",Nn.blotName="code-block-container",Nn.className="ql-code-block-container",Nn.tagName="DIV",Nn.allowedChildren=[Ae],Ae.allowedChildren=[nt,tt,rs],Ae.requiredContainer=Nn;const la={scope:U.BLOCK,whitelist:["rtl"]},Ch=new pt("direction","dir",la),Sh=new Je("direction","ql-direction",la),Oh=new Qt("direction","direction",la),Lh={scope:U.INLINE,whitelist:["serif","monospace"]},Bh=new Je("font","ql-font",Lh);class a_ extends Qt{value(e){return super.value(e).replace(/["']/g,"")}}const Vh=new a_("font","font-family",Lh),Ih=new Je("size","ql-size",{scope:U.INLINE,whitelist:["small","large","huge"]}),xh=new Qt("size","font-size",{scope:U.INLINE,whitelist:["10px","18px","32px"]}),l_=It("quill:keyboard"),c_=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class lr extends st{static match(e,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(i=>!!n[i]!==e[i]&&n[i]!==null)?!1:n.key===e.key||n.key===e.which}constructor(e,n){super(e,n),this.bindings={},Object.keys(this.options.bindings).forEach(i=>{this.options.bindings[i]&&this.addBinding(this.options.bindings[i])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=h_(e);if(r==null){l_.warn("Attempted to add invalid keyboard binding",r);return}typeof n=="function"&&(n={handler:n}),typeof i=="function"&&(i={handler:i}),(Array.isArray(r.key)?r.key:[r.key]).forEach(a=>{const c={...r,key:a,...n,...i};this.bindings[c.key]=this.bindings[c.key]||[],this.bindings[c.key].push(c)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const r=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(N=>lr.match(e,N));if(r.length===0)return;const o=C.find(e.target,!0);if(o&&o.scroll!==this.quill.scroll)return;const a=this.quill.getSelection();if(a==null||!this.quill.hasFocus())return;const[c,l]=this.quill.getLine(a.index),[h,f]=this.quill.getLeaf(a.index),[u,p]=a.length===0?[h,f]:this.quill.getLeaf(a.index+a.length),g=h instanceof Ji?h.value().slice(0,f):"",E=u instanceof Ji?u.value().slice(p):"",w={collapsed:a.length===0,empty:a.length===0&&c.length()<=1,format:this.quill.getFormat(a),line:c,offset:l,prefix:g,suffix:E,event:e};r.some(N=>{if(N.collapsed!=null&&N.collapsed!==w.collapsed||N.empty!=null&&N.empty!==w.empty||N.offset!=null&&N.offset!==w.offset)return!1;if(Array.isArray(N.format)){if(N.format.every(L=>w.format[L]==null))return!1}else if(typeof N.format=="object"&&!Object.keys(N.format).every(L=>N.format[L]===!0?w.format[L]!=null:N.format[L]===!1?w.format[L]==null:Po(N.format[L],w.format[L])))return!1;return N.prefix!=null&&!N.prefix.test(w.prefix)||N.suffix!=null&&!N.suffix.test(w.suffix)?!1:N.handler.call(this,a,w,N)!==!0})&&e.preventDefault()})}handleBackspace(e,n){const i=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let r={};const[o]=this.quill.getLine(e.index);let a=new F().retain(e.index-i).delete(i);if(n.offset===0){const[c]=this.quill.getLine(e.index-1);if(c&&!(c.statics.blotName==="block"&&c.length()<=1)){const h=o.formats(),f=this.quill.getFormat(e.index-1,1);if(r=He.AttributeMap.diff(h,f)||{},Object.keys(r).length>0){const u=new F().retain(e.index+o.length()-2).retain(1,r);a=a.compose(u)}}}this.quill.updateContents(a,C.sources.USER),this.quill.focus()}handleDelete(e,n){const i=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(e.index>=this.quill.getLength()-i)return;let r={};const[o]=this.quill.getLine(e.index);let a=new F().retain(e.index).delete(i);if(n.offset>=o.length()-1){const[c]=this.quill.getLine(e.index+1);if(c){const l=o.formats(),h=this.quill.getFormat(e.index,1);r=He.AttributeMap.diff(l,h)||{},Object.keys(r).length>0&&(a=a.retain(c.length()-1).retain(1,r))}}this.quill.updateContents(a,C.sources.USER),this.quill.focus()}handleDeleteRange(e){da({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,n){const i=Object.keys(n.format).reduce((o,a)=>(this.quill.scroll.query(a,U.BLOCK)&&!Array.isArray(n.format[a])&&(o[a]=n.format[a]),o),{}),r=new F().retain(e.index).delete(e.length).insert(`
`,i);this.quill.updateContents(r,C.sources.USER),this.quill.setSelection(e.index+1,C.sources.SILENT),this.quill.focus()}}const d_={bindings:{bold:ca("bold"),italic:ca("italic"),underline:ca("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",C.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",C.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",C.sources.USER):e.format.list!=null&&this.quill.format("list",!1,C.sources.USER)}},"indent code-block":Dh(!0),"outdent code-block":Dh(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,C.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const n=new F().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(n,C.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,C.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,C.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,C.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,n]=this.quill.getLine(t.index),i={...e.formats(),list:"checked"},r=new F().retain(t.index).insert(`
`,i).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(r,C.sources.USER),this.quill.setSelection(t.index+1,C.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[n,i]=this.quill.getLine(t.index),r=new F().retain(t.index).insert(`
`,e.format).retain(n.length()-i-1).retain(1,{header:null});this.quill.updateContents(r,C.sources.USER),this.quill.setSelection(t.index+1,C.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[n,i,r,o]=e.getTable(t),a=u_(n,i,r,o);if(a==null)return;let c=n.offset();if(a<0){const l=new F().retain(c).insert(`
`);this.quill.updateContents(l,C.sources.USER),this.quill.setSelection(t.index+1,t.length,C.sources.SILENT)}else if(a>0){c+=n.length();const l=new F().retain(c).insert(`
`);this.quill.updateContents(l,C.sources.USER),this.quill.setSelection(c,C.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:n,line:i}=e,r=i.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(r-1,C.sources.USER):this.quill.setSelection(r+i.length(),C.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=e.prefix,[i,r]=this.quill.getLine(t.index);if(r>n)return!0;let o;switch(e.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(t.index," ",C.sources.USER),this.quill.history.cutoff();const a=new F().retain(t.index-r).delete(n+1).retain(i.length()-2-r).retain(1,{list:o});return this.quill.updateContents(a,C.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,C.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,n]=this.quill.getLine(t.index);let i=2,r=e;for(;r!=null&&r.length()<=1&&r.formats()["code-block"];)if(r=r.prev,i-=1,i<=0){const o=new F().retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(o,C.sources.USER),this.quill.setSelection(t.index-1,C.sources.SILENT),!1}return!0}},"embed left":cr("ArrowLeft",!1),"embed left shift":cr("ArrowLeft",!0),"embed right":cr("ArrowRight",!1),"embed right shift":cr("ArrowRight",!0),"table down":vh(!1),"table up":vh(!0)}};lr.DEFAULTS=d_;function Dh(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,n){let{event:i}=n;const r=this.quill.scroll.query("code-block"),{TAB:o}=r;if(e.length===0&&!i.shiftKey){this.quill.insertText(e.index,o,C.sources.USER),this.quill.setSelection(e.index+o.length,C.sources.SILENT);return}const a=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:c,length:l}=e;a.forEach((h,f)=>{t?(h.insertAt(0,o),f===0?c+=o.length:l+=o.length):h.domNode.textContent.startsWith(o)&&(h.deleteAt(0,o.length),f===0?c-=o.length:l-=o.length)}),this.quill.update(C.sources.USER),this.quill.setSelection(c,l,C.sources.SILENT)}}}function cr(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(i){let{index:r}=i;t==="ArrowRight"&&(r+=i.length+1);const[o]=this.quill.getLeaf(r);return o instanceof qe?(t==="ArrowLeft"?e?this.quill.setSelection(i.index-1,i.length+1,C.sources.USER):this.quill.setSelection(i.index-1,C.sources.USER):e?this.quill.setSelection(i.index,i.length+1,C.sources.USER):this.quill.setSelection(i.index+i.length+1,C.sources.USER),!1):!0}}}function ca(t){return{key:t[0],shortKey:!0,handler(e,n){this.quill.format(t,!n.format[t],C.sources.USER)}}}function vh(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,n){const i=t?"prev":"next",r=n.line,o=r.parent[i];if(o!=null){if(o.statics.blotName==="table-row"){let a=o.children.head,c=r;for(;c.prev!=null;)c=c.prev,a=a.next;const l=a.offset(this.quill.scroll)+Math.min(n.offset,a.length()-1);this.quill.setSelection(l,0,C.sources.USER)}}else{const a=r.table()[i];a!=null&&(t?this.quill.setSelection(a.offset(this.quill.scroll)+a.length()-1,0,C.sources.USER):this.quill.setSelection(a.offset(this.quill.scroll),0,C.sources.USER))}return!1}}}function h_(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=Jn(t);else return null;return t.shortKey&&(t[c_]=t.shortKey,delete t.shortKey),t}function da(t){let{quill:e,range:n}=t;const i=e.getLines(n);let r={};if(i.length>1){const o=i[0].formats(),a=i[i.length-1].formats();r=He.AttributeMap.diff(a,o)||{}}e.deleteText(n,C.sources.USER),Object.keys(r).length>0&&e.formatLine(n.index,1,r,C.sources.USER),e.setSelection(n.index,C.sources.SILENT)}function u_(t,e,n,i){return e.prev==null&&e.next==null?n.prev==null&&n.next==null?i===0?-1:1:n.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const f_=/font-weight:\s*normal/,m_=["P","OL","UL"],$h=t=>t&&m_.includes(t.tagName),p_=t=>{Array.from(t.querySelectorAll("br")).filter(e=>$h(e.previousElementSibling)&&$h(e.nextElementSibling)).forEach(e=>{var n;(n=e.parentNode)==null||n.removeChild(e)})},g_=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var n;return(n=e.getAttribute("style"))==null?void 0:n.match(f_)}).forEach(e=>{var i;const n=t.createDocumentFragment();n.append(...e.childNodes),(i=e.parentNode)==null||i.replaceChild(n,e)})};function b_(t){t.querySelector('[id^="docs-internal-guid-"]')&&(g_(t),p_(t))}const y_=/\bmso-list:[^;]*ignore/i,E_=/\bmso-list:[^;]*\bl(\d+)/i,__=/\bmso-list:[^;]*\blevel(\d+)/i,w_=(t,e)=>{const n=t.getAttribute("style"),i=n==null?void 0:n.match(E_);if(!i)return null;const r=Number(i[1]),o=n==null?void 0:n.match(__),a=o?Number(o[1]):1,c=new RegExp(`@list l${r}:level${a}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),l=e.match(c),h=l&&l[1]==="bullet"?"bullet":"ordered";return{id:r,indent:a,type:h,element:t}},k_=t=>{var a,c;const e=Array.from(t.querySelectorAll("[style*=mso-list]")),n=[],i=[];e.forEach(l=>{(l.getAttribute("style")||"").match(y_)?n.push(l):i.push(l)}),n.forEach(l=>{var h;return(h=l.parentNode)==null?void 0:h.removeChild(l)});const r=t.documentElement.innerHTML,o=i.map(l=>w_(l,r)).filter(l=>l);for(;o.length;){const l=[];let h=o.shift();for(;h;)l.push(h),h=o.length&&((a=o[0])==null?void 0:a.element)===h.element.nextElementSibling&&o[0].id===h.id?o.shift():null;const f=document.createElement("ul");l.forEach(g=>{const E=document.createElement("li");E.setAttribute("data-list",g.type),g.indent>1&&E.setAttribute("class",`ql-indent-${g.indent-1}`),E.innerHTML=g.element.innerHTML,f.appendChild(E)});const u=(c=l[0])==null?void 0:c.element,{parentNode:p}=u??{};u&&(p==null||p.replaceChild(f,u)),l.slice(1).forEach(g=>{let{element:E}=g;p==null||p.removeChild(E)})}};function N_(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&k_(t)}const T_=[N_,b_],A_=t=>{t.documentElement&&T_.forEach(e=>{e(t)})},C_=It("quill:clipboard"),S_=[[Node.TEXT_NODE,q_],[Node.TEXT_NODE,Ph],["br",I_],[Node.ELEMENT_NODE,Ph],[Node.ELEMENT_NODE,V_],[Node.ELEMENT_NODE,B_],[Node.ELEMENT_NODE,M_],["li",v_],["ol, ul",$_],["pre",x_],["tr",R_],["b",ua("bold")],["i",ua("italic")],["strike",ua("strike")],["style",D_]],O_=[i_,Ch].reduce((t,e)=>(t[e.keyName]=e,t),{}),Mh=[Th,oa,ra,Oh,Vh,xh].reduce((t,e)=>(t[e.keyName]=e,t),{});class Rh extends st{constructor(e,n){super(e,n),this.quill.root.addEventListener("copy",i=>this.onCaptureCopy(i,!1)),this.quill.root.addEventListener("cut",i=>this.onCaptureCopy(i,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],S_.concat(this.options.matchers??[]).forEach(i=>{let[r,o]=i;this.addMatcher(r,o)})}addMatcher(e,n){this.matchers.push([e,n])}convert(e){let{html:n,text:i}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r[Ae.blotName])return new F().insert(i||"",{[Ae.blotName]:r[Ae.blotName]});if(!n)return new F().insert(i||"",r);const o=this.convertHTML(n);return zs(o,`
`)&&(o.ops[o.ops.length-1].attributes==null||r.table)?o.compose(new F().retain(o.length()-1).delete(1)):o}normalizeHTML(e){A_(e)}convertHTML(e){const n=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(n);const i=n.body,r=new WeakMap,[o,a]=this.prepareMatching(i,r);return ha(this.quill.scroll,i,o,a,r)}dangerouslyPasteHTML(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C.sources.API;if(typeof e=="string"){const r=this.convert({html:e,text:""});this.quill.setContents(r,n),this.quill.setSelection(0,C.sources.SILENT)}else{const r=this.convert({html:n,text:""});this.quill.updateContents(new F().retain(e).concat(r),i),this.quill.setSelection(e+r.length(),C.sources.SILENT)}}onCaptureCopy(e){var a,c;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[i]=this.quill.selection.getRange();if(i==null)return;const{html:r,text:o}=this.onCopy(i,n);(a=e.clipboardData)==null||a.setData("text/plain",o),(c=e.clipboardData)==null||c.setData("text/html",r),n&&da({range:i,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(e){var a,c,l,h,f;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const i=(a=e.clipboardData)==null?void 0:a.getData("text/html");let r=(c=e.clipboardData)==null?void 0:c.getData("text/plain");if(!i&&!r){const u=(l=e.clipboardData)==null?void 0:l.getData("text/uri-list");u&&(r=this.normalizeURIList(u))}const o=Array.from(((h=e.clipboardData)==null?void 0:h.files)||[]);if(!i&&o.length>0){this.quill.uploader.upload(n,o);return}if(i&&o.length>0){const u=new DOMParser().parseFromString(i,"text/html");if(u.body.childElementCount===1&&((f=u.body.firstElementChild)==null?void 0:f.tagName)==="IMG"){this.quill.uploader.upload(n,o);return}}this.onPaste(n,{html:i,text:r})}onCopy(e){const n=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:n}}onPaste(e,n){let{text:i,html:r}=n;const o=this.quill.getFormat(e.index),a=this.convert({text:i,html:r},o);C_.log("onPaste",a,{text:i,html:r});const c=new F().retain(e.index).delete(e.length).concat(a);this.quill.updateContents(c,C.sources.USER),this.quill.setSelection(c.length()-e.length,C.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,n){const i=[],r=[];return this.matchers.forEach(o=>{const[a,c]=o;switch(a){case Node.TEXT_NODE:r.push(c);break;case Node.ELEMENT_NODE:i.push(c);break;default:Array.from(e.querySelectorAll(a)).forEach(l=>{if(n.has(l)){const h=n.get(l);h==null||h.push(c)}else n.set(l,[c])});break}}),[i,r]}}M(Rh,"DEFAULTS",{matchers:[]});function Tn(t,e,n,i){return i.query(e)?t.reduce((r,o)=>{if(!o.insert)return r;if(o.attributes&&o.attributes[e])return r.push(o);const a=n?{[e]:n}:{};return r.insert(o.insert,{...a,...o.attributes})},new F):t}function zs(t,e){let n="";for(let i=t.ops.length-1;i>=0&&n.length<e.length;--i){const r=t.ops[i];if(typeof r.insert!="string")break;n=r.insert+n}return n.slice(-1*e.length)===e}function en(t,e){if(!(t instanceof Element))return!1;const n=e.query(t);return n&&n.prototype instanceof qe?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function L_(t,e){return t.previousElementSibling&&t.nextElementSibling&&!en(t.previousElementSibling,e)&&!en(t.nextElementSibling,e)}const dr=new WeakMap;function qh(t){return t==null?!1:(dr.has(t)||(t.tagName==="PRE"?dr.set(t,!0):dr.set(t,qh(t.parentNode))),dr.get(t))}function ha(t,e,n,i,r){return e.nodeType===e.TEXT_NODE?i.reduce((o,a)=>a(e,o,t),new F):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((o,a)=>{let c=ha(t,a,n,i,r);return a.nodeType===e.ELEMENT_NODE&&(c=n.reduce((l,h)=>h(a,l,t),c),c=(r.get(a)||[]).reduce((l,h)=>h(a,l,t),c)),o.concat(c)},new F):new F}function ua(t){return(e,n,i)=>Tn(n,t,!0,i)}function B_(t,e,n){const i=pt.keys(t),r=Je.keys(t),o=Qt.keys(t),a={};return i.concat(r).concat(o).forEach(c=>{let l=n.query(c,U.ATTRIBUTE);l!=null&&(a[l.attrName]=l.value(t),a[l.attrName])||(l=O_[c],l!=null&&(l.attrName===c||l.keyName===c)&&(a[l.attrName]=l.value(t)||void 0),l=Mh[c],l!=null&&(l.attrName===c||l.keyName===c)&&(l=Mh[c],a[l.attrName]=l.value(t)||void 0))}),Object.entries(a).reduce((c,l)=>{let[h,f]=l;return Tn(c,h,f,n)},e)}function V_(t,e,n){const i=n.query(t);if(i==null)return e;if(i.prototype instanceof qe){const r={},o=i.value(t);if(o!=null)return r[i.blotName]=o,new F().insert(r,i.formats(t,n))}else if(i.prototype instanceof js&&!zs(e,`
`)&&e.insert(`
`),"blotName"in i&&"formats"in i&&typeof i.formats=="function")return Tn(e,i.blotName,i.formats(t,n),n);return e}function I_(t,e){return zs(e,`
`)||e.insert(`
`),e}function x_(t,e,n){const i=n.query("code-block"),r=i&&"formats"in i&&typeof i.formats=="function"?i.formats(t,n):!0;return Tn(e,"code-block",r,n)}function D_(){return new F}function v_(t,e,n){const i=n.query(t);if(i==null||i.blotName!=="list"||!zs(e,`
`))return e;let r=-1,o=t.parentNode;for(;o!=null;)["OL","UL"].includes(o.tagName)&&(r+=1),o=o.parentNode;return r<=0?e:e.reduce((a,c)=>c.insert?c.attributes&&typeof c.attributes.indent=="number"?a.push(c):a.insert(c.insert,{indent:r,...c.attributes||{}}):a,new F)}function $_(t,e,n){const i=t;let r=i.tagName==="OL"?"ordered":"bullet";const o=i.getAttribute("data-checked");return o&&(r=o==="true"?"checked":"unchecked"),Tn(e,"list",r,n)}function Ph(t,e,n){if(!zs(e,`
`)){if(en(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let i=t.nextSibling;for(;i!=null;){if(en(i,n))return e.insert(`
`);const r=n.query(i);if(r&&r.prototype instanceof ze)return e.insert(`
`);i=i.firstChild}}}return e}function M_(t,e,n){var o;const i={},r=t.style||{};return r.fontStyle==="italic"&&(i.italic=!0),r.textDecoration==="underline"&&(i.underline=!0),r.textDecoration==="line-through"&&(i.strike=!0),((o=r.fontWeight)!=null&&o.startsWith("bold")||parseInt(r.fontWeight,10)>=700)&&(i.bold=!0),e=Object.entries(i).reduce((a,c)=>{let[l,h]=c;return Tn(a,l,h,n)},e),parseFloat(r.textIndent||0)>0?new F().insert("	").concat(e):e}function R_(t,e,n){var r,o;const i=((r=t.parentElement)==null?void 0:r.tagName)==="TABLE"?t.parentElement:(o=t.parentElement)==null?void 0:o.parentElement;if(i!=null){const c=Array.from(i.querySelectorAll("tr")).indexOf(t)+1;return Tn(e,"table",c,n)}return e}function q_(t,e,n){var r;let i=t.data;if(((r=t.parentElement)==null?void 0:r.tagName)==="O:P")return e.insert(i.trim());if(!qh(t)){if(i.trim().length===0&&i.includes(`
`)&&!L_(t,n))return e;i=i.replace(/[^\S\u00a0]/g," "),i=i.replace(/ {2,}/g," "),(t.previousSibling==null&&t.parentElement!=null&&en(t.parentElement,n)||t.previousSibling instanceof Element&&en(t.previousSibling,n))&&(i=i.replace(/^ /,"")),(t.nextSibling==null&&t.parentElement!=null&&en(t.parentElement,n)||t.nextSibling instanceof Element&&en(t.nextSibling,n))&&(i=i.replace(/ $/,"")),i=i.replaceAll(""," ")}return e.insert(i)}class jh extends st{constructor(n,i){super(n,i);M(this,"lastRecorded",0);M(this,"ignoreChange",!1);M(this,"stack",{undo:[],redo:[]});M(this,"currentRange",null);this.quill.on(C.events.EDITOR_CHANGE,(r,o,a,c)=>{r===C.events.SELECTION_CHANGE?o&&c!==C.sources.SILENT&&(this.currentRange=o):r===C.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||c===C.sources.USER?this.record(o,a):this.transform(o)),this.currentRange=fa(this.currentRange,o))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",r=>{r.inputType==="historyUndo"?(this.undo(),r.preventDefault()):r.inputType==="historyRedo"&&(this.redo(),r.preventDefault())})}change(n,i){if(this.stack[n].length===0)return;const r=this.stack[n].pop();if(!r)return;const o=this.quill.getContents(),a=r.delta.invert(o);this.stack[i].push({delta:a,range:fa(r.range,a)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,C.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,i){if(n.ops.length===0)return;this.stack.redo=[];let r=n.invert(i),o=this.currentRange;const a=Date.now();if(this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0){const c=this.stack.undo.pop();c&&(r=r.compose(c.delta),o=c.range)}else this.lastRecorded=a;r.length()!==0&&(this.stack.undo.push({delta:r,range:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){Fh(this.stack.undo,n),Fh(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,C.sources.USER);else{const i=j_(this.quill.scroll,n.delta);this.quill.setSelection(i,C.sources.USER)}}}M(jh,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function Fh(t,e){let n=e;for(let i=t.length-1;i>=0;i-=1){const r=t[i];t[i]={delta:n.transform(r.delta,!0),range:r.range&&fa(r.range,n)},n=r.delta.transform(n),t[i].delta.length()===0&&t.splice(i,1)}}function P_(t,e){const n=e.ops[e.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(i=>t.query(i,U.BLOCK)!=null):!1}function j_(t,e){const n=e.reduce((r,o)=>r+(o.delete||0),0);let i=e.length()-n;return P_(t,e)&&(i-=1),i}function fa(t,e){if(!t)return t;const n=e.transformPosition(t.index),i=e.transformPosition(t.index+t.length);return{index:n,length:i-n}}class Uh extends st{constructor(e,n){super(e,n),e.root.addEventListener("drop",i=>{var a;i.preventDefault();let r=null;if(document.caretRangeFromPoint)r=document.caretRangeFromPoint(i.clientX,i.clientY);else if(document.caretPositionFromPoint){const c=document.caretPositionFromPoint(i.clientX,i.clientY);r=document.createRange(),r.setStart(c.offsetNode,c.offset),r.setEnd(c.offsetNode,c.offset)}const o=r&&e.selection.normalizeNative(r);if(o){const c=e.selection.normalizedToRange(o);(a=i.dataTransfer)!=null&&a.files&&this.upload(c,i.dataTransfer.files)}})}upload(e,n){const i=[];Array.from(n).forEach(r=>{var o;r&&((o=this.options.mimetypes)!=null&&o.includes(r.type))&&i.push(r)}),i.length>0&&this.options.handler.call(this,e,i)}}Uh.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const n=e.map(i=>new Promise(r=>{const o=new FileReader;o.onload=()=>{r(o.result)},o.readAsDataURL(i)}));Promise.all(n).then(i=>{const r=i.reduce((o,a)=>o.insert({image:a}),new F().retain(t.index).delete(t.length));this.quill.updateContents(r,q.sources.USER),this.quill.setSelection(t.index+i.length,q.sources.SILENT)})}};const F_=["insertText","insertReplacementText"];class U_ extends st{constructor(e,n){super(e,n),e.root.addEventListener("beforeinput",i=>{this.handleBeforeInput(i)}),/Android/i.test(navigator.userAgent)||e.on(C.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){da({range:e,quill:this.quill})}replaceText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(n){const i=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new F().retain(e.index).insert(n,i),C.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+n.length,0,C.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!F_.includes(e.inputType))return;const n=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const i=H_(e);if(i==null)return;const r=this.quill.selection.normalizeNative(n),o=r?this.quill.selection.normalizedToRange(r):null;o&&this.replaceText(o,i)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function H_(t){var e;return typeof t.data=="string"?t.data:(e=t.dataTransfer)!=null&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const z_=/Mac/i.test(navigator.platform),W_=100,K_=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||z_&&t.key==="a"&&t.ctrlKey===!0);class G_ extends st{constructor(n,i){super(n,i);M(this,"isListening",!1);M(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,i){let{line:r,event:o}=i;if(!(r instanceof et)||!r.uiNode)return!0;const a=getComputedStyle(r.domNode).direction==="rtl";return a&&o.key!=="ArrowRight"||!a&&o.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(o.shiftKey?1:0),C.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&K_(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+W_,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const i=n.getRangeAt(0);if(i.collapsed!==!0||i.startOffset!==0)return;const r=this.quill.scroll.find(i.startContainer);if(!(r instanceof et)||!r.uiNode)return;const o=document.createRange();o.setStartAfter(r.uiNode),o.setEndAfter(r.uiNode),n.removeAllRanges(),n.addRange(o)}}C.register({"blots/block":we,"blots/block/embed":ze,"blots/break":tt,"blots/container":kn,"blots/cursor":rs,"blots/embed":ta,"blots/inline":gt,"blots/scroll":cs,"blots/text":nt,"modules/clipboard":Rh,"modules/history":jh,"modules/keyboard":lr,"modules/uploader":Uh,"modules/input":U_,"modules/uiNode":G_});class Y_ extends Je{add(e,n){let i=0;if(n==="+1"||n==="-1"){const r=this.value(e)||0;i=n==="+1"?r+1:r-1}else typeof n=="number"&&(i=n);return i===0?(this.remove(e),!0):super.add(e,i.toString())}canAdd(e,n){return super.canAdd(e,n)||super.canAdd(e,parseInt(n,10))}value(e){return parseInt(super.value(e),10)||void 0}}const X_=new Y_("indent","ql-indent",{scope:U.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class ma extends we{}M(ma,"blotName","blockquote"),M(ma,"tagName","blockquote");class pa extends we{static formats(e){return this.tagName.indexOf(e.tagName)+1}}M(pa,"blotName","header"),M(pa,"tagName",["H1","H2","H3","H4","H5","H6"]);class Ws extends kn{}Ws.blotName="list-container",Ws.tagName="OL";class Ks extends we{static create(e){const n=super.create();return n.setAttribute("data-list",e),n}static formats(e){return e.getAttribute("data-list")||void 0}static register(){C.register(Ws)}constructor(e,n){super(e,n);const i=n.ownerDocument.createElement("span"),r=o=>{if(!e.isEnabled())return;const a=this.statics.formats(n,e);a==="checked"?(this.format("list","unchecked"),o.preventDefault()):a==="unchecked"&&(this.format("list","checked"),o.preventDefault())};i.addEventListener("mousedown",r),i.addEventListener("touchstart",r),this.attachUI(i)}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(e,n)}}Ks.blotName="list",Ks.tagName="LI",Ws.allowedChildren=[Ks],Ks.requiredContainer=Ws;class Gs extends gt{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}M(Gs,"blotName","bold"),M(Gs,"tagName",["STRONG","B"]);class ga extends Gs{}M(ga,"blotName","italic"),M(ga,"tagName",["EM","I"]);class tn extends gt{static create(e){const n=super.create(e);return n.setAttribute("href",this.sanitize(e)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(e){return e.getAttribute("href")}static sanitize(e){return Hh(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,n){e!==this.statics.blotName||!n?super.format(e,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}M(tn,"blotName","link"),M(tn,"tagName","A"),M(tn,"SANITIZED_URL","about:blank"),M(tn,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Hh(t,e){const n=document.createElement("a");n.href=t;const i=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(i)>-1}class ba extends gt{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}M(ba,"blotName","script"),M(ba,"tagName",["SUB","SUP"]);class ya extends Gs{}M(ya,"blotName","strike"),M(ya,"tagName",["S","STRIKE"]);class Ea extends gt{}M(Ea,"blotName","underline"),M(Ea,"tagName","U");class hr extends ta{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(e);return typeof e=="string"&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}M(hr,"blotName","formula"),M(hr,"className","ql-formula"),M(hr,"tagName","SPAN");const zh=["alt","height","width"];class _a extends qe{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("src",this.sanitize(e)),n}static formats(e){return zh.reduce((n,i)=>(e.hasAttribute(i)&&(n[i]=e.getAttribute(i)),n),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return Hh(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,n){zh.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}}M(_a,"blotName","image"),M(_a,"tagName","IMG");const Wh=["height","width"];class ur extends ze{static create(e){const n=super.create(e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(e)),n}static formats(e){return Wh.reduce((n,i)=>(e.hasAttribute(i)&&(n[i]=e.getAttribute(i)),n),{})}static sanitize(e){return tn.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,n){Wh.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}M(ur,"blotName","video"),M(ur,"className","ql-video"),M(ur,"tagName","IFRAME");const Ys=new Je("code-token","hljs",{scope:U.INLINE});class Dt extends gt{static formats(e,n){for(;e!=null&&e!==n.domNode;){if(e.classList&&e.classList.contains(Ae.className))return super.formats(e,n);e=e.parentNode}}constructor(e,n,i){super(e,n,i),Ys.add(this.domNode,i)}format(e,n){e!==Dt.blotName?super.format(e,n):n?Ys.add(this.domNode,n):(Ys.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Ys.value(this.domNode)||this.unwrap()}}Dt.blotName="code-token",Dt.className="ql-token";class Ke extends Ae{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("data-language",e),n}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(e,n)}replaceWith(e,n){return this.formatAt(0,this.length(),Dt.blotName,!1),super.replaceWith(e,n)}}class Xs extends Nn{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,n){e===Ke.blotName&&(this.forceNext=!0,this.children.forEach(i=>{i.format(e,n)}))}formatAt(e,n,i,r){i===Ke.blotName&&(this.forceNext=!0),super.formatAt(e,n,i,r)}highlight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const r=`${Array.from(this.domNode.childNodes).filter(a=>a!==this.uiNode).map(a=>a.textContent).join(`
`)}
`,o=Ke.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==r){if(r.trim().length>0||this.cachedText==null){const a=this.children.reduce((l,h)=>l.concat(uh(h,!1)),new F),c=e(r,o);a.diff(c).reduce((l,h)=>{let{retain:f,attributes:u}=h;return f?(u&&Object.keys(u).forEach(p=>{[Ke.blotName,Dt.blotName].includes(p)&&this.formatAt(l,f,p,u[p])}),l+f):l},0)}this.cachedText=r,this.forceNext=!1}}html(e,n){const[i]=this.children.find(e);return`<pre data-language="${i?Ke.formats(i.domNode):"plain"}">
${ir(this.code(e,n))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=Ke.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}Xs.allowedChildren=[Ke],Ke.requiredContainer=Xs,Ke.allowedChildren=[Dt,rs,nt,tt];const Z_=(t,e,n)=>{if(typeof t.versionString=="string"){const i=t.versionString.split(".")[0];if(parseInt(i,10)>=11)return t.highlight(n,{language:e}).value}return t.highlight(e,n).value};class Kh extends st{static register(){C.register(Dt,!0),C.register(Ke,!0),C.register(Xs,!0)}constructor(e,n){if(super(e,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((i,r)=>{let{key:o}=r;return i[o]=!0,i},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(C.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Xs))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(i=>{let{key:r,label:o}=i;const a=n.ownerDocument.createElement("option");a.textContent=o,a.setAttribute("value",r),n.appendChild(a)}),n.addEventListener("change",()=>{e.format(Ke.blotName,n.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(n),e.children.head&&(n.value=Ke.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(C.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(C.sources.USER);const i=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Xs):[e]).forEach(o=>{o.highlight(this.highlightBlot,n)}),this.quill.update(C.sources.SILENT),i!=null&&this.quill.setSelection(i,C.sources.SILENT)}highlightBlot(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return ir(e).split(`
`).reduce((r,o,a)=>(a!==0&&r.insert(`
`,{[Ae.blotName]:n}),r.insert(o)),new F);const i=this.quill.root.ownerDocument.createElement("div");return i.classList.add(Ae.className),i.innerHTML=Z_(this.options.hljs,n,e),ha(this.quill.scroll,i,[(r,o)=>{const a=Ys.value(r);return a?o.compose(new F().retain(o.length(),{[Dt.blotName]:a})):o}],[(r,o)=>r.data.split(`
`).reduce((a,c,l)=>(l!==0&&a.insert(`
`,{[Ae.blotName]:n}),a.insert(c)),o)],new WeakMap)}}Kh.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const ti=class ti extends we{static create(e){const n=super.create();return e?n.setAttribute("data-row",e):n.setAttribute("data-row",wa()),n}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,n){e===ti.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(e,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};M(ti,"blotName","table"),M(ti,"tagName","TD");let rt=ti;class vt extends kn{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),n=this.children.tail.formats(),i=this.next.children.head.formats(),r=this.next.children.tail.formats();return e.table===n.table&&e.table===i.table&&e.table===r.table}return!1}optimize(e){super.optimize(e),this.children.forEach(n=>{if(n.next==null)return;const i=n.formats(),r=n.next.formats();if(i.table!==r.table){const o=this.splitAfter(n);o&&o.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}M(vt,"blotName","table-row"),M(vt,"tagName","TR");class bt extends kn{}M(bt,"blotName","table-body"),M(bt,"tagName","TBODY");class ds extends kn{balanceCells(){const e=this.descendants(vt),n=e.reduce((i,r)=>Math.max(r.children.length,i),0);e.forEach(i=>{new Array(n-i.children.length).fill(0).forEach(()=>{let r;i.children.head!=null&&(r=rt.formats(i.children.head.domNode));const o=this.scroll.create(rt.blotName,r);i.appendChild(o),o.optimize()})})}cells(e){return this.rows().map(n=>n.children.at(e))}deleteColumn(e){const[n]=this.descendant(bt);n==null||n.children.head==null||n.children.forEach(i=>{const r=i.children.at(e);r!=null&&r.remove()})}insertColumn(e){const[n]=this.descendant(bt);n==null||n.children.head==null||n.children.forEach(i=>{const r=i.children.at(e),o=rt.formats(i.children.head.domNode),a=this.scroll.create(rt.blotName,o);i.insertBefore(a,r)})}insertRow(e){const[n]=this.descendant(bt);if(n==null||n.children.head==null)return;const i=wa(),r=this.scroll.create(vt.blotName);n.children.head.children.forEach(()=>{const a=this.scroll.create(rt.blotName,i);r.appendChild(a)});const o=n.children.at(e);n.insertBefore(r,o)}rows(){const e=this.children.head;return e==null?[]:e.children.map(n=>n)}}M(ds,"blotName","table-container"),M(ds,"tagName","TABLE"),ds.allowedChildren=[bt],bt.requiredContainer=ds,bt.allowedChildren=[vt],vt.requiredContainer=bt,vt.allowedChildren=[rt],rt.requiredContainer=vt;function wa(){return`row-${Math.random().toString(36).slice(2,6)}`}class Q_ extends st{static register(){C.register(rt),C.register(vt),C.register(bt),C.register(ds)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(ds).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,n]=this.getTable();n!=null&&(e.deleteColumn(n.cellOffset()),this.quill.update(C.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(C.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const n=e.offset();e.remove(),this.quill.update(C.sources.USER),this.quill.setSelection(n,C.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[n,i]=this.quill.getLine(e.index);if(n==null||n.statics.blotName!==rt.blotName)return[null,null,null,-1];const r=n.parent;return[r.parent.parent,r,n,i]}insertColumn(e){const n=this.quill.getSelection();if(!n)return;const[i,r,o]=this.getTable(n);if(o==null)return;const a=o.cellOffset();i.insertColumn(a+e),this.quill.update(C.sources.USER);let c=r.rowOffset();e===0&&(c+=1),this.quill.setSelection(n.index+c,n.length,C.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const n=this.quill.getSelection();if(!n)return;const[i,r,o]=this.getTable(n);if(o==null)return;const a=r.rowOffset();i.insertRow(a+e),this.quill.update(C.sources.USER),e>0?this.quill.setSelection(n,C.sources.SILENT):this.quill.setSelection(n.index+r.children.length,n.length,C.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,n){const i=this.quill.getSelection();if(i==null)return;const r=new Array(e).fill(0).reduce(o=>{const a=new Array(n).fill(`
`).join("");return o.insert(a,{table:wa()})},new F().retain(i.index));this.quill.updateContents(r,C.sources.USER),this.quill.setSelection(i.index,C.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(C.events.SCROLL_OPTIMIZE,e=>{e.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(C.events.TEXT_CHANGE,(i,r,o)=>{o===C.sources.USER&&this.balanceTables()}),!0):!1)})}}const Gh=It("quill:toolbar");class ka extends st{constructor(e,n){var i,r;if(super(e,n),Array.isArray(this.options.container)){const o=document.createElement("div");o.setAttribute("role","toolbar"),J_(o,this.options.container),(r=(i=e.container)==null?void 0:i.parentNode)==null||r.insertBefore(o,e.container),this.container=o}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Gh.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(o=>{var c;const a=(c=this.options.handlers)==null?void 0:c[o];a&&this.addHandler(o,a)}),Array.from(this.container.querySelectorAll("button, select")).forEach(o=>{this.attach(o)}),this.quill.on(C.events.EDITOR_CHANGE,()=>{const[o]=this.quill.selection.getRange();this.update(o)})}addHandler(e,n){this.handlers[e]=n}attach(e){let n=Array.from(e.classList).find(r=>r.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){Gh.warn("ignoring attaching to nonexistent format",n,e);return}const i=e.tagName==="SELECT"?"change":"click";e.addEventListener(i,r=>{let o;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const c=e.options[e.selectedIndex];c.hasAttribute("selected")?o=!1:o=c.value||!1}else e.classList.contains("ql-active")?o=!1:o=e.value||!e.hasAttribute("value"),r.preventDefault();this.quill.focus();const[a]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,o);else if(this.quill.scroll.query(n).prototype instanceof qe){if(o=prompt(`Enter ${n}`),!o)return;this.quill.updateContents(new F().retain(a.index).delete(a.length).insert({[n]:o}),C.sources.USER)}else this.quill.format(n,o,C.sources.USER);this.update(a)}),this.controls.push([n,e])}update(e){const n=e==null?{}:this.quill.getFormat(e);this.controls.forEach(i=>{const[r,o]=i;if(o.tagName==="SELECT"){let a=null;if(e==null)a=null;else if(n[r]==null)a=o.querySelector("option[selected]");else if(!Array.isArray(n[r])){let c=n[r];typeof c=="string"&&(c=c.replace(/"/g,'\\"')),a=o.querySelector(`option[value="${c}"]`)}a==null?(o.value="",o.selectedIndex=-1):a.selected=!0}else if(e==null)o.classList.remove("ql-active"),o.setAttribute("aria-pressed","false");else if(o.hasAttribute("value")){const a=n[r],c=a===o.getAttribute("value")||a!=null&&a.toString()===o.getAttribute("value")||a==null&&!o.getAttribute("value");o.classList.toggle("ql-active",c),o.setAttribute("aria-pressed",c.toString())}else{const a=n[r]!=null;o.classList.toggle("ql-active",a),o.setAttribute("aria-pressed",a.toString())}})}}ka.DEFAULTS={};function Yh(t,e,n){const i=document.createElement("button");i.setAttribute("type","button"),i.classList.add(`ql-${e}`),i.setAttribute("aria-pressed","false"),n!=null?(i.value=n,i.setAttribute("aria-label",`${e}: ${n}`)):i.setAttribute("aria-label",e),t.appendChild(i)}function J_(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(n=>{const i=document.createElement("span");i.classList.add("ql-formats"),n.forEach(r=>{if(typeof r=="string")Yh(i,r);else{const o=Object.keys(r)[0],a=r[o];Array.isArray(a)?ew(i,o,a):Yh(i,o,a)}}),t.appendChild(i)})}function ew(t,e,n){const i=document.createElement("select");i.classList.add(`ql-${e}`),n.forEach(r=>{const o=document.createElement("option");r!==!1?o.setAttribute("value",String(r)):o.setAttribute("selected","selected"),i.appendChild(o)}),t.appendChild(i)}ka.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(n=>{this.quill.scroll.query(n,U.INLINE)!=null&&this.quill.format(n,!1,C.sources.USER)})}else this.quill.removeFormat(t.index,t.length,C.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",C.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,C.sources.USER),this.quill.format("direction",t,C.sources.USER)},indent(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e),i=parseInt(n.indent||0,10);if(t==="+1"||t==="-1"){let r=t==="+1"?1:-1;n.direction==="rtl"&&(r*=-1),this.quill.format("indent",i+r,C.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,C.sources.USER)},list(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e);t==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,C.sources.USER):this.quill.format("list","unchecked",C.sources.USER):this.quill.format("list",t,C.sources.USER)}}};const tw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',nw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',sw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',iw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',rw='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',ow='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',aw='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',lw='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Xh='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Zs={align:{"":tw,center:nw,right:sw,justify:iw},background:rw,blockquote:ow,bold:aw,clean:lw,code:Xh,"code-block":Xh,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'},cw='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Zh=0;function Qh(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class fr{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Qh(this.label,"aria-expanded"),Qh(this.options,"aria-hidden")}buildItem(e){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const i=e.getAttribute("value");return i&&n.setAttribute("data-value",i),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.selectItem(n,!0),r.preventDefault();break;case"Escape":this.escape(),r.preventDefault();break}}),n}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=cw,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${Zh}`,Zh+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(n=>{const i=this.buildItem(n);e.appendChild(i),n.selected===!0&&this.selectItem(i)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.container.querySelector(".ql-selected");e!==i&&(i!=null&&i.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const i=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(i)}else this.selectItem(null);const n=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class Jh extends fr{constructor(e,n){super(e),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(i=>{i.classList.add("ql-primary")})}buildItem(e){const n=super.buildItem(e);return n.style.backgroundColor=e.getAttribute("value")||"",n}selectItem(e,n){super.selectItem(e,n);const i=this.label.querySelector(".ql-color-label"),r=e&&e.getAttribute("data-value")||"";i&&(i.tagName==="line"?i.style.stroke=r:i.style.fill=r)}}class eu extends fr{constructor(e,n){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(i=>{i.innerHTML=n[i.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,n){super.selectItem(e,n);const i=e||this.defaultItem;if(i!=null){if(this.label.innerHTML===i.innerHTML)return;this.label.innerHTML=i.innerHTML}}}const dw=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class tu{constructor(e,n){this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,dw(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const n=e.left+e.width/2-this.root.offsetWidth/2,i=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${i}px`,this.root.classList.remove("ql-flip");const r=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect();let a=0;if(o.right>r.right&&(a=r.right-o.right,this.root.style.left=`${n+a}px`),o.left<r.left&&(a=r.left-o.left,this.root.style.left=`${n+a}px`),o.bottom>r.bottom){const c=o.bottom-o.top,l=e.bottom-e.top+c;this.root.style.top=`${i-l}px`,this.root.classList.add("ql-flip")}return a}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const hw=[!1,"center","right","justify"],uw=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],fw=[!1,"serif","monospace"],mw=["1","2","3",!1],pw=["small",!1,"large","huge"];class Qs extends as{constructor(e,n){super(e,n);const i=r=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",i);return}this.tooltip!=null&&!this.tooltip.root.contains(r.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(o=>{o.container.contains(r.target)||o.close()})};e.emitter.listenDOM("click",document.body,i)}addModule(e){const n=super.addModule(e);return e==="toolbar"&&this.extendToolbar(n),n}buildButtons(e,n){Array.from(e).forEach(i=>{(i.getAttribute("class")||"").split(/\s+/).forEach(o=>{if(o.startsWith("ql-")&&(o=o.slice(3),n[o]!=null))if(o==="direction")i.innerHTML=n[o][""]+n[o].rtl;else if(typeof n[o]=="string")i.innerHTML=n[o];else{const a=i.value||"";a!=null&&n[o][a]&&(i.innerHTML=n[o][a])}})})}buildPickers(e,n){this.pickers=Array.from(e).map(r=>{if(r.classList.contains("ql-align")&&(r.querySelector("option")==null&&Js(r,hw),typeof n.align=="object"))return new eu(r,n.align);if(r.classList.contains("ql-background")||r.classList.contains("ql-color")){const o=r.classList.contains("ql-background")?"background":"color";return r.querySelector("option")==null&&Js(r,uw,o==="background"?"#ffffff":"#000000"),new Jh(r,n[o])}return r.querySelector("option")==null&&(r.classList.contains("ql-font")?Js(r,fw):r.classList.contains("ql-header")?Js(r,mw):r.classList.contains("ql-size")&&Js(r,pw)),new fr(r)});const i=()=>{this.pickers.forEach(r=>{r.update()})};this.quill.on(q.events.EDITOR_CHANGE,i)}}Qs.DEFAULTS=Zt({},as.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class nu extends tu{constructor(e,n){super(e,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const i=this.quill.getBounds(this.quill.selection.savedRange);i!=null&&this.position(i),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,q.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,q.sources.USER)),this.quill.root.scrollTop=n;break}case"video":e=gw(e);case"formula":{if(!e)break;const n=this.quill.getSelection(!0);if(n!=null){const i=n.index+n.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),e,q.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(i+1," ",q.sources.USER),this.quill.setSelection(i+2,q.sources.USER)}break}}this.textbox.value="",this.hide()}}function gw(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function Js(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(i=>{const r=document.createElement("option");i===n?r.setAttribute("selected","selected"):r.setAttribute("value",String(i)),t.appendChild(r)})}const bw=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class su extends nu{constructor(e,n){super(e,n),this.quill.on(q.events.EDITOR_CHANGE,(i,r,o,a)=>{if(i===q.events.SELECTION_CHANGE)if(r!=null&&r.length>0&&a===q.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const c=this.quill.getLines(r.index,r.length);if(c.length===1){const l=this.quill.getBounds(r);l!=null&&this.position(l)}else{const l=c[c.length-1],h=this.quill.getIndex(l),f=Math.min(l.length()-1,r.index+r.length-h),u=this.quill.getBounds(new wn(h,f));u!=null&&this.position(u)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(q.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const n=this.quill.getBounds(e);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(e){const n=super.position(e),i=this.root.querySelector(".ql-tooltip-arrow");return i.style.marginLeft="",n!==0&&(i.style.marginLeft=`${-1*n-i.offsetWidth/2}px`),n}}M(su,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class iu extends Qs{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=bw),super(e,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new su(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Zs),this.buildPickers(e.container.querySelectorAll("select"),Zs))}}iu.DEFAULTS=Zt({},Qs.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,C.sources.USER)}}}}});const yw=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class ru extends nu{constructor(){super(...arguments);M(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const i=this.linkRange;this.restoreFocus(),this.quill.formatText(i,"link",!1,q.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on(q.events.SELECTION_CHANGE,(n,i,r)=>{if(n!=null){if(n.length===0&&r===q.sources.USER){const[o,a]=this.quill.scroll.descendant(tn,n.index);if(o!=null){this.linkRange=new wn(n.index-a,o.length());const c=tn.formats(o.domNode);this.preview.textContent=c,this.preview.setAttribute("href",c),this.show();const l=this.quill.getBounds(this.linkRange);l!=null&&this.position(l);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}M(ru,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class ou extends Qs{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=yw),super(e,n),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Zs),this.buildPickers(e.container.querySelectorAll("select"),Zs),this.tooltip=new ru(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,i)=>{e.handlers.link.call(e,!i.format.link)}))}}ou.DEFAULTS=Zt({},Qs.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:i}=this.quill.theme;i.edit("link",n)}else this.quill.format("link",!1,C.sources.USER)}}}}}),C.register({"attributors/attribute/direction":Ch,"attributors/class/align":Nh,"attributors/class/background":o_,"attributors/class/color":r_,"attributors/class/direction":Sh,"attributors/class/font":Bh,"attributors/class/size":Ih,"attributors/style/align":Th,"attributors/style/background":oa,"attributors/style/color":ra,"attributors/style/direction":Oh,"attributors/style/font":Vh,"attributors/style/size":xh},!0),C.register({"formats/align":Nh,"formats/direction":Sh,"formats/indent":X_,"formats/background":oa,"formats/color":ra,"formats/font":Bh,"formats/size":Ih,"formats/blockquote":ma,"formats/code-block":Ae,"formats/header":pa,"formats/list":Ks,"formats/bold":Gs,"formats/code":aa,"formats/italic":ga,"formats/link":tn,"formats/script":ba,"formats/strike":ya,"formats/underline":Ea,"formats/formula":hr,"formats/image":_a,"formats/video":ur,"modules/syntax":Kh,"modules/table":Q_,"modules/toolbar":ka,"themes/bubble":iu,"themes/snow":ou,"ui/icons":Zs,"ui/picker":fr,"ui/icon-picker":eu,"ui/color-picker":Jh,"ui/tooltip":tu},!0);const ot=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},Ew={props:["modelValue"],mounted(){this.initQuillEditor()},watch:{modelValue(t){t||(t=""),this.quill.root.innerHTML!=t&&(this.quill.root.innerHTML=t)}},methods:{initQuillEditor(){this.quill=new C(this.$refs.editor,{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],["link","image"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["clean"]]},formats:["bold","italic","underline","strike","link","image","list","indent","align"]}),this.modelValue?this.quill.root.innerHTML=this.modelValue:this.quill.root.innerHTML="",this.quill.on("text-change",()=>{this.$emit("update:modelValue",this.quill.root.innerHTML)})}}},_w={class:"ql-editor-container"},ww={class:"",ref:"editor"};function kw(t,e,n,i,r,o){return s.openBlock(),s.createElementBlock("div",_w,[s.createElementVNode("div",ww,null,512)])}const Nw=ot(Ew,[["render",kw]]),Ge={image:{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif"},video:{mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",mpeg:"video/mpeg",mov:"video/quicktime"},document:{txt:"text/plain",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rtf:"application/rtf"}},Tw={props:{modelValue:Array,field:Object,settings:Object},data:function(){return{files:[],editfile:null,count:0,bytes:0,wait:!1,uploadEvent:null}},created(){let t=Math.round(Math.random()*1e5);this.uploadId="image_upload_"+t,this.params=this.field.params},mounted(){this.editfile=this.modelValue,this.editfile||(this.editfile=[])},watch:{modelValue(t){if(t==null)this.reset();else{for(let e of t)this.setDefaults(e);this.files=t}}},methods:{roundFileSize(t,e){return t<1024?t+(e?" Byte":""):t<1048576?(t/1024).toFixed(0)+(e?'<span class="text-muted fw-light"> KB</span>':""):t<1073741824?(t/1048576).toFixed(2)+(e?'<span class="text-muted fw-light"> MB</span>':""):(t/1073741824).toFixed(2)+(e?'<span class="text-muted fw-light"> GB</span>':"")},extensionByFilename(t){return t.split(".").reverse()[0]},getAcceptMimeTypes(t){let e=[];for(const n in Ge)if(Ge.hasOwnProperty(n)){const i=Ge[n];t.forEach(r=>{i[r]&&e.push(i[r])})}return e.join(",")},setDefaults(t){!t||typeof t!="object"||this.params&&this.params.tags&&!t.tags&&(t.tags=[])},detect(t){this.setDefaults(t),t.bytes=0,t.types={default:{}},t.title=t.name.split(".").slice(0,-1).join("."),t.uid=Math.round(Math.random()*9999999).toString(32)+Date.now().toString(32),t.slug=Vs(t.title),t.timestamp=Math.round(Date.now()/1e3),t.original={bytes:t.size,mime:t.type,name:t.name,modified:t.lastModified,extension:this.extensionByFilename(t.name)},Object.values(Ge.video).indexOf(t.original.mime)>=0?t.isVideo=!0:Object.values(Ge.image).indexOf(t.original.mime)>=0?t.isImage=!0:Object.values(Ge.document).indexOf(t.original.mime)>=0?t.isDocument=!0:t.isUnknown=!0,(t.isVideo||t.isImage&&!this.params.presets.default)&&(this.params.presets.default={width:1920,height:1920,extension:"webp",quality:.9})},async createThumbnail(t,e){const n=document.createElement("video"),i=new FileReader;i.onload=r=>{n.src=r.target.result,n.addEventListener("loadeddata",()=>{n.currentTime=n.duration*Math.random(),t.video=n}),n.addEventListener("seeked",()=>{this.forEachPresets(t,n),t.loaded=!0,this.bytes+=t.bytes})},i.readAsDataURL(t)},seekRandom(t){t.video&&(t.video.currentTime=t.video.duration*Math.random())},async handleFileChange(t){this.uploadEvent=t,this.count=this.files?this.files.length:0,this.wait=!0;for(let e of t.target.files)if(this.count++,this.count<=this.params.limit){if(this.files.push(e),this.detect(e),e.isVideo)await this.createThumbnail(e);else if(e.isImage)await this.resizeImage(e);else if(e.isDocument){const n=new FileReader;n.addEventListener("load",i=>{e.types.default={extension:e.original.extension,mime:e.original.mime,slug:Vs(e.title)+"-"+e.uid,bytes:e.size,data:i.target.result},e.loaded=!0,e.bytes+=e.size,this.bytes+=e.bytes}),n.readAsDataURL(e)}}this.$emit("update:modelValue",this.files),this.wait=!1,this.uploadEvent.target.value=""},async forEachPresets(t,e,n){const i=document.createElement("canvas"),r=i.getContext("2d");let o=!!e.videoWidth,a,c;o?(a=e.videoWidth,c=e.videoHeight):(a=e.width,c=e.height),t.original.width=a,t.original.height=c;for(let l in this.params.presets){let h=this.params.presets[l];h.key=l,h.width=h.width?h.width:1920,h.height=h.height?h.height:1080;let f=h.width,u=h.height;if(h.crop==="fit"){let p=Math.max(f/a,u/c),g=a*p,E=c*p,w=(g-f)/2,k=(E-u)/2;i.width=f,i.height=u,r.drawImage(e,-w,-k,g,E)}else if(h.crop==="contain"){let p=Math.min(f/a,u/c),g=a*p,E=c*p,w=(f-g)/2,k=(u-E)/2;i.width=f,i.height=u,r.clearRect(0,0,f,u),r.drawImage(e,w,k,g,E)}else a>f&&(c=Math.round(c*(f/a)),a=f),c>u&&(a=Math.round(a*(u/c)),c=u),i.width=a,i.height=c,r.drawImage(e,0,0,a,c);t.types[h.key]={width:i.width,height:i.height,extension:h.extension?h.extension:this.getExtensionByMimeType(t.type),quality:h.quality?h.quality:.9,crop:h.crop?h.crop:null},t.types[h.key].slug=Vs(t.title)+"-"+i.width+"x"+i.height+"-"+t.uid,t.types[h.key].mime=this.getMimeTypeByExtension(t.types[h.key].extension),t.types[h.key].data=i.toDataURL(t.types[h.key].mime,t.types[h.key].quality),t.types[h.key].blob=await this.getBlob(i,t.types[h.key].mime,t.types[h.key].quality),t.types[h.key].blob&&(t.types[h.key].bytes=t.types[h.key].blob.size),t.types[h.key].bytes&&(t.bytes+=t.types[h.key].bytes),n&&n(h,t)}},getBlob(t,e,n){return new Promise((i,r)=>{t.toBlob(function(o){o?i(o):r(new Error("Failed to convert canvas to Blob"))},e,n)})},async resizeImage(t){const e=await this.fileToBlob(t),n=await createImageBitmap(e);await this.forEachPresets(t,n),t.loaded=!0,this.bytes+=t.bytes},fileToBlob(t){return new Promise(e=>{const n=new FileReader;n.onload=i=>{e(new Blob([i.target.result],{type:t.mime}))},n.readAsArrayBuffer(t)})},slug(t){if(!t.uploaded){t.slug=Vs(t.title);for(let e in t.types){let n=this.params.presets[e];t.types[e].slug=Vs(t.title)+"-"+n.width+"x"+n.height}this.$forceUpdate()}},arrayItemMoveUp(t,e){yo(t,e)},arrayItemMoveDown(t,e){Eo(t,e)},download(t,e){let n=this.files[t].types[e.download],i=document.createElement("a");i.href=n.url,i.download=n.slug+"."+n.extension,i.click()},remove(t){confirm("Are you sure you want to remove?")&&(this.bytes-=this.files[t].bytes,this.files.splice(t,1),this.count=this.files.length)},resetConfirm(){confirm("Are you sure you want to remove all?")&&this.reset()},reset(){this.files=[],this.editfile={},this.count=0,this.bytes=0,this.wait=!1,this.$emit("update:modelValue",this.files)},toggleView(){this.params.ui=this.params.ui=="list"?"grid":"list"},dateFormat(t){return new Date(t).toLocaleDateString("hu-HU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},getMimeTypeByExtension(t){for(const e in Ge)if(Ge.hasOwnProperty(e)){const n=Ge[e];if(n[t])return n[t]}return null},getExtensionByMimeType(t){for(const e in Ge)if(Ge.hasOwnProperty(e)){const n=Ge[e];for(const i in n)if(n[i]===t)return i}return null},translate(t,e,n){return Is(t,this.settings.translate,e,n||this.settings.language)},dropdownSelectToggleOne(t,e){zc(t,e),this.$forceUpdate()},dropdownSelectAll(t,e){Wc(t,e),this.$forceUpdate()},dropdownSelectInvert(t,e){Kc(t,e),this.$forceUpdate()},dropdownSelectClear(t){typeof t!="object"?t.value=null:Gc(t),this.$forceUpdate()}}},Aw={class:""},Cw={key:0,class:"vsa-image-editor p-2 text-center text-light"},Sw={class:"row"},Ow={class:"badge bg-dark text-light fw-light mx-1 text-uppercase"},Lw={class:"badge bg-dark text-light fw-light mx-1"},Bw={class:"badge bg-dark text-light fw-light mx-1"},Vw=["src"],Iw={class:"row g-1"},xw={class:"col-md-6"},Dw={class:"col-md-6"},vw={class:"col-md-6"},$w=["href"],Mw={key:1,class:"row g-2 mb-1"},Rw={key:0},qw={class:"table table-sm table-responsive table-borderless"},Pw={class:"align-middle px-0"},jw={class:"input-group border"},Fw={class:"d-block p-1 px-2 bg-secondary text-light opacity-50"},Uw=["onClick"],Hw=["onClick"],zw={key:0,class:"fs-5 ms-2"},Ww={key:1,class:"fs-5 ms-2"},Kw={key:2,class:"fs-5 ms-2"},Gw=["onUpdate:modelValue","onInput"],Yw={key:3,class:"mx-1"},Xw=["href"],Zw=["src","alt"],Qw=["src","alt"],Jw={key:4,class:"dropdown rounded-bottom"},ek={class:"btn btn-sm bg-light text-dark w-100",type:"button","data-bs-auto-close":"outside","data-bs-toggle":"dropdown","aria-expanded":"false"},tk={class:"dropdown-menu"},nk=["onClick"],sk={key:0,class:"bi bi-check-square"},ik={key:1,class:"bi bi-square"},rk=["onClick"],ok=["onClick"],ak=["onClick"],lk={class:"dropdown"},ck={class:"dropdown-menu"},dk={key:0},hk=["onClick"],uk={key:1},fk={class:"dropdown-item py-0 d-flex justify-content-between"},mk={key:2},pk={class:"dropdown-item py-0 d-flex justify-content-between"},gk=["innerHTML"],bk={class:"fw-normal bg-light text-dark rounded border px-2 ms-2 shadow-sm"},yk={class:"dropdown-item py-0 d-flex justify-content-between"},Ek={key:0},_k={key:1},wk={class:"dropdown-item py-0 d-flex justify-content-between"},kk={class:"text-muted fw-light me-4"},Nk={class:"text-primary"},Tk={key:0,class:"fw-normal bg-light text-dark rounded border px-2 ms-2 shadow-sm"},Ak={class:"dropdown-item py-0 d-flex justify-content-between"},Ck={class:"text-muted fw-light me-1"},Sk={key:0,class:"text-primary"},Ok=["innerHTML"],Lk={class:"fw-normal bg-light text-dark rounded border px-2 ms-2 shadow-sm"},Bk={key:3},Vk={class:"dropdown-item py-0 d-flex justify-content-between"},Ik={class:"dropdown-item py-0 d-flex justify-content-between"},xk={class:"text-muted fw-light me-3"},Dk=["innerHTML"],vk={class:"dropdown-item py-0 d-flex justify-content-between"},$k={class:"text-muted fw-light me-3"},Mk=["onClick"],Rk={class:"vsa-image-container h-100 position-relative border p-1 bg-light"},qk={key:0,class:"w-100 h-100 d-flex align-items-center flex-column"},Pk={key:1,class:"vsa-image-frame mb-auto text-center"},jk=["href"],Fk=["src","alt"],Uk=["src","alt"],Hk={key:2,class:"display-3 w-100 h-100 text-center mb-auto d-flex align-items-center justify-content-center"},zk=["onUpdate:modelValue","onInput"],Wk={class:"w-100 d-flex justify-content-around align-items-center"},Kk={class:"p-1 px-2 bg-secondary text-light border border-end-0 h-100 opacity-50"},Gk=["onClick"],Yk=["onClick"],Xk={class:"dropdown border h-100 w-100"},Zk={class:"dropdown-menu"},Qk={key:0},Jk=["onClick"],eN={key:1},tN={class:"dropdown-item py-0 d-flex justify-content-between"},nN={key:2},sN={class:"dropdown-item py-0 d-flex justify-content-between"},iN=["innerHTML"],rN={class:"fw-normal bg-light text-dark rounded border px-2 ms-2 shadow-sm"},oN={class:"dropdown-item py-0 d-flex justify-content-between"},aN={key:0},lN={key:1},cN={class:"dropdown-item py-0 d-flex justify-content-between"},dN={class:"text-muted fw-light me-4"},hN={class:"text-primary"},uN={key:0,class:"fw-normal bg-light text-dark rounded border px-2 ms-2 shadow-sm"},fN={class:"dropdown-item py-0 d-flex justify-content-between"},mN={class:"text-muted fw-light me-1"},pN={key:0,class:"text-primary"},gN=["innerHTML"],bN={class:"fw-normal bg-light text-dark rounded border px-2 ms-2 shadow-sm"},yN={key:3},EN={class:"dropdown-item py-0 d-flex justify-content-between"},_N={class:"dropdown-item py-0 d-flex justify-content-between"},wN={class:"text-muted fw-light me-3"},kN=["innerHTML"],NN={class:"dropdown-item py-0 d-flex justify-content-between"},TN={class:"text-muted fw-light me-3"},AN={key:0,class:"dropdown border h-100 w-100"},CN={class:"btn btn-sm bg-light text-dark w-100",type:"button","data-bs-auto-close":"outside","data-bs-toggle":"dropdown","aria-expanded":"false"},SN={class:"dropdown-menu"},ON=["onClick"],LN={key:0,class:"bi bi-check-square"},BN={key:1,class:"bi bi-square"},VN=["onClick"],IN=["onClick"],xN=["onClick"],DN=["onClick"],vN={key:1,class:"w-100 h-100 vsa-image-loading d-flex align-items-center justify-content-center"},$N={class:"row g-1"},MN={class:"col-12 d-flex align-items-center justify-content-center"},RN=["for"],qN={key:0},PN={key:0},jN={class:""},FN={class:""},UN={key:1,class:"fs-6"},HN={key:0,class:"bi bi-list-ol"},zN={key:1,class:"bi bi-grid"},WN=["disabled"],KN={class:"col-12 text-center"},GN={key:0},YN=["id","accept"];function XN(t,e,n,i,r,o){return s.openBlock(),s.createElementBlock("div",Aw,[s.createElementVNode("div",{class:s.normalizeClass(["vsa-upload",{wait:t.wait}])},[t.editfile&&t.editfile.presets?(s.openBlock(),s.createElementBlock("div",Cw,[s.createElementVNode("div",Sw,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(t.editfile.types,(a,c)=>(s.openBlock(),s.createElementBlock("div",{class:"col-md-3",key:c},[s.createElementVNode("span",Ow,s.toDisplayString(a.extension),1),s.createElementVNode("span",Lw,s.toDisplayString(a.width)+" x "+s.toDisplayString(a.height),1),s.createElementVNode("span",Bw,"~"+s.toDisplayString(t.roundFileSize(a.bytes)),1),a?(s.openBlock(),s.createElementBlock("img",{key:0,class:"img-thumbnail rounded",src:a.url?a.url:a.data},null,8,Vw)):s.createCommentVNode("",!0)]))),128))]),s.withDirectives(s.createElementVNode("input",{type:"text",class:"form-control form-control-sm w-100 mt-1","onUpdate:modelValue":e[0]||(e[0]=a=>t.editfile.title=a)},null,512),[[s.vModelText,t.editfile.title]]),s.createElementVNode("div",Iw,[s.createElementVNode("div",xw,[s.createElementVNode("button",{type:"button",class:"btn btn-sm btn-outline-danger mt-1 w-100",onClick:e[1]||(e[1]=a=>t.editfile=null)}," Close ")]),s.createElementVNode("div",Dw,[s.createElementVNode("button",{type:"button",class:"btn btn-sm btn-outline-danger mt-1 w-100",onClick:e[2]||(e[2]=a=>t.remove(t.index))}," Remove ")]),s.createElementVNode("div",vw,[t.type&&!t.type.url?(s.openBlock(),s.createElementBlock("button",{key:0,type:"button",class:"btn btn-sm btn-outline-light mt-1 w-100",onClick:e[3]||(e[3]=a=>t.download(t.index,t.params))}," Download ")):s.createCommentVNode("",!0),t.type&&t.type.url?(s.openBlock(),s.createElementBlock("a",{key:1,type:"button",class:"btn btn-sm btn-outline-light mt-1 w-100",href:t.type.url}," Download ",8,$w)):s.createCommentVNode("",!0)])])])):s.createCommentVNode("",!0),t.files&&t.files.length?(s.openBlock(),s.createElementBlock("div",Mw,[t.params.ui==="list"?(s.openBlock(),s.createElementBlock("div",Rw,[s.createElementVNode("table",qw,[s.createElementVNode("tbody",null,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(t.files,(a,c)=>(s.openBlock(),s.createElementBlock("tr",{key:c},[s.createElementVNode("td",Pw,[s.createElementVNode("div",jw,[s.createElementVNode("span",Fw,[s.createElementVNode("small",null,s.toDisplayString(c+1),1)]),s.createElementVNode("span",{class:"cursor-pointer p-1 border-end bg-white h-100",onClick:l=>t.arrayItemMoveDown(t.files,c)},[s.createElementVNode("i",{class:s.normalizeClass(["bi bi-arrow-up",{"opacity-25":c<1}])},null,2)],8,Uw),s.createElementVNode("span",{class:"cursor-pointer p-1 border-start border-end bg-white h-100",onClick:l=>t.arrayItemMoveUp(t.files,c+1)},[s.createElementVNode("i",{class:s.normalizeClass(["bi bi-arrow-down",{"opacity-25":c>=t.files.length-1}])},null,2)],8,Hw),a.isDocument?(s.openBlock(),s.createElementBlock("span",zw,[s.createElementVNode("i",{class:s.normalizeClass(["bi bi-filetype-"+a.types.default.extension])},null,2)])):a.isImage?(s.openBlock(),s.createElementBlock("span",Ww,e[9]||(e[9]=[s.createElementVNode("i",{class:"bi bi-file-image"},null,-1)]))):a.isVideo?(s.openBlock(),s.createElementBlock("span",Kw,e[10]||(e[10]=[s.createElementVNode("i",{class:"bi bi-file-play"},null,-1)]))):s.createCommentVNode("",!0),s.withDirectives(s.createElementVNode("input",{required:"text",class:"form-control py-1 px-2 border-0 fw-light","onUpdate:modelValue":l=>a.title=l,onInput:l=>t.slug(a),onKeydown:e[4]||(e[4]=s.withKeys(s.withModifiers(()=>{},["prevent"]),["enter"]))},null,40,Gw),[[s.vModelText,a.title]]),!a.isDocument&&a.types&&a.types[t.params.thumbnail]?(s.openBlock(),s.createElementBlock("span",Yw,[a.types.default.url?(s.openBlock(),s.createElementBlock("a",{key:0,target:"_blank",href:a.types.default.url},[s.createElementVNode("img",{height:"32",width:"auto",class:"transparent-background",src:a.types[t.params.thumbnail].url,alt:a.name},null,8,Zw)],8,Xw)):(s.openBlock(),s.createElementBlock("img",{key:1,height:"32",width:"auto",class:"transparent-background",src:a.types[t.params.thumbnail].data,alt:a.name},null,8,Qw))])):s.createCommentVNode("",!0),t.params.tags?(s.openBlock(),s.createElementBlock("div",Jw,[s.createElementVNode("button",ek,[e[11]||(e[11]=s.createElementVNode("i",{class:"bi bi-tag"},null,-1)),s.createTextVNode(" "+s.toDisplayString(a.tags?a.tags.length:0),1)]),s.createElementVNode("ul",tk,[s.createElementVNode("li",null,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(t.params.tags,l=>(s.openBlock(),s.createElementBlock("span",{key:l,class:"dropdown-item cursor-pointer",onClick:h=>t.dropdownSelectToggleOne(a.tags,l.value)},[a.tags&&a.tags.indexOf(l.value)>=0?(s.openBlock(),s.createElementBlock("i",sk)):(s.openBlock(),s.createElementBlock("i",ik)),s.createTextVNode(" "+s.toDisplayString(t.translate(l.label?l.label:l.value)),1)],8,nk))),128))]),e[12]||(e[12]=s.createElementVNode("li",null,[s.createElementVNode("hr",{class:"dropdown-divider"})],-1)),s.createElementVNode("li",null,[s.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:l=>t.dropdownSelectAll(a.tags,t.params.tags)},s.toDisplayString(t.translate("Select all")),9,rk)]),s.createElementVNode("li",null,[s.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:l=>t.dropdownSelectClear(a.tags)},s.toDisplayString(t.translate("Unselect all")),9,ok)]),s.createElementVNode("li",null,[s.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:l=>t.dropdownSelectInvert(a.tags,t.params.tags)},s.toDisplayString(t.translate("Invert all")),9,ak)])])])):s.createCommentVNode("",!0),s.createElementVNode("div",lk,[e[25]||(e[25]=s.createElementVNode("button",{class:"btn btn-sm bg-light text-dark _dropdown-toggle h-100",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[s.createElementVNode("i",{class:"bi bi-list"})],-1)),s.createElementVNode("ul",ck,[a.uploadedXXX?(s.openBlock(),s.createElementBlock("li",dk,[s.createElementVNode("button",{class:"dropdown-item text-primary py-1",onClick:l=>t.download(c,t.params),type:"button"},e[13]||(e[13]=[s.createElementVNode("i",{class:"bi bi-download"},null,-1),s.createTextVNode(" Download ")]),8,hk)])):s.createCommentVNode("",!0),a.original.width?(s.openBlock(),s.createElementBlock("li",uk,[s.createElementVNode("small",fk,[e[14]||(e[14]=s.createElementVNode("span",{class:"text-muted fw-light me-3"},"original resolution",-1)),s.createTextVNode(" "+s.toDisplayString(a.original.width)+" x "+s.toDisplayString(a.original.height),1)])])):s.createCommentVNode("",!0),a.isDocument?s.createCommentVNode("",!0):(s.openBlock(),s.createElementBlock("li",mk,[s.createElementVNode("small",pk,[e[15]||(e[15]=s.createElementVNode("span",{class:"text-muted fw-light me-3"},"original size & extension",-1)),s.createElementVNode("span",null,[s.createElementVNode("span",{innerHTML:t.roundFileSize(a.original.bytes,!0)},null,8,gk),s.createElementVNode("small",bk,s.toDisplayString(a.original.extension),1)])])])),s.createElementVNode("li",null,[s.createElementVNode("small",yk,[e[16]||(e[16]=s.createElementVNode("span",{class:"text-muted fw-light me-3"},"original filename",-1)),s.createTextVNode(" "+s.toDisplayString(a.original.name),1)])]),(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(a.types,(l,h)=>(s.openBlock(),s.createElementBlock(s.Fragment,{key:l},[a.isDocument?s.createCommentVNode("",!0):(s.openBlock(),s.createElementBlock("li",Ek,e[17]||(e[17]=[s.createElementVNode("hr",{class:"dropdown-divider"},null,-1)]))),a.original.width?(s.openBlock(),s.createElementBlock("li",_k,[s.createElementVNode("small",wk,[s.createElementVNode("span",kk,[s.createElementVNode("span",Nk,s.toDisplayString(h),1),e[18]||(e[18]=s.createTextVNode(" resolution & crop"))]),s.createElementVNode("span",null,[s.createTextVNode(s.toDisplayString(l.width)+" x "+s.toDisplayString(l.height)+" ",1),l.crop?(s.openBlock(),s.createElementBlock("small",Tk,s.toDisplayString(l.crop),1)):s.createCommentVNode("",!0)])])])):s.createCommentVNode("",!0),s.createElementVNode("li",null,[s.createElementVNode("small",Ak,[s.createElementVNode("span",Ck,[a.isDocument?s.createCommentVNode("",!0):(s.openBlock(),s.createElementBlock("span",Sk,s.toDisplayString(h),1)),e[19]||(e[19]=s.createTextVNode(" size & extension"))]),s.createElementVNode("span",null,[s.createElementVNode("span",{class:s.normalizeClass({"text-danger":l.bytes>a.original.bytes}),innerHTML:t.roundFileSize(l.bytes,!0)},null,10,Ok),s.createElementVNode("small",Lk,s.toDisplayString(l.extension),1)])])])],64))),128)),e[24]||(e[24]=s.createElementVNode("li",null,[s.createElementVNode("hr",{class:"dropdown-divider"})],-1)),a.uploaded?(s.openBlock(),s.createElementBlock("li",Bk,[s.createElementVNode("small",Vk,[e[20]||(e[20]=s.createElementVNode("span",{class:"text-muted fw-light me-3"},"uploaded at",-1)),e[21]||(e[21]=s.createTextVNode()),s.createElementVNode("span",null,s.toDisplayString(t.dateFormat(a.timestamp*1e3)),1)])])):s.createCommentVNode("",!0),s.createElementVNode("li",null,[s.createElementVNode("small",Ik,[s.createElementVNode("span",xk,s.toDisplayString(a.uploaded?"uploaded":"uploading")+" bytes",1),e[22]||(e[22]=s.createTextVNode()),s.createElementVNode("span",{innerHTML:t.roundFileSize(a.bytes,!0)},null,8,Dk)])]),s.createElementVNode("li",null,[s.createElementVNode("small",vk,[s.createElementVNode("span",$k,s.toDisplayString(a.uploaded?"uploaded":"uploading")+" filename",1),e[23]||(e[23]=s.createTextVNode()),s.createElementVNode("span",null,s.toDisplayString(a.slug),1)])])])]),s.createElementVNode("button",{class:"btn text-danger px-2 py-1",onClick:l=>t.remove(c),type:"button"},e[26]||(e[26]=[s.createElementVNode("i",{class:"bi bi-x-circle"},null,-1)]),8,Mk)])])]))),128))])])])):(s.openBlock(!0),s.createElementBlock(s.Fragment,{key:1},s.renderList(t.files,(a,c)=>(s.openBlock(),s.createElementBlock("div",{class:s.normalizeClass([t.params.colclass?t.params.colclass:"col-12 col-sm-12 col-md-6 col-lg-4 col-xl-3"]),key:c},[s.createElementVNode("div",Rk,[a.loaded?(s.openBlock(),s.createElementBlock("div",qk,[s.createCommentVNode("",!0),a.types&&a.types[t.params.thumbnail]?(s.openBlock(),s.createElementBlock("div",Pk,[a.types.default.url?(s.openBlock(),s.createElementBlock("a",{key:0,target:"_blank",href:a.types.default.url},[s.createElementVNode("img",{class:"img-fluid transparent-background",src:a.types[t.params.thumbnail].url,alt:a.name},null,8,Fk)],8,jk)):(s.openBlock(),s.createElementBlock("img",{key:1,class:"img-fluid transparent-background",src:a.types[t.params.thumbnail].data,alt:a.name},null,8,Uk))])):s.createCommentVNode("",!0),a.isDocument?(s.openBlock(),s.createElementBlock("div",Hk,[s.createElementVNode("i",{class:s.normalizeClass(["bi bi-filetype-"+a.types.default.extension])},null,2)])):s.createCommentVNode("",!0),s.withDirectives(s.createElementVNode("input",{required:"text",class:"form-control rounded-0 bg-white text-dark border-bottom-0 py-1 px-2 fw-light mt-1","onUpdate:modelValue":l=>a.title=l,onInput:l=>t.slug(a),onKeydown:e[5]||(e[5]=s.withKeys(s.withModifiers(()=>{},["prevent"]),["enter"]))},null,40,zk),[[s.vModelText,a.title]]),s.createElementVNode("div",Wk,[s.createElementVNode("span",Kk,[s.createElementVNode("small",null,s.toDisplayString(c+1),1)]),s.createElementVNode("span",{class:"cursor-pointer p-1 bg-white border border-end-0 h-100",onClick:l=>t.arrayItemMoveDown(t.files,c)},[s.createElementVNode("i",{class:s.normalizeClass(["bi bi-arrow-up",{"opacity-25":c<1}])},null,2)],8,Gk),s.createElementVNode("span",{class:"cursor-pointer p-1 bg-white border border-end-0 h-100",onClick:l=>t.arrayItemMoveUp(t.files,c+1)},[s.createElementVNode("i",{class:s.normalizeClass(["bi bi-arrow-down",{"opacity-25":c>=t.files.length-1}])},null,2)],8,Yk),s.createElementVNode("div",Xk,[e[42]||(e[42]=s.createElementVNode("button",{class:"btn btn-sm bg-light text-dark _dropdown-toggle w-100",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[s.createElementVNode("i",{class:"bi bi-list"})],-1)),s.createElementVNode("ul",Zk,[a.uploadedXXX?(s.openBlock(),s.createElementBlock("li",Qk,[s.createElementVNode("button",{class:"dropdown-item text-primary py-1",onClick:l=>t.download(c,t.params),type:"button"},e[30]||(e[30]=[s.createElementVNode("i",{class:"bi bi-download"},null,-1),s.createTextVNode(" Download ")]),8,Jk)])):s.createCommentVNode("",!0),a.original.width?(s.openBlock(),s.createElementBlock("li",eN,[s.createElementVNode("small",tN,[e[31]||(e[31]=s.createElementVNode("span",{class:"text-muted fw-light me-3"},"original resolution",-1)),s.createTextVNode(" "+s.toDisplayString(a.original.width)+" x "+s.toDisplayString(a.original.height),1)])])):s.createCommentVNode("",!0),a.isDocument?s.createCommentVNode("",!0):(s.openBlock(),s.createElementBlock("li",nN,[s.createElementVNode("small",sN,[e[32]||(e[32]=s.createElementVNode("span",{class:"text-muted fw-light me-3"},"original size & extension",-1)),s.createElementVNode("span",null,[s.createElementVNode("span",{innerHTML:t.roundFileSize(a.original.bytes,!0)},null,8,iN),s.createElementVNode("small",rN,s.toDisplayString(a.original.extension),1)])])])),s.createElementVNode("li",null,[s.createElementVNode("small",oN,[e[33]||(e[33]=s.createElementVNode("span",{class:"text-muted fw-light me-3"},"original filename",-1)),s.createTextVNode(" "+s.toDisplayString(a.original.name),1)])]),(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(a.types,(l,h)=>(s.openBlock(),s.createElementBlock(s.Fragment,{key:l},[a.isDocument?s.createCommentVNode("",!0):(s.openBlock(),s.createElementBlock("li",aN,e[34]||(e[34]=[s.createElementVNode("hr",{class:"dropdown-divider"},null,-1)]))),a.original.width?(s.openBlock(),s.createElementBlock("li",lN,[s.createElementVNode("small",cN,[s.createElementVNode("span",dN,[s.createElementVNode("span",hN,s.toDisplayString(h),1),e[35]||(e[35]=s.createTextVNode(" resolution & crop"))]),s.createElementVNode("span",null,[s.createTextVNode(s.toDisplayString(l.width)+" x "+s.toDisplayString(l.height)+" ",1),l.crop?(s.openBlock(),s.createElementBlock("small",uN,s.toDisplayString(l.crop),1)):s.createCommentVNode("",!0)])])])):s.createCommentVNode("",!0),s.createElementVNode("li",null,[s.createElementVNode("small",fN,[s.createElementVNode("span",mN,[a.isDocument?s.createCommentVNode("",!0):(s.openBlock(),s.createElementBlock("span",pN,s.toDisplayString(h),1)),e[36]||(e[36]=s.createTextVNode(" size & extension"))]),s.createElementVNode("span",null,[s.createElementVNode("span",{class:s.normalizeClass({"text-danger":l.bytes>a.original.bytes}),innerHTML:t.roundFileSize(l.bytes,!0)},null,10,gN),s.createElementVNode("small",bN,s.toDisplayString(l.extension),1)])])])],64))),128)),e[41]||(e[41]=s.createElementVNode("li",null,[s.createElementVNode("hr",{class:"dropdown-divider"})],-1)),a.uploaded?(s.openBlock(),s.createElementBlock("li",yN,[s.createElementVNode("small",EN,[e[37]||(e[37]=s.createElementVNode("span",{class:"text-muted fw-light me-3"},"uploaded at",-1)),e[38]||(e[38]=s.createTextVNode()),s.createElementVNode("span",null,s.toDisplayString(t.dateFormat(a.timestamp*1e3)),1)])])):s.createCommentVNode("",!0),s.createElementVNode("li",null,[s.createElementVNode("small",_N,[s.createElementVNode("span",wN,s.toDisplayString(a.uploaded?"uploaded":"uploading")+" bytes sum",1),e[39]||(e[39]=s.createTextVNode()),s.createElementVNode("span",{innerHTML:t.roundFileSize(a.bytes,!0)},null,8,kN)])]),s.createElementVNode("li",null,[s.createElementVNode("small",NN,[s.createElementVNode("span",TN,s.toDisplayString(a.uploaded?"uploaded":"uploading")+" filename",1),e[40]||(e[40]=s.createTextVNode()),s.createElementVNode("span",null,s.toDisplayString(a.slug),1)])])])]),t.params.tags?(s.openBlock(),s.createElementBlock("div",AN,[s.createElementVNode("button",CN,[e[43]||(e[43]=s.createElementVNode("i",{class:"bi bi-tag"},null,-1)),s.createTextVNode(" "+s.toDisplayString(a.tags?a.tags.length:0),1)]),s.createElementVNode("ul",SN,[s.createElementVNode("li",null,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(t.params.tags,l=>(s.openBlock(),s.createElementBlock("span",{key:l,class:"dropdown-item cursor-pointer",onClick:h=>t.dropdownSelectToggleOne(a.tags,l.value)},[a.tags&&a.tags.indexOf(l.value)>=0?(s.openBlock(),s.createElementBlock("i",LN)):(s.openBlock(),s.createElementBlock("i",BN)),s.createTextVNode(" "+s.toDisplayString(t.translate(l.label?l.label:l.value)),1)],8,ON))),128))]),e[44]||(e[44]=s.createElementVNode("li",null,[s.createElementVNode("hr",{class:"dropdown-divider"})],-1)),s.createElementVNode("li",null,[s.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:l=>t.dropdownSelectAll(a.tags,t.params.tags)},s.toDisplayString(t.translate("Select all")),9,VN)]),s.createElementVNode("li",null,[s.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:l=>t.dropdownSelectClear(a.tags)},s.toDisplayString(t.translate("Unselect all")),9,IN)]),s.createElementVNode("li",null,[s.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:l=>t.dropdownSelectInvert(a.tags,t.params.tags)},s.toDisplayString(t.translate("Invert all")),9,xN)])])])):s.createCommentVNode("",!0),s.createElementVNode("button",{class:"btn border rounded-0 border-start-0 text-danger px-2 py-1",onClick:l=>t.remove(c),type:"button"},e[45]||(e[45]=[s.createElementVNode("i",{class:"bi bi-x-circle"},null,-1)]),8,DN)])])):(s.openBlock(),s.createElementBlock("div",vN,e[46]||(e[46]=[s.createElementVNode("span",null,null,-1)])))])],2))),128))])):s.createCommentVNode("",!0),s.createElementVNode("div",$N,[s.createElementVNode("div",MN,[s.createElementVNode("label",{for:t.uploadId,class:s.normalizeClass([{"disabled bg-secondary":t.files&&t.params.limit<=t.files.length},"btn btn-light border border-dark cursor-pointer w-100"])},[t.files&&t.params.limit>t.files.length?(s.openBlock(),s.createElementBlock("span",qN,[e[50]||(e[50]=s.createElementVNode("i",{class:"bi bi-upload me-2"},null,-1)),s.createTextVNode(" "+s.toDisplayString(t.params.text)+" ",1),t.params.limit?(s.openBlock(),s.createElementBlock("small",PN,[e[47]||(e[47]=s.createTextVNode(" ( ")),s.createElementVNode("strong",jN,s.toDisplayString(t.files.length),1),e[48]||(e[48]=s.createTextVNode(" / ")),s.createElementVNode("span",FN,s.toDisplayString(t.params.limit),1),e[49]||(e[49]=s.createTextVNode(" ) "))])):s.createCommentVNode("",!0)])):(s.openBlock(),s.createElementBlock("span",UN,e[51]||(e[51]=[s.createElementVNode("i",{class:"bi bi-exclamation-circle"},null,-1),s.createTextVNode(" You've reached the upload limit ")])))],10,RN),s.createElementVNode("button",{type:"button",class:"btn btn-outline-primary ms-1",onClick:e[6]||(e[6]=a=>t.toggleView())},[t.params.ui!="list"?(s.openBlock(),s.createElementBlock("i",HN)):s.createCommentVNode("",!0),t.params.ui=="list"?(s.openBlock(),s.createElementBlock("i",zN)):s.createCommentVNode("",!0)]),s.createElementVNode("button",{disabled:!t.files.length,type:"button",class:"btn btn-outline-danger ms-1",onClick:e[7]||(e[7]=a=>t.resetConfirm())},e[52]||(e[52]=[s.createElementVNode("i",{class:"bi bi-trash"},null,-1)]),8,WN)]),s.createElementVNode("div",KN,[s.createElementVNode("small",null,[t.params.accept?(s.openBlock(),s.createElementBlock("div",GN,[e[53]||(e[53]=s.createElementVNode("span",{class:"text-secondary"},"accept only",-1)),(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(t.params.accept,a=>(s.openBlock(),s.createElementBlock("strong",{class:"ms-1 text-muted",key:a},s.toDisplayString(a),1))),128))])):s.createCommentVNode("",!0),s.createCommentVNode("",!0)])])]),t.uploadId?(s.openBlock(),s.createElementBlock("input",{key:2,multiple:"",style:{opacity:"0",height:"1px",width:"1px"},id:t.uploadId,type:"file",accept:t.getAcceptMimeTypes(t.params.accept),onChange:e[8]||(e[8]=(...a)=>t.handleFileChange&&t.handleFileChange(...a))},null,40,YN)):s.createCommentVNode("",!0)],2)])}const ZN=ot(Tw,[["render",XN]]),QN={props:{modelValue:String|Object|Number,optionValue:String,field:Object,item:Object,settings:Object,formId:String,auth:Object},data:function(){return{newitem:null,options:[]}},created(){},mounted(){this.loadOptions(),this.setNewItem(this.modelValue)},watch:{modelValue(t){this.setNewItem(t)}},methods:{setNewItem(t){this.optionValue==="object"?this.newitem=t&&t.value:this.newitem=t},async loadOptions(){this.options=await this.selectOptions(this.field.options,this.field)},getValueOrFunction(t,e){return pn(t,e,this.settings,this)},async selectOptions(t,e){return typeof t=="function"?await t(this.item,e,this):t},async fetchCustom(t,e){const n=await fetch(Lt("GET",{url:t},e),Ot("GET",this.settings.form.api,null,this.auth)),i=await Yn(n);if(!Xn(n,i.data))return i.data},handleChange(t){if(this.optionValue==="object"){const e=this.options.find(n=>n.value===this.newitem);e&&this.$emit("update:modelValue",e)}else this.$emit("update:modelValue",this.newitem)}},components:{}},JN=["name","id","disabled","readonly","required"],eT=["value"];function tT(t,e,n,i,r,o){return s.withDirectives((s.openBlock(),s.createElementBlock("select",{class:s.normalizeClass(["form-select",t.getValueOrFunction(t.field.inputclass?t.field.inputclass:"",{field:t.field,item:t.item})]),name:t.field.name,id:t.formId+"_"+t.field.name,onChange:e[0]||(e[0]=a=>t.handleChange(a)),"onUpdate:modelValue":e[1]||(e[1]=a=>t.newitem=a),disabled:t.field.disabled,readonly:t.field.readonly,required:t.field.required},[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(t.options,a=>(s.openBlock(),s.createElementBlock("option",{class:s.normalizeClass(t.getValueOrFunction(t.field.optionclass?t.field.optionclass:"",{field:t.field,item:t.item,option:a})),key:a,value:a.value},s.toDisplayString(a.label?a.label:a.value),11,eT))),128))],42,JN)),[[s.vModelSelect,t.newitem]])}const au=ot(QN,[["render",tT]]),nT={props:{modelValue:Array,field:Object,item:Object,settings:Object,formId:String},data:function(){return{value:[]}},created(){},mounted(){},watch:{modelValue(t){this.value=t,(!this.value||typeof this.value!="object")&&(this.value=[])}},methods:{getValueOrFunction(t,e){return pn(t,e,this.settings,this)},selectOptions(t,e){return typeof t=="function"?t(this.item,e,this):t},arrayAddNewItem(t,e){let n={};for(let i in t.elements){let r=Object.assign({},t.elements[i]),o=r.value?r.value:null;if(o!=null)n[i]=o;else return}this.value.push(n),this.$emit("update:modelValue",this.value);for(let i in t.elements)t.elements[i].value=null},arrayRemoveItem(t,e){t.splice(e,1)},arrayItemMoveUp(t,e){yo(t,e)},arrayItemMoveDown(t,e){Eo(t,e)}},components:{VuAdminFormSelect:au}},sT={class:"row g-1 d-flex align-items-center justify-content-between mb-1"},iT={class:"col-10"},rT={class:"row g-1 d-flex align-items-center justify-content-between"},oT={class:"col-10"},aT={class:"row g-1 d-flex align-items-center justify-content-between"},lT=["innerHTML"],cT={key:1,class:"input-group input-group-sm"},dT=["type","required","placeholder","onUpdate:modelValue"],hT={class:"col-2 text-nowrap text-end"},uT=["onClick"],fT=["onClick"],mT=["onClick"],pT={key:0},gT={class:"row g-1 d-flex align-items-center justify-content-between"},bT={class:"col-10"},yT={class:"row g-1 d-flex align-items-center justify-content-between"},ET={class:"input-group input-group-sm"},_T={key:0,class:"input-group-text"},wT=["type","placeholder","onUpdate:modelValue"],kT={key:3,class:"input-group-text"},NT={class:"col-2"};function TT(t,e,n,i,r,o){const a=s.resolveComponent("VuAdminFormSelect");return s.openBlock(),s.createElementBlock("div",null,[s.createElementVNode("div",sT,[s.createElementVNode("div",iT,[s.createElementVNode("div",rT,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(t.field.elements,c=>(s.openBlock(),s.createElementBlock("div",{key:c,class:s.normalizeClass(c.class||"col")},[s.createElementVNode("small",null,s.toDisplayString(c.placeholder?c.placeholder:c.prefix?c.prefix:""),1)],2))),128))])]),e[1]||(e[1]=s.createElementVNode("div",{class:"col-2 text-nowrap text-end"},null,-1))]),(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(t.value,(c,l)=>(s.openBlock(),s.createElementBlock("div",{class:"row g-1 d-flex align-items-center justify-content-between mb-1",key:l},[s.createElementVNode("div",oT,[s.createElementVNode("div",aT,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(c,(h,f)=>(s.openBlock(),s.createElementBlock("div",{key:f,class:s.normalizeClass(t.field.elements[f].class||"col")},[t.field.elements[f].template?(s.openBlock(),s.createElementBlock("span",{key:0,innerHTML:t.getValueOrFunction(t.field.elements[f].template,t.value[l])},null,8,lT)):(s.openBlock(),s.createElementBlock("div",cT,[t.field.elements[f].type=="select"&&t.value[l][f]?(s.openBlock(),s.createBlock(a,{key:0,modelValue:t.value[l][f],"onUpdate:modelValue":u=>t.value[l][f]=u,field:t.field.elements[f],item:t.item,settings:t.settings,formId:t.formId,optionValue:"object"},null,8,["modelValue","onUpdate:modelValue","field","item","settings","formId"])):s.withDirectives((s.openBlock(),s.createElementBlock("input",{key:1,type:t.field.elements[f].type,required:t.field.elements[f].required,placeholder:t.field.elements[f].placeholder||f,class:"form-control","onUpdate:modelValue":u=>t.value[l][f]=u},null,8,dT)),[[s.vModelDynamic,t.value[l][f]]])]))],2))),128))])]),s.createElementVNode("div",hT,[t.field.sortable?(s.openBlock(),s.createElementBlock("button",{key:0,type:"button",class:"btn btn-sm btn-outline-secondary p-1 me-1",onClick:h=>t.arrayItemMoveUp(t.value,l)},e[2]||(e[2]=[s.createElementVNode("i",{class:"bi bi-arrow-up"},null,-1)]),8,uT)):s.createCommentVNode("",!0),t.field.sortable?(s.openBlock(),s.createElementBlock("button",{key:1,type:"button",class:"btn btn-sm btn-outline-secondary p-1 me-1",onClick:h=>t.arrayItemMoveDown(t.value,l+1)},e[3]||(e[3]=[s.createElementVNode("i",{class:"bi bi-arrow-down"},null,-1)]),8,fT)):s.createCommentVNode("",!0),s.createElementVNode("button",{type:"button",class:"btn btn-sm btn-outline-danger p-1 me-1",onClick:h=>t.arrayRemoveItem(t.value,l)},e[4]||(e[4]=[s.createElementVNode("i",{class:"bi bi-trash"},null,-1)]),8,mT)])]))),128)),t.item[t.field.name]&&t.item[t.field.name].length?(s.openBlock(),s.createElementBlock("hr",pT)):s.createCommentVNode("",!0),s.createElementVNode("div",gT,[s.createElementVNode("div",bT,[s.createElementVNode("div",yT,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(t.field.elements,c=>(s.openBlock(),s.createElementBlock("div",{key:c,class:s.normalizeClass(c.class||"col")},[s.createElementVNode("div",ET,[c.prefix?(s.openBlock(),s.createElementBlock("span",_T,s.toDisplayString(c.prefix),1)):s.createCommentVNode("",!0),c.type=="select"&&(!c.relation||c.relation&&c.relation.items)?(s.openBlock(),s.createBlock(a,{key:1,modelValue:c.value,"onUpdate:modelValue":l=>c.value=l,field:c,item:t.item,settings:t.settings,formId:t.formId,optionValue:"object"},null,8,["modelValue","onUpdate:modelValue","field","item","settings","formId"])):s.withDirectives((s.openBlock(),s.createElementBlock("input",{key:2,type:c.type,placeholder:c.placeholder||c.name,class:"form-control form-control-sm","onUpdate:modelValue":l=>c.value=l},null,8,wT)),[[s.vModelDynamic,c.value]]),c.suffix?(s.openBlock(),s.createElementBlock("span",kT,s.toDisplayString(c.suffix),1)):s.createCommentVNode("",!0)]),s.createCommentVNode("",!0)],2))),128))])]),s.createElementVNode("div",NT,[s.createElementVNode("button",{type:"button",class:"btn btn-sm btn-outline-primary my-1 w-100",onClick:e[0]||(e[0]=c=>t.arrayAddNewItem(t.field,t.item))},e[5]||(e[5]=[s.createElementVNode("i",{class:"bi bi-plus"},null,-1)]))])])])}const AT={props:{modelValue:Object,group:Object,formId:String,settings:Object,auth:Object},data:function(){return{item:{}}},created(){},mounted(){this.item=this.modelValue},watch:{modelValue(t){this.item=this.modelValue}},methods:{getValueOrFunction(t,e){return pn(t,e,this.settings,this)},translate(t,e,n){return Is(t,this.settings.translate,e,n||this.settings.language)},selectOptions(t,e){return typeof t=="function"?t(this.item,e,this):t},renderOptions(t,e,n){let i=[];if(!t||!t.length)return[];for(let r of t)i.push({value:r[e],label:r[n]?r[n]:r[e]});return i},arrayAddNewItem(t,e){(!e[t.name]||typeof e[t.name]!="object")&&(e[t.name]=[]);let n={};for(let i in t.elements){let r=t.elements[i];n[i]=r.value,r.value=void 0}e[t.name].push(n)},arrayRemoveItem(t,e){t.splice(e,1)},arrayItemMoveUp(t,e){yo(t,e)},arrayItemMoveDown(t,e){Eo(t,e)},insertAddress(t){this.item[t]||(this.item[t]=[]),this.item[t].push({country:void 0,zipcode:void 0,city:void 0,street_name:void 0,street_type:void 0,house_number:void 0})}},components:{HtmlEditor:Nw,FileUpload:ZN,VuAdminFormSelect:au,VuAdminFormList:ot(nT,[["render",TT]])}},CT={class:"row m-1"},ST=["innerHTML"],OT={key:1,class:"row"},LT={class:"form-group pb-3"},BT={key:0},VT={key:0,class:"badge text-secondary fw-light"},IT=["for","innerHTML"],xT={key:1,class:"input-group"},DT=["innerHTML"],vT=["name","id","onUpdate:modelValue","minlength","maxlength","placeholder","disabled","readonly","required"],$T=["name","id","onUpdate:modelValue","min","max","step","placeholder","disabled","readonly","required"],MT=["type","name","id","onUpdate:modelValue","min","max","disabled","readonly","required"],RT={key:4,class:"form-check"},qT=["name","id","true-value","false-value","onUpdate:modelValue","disabled","readonly","required"],PT=["for"],jT=["name","id","onUpdate:modelValue","minlength","maxlength","placeholder","readonly","disabled","required"],FT=["name","id","onUpdate:modelValue","rows","minlength","maxlength","placeholder","disabled","readonly","required"],UT=["innerHTML"],HT={key:5},zT={key:0},WT=["for"],KT=["name","id","onUpdate:modelValue"],GT=["onClick"],YT=["innerHTML"],XT={key:7,class:"p-1"},ZT=["innerHTML"];function QT(t,e,n,i,r,o){const a=s.resolveComponent("VuAdminFormSelect"),c=s.resolveComponent("HtmlEditor"),l=s.resolveComponent("FileUpload"),h=s.resolveComponent("VuAdminFormList");return s.openBlock(),s.createElementBlock("div",CT,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(t.settings.form.groups,f=>(s.openBlock(),s.createElementBlock("div",{key:f,class:s.normalizeClass([f.class?f.class:"col-md-12"])},[f.title?(s.openBlock(),s.createElementBlock("h2",{key:0,class:"form-row-title mb-4 fw-lighter",innerHTML:f.title?f.title:""},null,8,ST)):s.createCommentVNode("",!0),t.item&&f.fields?(s.openBlock(),s.createElementBlock("div",OT,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(f.fields,u=>(s.openBlock(),s.createElementBlock("div",{class:s.normalizeClass([t.getValueOrFunction(u.class?u.class:"col-md-12"),"input_type_"+u.type]),key:u},[s.createElementVNode("div",LT,[u.label?(s.openBlock(),s.createElementBlock("span",BT,[["html","image","upload"].indexOf(u.type)>=0?(s.openBlock(),s.createElementBlock("label",{key:0,class:s.normalizeClass([{required:u.required},"form-label text-secondary mb-1"])},[s.createTextVNode(s.toDisplayString(u.label?u.label:t.translate(u.name))+" ",1),u.maxlength?(s.openBlock(),s.createElementBlock("span",VT,s.toDisplayString(t.item[u.name]?t.item[u.name].length:0)+" / "+s.toDisplayString(u.maxlength),1)):s.createCommentVNode("",!0)],2)):(s.openBlock(),s.createElementBlock("label",{key:1,class:s.normalizeClass([{required:u.required},"form-label text-secondary mb-1"]),for:t.formId+"_"+u.name,innerHTML:t.getValueOrFunction(u.label?u.label:t.translate(u.name),{field:u,item:t.item})},null,10,IT))])):s.createCommentVNode("",!0),["html","image","list","addresses","template"].indexOf(u.type)<0?(s.openBlock(),s.createElementBlock("div",xT,[u.prefix?(s.openBlock(),s.createElementBlock("span",{key:0,class:"input-group-text",innerHTML:t.getValueOrFunction(u.prefix,{field:u,item:t.item})},null,8,DT)):s.createCommentVNode("",!0),u.type=="text"?s.withDirectives((s.openBlock(),s.createElementBlock("input",{key:1,class:s.normalizeClass(["form-control",t.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:t.item})]),type:"text",name:u.name,id:t.formId+"_"+u.name,"onUpdate:modelValue":p=>t.item[u.name]=p,minlength:u.minlength,maxlength:u.maxlength,placeholder:u.placeholder?u.placeholder:"",disabled:u.disabled,readonly:u.readonly,required:u.required},null,10,vT)),[[s.vModelText,t.item[u.name]]]):s.createCommentVNode("",!0),u.type=="number"?s.withDirectives((s.openBlock(),s.createElementBlock("input",{key:2,class:s.normalizeClass(["form-control",t.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:t.item})]),type:"number",name:u.name,id:t.formId+"_"+u.name,"onUpdate:modelValue":p=>t.item[u.name]=p,min:u.min,max:u.max,step:u.step,placeholder:u.placeholder?u.placeholder:"",disabled:u.disabled,readonly:u.readonly,required:u.required},null,10,$T)),[[s.vModelText,t.item[u.name]]]):s.createCommentVNode("",!0),["date","datetime","datetime-local"].indexOf(u.type)>=0?s.withDirectives((s.openBlock(),s.createElementBlock("input",{key:3,class:s.normalizeClass(["form-control",t.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:t.item})]),type:u.type,name:u.name,id:t.formId+"_"+u.name,"onUpdate:modelValue":p=>t.item[u.name]=p,min:u.min,max:u.max,disabled:u.disabled,readonly:u.readonly,required:u.required},null,10,MT)),[[s.vModelDynamic,t.item[u.name]]]):s.createCommentVNode("",!0),u.type=="checkbox"?(s.openBlock(),s.createElementBlock("div",RT,[s.withDirectives(s.createElementVNode("input",{class:s.normalizeClass(["form-check-input",t.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:t.item})]),type:"checkbox",name:u.name,id:t.formId+"_"+u.name,"true-value":u.true!=null?u.true:!0,"false-value":u.false!=null?u.false:!1,"onUpdate:modelValue":p=>t.item[u.name]=p,disabled:u.disabled,readonly:u.readonly,required:u.required},null,10,qT),[[s.vModelCheckbox,t.item[u.name]]]),s.createElementVNode("label",{class:"form-check-label cursor-pointer",for:t.formId+"_"+u.name},s.toDisplayString(u.checkbox),9,PT)])):s.createCommentVNode("",!0),u.type=="email"?s.withDirectives((s.openBlock(),s.createElementBlock("input",{key:5,autocomplete:"on",class:s.normalizeClass(["form-control",t.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:t.item})]),type:"email",name:u.name,id:t.formId+"_"+u.name,"onUpdate:modelValue":p=>t.item[u.name]=p,minlength:u.minlength,maxlength:u.maxlength,placeholder:u.placeholder?u.placeholder:"",readonly:u.readonly,disabled:u.disabled,required:u.required},null,10,jT)),[[s.vModelText,t.item[u.name]]]):s.createCommentVNode("",!0),u.type=="select"&&(!u.relation||u.relation&&u.relation.items)?(s.openBlock(),s.createBlock(a,{key:6,modelValue:t.item[u.name],"onUpdate:modelValue":p=>t.item[u.name]=p,field:u,item:t.item,settings:t.settings,formId:t.formId,auth:t.auth},null,8,["modelValue","onUpdate:modelValue","field","item","settings","formId","auth"])):s.createCommentVNode("",!0),u.type=="textarea"?s.withDirectives((s.openBlock(),s.createElementBlock("textarea",{key:7,class:s.normalizeClass(["form-control",t.getValueOrFunction(u.inputclass?u.inputclass:"",{field:u,item:t.item})]),name:u.name,id:t.formId+"_"+u.name,"onUpdate:modelValue":p=>t.item[u.name]=p,rows:u.rows,minlength:u.minlength,maxlength:u.maxlength,placeholder:u.placeholder?u.placeholder:"",disabled:u.disabled,readonly:u.readonly,required:u.required},"              ",10,FT)),[[s.vModelText,t.item[u.name]]]):s.createCommentVNode("",!0),u.suffix?(s.openBlock(),s.createElementBlock("span",{key:8,class:"input-group-text",innerHTML:t.getValueOrFunction(u.suffix,{field:u,item:t.item})},null,8,UT)):s.createCommentVNode("",!0)])):s.createCommentVNode("",!0),u.type=="html"?(s.openBlock(),s.createBlock(c,{key:2,modelValue:t.item[u.name],"onUpdate:modelValue":p=>t.item[u.name]=p,class:s.normalizeClass([u.class])},null,8,["modelValue","onUpdate:modelValue","class"])):s.createCommentVNode("",!0),u.type=="image"||u.type=="upload"?(s.openBlock(),s.createBlock(l,{key:3,modelValue:t.item[u.name],"onUpdate:modelValue":p=>t.item[u.name]=p,class:s.normalizeClass([u.class]),field:u,settings:t.settings},null,8,["modelValue","onUpdate:modelValue","class","field","settings"])):s.createCommentVNode("",!0),u.type=="list"&&(!u.relation||u.relation&&u.relation.items)?(s.openBlock(),s.createBlock(h,{key:4,modelValue:t.item[u.name],"onUpdate:modelValue":p=>t.item[u.name]=p,field:u,item:t.item,settings:t.settings,formId:t.formId},null,8,["modelValue","onUpdate:modelValue","field","item","settings","formId"])):s.createCommentVNode("",!0),u.type=="addresses"?(s.openBlock(),s.createElementBlock("span",HT,[t.item[u.name]?(s.openBlock(),s.createElementBlock("div",zT,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(t.item[u.name],p=>(s.openBlock(),s.createElementBlock("div",{key:p},[s.createTextVNode(s.toDisplayString(p)+" ",1),s.createElementVNode("label",{class:"form-label text-secondary mb-1",for:t.formId+"_"+u.name},s.toDisplayString(u.label),9,WT),s.withDirectives(s.createElementVNode("input",{class:"form-control",type:"text",name:u.name,id:t.formId+"_"+u.name,"onUpdate:modelValue":g=>p.country=g},null,8,KT),[[s.vModelText,p.country]])]))),128))])):s.createCommentVNode("",!0),s.createElementVNode("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:p=>t.insertAddress(u.name)}," Add ",8,GT)])):s.createCommentVNode("",!0),u.type=="template"?(s.openBlock(),s.createElementBlock("div",{key:6,innerHTML:t.getValueOrFunction(u.template,{field:u,item:t.item})},null,8,YT)):s.createCommentVNode("",!0),u.description?(s.openBlock(),s.createElementBlock("div",XT,[s.createElementVNode("small",null,[s.createElementVNode("i",{class:"text-muted",innerHTML:t.getValueOrFunction(u.description,{field:u,item:t.item})},null,8,ZT)])])):s.createCommentVNode("",!0)])],2))),128))])):s.createCommentVNode("",!0)],2))),128))])}const JT={props:{modelValue:Object,modalWindow:Object,saveItem:Function,reloadTable:Function,fetchRelation:Function,group:Object,formId:String,settings:Object,auth:Object},data:function(){return{item:{},loaded:!1,ui:{wait:{table:!1,form:!1},block:{table:!1,form:!1}},messages:{table:[],form:[]},message:{table:null,form:null},messageTimeOut:null}},created(){},mounted(){this.item=this.modelValue;let t=this.item[this.settings.pkey];this.fetchItem(t,this.settings,this.auth)},watch:{modelValue(t){this.item=this.modelValue}},methods:{translate(t,e,n){return Is(t,this.settings.translate,e,n||this.settings.language)},getValueOrFunction(t,e){return pn(t,e,this.settings,this)},formWait(t){this.ui.wait.form=!0,this.ui.block.form=t},formNoWait(){this.ui.wait.form=!1,this.ui.block.form=!1},addFormMessage(t,e,n,i){this.addMessage("form",t,e,n,i)},addMessage(t,e,n,i,r){clearTimeout(this.messageTimeout);const o=Date.now()+Math.random().toString(36).substring(2,9);this.message[t]={uid:o,msg:e,timeout:n!==void 0?n:2500,datetime:new Date().toLocaleString("hu-HU"),priority:i||"secondary",details:r},this.messages[t].unshift(this.message[t]),clearTimeout(this.messageTimeOut),this.messageTimeOut=setTimeout(()=>{this.message[t]=null,this.messages[t].length>10&&this.messages[t].splice(10)},this.message[t].timeout)},createItem(){this.item=this.settings.form.default?this.settings.form.default:{},setTimeout(()=>{this.itemOriginal=Object.assign({},this.item)},100)},copyItem(){this.item[this.settings.pkey]=void 0,setTimeout(()=>{this.itemOriginal=Object.assign({},this.item)},100)},reloadItem(){let t=this.item[this.settings.pkey];this.fetchItem(t,null,this.auth)},async fetchItem(t,e,n){try{if(e=e||this.settings,!e.form||!e.form.api)return!1;this.formWait(!0);const i=await fetch(Lt("GET",e.form.api,t),Ot("GET",e.api,null,n)).catch(c=>{}),r=await Yn(i);if(Xn(i,r.data,"form")||!r.data)return this.formNoWait(),!1;e.form.default&&(r.data=Object.assign({},e.form.default,r.data)),e.events&&e.events.afterItemLoad&&e.events.afterItemLoad(r.data,i);let a;e.form.api.input.item?a=typeof e.form.api.input.item=="string"?r.data[e.form.api.input.item]:e.form.api.input.item(r.data,i):a=r.data;for(let c of e.form.groups)for(let l of c.fields)l.relation&&e.relations[l.relation.config]&&(l.relation=ji(e.relations[l.relation.config],l.relation),console.log(l.relation,n),await this.fetchRelation(l,[a],n));this.item=Fi(a),this.itemOriginal=Object.assign({},a),this.loaded=!0,this.formNoWait()}catch(i){console.error(i),this.formNoWait()}},async submit(){let t=this.$refs.form;t.checkValidity()?this.submitItem():t.reportValidity()},async submitAndClose(){let t=this.$refs.form;t.checkValidity()?this.submitItem(!0):t.reportValidity()},async submitItem(t){this.saveItem(this.item,e=>{let n={};this.settings.form.api.input.item?n=typeof this.settings.form.api.input.item=="string"?e[this.settings.form.api.input.item]:this.settings.form.api.input.item(e,response):n=e,n&&(this.addFormMessage(this.translate("Saved")+` <small>( ${this.settings.pkey}:  ${n[this.settings.pkey]} )</small>`,2500),this.item=Fi(n),this.itemOriginal=Object.assign({},n)),t===!0&&this.modalWindow.hide(),this.reloadTable()},e=>{console.log(e),this.addFormMessage(e.message,14500,"danger")})},async deleteItem(t,e){try{t||(t=this.item);let n=t[this.settings.pkey];if(!n||!confirm("Are you sure you want to delete this item?"))return;this.formWait(!0),this.settings.events&&this.settings.events.beforeItemDelete&&this.settings.events.beforeItemDelete(t);const r=await fetch(Lt("DELETE",this.settings.form.api,n,e),Ot("DELETE",this.settings.api,null,this.auth));if(r.status!==200)throw new Error(this.translate("Response status: "+r.status));this.item&&(this.item={},this.modalWindow.hide());const o=await r.json();this.settings.events&&this.settings.events.afterItemDelete&&this.settings.events.afterItemDelete(o,r),this.reloadTable(),this.formNoWait()}catch(n){console.error(n.message),this.formNoWait()}},formAction(t,e){e.$event&&e.$event.stopPropagation();let n=t.action?t.action:t.click?t.click:null;if(n&&typeof n!="string"){n(e.item,e,this);return}switch(n){case"FORM_RELOAD":if(!this.item[this.settings.pkey])return;this.reloadItem();break;case"FORM_NEW":this.createItem();break;case"FORM_COPY":this.copyItem();break;case"FORM_DELETE":if(!this.item[this.settings.pkey])return;this.deleteItem();break;case"FORM_CLOSE":this.modalWindow.hide();break;case"FORM_SAVE":this.submit();break;case"FORM_SAVE_AND_CLOSE":this.submitAndClose();break}}},components:{VuAdminFormGroup:ot(AT,[["render",QT]])}},eA=["id","data-bs-theme"],tA={class:"modal-header"},nA={key:0,class:"modal-title"},sA=["innerHTML"],iA={key:1},rA={key:2},oA={key:3,class:"rounded border ms-2 px-2 py-0 fs-6"},aA={key:1,class:"d-inline-block ms-3 mt-1"},lA=["innerHTML"],cA={class:"spinner-border spinner-border-sm mx-2",role:"status"},dA={key:0,class:"modal-header bg-body sticky-top"},hA={key:0,class:"d-inline-block m-1"},uA={class:"dropdown d-inline-block"},fA=["innerHTML"],mA={class:"dropdown-menu text-start"},pA={class:"me-2 text-muted"},gA=["innerHTML"],bA=["disabled","onClick"],yA={key:1,class:"dropdown d-inline-block"},EA={class:"mx-1"},_A={class:"dropdown-menu px-2"},wA=["onClick"],kA={key:1,class:"modal-body custom-scroll"},NA={key:2,class:"modal-footer d-flex justify-content-between"},TA={key:3,class:"bg-light text-dark"};function AA(t,e,n,i,r,o){const a=s.resolveComponent("VuAdminFormGroup");return t.item?(s.openBlock(),s.createElementBlock("form",{key:0,ref:"form",id:t.formId,class:s.normalizeClass(["form",[t.settings.form.class,{wait:t.ui.wait.form}]]),onSubmit:e[1]||(e[1]=s.withModifiers((...c)=>t.submitItem&&t.submitItem(...c),["prevent"])),"data-bs-theme":[t.settings.theme]},[s.createElementVNode("div",{class:s.normalizeClass(["vua-overlay",{blocked:t.ui.block.form}])},null,2),s.createElementVNode("div",tA,[t.loaded?(s.openBlock(),s.createElementBlock("h5",nA,[t.settings.form.title&&typeof t.settings.form.title=="function"?(s.openBlock(),s.createElementBlock("span",{key:0,innerHTML:t.settings.form.title(t.item,t.settings)},null,8,sA)):s.createCommentVNode("",!0),t.settings.form.title&&typeof t.settings.form.title=="string"?(s.openBlock(),s.createElementBlock("span",iA,s.toDisplayString(t.translate(t.settings.form.title)),1)):s.createCommentVNode("",!0),t.settings.form.title?s.createCommentVNode("",!0):(s.openBlock(),s.createElementBlock("span",rA,s.toDisplayString(t.translate("Edit")),1)),t.item[t.settings.pkey]?(s.openBlock(),s.createElementBlock("small",oA,[e[2]||(e[2]=s.createElementVNode("span",{class:"text-muted fw-light"},"id",-1)),s.createTextVNode(" "+s.toDisplayString(t.item[t.settings.pkey]),1)])):s.createCommentVNode("",!0)])):s.createCommentVNode("",!0),t.message.form?(s.openBlock(),s.createElementBlock("span",aA,[s.createElementVNode("span",{class:s.normalizeClass(["text-"+t.message.form.priority])},[e[3]||(e[3]=s.createElementVNode("i",{class:"bi bi-envelope-fill me-2"},null,-1)),s.createElementVNode("span",{innerHTML:t.message.form.msg},null,8,lA)],2)])):s.createCommentVNode("",!0),s.withDirectives(s.createElementVNode("span",cA,e[4]||(e[4]=[s.createElementVNode("span",{class:"visually-hidden"},"Loading...",-1)]),512),[[s.vShow,t.ui.wait.form]]),e[5]||(e[5]=s.createElementVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),t.item?(s.openBlock(),s.createElementBlock("div",dA,[t.settings.form.control?(s.openBlock(),s.createElementBlock("div",{key:0,class:s.normalizeClass(["w-100",t.settings.form.control.class==null?"d-flex justify-content-center":t.settings.form.control.class])},[t.messages.form.length?(s.openBlock(),s.createElementBlock("span",hA,[s.createElementVNode("div",uA,[s.createElementVNode("button",{class:s.normalizeClass(["btn btn-sm dropdown-toggle",["btn-"+t.messages.form[0].priority]]),type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",innerHTML:t.messages.form.length+" "+(t.messages.form.length>1?t.translate("messages"):t.translate("message"))},null,10,fA),s.createElementVNode("ul",mA,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(t.messages.form,c=>(s.openBlock(),s.createElementBlock("li",{key:c},[s.createElementVNode("span",{class:s.normalizeClass(["dropdown-item disabled",["text-"+c.priority]])},[s.createElementVNode("small",pA,s.toDisplayString(c.datetime),1),s.createElementVNode("span",{innerHTML:c.msg},null,8,gA)],2)]))),128))])])])):s.createCommentVNode("",!0),(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(t.settings.form.control.buttons,c=>(s.openBlock(),s.createElementBlock("span",{key:c.action},[c.dropdowns?s.createCommentVNode("",!0):(s.openBlock(),s.createElementBlock("button",{key:0,type:"button",disabled:c.disabled!==void 0?t.getValueOrFunction(c.disabled,{button:c,item:t.item,form:this}):!1,class:s.normalizeClass([c.class?c.class:t.getButtonClassByAction(c.action)]),onClick:l=>t.formAction(c,{button:c,item:t.item,form:this,$event:l})},[s.createElementVNode("i",{class:s.normalizeClass([c.icon!==void 0?t.getValueOrFunction(c.icon,{button:c,item:t.item,form:this}):t.getButtonIconClassByAction(c.action)])},null,2),s.createTextVNode(" "+s.toDisplayString(t.translate(c.title)),1)],10,bA)),c.dropdowns?(s.openBlock(),s.createElementBlock("div",yA,[s.createElementVNode("button",{type:"button",class:s.normalizeClass([[c.class],"dropdown-toggle"]),"data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false"},[s.createElementVNode("span",EA,[s.createElementVNode("i",{class:s.normalizeClass([c.icon!==void 0?t.getValueOrFunction(c.icon,{button:c,table:this}):t.getButtonIconClassByAction(c.action)])},null,2),s.createTextVNode(" "+s.toDisplayString(t.translate(c.title)),1)])],2),s.createElementVNode("ul",_A,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(c.dropdowns,l=>(s.openBlock(),s.createElementBlock("li",{key:l},[s.createElementVNode("span",{class:s.normalizeClass([l.class?l.class:""]),onClick:h=>t.formAction(l,{button:c,item:t.item,form:this,$event:h})},[l.icon?(s.openBlock(),s.createElementBlock("i",{key:0,class:s.normalizeClass([l.icon])},null,2)):s.createCommentVNode("",!0),s.createTextVNode(" "+s.toDisplayString(t.translate(l.title)),1)],10,wA)]))),128))])])):s.createCommentVNode("",!0)]))),128))],2)):s.createCommentVNode("",!0)])):s.createCommentVNode("",!0),t.settings.form?(s.openBlock(),s.createElementBlock("div",kA,[t.settings.form.visible&&t.settings.form.groups?(s.openBlock(),s.createBlock(a,{key:0,modelValue:t.item,"onUpdate:modelValue":e[0]||(e[0]=c=>t.item=c),formid:t.formId,settings:t.settings},null,8,["modelValue","formid","settings"])):s.createCommentVNode("",!0)])):s.createCommentVNode("",!0),t.item?(s.openBlock(),s.createElementBlock("div",NA)):s.createCommentVNode("",!0),t.settings.debug>1?(s.openBlock(),s.createElementBlock("pre",TA,"        "+s.toDisplayString(t.item)+`
    `,1)):s.createCommentVNode("",!0)],42,eA)):s.createCommentVNode("",!0)}const CA=ot(JT,[["render",AA]]),SA={name:"VuAdminTablePagination",emits:["setPage","setPageLimit","translate"],props:{config:Object,settings:Object,ui:Object},methods:{setPage(t){this.$emit("setPage",t)},setPageLimit(t){this.$emit("setPageLimit",t)},translate(t,e,n){return Is(t,this.settings.translate,e,n||this.settings.language)},firstDisabled(){return this.config.pagination.page<=1},prevDisabled(){return this.config.pagination.page<=1},nextDisabled(){return this.config.pagination.pages?this.config.pagination.page+1>this.config.pagination.pages:this.config.pagination.items<this.config.pagination.limit},lastDisabled(){return this.config.pagination.page==this.config.pagination.pages}},components:{}},OA={key:0,"aria-label":"Page navigation",class:"mt-2 d-flex align-items-center justify-content-between"},LA={class:"dropdown d-inline-block m-1"},BA={class:"mx-1"},VA={key:0},IA={key:0,class:"dropdown-menu text-end"},xA=["onClick"],DA={class:"ms-2"},vA={key:0,class:"bi bi-check-circle-fill ms-2"},$A={key:1,class:"bi bi-circle ms-2"},MA={class:"spinner-border spinner-border-sm mx-2",role:"status"},RA={class:"pagination pagination-sm m-1"},qA={class:"page-item"},PA=["innerHTML"],jA={class:"page-item"},FA=["innerHTML"],UA=["onClick"],HA={class:"page-item"},zA=["innerHTML"],WA={key:0,class:"page-item"},KA=["innerHTML"];function GA(t,e,n,i,r,o){return n.config.pagination.hidden?s.createCommentVNode("",!0):(s.openBlock(),s.createElementBlock("nav",OA,[s.createElementVNode("div",null,[s.createElementVNode("div",LA,[s.createElementVNode("button",{type:"button",class:s.normalizeClass(["btn btn-sm btn-secondary",{"dropdown-toggle":n.config.pagination.limits}]),"data-bs-toggle":"dropdown","aria-expanded":"false"},[s.withDirectives(s.createElementVNode("span",BA,[s.createElementVNode("strong",null,s.toDisplayString(n.config.pagination.from)+"-"+s.toDisplayString(n.config.pagination.to),1),n.config.pagination.total?(s.openBlock(),s.createElementBlock("span",VA," / "+s.toDisplayString(n.config.pagination.total),1)):s.createCommentVNode("",!0)],512),[[s.vShow,n.config.pagination.from>0]])],2),n.config.pagination.limits?(s.openBlock(),s.createElementBlock("ul",IA,[s.createElementVNode("li",null,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(n.config.pagination.limits,a=>(s.openBlock(),s.createElementBlock("span",{class:s.normalizeClass(["dropdown-item cursor-pointer",{selected:n.config.pagination.limit==a}]),key:a,onClick:c=>o.setPageLimit(a)},[s.createElementVNode("strong",null,s.toDisplayString(a),1),s.createElementVNode("small",DA,s.toDisplayString(o.translate("row"))+"/"+s.toDisplayString(o.translate("page")),1),n.config.pagination.limit==a?(s.openBlock(),s.createElementBlock("i",vA)):s.createCommentVNode("",!0),n.config.pagination.limit!=a?(s.openBlock(),s.createElementBlock("i",$A)):s.createCommentVNode("",!0)],10,xA))),128))])])):s.createCommentVNode("",!0)]),s.withDirectives(s.createElementVNode("div",MA,e[4]||(e[4]=[s.createElementVNode("span",{class:"visually-hidden"},"Loading...",-1)]),512),[[s.vShow,n.ui&&n.ui.wait.table]])]),s.createElementVNode("ul",RA,[s.createElementVNode("li",qA,[s.createElementVNode("a",{class:s.normalizeClass(["page-link cursor-pointer",{disabled:o.firstDisabled()}]),onClick:e[0]||(e[0]=a=>o.setPage(1)),"aria-label":"{{  translate('First')  }}"},[s.createElementVNode("span",{"aria-hidden":"true",innerHTML:o.translate("First")},null,8,PA)],2)]),s.createElementVNode("li",jA,[s.createElementVNode("a",{class:s.normalizeClass(["page-link cursor-pointer",{disabled:o.prevDisabled()}]),onClick:e[1]||(e[1]=a=>o.setPage(n.config.pagination.page-1)),"aria-label":"{{ translate('Prev')  }}"},[s.createElementVNode("span",{"aria-hidden":"true",innerHTML:o.translate("Prev")},null,8,FA)],2)]),(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(n.config.pagination.numbers,a=>(s.openBlock(),s.createElementBlock("li",{key:a,class:"page-item"},[s.createElementVNode("a",{class:s.normalizeClass(["page-link cursor-pointer",{disabled:a>n.config.pagination.pages,current:a==n.config.pagination.page}]),onClick:c=>o.setPage(a)},s.toDisplayString(a),11,UA)]))),128)),s.createElementVNode("li",HA,[s.createElementVNode("a",{class:s.normalizeClass(["page-link cursor-pointer",{disabled:o.nextDisabled()}]),onClick:e[2]||(e[2]=a=>o.setPage(n.config.pagination.page+1)),"aria-label":"{{  translate('Next')  }}"},[s.createElementVNode("span",{"aria-hidden":"true",innerHTML:o.translate("Next")},null,8,zA)],2)]),n.config.pagination.total?(s.openBlock(),s.createElementBlock("li",WA,[s.createElementVNode("a",{class:s.normalizeClass(["page-link cursor-pointer",{disabled:o.lastDisabled()}]),onClick:e[3]||(e[3]=a=>o.setPage(n.config.pagination.total)),"aria-label":"{{  translate('Last')  }}"},[s.createElementVNode("span",{"aria-hidden":"true",innerHTML:o.translate("Last")},null,8,KA)],2)])):s.createCommentVNode("",!0)])]))}const YA=ot(SA,[["render",GA]]),lu=bo(),XA={name:"VuAdminTable",props:{settings:Object,auth:Object},components:{VuAdminForm:CA,VuAdminTablePagination:YA},data(){return{item:{},items:{},selected:[],details:[],bulkitem:{},bulkinputs:[],config:{pagination:{total:void 0,page:1,skip:0,limit:10,limits:[10,20,50,100],size:5,items:null,pages:null,numbers:[]},order:{},filter:{},orderIndex:1},ui:{wait:{table:!1,form:!1},block:{table:!1,form:!1}},formId:null,formData:null,modalId:null,modalElement:null,modalWindow:null,messages:{table:[],form:[]},message:{table:null,form:null},messageTimeOut:null}},watch:{auth:{immediate:!0,handler(t,e){t!=e&&this.init()}}},created(){let t=Math.round(Math.random()*1e5);this.formId="form_"+this.settings.entity+"_"+t,this.modalId="modal_"+this.settings.entity+"_"+t},mounted(){this.modalElement=document.getElementById(this.modalId),this.modalWindow=new un(this.modalElement),this.modalElement.addEventListener("hidden.bs.modal",t=>{this.settings.form.visible=!1}),this.modalElement.addEventListener("show.bs.modal",t=>{this.settings.form.visible=!0})},methods:{init(){if(!this.settings.table)return!1;this.settings.table.pagination&&(this.config.pagination=Object.assign({},this.config.pagination,this.settings.table.pagination)),this.setPage(this.config.pagination.page,!1),this.settings.table.order&&(this.config.order=Object.assign({},this.config.order,this.settings.table.order)),this.settings.table.header||(this.settings.table.header={}),this.settings.api||(this.settings.api={}),this.settings.api=Object.assign({url:null,input:{},output:{},options:{}},this.settings.api),this.settings.table.api||(this.settings.table.api={}),this.settings.form||(this.settings.form={}),this.settings.form.api||(this.settings.form.api={}),this.settings.table.api=Object.assign({},this.settings.api,this.settings.table.api),this.settings.form.api=Object.assign({},this.settings.api,this.settings.form.api),this.settings.initialized=!0,this.listenEvent(),this.resetTable()},authAndSettings(){return this.settings.initialized&&this.auth&&this.auth.success&&this.settings&&this.settings.table},sendEvent(t,e,n){lu.emit(t+"-"+e,{from:this.settings.entity,payload:n})},listenEvent(){lu.on(`EDIT-${this.settings.entity}`,t=>{this.editItem(t.payload.item)})},tableWait(t){this.ui.wait.table=!0,this.ui.block.table=t},tableNoWait(){this.ui.wait.table=!1,this.ui.block.table=!1},countFilters(){return this.settings.table.columns.filter(t=>t.filter&&!t.hidden).length},resetTable(){this.settings.table.pagination&&(this.config.pagination.limit=this.settings.table.pagination.limit),this.resetFilter(),this.resetOrder(!0)},resetFilter(t){if(this.settings.table.columns){for(let e of this.settings.table.columns)e.filter&&(e.filter.value=e.filter.default_value!==void 0?e.filter.default_value:e.filter.multiple?[]:void 0,e.filter.operator=e.filter.default_operator!==void 0?e.filter.default_operator:void 0);t&&(this.reloadTable(),this.calcPage())}},resetOrder(t){this.settings.table.order?this.config.order=Object.assign({},this.settings.table.order):this.config.order={},t&&(this.reloadTable(),this.calcPage())},reloadTable(t){this.fetchTable(t)},calcPage(){if(!(this.config.pagination.items===null||this.config.pagination.items===void 0)){if(this.config.pagination.total!==null&&this.config.pagination.total!==void 0&&(this.config.pagination.pages=Math.ceil(this.config.pagination.total/this.config.pagination.limit)),this.config.pagination.pages!==null){let t=Math.floor((this.config.pagination.size-1)/2),e=this.config.pagination.page-t;this.config.pagination.page>this.config.pagination.pages&&(this.config.pagination.page=this.config.pagination.pages),this.config.pagination.page<1&&(this.config.pagination.page=1),e+this.config.pagination.size>this.config.pagination.pages&&(e=this.config.pagination.pages-this.config.pagination.size+1),e<1&&(e=1),this.config.pagination.numbers=Array.from({length:this.config.pagination.size},(n,i)=>e+i)}this.config.pagination.from=this.config.pagination.skip+1,this.config.pagination.to=this.config.pagination.skip+(this.config.pagination.items!==null?this.config.pagination.items:this.config.pagination.limit)}},setPage(t,e){e=e!==void 0?e:!0,t<1&&(t=1),this.config.pagination.pages!==null&&this.config.pagination.pages!==void 0&&t>this.config.pagination.pages&&(t=this.config.pagination.pages),this.config.pagination.skip=(t-1)*this.config.pagination.limit,this.config.pagination.page!=t&&e&&(this.config.pagination.page=t,this.reloadTable())},setPageLimit(t){t!=this.config.pagination.limit&&(this.config.pagination.limit=t,this.setPage(1),this.calcPage(),this.reloadTable())},getValueOrFunction(t,e){return pn(t,e,this.settings,this)},getButtonClassByAction(t){switch(t){case"TABLE_RESET_ORDERS":case"TABLE_RESET_FILTERS":return"btn btn-sm btn-outline-secondary text-nowrap mx-1";case"TABLE_CLOSE_DETAILS":return"btn btn-sm btn-outline-secondary text-nowrap mx-1";case"TABLE_ROW_EDIT":return"btn btn-sm btn-secondary text-nowrap mx-1";case"FORM_SUBMIT":case"TABLE_ROW_SAVE":case"TABLE_BULK_SAVE":return"btn btn-sm btn-primary text-nowrap mx-1";case"FORM_DELETE":case"TABLE_ROW_DELETE":case"TABLE_BULK_DELETE":return"btn btn-sm btn-danger text-nowrap mx-1";case"TABLE_ROW_DETAIL":return"btn btn-sm btn-outline-secondary text-nowrap mx-1";case"TABLE_COLUMNS":return"btn btn-sm btn-outline-dark text-nowrap mx-1";case"TABLE_EXPORT":return"btn btn-sm btn-primary text-nowrap mx-1";default:return"btn btn-sm btn-outline-primary text-nowrap mx-1"}},getButtonIconClassByAction(t){switch(t){case"TABLE_RESET_ORDERS":case"TABLE_RESET_FILTERS":return"bi bi-x";case"TABLE_CLOSE_DETAILS":return"bi bi-chevron-compact-up";case"TABLE_ROW_EDIT":return"bi bi-pencil-square";case"FORM_SUBMIT":case"TABLE_ROW_SAVE":case"TABLE_BULK_SAVE":return"bi bi-save";case"FORM_DELETE":case"TABLE_ROW_DELETE":case"TABLE_BULK_DELETE":return"bi bi-trash";case"TABLE_ROW_DETAIL":return"bi bi-chevron-compact-down";case"TABLE_COLUMNS":return"bi bi-table";case"TABLE_EXPORT":return"bi bi-download";default:return"bi bi-question"}},tableCellValue(t,e,n,i){try{return t===void 0||e===void 0?void 0:i.value?i.value(t,e,n,i):e[t]!==void 0||!t.includes(".")?e[t]:t.split(".").reduce((r,o)=>r&&r[o],e)}catch(r){return r.message}},tableCellTemplate(t,e,n,i){try{return typeof t=="string"?t:t(e[i.name],e,n,i)}catch(r){return r.message}},tableAction(t,e){e.$event&&e.$event.stopPropagation();let n=t.action?t.action:t.click?t.click:null;if(n&&typeof n!="string"){n(e.item,e,this);return}switch(n){case"TABLE_ROW_SELECT":this.toggleSelected(e.item[this.settings.pkey]);break;case"TABLE_ROW_DETAIL":this.toggleDetail(e.item[this.settings.pkey]);break;case"TABLE_CLOSE_DETAILS":this.details=[];break;case"TABLE_RESET_ORDERS":this.resetOrder(!0);break;case"TABLE_RESET_FILTERS":this.resetFilter(!0);break;case"TABLE_ROW_EDIT":this.editItem(e.item);break;case"TABLE_ROW_SAVE":this.tableRowSave(e.item,t.params);break;case"FORM_SUBMIT":this.saveForm(e.item);break;case"___save":this.saveItem(item,()=>{this.addTableMessage(this.translate("Saved")+` <small>( ${this.settings.pkey}:  ${e.item[this.settings.pkey]} )</small>`,2500)},i=>{this.addTableMessage(i.message,3500,"danger")},t.params);break;case"FORM_CREATE":this.createItem(e.item,t.params);break;case"TABLE_ROW_DELETE":this.deleteItem(e.item,t.params);break;case"FORM_DELETE":this.deleteItem(e.item,t.params);break;case"TABLE_RELOAD":this.reloadTable(t.params);break;case"TABLE_EXPORT":this.exportTable(t.params);break}},tableBulkAction(t,e,n,i){if(i&&i.stopPropagation(),t&&typeof t!="string"){t(item,this);return}switch(t){case"TABLE_BULK_SAVE":this.saveBulk(()=>{this.addTableMessage(this.translate("Saved all selected items"),2500)});break;case"TABLE_BULK_DELETE":this.deleteItems(this.selected,r=>{this.selected=[]});break}},isSortable(t){return t.sortable===void 0||t.sortable},sortTable(t){if(this.config.order[t.name]&&this.config.order[t.name].fixed||!this.isSortable(t))return;this.config.order[t.name]===void 0||this.config.order[t.name]===null?this.config.order[t.name]={dir:"ASC",idx:this.config.orderIndex++}:this.config.order[t.name].dir==="ASC"?this.config.order[t.name]={dir:"DESC",idx:this.config.orderIndex++}:delete this.config.order[t.name],Object.entries(this.config.order).sort((n,i)=>n[1].idx-i[1].idx).forEach((n,i)=>{n[1].idx=i}),this.reloadTable()},getOrdersForFetch(){let t=[],e=!1;for(let n of Object.keys(this.config.order))e=!0,t[this.config.order[n].idx]={key:n,dir:this.config.order[n].dir};return e?t:null},getFiltersForFetch(){let t={},e=!1;for(let n of this.settings.table.columns)n.filter&&n.filter.value!==void 0&&(e=!0,t[n.name]={type:n.filter.type,value:n.filter.onchange?n.filter.onchange(n.filter):n.filter.value,operator:n.filter.operator});return e?t:null},async fetchTableRelations(t){for(let e of this.settings.table.columns)if(e.relation&&this.settings.relations[e.relation.config]){let n=[];e.relation=ji(this.settings.relations[e.relation.config],e.relation);for(let i of t)i[e.relation.local]&&n.push(i[e.relation.local]);e.relation.ids=ob(n),await this.fetchRelation(e,t,this.auth)}},async fetchTable(t){try{this.tableWait(!0),t=t||{},t.filter=this.getFiltersForFetch(),t.order=this.getOrdersForFetch(),this.config.pagination.page!==null&&this.config.pagination.page!==void 0&&(t.page=this.config.pagination.page),this.config.pagination.limit!==null&&this.config.pagination.limit!==void 0&&(t.limit=this.config.pagination.limit),t.page&&t.limit&&(t.skip=(t.page-1)*t.limit);let e=await this.fetchItems(this.settings,t,this.config,this.auth);if(e===!1)return this.tableNoWait(),!1;await this.fetchTableRelations(e),this.items=e,this.tableNoWait()}catch(e){console.error(e),this.addTableMessage(e.message,3500,"danger"),this.tableNoWait()}},async fetchItems(t,e,n,i){t.events&&t.events.beforeItemsLoad&&t.events.beforeItemsLoad(e,t);const r=await fetch(Lt("GET",t.table.api,null,e),Ot("GET",t.table.api,null,i)),o=await Yn(r),a=Xn(r,o.data);if(a){this.handleTableErrors(a);return}if(o.error){this.handleTableErrors(o.error);return}t.events&&t.events.afterItemsLoad&&t.events.afterItemsLoad(o.data,r);let c;t.table.api.input.items?c=typeof t.table.api.input.items=="string"?o.data[t.table.api.input.items]:t.table.api.input.items(o.data,r):c=o.data,n&&(t.table.api.input.total?n.pagination.total=typeof t.table.api.input.total=="string"?o.data[t.table.api.input.total]:t.table.api.input.total(o.data,r):o.data.total&&(n.pagination.total=o.data.total),n.pagination.items=c.length,this.calcPage());let l=nb(c);return this.convertIn(t.table.columns,l),l},async fetchRelation(t,e,n){try{let i=t.relation.params?t.relation.params:{};t.relation.columns&&(i.columns=JSON.stringify(t.relation.columns));let r={};if(t.relation.ids&&t.relation.ids.length){let h=(typeof t.relation.ids[0]=="string"?"text":"number")==="string"?"'"+t.relation.ids.join("','")+"'":t.relation.ids.join(",");r[t.relation.foreign]={type:"array",value:h,operator:"IN"}}i.filter=JSON.stringify(r),ab(i,{column:t});const o=await fetch(Lt("GET",t.relation.api,null,i),Ot("GET",t.relation.api,null,n));if(o.status!==200)throw new Error(this.translate("Response status: "+o.status));const a=await Yn(o);if(Xn(o,a.data)||!a.data)return;if(t.relation.api.input.items?t.relation.items=typeof t.relation.api.input.items=="string"?a.data[t.relation.api.input.items]:t.relation.api.input.items(a.data,o):t.relation.items=a.data,e&&e[0])for(let l of e)l[t.relation.local]&&(l[t.relation.entity]=t.relation.items.find((h,f,u)=>h[t.relation.foreign]===l[t.relation.local]))}catch(i){console.error(i)}},async editItem(t){if(!this.settings.form||!this.settings.form.api)return!1;this.item=t,this.message.form=null,this.messages.form=[],this.modalWindow.show()},async deleteItem(t,e){try{t||(t=this.item);let n=t[this.settings.pkey];if(!n||!confirm("Are you sure you want to delete this item"))return;this.tableWait(!0),this.settings.events&&this.settings.events.beforeItemDelete&&this.settings.events.beforeItemDelete(t);const r=await fetch(Lt("DELETE",this.settings.form.api,n,e),Ot("DELETE",this.settings.api,null,this.auth));if(r.status!==200)throw new Error(this.translate("Response status: "+r.status));let o=this.items.find(c=>c[this.settings.pkey]===n);o>=0&&this.items.splice(o,1),this.item&&(this.item={});const a=await r.json();this.settings.events&&this.settings.events.afterItemDelete&&this.settings.events.afterItemDelete(a,r),this.reloadTable()}catch(n){console.error(n),this.tableNoWait()}},async deleteItems(t,e){try{if(!t||!confirm(this.translate("Are you sure you want to delete all selected items?")))return;this.tableWait(!0);const i=await fetch(Lt("DELETE",this.settings.table.api),Ot("DELETE",this.settings.api,{body:JSON.stringify({ids:t})},this.auth));if(i.status!==200)throw new Error(this.translate("Response status: "+i.status));e&&e(i),this.reloadTable(),this.tableNoWait()}catch(n){console.error(n),this.tableNoWait()}},tableRowSave(t,e){this.tableWait(),this.saveItem(t,()=>{this.tableNoWait(),this.addTableMessage(this.translate("Saved")+` <small>( ${this.settings.pkey}:  ${t[this.settings.pkey]} )</small>`,2500)},(n,i,r,o)=>{this.tableNoWait(),this.handleTableErrors(n)},e)},handleTableErrors(t){if(console.log(t),t==null)return;const e=3500,n="danger";if(typeof t=="string"){this.addTableMessage(t,e,n);return}if(t.length>0)for(let i of t)this.addTableMessage(i.message,i.timeout,i.priority)},handleFormErrors(){if(errors==null)return;const t=3500,e="danger";if(typeof errors=="string"){this.addTableMessage(errors,t,e);return}if(errors.length>0)for(let n of errors)this.addTableMessage(n.message,n.timeout,n.priority)},getColumnByName(t){return this.settings.table.columns.find(e=>e.name===t)},createItem(){this.item=this.settings.form.default?this.settings.form.default:{},this.modalWindow.show(),setTimeout(()=>{this.itemOriginal=Object.assign({},this.item)},100)},async saveItem(t,e,n,i){try{i=i||{};let r={},o=t[this.settings.pkey];if(this.settings.form.api.output&&this.settings.form.api.output.fields)for(let u in t)this.settings.form.api.output.fields.includes(u)&&(r[u]=t[u]);else Object.assign(r,t);let a,c;if(this.convertOut(this.settings.table.columns,[r]),(!this.settings.form.api.output.flatten||!o)&&(r=sb(r)),this.settings.events&&this.settings.events.beforeItemSave&&this.settings.events.beforeItemSave(r,i,t),!this.settings.form.api.output.item)a=JSON.stringify(r);else if(typeof this.settings.form.api.output.item=="string"){let u={};u[this.settings.form.api.output.item]=r,a=JSON.stringify(u)}else a=JSON.stringify(this.settings.form.api.output.item(r,options));const l=o?"PUT":"POST";c=await fetch(Lt(l,this.settings.form.api,o,i),Ot(l,this.settings.form.api,{body:a},this.auth));const h=await Yn(c),f=Xn(c,h.data);if(f){n&&n(f,t,i,c);return}if(h.error){n&&n(h.error,t,i,c);return}this.settings.events&&this.settings.events.afterItemSave&&this.settings.events.afterItemSave(h.data,i),e&&e(h.data,c)}catch(r){n&&n(r,t,i)}},async saveBulk(t){try{this.tableWait(!0);let e={};this.settings.events&&this.settings.events.beforeBulkSave&&this.settings.events.beforeBulkSave(this.bulkitem);for(let o in this.bulkitem)this.bulkinputs.indexOf(o)>=0&&this.settings.table.api.output.fields.includes(o)&&(e[o]=this.bulkitem[o]);this.convertOut(this.settings.table.columns,[e]);const n=await fetch(Lt("PUT",this.settings.table.api),Ot("PUT",this.settings.table.api,{body:JSON.stringify({item:e,ids:this.selected})},this.auth)).catch(o=>{console.error(o),this.addTableMessage(o.message,3500,"danger",o)}),i=await Yn(n),r=Xn(n,i.data);if(this.tableNoWait(),r)return;t&&t(i.data),this.reloadTable()}catch(e){console.error(e),this.addTableMessage(e.message,3500,"danger",e),this.tableNoWait()}},countHiddenColumns(){return this.settings.table.columns.filter(t=>t.hidden===!0).length},toggleColumn(t){t===!0?this.settings.table.columns.map(e=>{e.hidden=!1}):t===!1?this.settings.table.columns.map(e=>{e.hidden=!0}):t.hidden=!t.hidden},toggleSelectedAll(){this.selected.length?this.selected=[]:this.selected=this.items.map(t=>t[this.settings.pkey])},toggleSelected(t){let e=this.selected.indexOf(t);e>=0?this.selected.splice(e,1):this.selected.push(t)},toggleSelectedRowInPage(){if(this.haveSelectedRowInPage())for(let t of this.items){let e=this.selected.indexOf(t[this.settings.pkey]);e>=0&&this.selected.splice(e,1)}else for(let t of this.items)this.selected.indexOf(t[this.settings.pkey])<0&&this.selected.push(t[this.settings.pkey]);this.selected.length||(this.bulkitem={})},haveSelectedRowInPage(){if(!this.items||!this.items.length)return!1;for(let t of this.items)if(this.selected.indexOf(t[this.settings.pkey])>=0)return!0;return!1},toggleDetail(t){let e=this.details.indexOf(t);e>=0?this.details.splice(e,1):this.details.push(t)},dropdownSelectToggleOne(t,e){let n=e.value;t.multiple?zc(t.value,n):t.value=t.value===n?null:n,this.reloadTable()},dropdownSelectAll(t,e){Wc(t,e),this.reloadTable()},dropdownSelectInvert(t,e){Kc(t,e),this.reloadTable()},dropdownSelectClear(t){typeof t!="object"?t.value=null:Gc(t),this.reloadTable()},async exportTable(t){try{fetchItems,t.limit=this.config.pagination.total?this.config.pagination.total:0;let e=this.getFiltersForFetch(),n=this.getOrdersForFetch();this.selected.length>0&&(e[this.settings.pkey]={type:"string",value:this.selected,operator:"in"}),t.filter=e,t.order=n,this.settings.events&&this.settings.events.beforeItemsExport&&this.settings.events.beforeItemsExport(items);let i=ib(items,this.settings.table.exports[t.type].fields);rb(i,this.settings.entity+".csv")}catch(e){console.error(e),this.addTableMessage(e.message,3500,"danger")}},onRowInputChange(t,e,n,i){!e||!e.input||(e.input.onchange&&e.input.onchange(t,e,n),e.input.autosave&&(this.tableWait(),this.saveItem(n,()=>{this.tableNoWait(),this.addTableMessage(this.translate("Saved")+` <small>( ${this.settings.pkey}:  ${n[this.settings.pkey]} )</small>`,2500)},(r,o,a,c)=>{this.tableNoWait(),this.handleTableErrors(r)})))},onBulkInputChange(t,e,n){!n||!n.input||n.input.onchange&&n.input.onchange(t,n)},ifBulkInputClick(t){let e=this.bulkinputs.indexOf(t.name);e<0?this.bulkinputs.push(t.name):this.bulkinputs.splice(e,1),this.bulkitem[t.name]===void 0?this.bulkitem[t.name]=null:this.bulkitem[t.name]=void 0},addTableMessage(t,e,n,i){this.addMessage("table",t,e,n,i)},addMessage(t,e,n,i,r){clearTimeout(this.messageTimeout);const o=Date.now()+Math.random().toString(36).substring(2,9);this.message[t]={uid:o,msg:e,timeout:n!==void 0?n:2500,datetime:new Date().toLocaleString("hu-HU"),priority:i||"secondary",details:r},this.messages[t].unshift(this.message[t]),clearTimeout(this.messageTimeOut),this.messageTimeOut=setTimeout(()=>{this.message[t]=null,this.messages[t].length>10&&this.messages[t].splice(10)},this.message[t].timeout)},translate(t,e,n){return Is(t,this.settings.translate,e,n||this.settings.language)},convertIn(t,e){for(let n of t)if(n.convert&&n.convert.in)for(let i of e)i[n.name]=n.convert.in(i[n.name],i,n)},convertOut(t,e){for(let n of t)if(n.convert&&n.convert.out)for(let i of e)i[n.name]=n.convert.out(i[n.name],i,n)}}},ZA=["data-bs-theme"],QA={class:"vua-table-title"},JA={class:"d-flex align-items-center justify-content-between"},eC={class:"d-inline-block"},tC={key:0,class:"card-title d-inline-block mb-2"},nC={class:"spinner-border spinner-border-sm mx-2",role:"status"},sC={key:0,class:"d-inline-block"},iC={key:0,class:"d-inline-block px-1 mx-1"},rC=["innerHTML"],oC={class:"dropdown d-inline-block"},aC=["innerHTML"],lC={class:"dropdown-menu text-start"},cC={class:"me-2 text-muted"},dC=["innerHTML"],hC=["onClick"],uC={key:1,class:"dropdown d-inline-block"},fC={class:"mx-1"},mC={key:0},pC={class:"dropdown-menu"},gC=["onClick"],bC={key:0,class:"bi bi-check-square-fill me-2"},yC={key:1,class:"bi bi-x-square me-2 text-danger"},EC={class:"badge text-secondary fw-normal"},_C={key:2,class:"dropdown d-inline-block"},wC={class:"mx-1"},kC={class:"dropdown-menu"},NC=["onClick"],TC={class:"vua-table-header"},AC=["width"],CC=["onClick"],SC=["innerHTML"],OC={key:0,class:"bi bi-arrow-down"},LC={key:1,class:"bi bi-arrow-up"},BC={key:0},VC=["disabled","onClick"],IC={key:0,class:"vua-table-filter"},xC=["width"],DC={key:0,class:"d-inline-block w-100 px-1"},vC={class:"bi bi-check-all"},$C={class:"bi bi-x-lg"},MC={key:1,class:"input-group input-group-sm my-1"},RC=["onUpdate:modelValue"],qC=["disabled","onClick"],PC={key:2,class:"input-group input-group-sm my-1"},jC=["onUpdate:modelValue","disabled"],FC={value:"="},UC={value:">"},HC={value:">="},zC={value:"<"},WC={value:"<="},KC=["onUpdate:modelValue","disabled"],GC=["value"],YC=["onUpdate:modelValue","disabled","min","max"],XC=["disabled","onClick"],ZC={key:3},QC={key:0,class:"dropdown"},JC={class:"btn btn-sm btn-secondary dropdown-toggle my-1",type:"button","data-bs-auto-close":"outside","data-bs-toggle":"dropdown","aria-expanded":"false"},eS={class:"dropdown-menu"},tS=["onClick"],nS={key:0,class:"bi bi-check-square"},sS={key:1,class:"bi bi-square"},iS={key:0},rS={key:1},oS=["onClick"],aS={key:2},lS=["onClick"],cS={key:3},dS=["onClick"],hS={key:1,class:"input-group input-group-sm my-1"},uS=["onUpdate:modelValue","multiple"],fS=["value"],mS=["disabled","onClick"],pS={key:4,class:"input-group input-group-sm my-1"},gS=["onUpdate:modelValue"],bS={value:"="},yS={value:">"},ES={value:">="},_S={value:"<"},wS={value:"<="},kS=["onUpdate:modelValue"],NS=["value"],TS=["type","onUpdate:modelValue"],AS=["disabled","onClick"],CS=["disabled","onClick"],SS={class:"align-middle"},OS=["data-label","width","onClick"],LS={key:0,class:"d-inline-block w-100 px-1"},BS=["innerHTML"],VS={key:1},IS=["innerHTML"],xS=["aria-valuenow","aria-valuemax"],DS={key:0},vS={key:4,class:"input-group input-group-sm"},$S=["innerHTML"],MS=["type","onChange","onUpdate:modelValue"],RS=["onChange","onUpdate:modelValue"],qS=["value"],PS=["innerHTML"],jS={key:5},FS=["disabled","onClick"],US=["innerHTML"],HS={key:2},zS={key:0},WS=["colspan"],KS={class:"row g-3 align-items-center"},GS={class:"col-form-label"},YS=["type","onUpdate:modelValue","onChange"],XS=["onUpdate:modelValue","onChange"],ZS=["onUpdate:modelValue","onChange"],QS=["value"],JS=["innerHTML"],eO={key:0,class:"bg-light text-dark"},tO={key:0,class:"vua-table-bulk border-info"},nO=["data-label","width"],sO={key:0,class:"d-inline-block w-100 px-1"},iO={key:1,class:"input-group input-group-sm my-1"},rO=["type","disabled","onChange","onUpdate:modelValue"],oO=["disabled","onChange","onUpdate:modelValue"],aO=["value"],lO=["onClick"],cO={key:0,class:"bi bi-square text-secondary"},dO={key:1,class:"bi bi-check-square"},hO={key:2},uO=["disabled","onClick"],fO=["innerHTML"],mO={key:2},pO=["id"],gO={class:"modal-dialog modal-xl"},bO={class:"modal-content h-100"};function yO(t,e,n,i,r,o){const a=s.resolveComponent("VuAdminTablePagination"),c=s.resolveComponent("VuAdminForm");return s.openBlock(),s.createElementBlock("div",null,[o.authAndSettings()?(s.openBlock(),s.createElementBlock("div",{key:0,class:s.normalizeClass(["vua-table-container",[n.settings.class]]),"data-bs-theme":[n.settings.theme]},[s.createElementVNode("div",{class:s.normalizeClass(["vua-overlay",{blocked:r.ui.block.table}])},null,2),s.createElementVNode("div",QA,[s.createElementVNode("div",JA,[s.createElementVNode("div",eC,[n.settings.table.title?(s.openBlock(),s.createElementBlock("h5",tC,s.toDisplayString(n.settings.table.title),1)):s.createCommentVNode("",!0),s.withDirectives(s.createElementVNode("div",nC,e[15]||(e[15]=[s.createElementVNode("span",{class:"visually-hidden"},"Loading...",-1)]),512),[[s.vShow,r.ui.wait.table&&n.settings.table.title]])]),r.messages.table.length?(s.openBlock(),s.createElementBlock("div",sC,[r.message.table?(s.openBlock(),s.createElementBlock("small",iC,[s.createElementVNode("span",{class:s.normalizeClass(["text-"+r.message.table.priority])},[s.createElementVNode("span",{class:"fw-bold",innerHTML:r.message.table.msg},null,8,rC)],2)])):s.createCommentVNode("",!0),s.createElementVNode("div",oC,[s.createElementVNode("button",{class:s.normalizeClass(["btn btn-sm dropdown-toggle",["btn-"+r.messages.table[0].priority]]),type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",innerHTML:r.messages.table.length+" "+(r.messages.table.length>1?o.translate("messages"):o.translate("message"))},null,10,aC),s.createElementVNode("ul",lC,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(r.messages.table,l=>(s.openBlock(),s.createElementBlock("li",{key:l},[s.createElementVNode("span",{class:s.normalizeClass(["dropdown-item",["text-"+l.priority]])},[s.createElementVNode("small",cC,s.toDisplayString(l.datetime),1),s.createElementVNode("span",{class:"fw-bold",innerHTML:l.msg},null,8,dC)],2)]))),128))])])])):s.createCommentVNode("",!0)])]),n.settings.table.control?(s.openBlock(),s.createElementBlock("div",{key:0,class:s.normalizeClass(["vua-table-control",[n.settings.table.control.class]])},[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(n.settings.table.control.buttons,l=>(s.openBlock(),s.createElementBlock("span",{key:l.action},[l.action!=="TABLE_COLUMNS"&&!l.dropdowns?(s.openBlock(),s.createElementBlock("button",{key:0,type:"button",class:s.normalizeClass([l.class?l.class:o.getButtonClassByAction(l.action)]),onClick:h=>o.tableAction(l,{items:r.items,$event:h})},[s.createElementVNode("i",{class:s.normalizeClass([l.icon!==void 0?o.getValueOrFunction(l.icon,{button:l,table:this}):o.getButtonIconClassByAction(l.action)])},null,2),s.createTextVNode(" "+s.toDisplayString(o.translate(l.title)),1)],10,hC)):s.createCommentVNode("",!0),l.action==="TABLE_COLUMNS"?(s.openBlock(),s.createElementBlock("div",uC,[s.createElementVNode("button",{type:"button",class:s.normalizeClass([[l.class?l.class:o.getButtonClassByAction(l.action)],"dropdown-toggle"]),"data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false"},[s.withDirectives(s.createElementVNode("span",fC,[s.createElementVNode("i",{class:s.normalizeClass([l.icon!==void 0?o.getValueOrFunction(l.icon,{button:l,table:this}):o.getButtonIconClassByAction(l.action)])},null,2),s.createTextVNode(" "+s.toDisplayString(o.translate(l.title))+" ",1),o.countHiddenColumns()?(s.openBlock(),s.createElementBlock("span",mC," ( "+s.toDisplayString(o.countHiddenColumns())+" "+s.toDisplayString(o.translate("hidden"))+" ) ",1)):s.createCommentVNode("",!0)],512),[[s.vShow,n.settings.table.columns.length>0]])],2),s.createElementVNode("ul",pC,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(n.settings.table.columns,h=>(s.openBlock(),s.createElementBlock("li",{key:h},[s.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:f=>o.toggleColumn(h)},[h.hidden?s.createCommentVNode("",!0):(s.openBlock(),s.createElementBlock("i",bC)),h.hidden?(s.openBlock(),s.createElementBlock("i",yC)):s.createCommentVNode("",!0),s.createTextVNode(" "+s.toDisplayString(h.title)+" ",1),s.createElementVNode("small",EC,s.toDisplayString(h.name),1)],8,gC)]))),128)),e[16]||(e[16]=s.createElementVNode("li",null,[s.createElementVNode("hr",{class:"dropdown-divider"})],-1)),s.createElementVNode("li",null,[s.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:e[0]||(e[0]=h=>o.toggleColumn(!0))},s.toDisplayString(o.translate("Visible all")),1)]),s.createElementVNode("li",null,[s.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:e[1]||(e[1]=h=>o.toggleColumn(!1))},s.toDisplayString(o.translate("Hidden all")),1)])])])):s.createCommentVNode("",!0),l.dropdowns?(s.openBlock(),s.createElementBlock("div",_C,[s.createElementVNode("button",{type:"button",class:s.normalizeClass([[l.class],"dropdown-toggle"]),"data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false"},[s.createElementVNode("span",wC,[s.createElementVNode("i",{class:s.normalizeClass([l.icon!==void 0?o.getValueOrFunction(l.icon,{button:l,table:this}):o.getButtonIconClassByAction(l.action)])},null,2),s.createTextVNode(" "+s.toDisplayString(o.translate(l.title)),1)])],2),s.createElementVNode("ul",kC,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(l.dropdowns,h=>(s.openBlock(),s.createElementBlock("li",{key:h},[s.createElementVNode("span",{class:s.normalizeClass(["dropdown-item cursor-pointer",[h.class]]),onClick:f=>o.tableAction(h,{items:r.items,$event:f})},[h.icon?(s.openBlock(),s.createElementBlock("i",{key:0,class:s.normalizeClass([h.icon])},null,2)):s.createCommentVNode("",!0),s.createTextVNode(" "+s.toDisplayString(o.translate(h.title)),1)],10,NC)]))),128))])])):s.createCommentVNode("",!0)]))),128))],2)):s.createCommentVNode("",!0),n.settings.table?(s.openBlock(),s.createElementBlock("table",{key:1,class:s.normalizeClass(["table vua-table mb-0",[n.settings.table.class]])},[s.createElementVNode("thead",null,[s.createElementVNode("tr",TC,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(n.settings.table.columns,l=>(s.openBlock(),s.createElementBlock("th",{class:s.normalizeClass(["",[l.header?l.header.class:""]]),style:s.normalizeStyle([l.hidden?"display: none":""]),key:l,width:l.width},[s.createElementVNode("span",{class:s.normalizeClass(["d-inline-block no-select text-nowrap",{"cursor-pointer":o.isSortable(l)}]),onClick:h=>o.sortTable(l)},[s.createElementVNode("span",{innerHTML:l.header&&l.header.title!==void 0?o.translate(l.header.title):l.title?o.translate(l.title):o.translate(l.name)},null,8,SC),r.config.order[l.name]?(s.openBlock(),s.createElementBlock("span",{key:0,class:s.normalizeClass(["badge text-bg-light ms-1 p-badge",{"opacity-50":r.config.order[l.name].fixed}])},[r.config.order[l.name].dir==="ASC"?(s.openBlock(),s.createElementBlock("i",OC)):s.createCommentVNode("",!0),r.config.order[l.name].dir==="DESC"?(s.openBlock(),s.createElementBlock("i",LC)):s.createCommentVNode("",!0),s.createTextVNode(" "+s.toDisplayString(r.config.order[l.name].idx+1),1)],2)):s.createCommentVNode("",!0)],10,CC),l.header&&l.header.buttons?(s.openBlock(),s.createElementBlock("span",BC,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(l.header.buttons,h=>(s.openBlock(),s.createElementBlock("button",{key:h.action,type:"button",disabled:h.disabled!==void 0?o.getValueOrFunction(h.disabled):null,class:s.normalizeClass([h.class?h.class:o.getButtonClassByAction(h.action)]),onClick:f=>o.tableAction(h,{items:r.items,$event:f})},[s.createElementVNode("i",{class:s.normalizeClass([h.icon!==void 0?o.getValueOrFunction(h.icon,{button:h,column:l,table:this}):o.getButtonIconClassByAction(h.action)])},null,2),s.createTextVNode(" "+s.toDisplayString(o.translate(h.title)),1)],10,VC))),128))])):s.createCommentVNode("",!0)],14,AC))),128))]),o.countFilters()?(s.openBlock(),s.createElementBlock("tr",IC,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(n.settings.table.columns,l=>(s.openBlock(),s.createElementBlock("th",{style:s.normalizeStyle([l.hidden?"display: none":""]),key:l,width:l.width,class:s.normalizeClass([l.filter?l.filter.class:""])},[l.index&&l.click?(s.openBlock(),s.createElementBlock("div",DC,[s.createElementVNode("span",{class:s.normalizeClass(["cursor-pointer badge border badge-index-toggle py-1 px-2 me-1 my-2 w-100",{active:o.haveSelectedRowInPage()}]),onClick:e[2]||(e[2]=h=>o.toggleSelectedRowInPage())},[s.withDirectives(s.createElementVNode("i",vC,null,512),[[s.vShow,!o.haveSelectedRowInPage()]]),s.withDirectives(s.createElementVNode("i",$C,null,512),[[s.vShow,o.haveSelectedRowInPage()]])],2)])):s.createCommentVNode("",!0),l.filter&&l.filter.type=="text"?(s.openBlock(),s.createElementBlock("div",MC,[s.withDirectives(s.createElementVNode("input",{type:"text",class:s.normalizeClass([{fixed:l.filter.fixed},"form-control form-control-sm"]),"onUpdate:modelValue":h=>l.filter.value=h,onKeyup:e[3]||(e[3]=s.withKeys(h=>o.reloadTable(),["enter"]))},null,42,RC),[[s.vModelText,l.filter.value]]),l.filter.buttonx&&l.filter.buttonx!=!1?(s.openBlock(),s.createElementBlock("button",{key:0,class:s.normalizeClass(["btn btn-outline-secondary",{"opacity-25":l.filter.value==null}]),disabled:l.filter.value==null,onClick:h=>{l.filter.value=void 0,o.reloadTable()}},e[17]||(e[17]=[s.createElementVNode("i",{class:"bi bi-x"},null,-1)]),10,qC)):s.createCommentVNode("",!0)])):s.createCommentVNode("",!0),l.filter&&l.filter.type=="number"?(s.openBlock(),s.createElementBlock("div",PC,[l.filter.operators==!0?s.withDirectives((s.openBlock(),s.createElementBlock("select",{key:0,"onUpdate:modelValue":h=>l.filter.operator=h,disabled:l.filter.fixed,onChange:e[4]||(e[4]=h=>o.reloadTable()),class:"form-select form-select-sm pe-0"},[s.createElementVNode("option",FC,s.toDisplayString(o.translate("=")),1),s.createElementVNode("option",UC,s.toDisplayString(o.translate(">")),1),s.createElementVNode("option",HC,s.toDisplayString(o.translate(">=")),1),s.createElementVNode("option",zC,s.toDisplayString(o.translate("<")),1),s.createElementVNode("option",WC,s.toDisplayString(o.translate("<=")),1)],40,jC)),[[s.vModelSelect,l.filter.operator]]):s.createCommentVNode("",!0),l.filter.operators&&l.filter.operators.length>0?s.withDirectives((s.openBlock(),s.createElementBlock("select",{key:1,"onUpdate:modelValue":h=>l.filter.operator=h,disabled:l.filter.fixed,onChange:e[5]||(e[5]=h=>o.reloadTable()),class:"form-select form-select-sm pe-0"},[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(l.filter.operators,h=>(s.openBlock(),s.createElementBlock("option",{key:h,value:h.value},s.toDisplayString(h.label),9,GC))),128))],40,KC)),[[s.vModelSelect,l.filter.operator]]):s.createCommentVNode("",!0),s.withDirectives(s.createElementVNode("input",{type:"number",class:s.normalizeClass(["form-control",{fixed:l.filter.fixed}]),"onUpdate:modelValue":h=>l.filter.value=h,disabled:l.filter.fixed,min:l.filter.min,max:l.filter.max,onChange:e[6]||(e[6]=h=>o.reloadTable()),onKeyup:e[7]||(e[7]=s.withKeys(h=>o.reloadTable(),["enter"]))},null,42,YC),[[s.vModelText,l.filter.value]]),!l.filter.fixed&&l.filter.buttonx&&l.filter.buttonx!=!1?(s.openBlock(),s.createElementBlock("button",{key:2,class:s.normalizeClass(["btn btn-outline-secondary",{"opacity-25":l.filter.value==null}]),disabled:l.filter.value==null,onClick:h=>{l.filter.value=void 0,o.reloadTable()}},e[18]||(e[18]=[s.createElementVNode("i",{class:"bi bi-x"},null,-1)]),10,XC)):s.createCommentVNode("",!0)])):s.createCommentVNode("",!0),l.filter&&l.filter.type=="select"?(s.openBlock(),s.createElementBlock("div",ZC,[l.filter.dropdown?(s.openBlock(),s.createElementBlock("div",QC,[s.createElementVNode("button",JC,s.toDisplayString(l.filter.multiple?l.filter.value.length+" selected":l.filter.value?l.filter.value:"not selected"),1),s.createElementVNode("ul",eS,[s.createElementVNode("li",null,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(l.filter.options,h=>(s.openBlock(),s.createElementBlock("span",{key:h,class:s.normalizeClass(["dropdown-item cursor-pointer",{selected:l.filter.multiple?l.filter.value.indexOf(h.value)>=0:l.filter.value===h.value}]),onClick:f=>o.dropdownSelectToggleOne(l.filter,h)},[(l.filter.multiple?l.filter.value.indexOf(h.value)>=0:l.filter.value===h.value)?(s.openBlock(),s.createElementBlock("i",nS)):(s.openBlock(),s.createElementBlock("i",sS)),s.createTextVNode(" "+s.toDisplayString(o.translate(h.label?h.label:h.value)),1)],10,tS))),128))]),l.filter.multiple?(s.openBlock(),s.createElementBlock("li",iS,e[19]||(e[19]=[s.createElementVNode("hr",{class:"dropdown-divider"},null,-1)]))):s.createCommentVNode("",!0),l.filter.multiple?(s.openBlock(),s.createElementBlock("li",rS,[s.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>o.dropdownSelectAll(l.filter.value,l.filter.options)},s.toDisplayString(o.translate("Select all")),9,oS)])):s.createCommentVNode("",!0),l.filter.multiple?(s.openBlock(),s.createElementBlock("li",aS,[s.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>o.dropdownSelectClear(l.filter.value)},s.toDisplayString(o.translate("Unselect all")),9,lS)])):s.createCommentVNode("",!0),l.filter.multiple?(s.openBlock(),s.createElementBlock("li",cS,[s.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:h=>o.dropdownSelectInvert(l.filter.value,l.filter.options)},s.toDisplayString(o.translate("Invert all")),9,dS)])):s.createCommentVNode("",!0)])])):(s.openBlock(),s.createElementBlock("div",hS,[s.withDirectives(s.createElementVNode("select",{"onUpdate:modelValue":h=>l.filter.value=h,onChange:e[8]||(e[8]=h=>o.reloadTable()),multiple:l.filter.multiple,class:"form-select form-select-sm pe-0"},[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(l.filter.options,h=>(s.openBlock(),s.createElementBlock("option",{key:h,value:h.value},s.toDisplayString(o.translate(h.label?h.label:h.value)),9,fS))),128))],40,uS),[[s.vModelSelect,l.filter.value]]),l.filter.buttonx&&l.filter.buttonx!=!1?(s.openBlock(),s.createElementBlock("button",{key:0,class:s.normalizeClass(["btn btn-outline-secondary",{"opacity-25":l.filter.value==null}]),disabled:l.filter.value==null,onClick:h=>{l.filter.value=void 0,o.reloadTable()}},e[20]||(e[20]=[s.createElementVNode("i",{class:"bi bi-x"},null,-1)]),10,mS)):s.createCommentVNode("",!0)]))])):s.createCommentVNode("",!0),l.filter&&(l.filter.type=="datetime-local"||l.filter.type=="date")?(s.openBlock(),s.createElementBlock("div",pS,[l.filter.operators==!0?s.withDirectives((s.openBlock(),s.createElementBlock("select",{key:0,"onUpdate:modelValue":h=>l.filter.operator=h,onChange:e[9]||(e[9]=h=>o.reloadTable()),class:"form-select form-select-sm pe-0"},[s.createElementVNode("option",bS,s.toDisplayString(o.translate("=")),1),s.createElementVNode("option",yS,s.toDisplayString(o.translate(">")),1),s.createElementVNode("option",ES,s.toDisplayString(o.translate(">=")),1),s.createElementVNode("option",_S,s.toDisplayString(o.translate("<")),1),s.createElementVNode("option",wS,s.toDisplayString(o.translate("<=")),1)],40,gS)),[[s.vModelSelect,l.filter.operator]]):s.createCommentVNode("",!0),l.filter.operators&&l.filter.operators.length>0?s.withDirectives((s.openBlock(),s.createElementBlock("select",{key:1,"onUpdate:modelValue":h=>l.filter.operator=h,onChange:e[10]||(e[10]=h=>o.reloadTable()),class:"form-select form-select-sm pe-0"},[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(l.filter.operators,h=>(s.openBlock(),s.createElementBlock("option",{key:h,value:h.value},s.toDisplayString(o.translate(h.label)),9,NS))),128))],40,kS)),[[s.vModelSelect,l.filter.operator]]):s.createCommentVNode("",!0),s.withDirectives(s.createElementVNode("input",{type:l.filter.type,class:s.normalizeClass([{fixed:l.filter.fixed},"form-control form-control-sm"]),"onUpdate:modelValue":h=>l.filter.value=h,onChange:e[11]||(e[11]=h=>o.reloadTable()),onKeyup:e[12]||(e[12]=s.withKeys(h=>o.reloadTable(),["enter"]))},null,42,TS),[[s.vModelDynamic,l.filter.value]]),s.createElementVNode("button",{class:s.normalizeClass(["btn btn-outline-secondary",{"opacity-25":!l.filter.value}]),disabled:!l.filter.value,onClick:h=>{l.filter.value=void 0,o.reloadTable()}},e[21]||(e[21]=[s.createElementVNode("i",{class:"bi bi-x"},null,-1)]),10,AS)])):s.createCommentVNode("",!0),l.filter&&l.filter.buttons?(s.openBlock(),s.createElementBlock("span",{key:5,class:s.normalizeClass(o.getValueOrFunction(l.filter.buttons,{column:l}))},[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(l.filter.buttons,h=>(s.openBlock(),s.createElementBlock("span",{key:h.action},[s.createElementVNode("button",{type:"button",disabled:h.disabled!==void 0?o.getValueOrFunction(h.disabled):null,class:s.normalizeClass([h.class?h.class:o.getButtonClassByAction(h.action)]),onClick:f=>o.tableAction(h,{items:r.items,$event:f})},[s.createElementVNode("i",{class:s.normalizeClass([h.icon!==void 0?o.getValueOrFunction(h.icon,{button:h,column:l,table:this}):o.getButtonIconClassByAction(h.action)])},null,2),s.createTextVNode(" "+s.toDisplayString(o.translate(h.title)),1)],10,CS)]))),128))],2)):s.createCommentVNode("",!0)],14,xC))),128))])):s.createCommentVNode("",!0)]),s.createElementVNode("tbody",null,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(this.items,(l,h)=>(s.openBlock(),s.createElementBlock(s.Fragment,{key:l.id},[s.createElementVNode("tr",SS,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(n.settings.table.columns,f=>(s.openBlock(),s.createElementBlock("td",{style:s.normalizeStyle([f.hidden?"display: none":""]),key:f.name,"data-label":f.title?f.title:o.translate(f.name),width:f.width,class:s.normalizeClass(o.getValueOrFunction(f.class,{column:f,item:l})),onClick:u=>o.tableAction(f,{item:l,index:h,$event:u})},[f.index?(s.openBlock(),s.createElementBlock("div",LS,[s.createElementVNode("span",{class:s.normalizeClass(["cursor-pointer badge border badge-index p-1 w-100",{selected:r.selected.indexOf(l[n.settings.pkey])>=0}]),innerHTML:h+1+(r.config.pagination.page-1)*r.config.pagination.limit},null,10,BS)])):s.createCommentVNode("",!0),!f.template&&!f.input&&!f.progressbar?(s.openBlock(),s.createElementBlock("span",VS,s.toDisplayString(o.tableCellValue(f.name,l,h,f)),1)):s.createCommentVNode("",!0),f.template?(s.openBlock(),s.createElementBlock("span",{key:2,innerHTML:o.tableCellTemplate(f.template,l,h,f)},null,8,IS)):s.createCommentVNode("",!0),f.progressbar?(s.openBlock(),s.createElementBlock("div",{key:3,class:"progress",role:"progressbar","aria-label":"Warning example","aria-valuenow":l[f.name],"aria-valuemax":f.progressbar.max},[s.createElementVNode("div",{class:s.normalizeClass(["progress-bar",[f.progressbar.class]]),style:s.normalizeStyle({width:Math.round(l[f.name]/f.progressbar.max*100)+"%"})},[f.progressbar.value?(s.openBlock(),s.createElementBlock("span",DS,s.toDisplayString(l[f.name]),1)):s.createCommentVNode("",!0)],6)],8,xS)):s.createCommentVNode("",!0),f.input?(s.openBlock(),s.createElementBlock("div",vS,[f.input.prefix?(s.openBlock(),s.createElementBlock("span",{key:0,class:"input-group-text",innerHTML:o.getValueOrFunction(f.input.prefix,{column:f,item:l})},null,8,$S)):s.createCommentVNode("",!0),["text","number","date","datetime-local"].indexOf(f.input.type)>=0?s.withDirectives((s.openBlock(),s.createElementBlock("input",{key:1,type:f.input.type,class:s.normalizeClass(["form-control form-control-sm",o.getValueOrFunction(f.input.class,{column:f,item:l})]),onChange:u=>o.onRowInputChange(l[f.name],f,l,h),"onUpdate:modelValue":u=>l[f.name]=u},null,42,MS)),[[s.vModelDynamic,l[f.name]]]):s.createCommentVNode("",!0),f.input.type=="select"?s.withDirectives((s.openBlock(),s.createElementBlock("select",{key:2,class:s.normalizeClass(["form-select form-select-sm pe-0",o.getValueOrFunction(f.input.class,{column:f,item:l})]),onChange:u=>o.onRowInputChange(l[f.name],f,l,h),"onUpdate:modelValue":u=>l[f.name]=u},[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(f.input.options,u=>(s.openBlock(),s.createElementBlock("option",{value:u.value,key:u},s.toDisplayString(o.translate(u.label)),9,qS))),128))],42,RS)),[[s.vModelSelect,l[f.name]]]):s.createCommentVNode("",!0),f.input.suffix?(s.openBlock(),s.createElementBlock("span",{key:3,class:"input-group-text",innerHTML:o.getValueOrFunction(f.input.suffix,{column:f,item:l})},null,8,PS)):s.createCommentVNode("",!0)])):s.createCommentVNode("",!0),f.buttons?(s.openBlock(),s.createElementBlock("span",jS,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(f.buttons,u=>(s.openBlock(),s.createElementBlock("span",{key:u.action},[u.hidden?s.createCommentVNode("",!0):(s.openBlock(),s.createElementBlock("button",{key:0,type:"button",disabled:u.disabled!==void 0?o.getValueOrFunction(u.disabled):null,class:s.normalizeClass([u.class?o.getValueOrFunction(u.class,{button:u,column:f,item:l,table:this}):o.getButtonClassByAction(u.action)]),onClick:p=>o.tableAction(u,{column:f,item:l,index:h,$event:p})},[u.icon!==null?(s.openBlock(),s.createElementBlock("i",{key:0,class:s.normalizeClass([u.icon!==void 0?o.getValueOrFunction(u.icon,{button:u,column:f,item:l,table:this}):o.getButtonIconClassByAction(u.action)])},null,2)):s.createCommentVNode("",!0),u.template?(s.openBlock(),s.createElementBlock("span",{key:1,innerHTML:o.tableCellTemplate(u.template,l,h,f)},null,8,US)):(s.openBlock(),s.createElementBlock("span",HS,s.toDisplayString(o.translate(u.title)),1))],10,FS))]))),128))])):s.createCommentVNode("",!0)],14,OS))),128))]),n.settings.table.details&&r.details.indexOf(l[n.settings.pkey])>=0?(s.openBlock(),s.createElementBlock("tr",zS,[s.createElementVNode("td",{class:s.normalizeClass([n.settings.table.details.class]),colspan:n.settings.table.columns.length},[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(n.settings.table.details.fields,f=>(s.openBlock(),s.createElementBlock("div",{class:"m-0",key:f},[s.createElementVNode("div",KS,[s.createElementVNode("div",{class:s.normalizeClass(["col text-end",[f.class]])},[s.createElementVNode("label",GS,s.toDisplayString(f.label),1)],2),s.createElementVNode("div",{class:s.normalizeClass(["col",[f.input.class]])},[["select","textarea"].indexOf(f.input.type)<0?s.withDirectives((s.openBlock(),s.createElementBlock("input",{key:0,type:f.input.type,class:"form-control form-control-sm","onUpdate:modelValue":u=>l[f.name]=u,onChange:u=>o.onRowInputChange(l[f.name],f,l,h)},null,40,YS)),[[s.vModelDynamic,l[f.name]]]):s.createCommentVNode("",!0),f.input.type=="textarea"?s.withDirectives((s.openBlock(),s.createElementBlock("textarea",{key:1,class:"form-control form-control-sm",rows:"3","onUpdate:modelValue":u=>l[f.name]=u,onChange:u=>o.onRowInputChange(l[f.name],f,l,h)},`\r
                    `,40,XS)),[[s.vModelText,l[f.name]]]):s.createCommentVNode("",!0),f.input.type=="select"?s.withDirectives((s.openBlock(),s.createElementBlock("select",{key:2,class:"form-select form-select-sm pe-0","onUpdate:modelValue":u=>l[f.name]=u,onChange:u=>o.onRowInputChange(l[f.name],f,l,h)},[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(f.input.options,u=>(s.openBlock(),s.createElementBlock("option",{value:u.value,key:u},s.toDisplayString(o.translate(u.label)),9,QS))),128))],40,ZS)),[[s.vModelSelect,l[f.name]]]):s.createCommentVNode("",!0)],2)])]))),128)),s.createElementVNode("span",{innerHTML:n.settings.table.details.raw(l)},null,8,JS),n.settings.debug>1?(s.openBlock(),s.createElementBlock("pre",eO,"                  "+s.toDisplayString(l)+`
                `,1)):s.createCommentVNode("",!0)],10,WS)])):s.createCommentVNode("",!0)],64))),128))]),s.createElementVNode("tfoot",null,[r.selected.length>0?(s.openBlock(),s.createElementBlock("tr",tO,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(n.settings.table.columns,l=>(s.openBlock(),s.createElementBlock("td",{style:s.normalizeStyle([l.hidden?"display: none":""]),key:l.name,"data-label":l.title,width:l.width,class:s.normalizeClass(l.class)},[l.index?(s.openBlock(),s.createElementBlock("div",sO,[s.createElementVNode("span",{class:"cursor-pointer d-inline-block badge border badge-index-toggle active py-1 px-2 me-1 my-2 w-100",onClick:e[13]||(e[13]=h=>o.toggleSelectedAll())},s.toDisplayString(r.selected.length),1)])):s.createCommentVNode("",!0),l.input&&l.bulk&&l.bulk.enabled?(s.openBlock(),s.createElementBlock("div",iO,[["text","number","date","datetime-local"].indexOf(l.input.type)>=0?s.withDirectives((s.openBlock(),s.createElementBlock("input",{key:0,type:l.input.type,class:s.normalizeClass(["form-control form-control-sm",l.input.class]),disabled:r.bulkinputs.indexOf(l.name)<0,onChange:h=>o.onBulkInputChange(r.bulkitem[l.name],r.bulkitem,l),"onUpdate:modelValue":h=>r.bulkitem[l.name]=h},null,42,rO)),[[s.vModelDynamic,r.bulkitem[l.name]]]):s.createCommentVNode("",!0),l.input.type=="select"?s.withDirectives((s.openBlock(),s.createElementBlock("select",{key:1,class:s.normalizeClass(["form-select form-select-sm pe-0",l.input.class]),disabled:r.bulkinputs.indexOf(l.name)<0,onChange:h=>o.onBulkInputChange(r.bulkitem[l.name],r.bulkitem,l),"onUpdate:modelValue":h=>r.bulkitem[l.name]=h},[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(l.input.options,h=>(s.openBlock(),s.createElementBlock("option",{value:h.value,key:h},s.toDisplayString(o.translate(h.label)),9,aO))),128))],42,oO)),[[s.vModelSelect,r.bulkitem[l.name]]]):s.createCommentVNode("",!0),s.createElementVNode("span",{class:"input-group-text cursor-pointer",onClick:h=>o.ifBulkInputClick(l)},[r.bulkitem[l.name]===void 0?(s.openBlock(),s.createElementBlock("i",cO)):(s.openBlock(),s.createElementBlock("i",dO))],8,lO)])):s.createCommentVNode("",!0),l.bulk?(s.openBlock(),s.createElementBlock("span",hO,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(l.bulk.buttons,h=>(s.openBlock(),s.createElementBlock("span",{key:h.action},[s.createElementVNode("button",{type:"button",class:s.normalizeClass([h.class?h.class:o.getButtonClassByAction(h.action)]),disabled:h.action==="save"&&!this.bulkinputs.length,onClick:f=>o.tableBulkAction(h.action,r.bulkitem,l,f)},[h.icon!==null?(s.openBlock(),s.createElementBlock("i",{key:0,class:s.normalizeClass([h.icon!==void 0?o.getValueOrFunction(h.icon,{button:h,column:l,table:this}):o.getButtonIconClassByAction(h.action)])},null,2)):s.createCommentVNode("",!0),h.template?(s.openBlock(),s.createElementBlock("span",{key:1,innerHTML:o.tableCellTemplate(h.template,r.bulkitem,null,l)},null,8,fO)):(s.openBlock(),s.createElementBlock("span",mO,s.toDisplayString(o.translate(h.title)),1))],10,uO)]))),128))])):s.createCommentVNode("",!0)],14,nO))),128))])):s.createCommentVNode("",!0)])],2)):s.createCommentVNode("",!0),s.createVNode(a,{settings:n.settings,config:r.config,ui:r.ui,onSetPage:o.setPage,onSetPageLimit:o.setPageLimit,onTranslate:o.translate},null,8,["settings","config","ui","onSetPage","onSetPageLimit","onTranslate"])],10,ZA)):s.createCommentVNode("",!0),s.createElementVNode("div",{class:"modal shadow",id:r.modalId,tabindex:"-1"},[s.createElementVNode("div",gO,[s.createElementVNode("div",bO,[o.authAndSettings()&&n.settings.form.visible&&n.settings.form.groups?(s.openBlock(),s.createBlock(c,{key:0,modelValue:r.item,"onUpdate:modelValue":e[14]||(e[14]=l=>r.item=l),formid:r.formId,settings:n.settings,modalWindow:r.modalWindow,auth:n.auth,saveItem:o.saveItem,deleteItem:o.deleteItem,reloadTable:o.reloadTable,fetchRelation:o.fetchRelation},null,8,["modelValue","formid","settings","modalWindow","auth","saveItem","deleteItem","reloadTable","fetchRelation"])):s.createCommentVNode("",!0)])])],8,pO)])}const EO={name:"VuAdmin",props:{entity:{type:String,required:!0},auth:{type:Object}},init:t=>{},watch:{auth(t,e){t!=e&&this.$forceUpdate()}},data(){return{settings:void 0,defaults:{pkey:"id",theme:void 0,class:"my-1 p-3 rounded",init:null,language:document.documentElement?document.documentElement.lang:"hu",api:{auth:{},options:{},input:{item:void 0,items:void 0,total:void 0},output:{item:void 0,flatten:!0,fields:void 0}},translate:{hu:{Columns:"Oszlopok",All:"Mind",page:"oldal",row:"sor",hidden:"rejtett",First:"Els",Next:"Kvetkez",Prev:"Elz",Last:"Utols",Reload:"jratlts",New:"j",Active:"Aktv",Deleted:"Trlt",Copy:"Msols",Delete:"Trls",Close:"Bezr",Save:"Ments",Send:"Klds",Export:"Exportls","Select all":"Mind kivlaszt","Unselect all":"Mind trl","Invert all":"Kijellsek megfordtsa","Visible all":"Mind lthat","Hidden all":"Mind rejtett","Save and close":"Ment s bezr","=":"Egyenl",">":"Nagyobb",">=":"Nagyobb vagy egyenl","<":"Kisebb","<=":"Kisebb vagy egyenl","Are you sure you want to delete all selected items?":"Biztos hogy trlni akarod az sszes kivlasztott elemet?"}},events:{afterSettingsInit:void 0,beforeItemsLoad:void 0,afterItemsLoad:void 0,afterItemLoad:void 0,beforeItemSave:void 0,afterItemSave:void 0,beforeItemDelete:void 0,afterItemDelete:void 0,beforeBulkSave:void 0,afterBulkSave:void 0,beforeItemsExport:void 0},relations:{},table:{title:null,columns:[],pagination:{size:10,limit:10,limits:[10,20,50,100]},order:{},control:{},details:{},exports:{}},form:{}}}},created(){if(window.VuSettings&&window.VuSettings.entity[this.entity]){if(this.settings=ji(this.defaults,window.VuSettings.entity[this.entity]),this.settings.entity=this.entity,this.settings.preset=this.preset?this.preset:"default",!this.settings.theme){const t=document.documentElement.getAttribute("data-bs-theme");this.settings.theme=t||"light"}this.settings.events.afterSettingsInit&&this.settings.events.afterSettingsInit(this.settings),this.settings.debug&&(console.log("vu-admin ","1.2.84"),console.log(`Entity config (${this.entity}) initialized`),this.settings.debug>1&&console.log(this.settings))}else console.log("vu-admin ","1.2.84"),console.error(`Entity config (${this.entity}) not found`)},mounted(){},methods:{},components:{VuAdminTable:ot(XA,[["render",yO]])}},_O={key:0},wO=["data-bs-theme"];function kO(t,e,n,i,r,o){const a=s.resolveComponent("vu-admin-table");return t.entity&&t.settings?(s.openBlock(),s.createElementBlock("div",_O,[t.auth?(s.openBlock(),s.createElementBlock("div",{key:0,class:"vu-admin","data-bs-theme":[t.settings.theme]},[s.createVNode(a,{settings:t.settings,auth:t.auth},null,8,["settings","auth"])],8,wO)):s.createCommentVNode("",!0)])):s.createCommentVNode("",!0)}const cu=ot(EO,[["render",kO]]),NO=t=>{const e=new DataView(t);let n="";for(let i=0;i<e.byteLength;i+=4)n+=e.getUint32(i).toString(16).padStart(8,"0");return n},TO=(t=>async(e,{outputFormat:n="hex"}={})=>{typeof e=="string"&&(e=new globalThis.TextEncoder().encode(e));const i=await globalThis.crypto.subtle.digest(t,e);return n==="hex"?NO(i):i})("SHA-384");bo();const AO={name:"VuAuth",props:{modelValue:Object},data(){return{auth:void 0,username:"",password:"",password_again:"",accepts:{},inputs:{},recaptchaSiteKey:null,responseMessage:null,captcha:{items:["A","B","C","D","E"],required:"D",selected:null}}},watch:{modelValue(t,e){t!=e&&(this.auth=t,this.updateInputs(),this.$forceUpdate())}},methods:{updateInputs(){this.auth.inputs&&(this.inputs=Object.assign(this.inputs,this.auth.inputs))},checkStorage(){this.auth.user={},this.auth.user=JSON.parse(localStorage.getItem("vu-user")),this.auth.header=JSON.parse(localStorage.getItem("vu-header")),this.auth.user&&(this.auth.success=!0),this.$emit("update:modelValue",this.auth)},async handleSubmit(){if(this.auth.panel=="login"){this.handleLogin();return}if(this.auth.panel=="forgot"){this.handleForgotPasswordSubmit();return}if(this.auth.panel=="registration"){this.handleNewRegistrationSubmit();return}},async handleLogin(){if(!this.username||!this.password)return;const t=await fetch(this.settings.api.login,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:await this.hashPassword(this.password),accept:this.accepts})});if(t.ok){const e=await t.json();this.responseOk=!0,this.responseMessage="Sikeres bejelentkezs",this.login(e),this.close()}else this.responseOk=!1,this.auth.success=!1,this.responseMessage="Sikertelen bejelentkezs"},async handleNewRegistrationSubmit(){if(!this.username||!this.password||!this.password_again||this.password!=this.password_again)return;const t=await fetch(this.settings.api.register,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:await this.hashPassword(this.password),accept:this.accepts,input:this.inputs})});t.ok?(await t.json(),this.responseOk=!0,this.responseMessage="Sikeres regisztrci"):(this.responseOk=!1,this.responseMessage="Sikertelen regisztrci")},handleForgotPasswordSubmit(){console.log("Elfelejtett jelsz e-mail bekldve:",this.email),alert("E-mail elkldve a megadott cmre!"),this.reset()},async hashPassword(t){this.settings.password.hash=this.settings.password.hash===void 0?0:this.settings.password.hash;let e=t;for(let n=0;n<this.settings.password.hash;n++)e=await TO(e);return e},reset(){this.password="",this.password_again="",this.responseMessage="",this.responseOk=!1},close(){this.auth.visible=!1,this.$emit("update:modelValue",this.auth),this.reset()},toggleClear(){this.auth.panel="login",this.reset()},toggleForgotPassword(){this.auth.panel=this.auth.panel!=="forgot"?"forgot":"login",this.reset()},toggleNewRegistration(){this.auth.panel=this.auth.panel!=="registration"?"registration":"login",this.reset()},toggleHelp(){this.auth.panel=this.auth.panel!=="help"?"help":"login",this.reset()},toggleType(t){this.settings[t].type=this.settings[t].type!="password"?"password":"text",this.$forceUpdate()},onCaptchaClick(){console.log("reCAPTCHA clicked")},authUpdate(){this.$emit("update:modelValue",this.auth)},handleEscapeKey(t){t.key==="Escape"&&this.close()},login(t){this.settings.onsuccess&&(this.settings.onsuccess(t,this.auth),localStorage.setItem("vu-user",JSON.stringify(this.auth.user)),localStorage.setItem("vu-header",JSON.stringify(this.auth.header))),this.auth.success=!0,setTimeout(()=>{this.authUpdate(t),this.$forceUpdate()},0)},logout(){this.auth.success=!1,this.auth.header=null,this.auth.user=null,this.$emit("update:modelValue",this.auth),localStorage.removeItem("vu-user"),localStorage.removeItem("vu-header")},getValueOrFunction(t,e){return pn(t,e,this.settings,this)}},created(){window.VuSettings&&window.VuSettings.auth&&(this.settings=window.VuSettings.auth)},mounted(){if(window.addEventListener("keydown",this.handleEscapeKey),this.recaptchaSiteKey&&!document.querySelector('script[src="https://www.google.com/recaptcha/api.js"]')){const t=document.createElement("script");t.src="https://www.google.com/recaptcha/api.js",t.async=!0,t.defer=!0,document.head.appendChild(t)}this.settings.username.value&&(this.username=this.settings.username.value),this.auth||(this.auth={user:void 0,header:void 0,success:!1},this.authUpdate()),this.checkStorage(),this.reset(),this.updateInputs(),this.$forceUpdate()},beforeUnmount(){window.removeEventListener("keydown",this.handleEscapeKey)}},CO={key:0,class:"vua-auth"},SO={class:"col-12 col-sm-10 col-md-8 col-lg-6 col-xl-4 mx-auto"},OO={class:"text-center mt-2 mb-4"},LO={key:0},BO={key:1},VO={key:2},IO={key:3},xO={key:0},DO=["innerHTML"],vO={class:"d-flex justify-content-between"},$O={class:"mb-3"},MO={for:"email",class:"form-label text-primary"},RO={class:"input-group"},qO=["type","placeholder"],PO=["innerHTML"],jO={class:"mb-3"},FO={for:"password",class:"form-label text-primary"},UO={class:"input-group"},HO=["type","placeholder","pattern","minlength"],zO={key:0,class:"bi bi-eye"},WO={key:1,class:"bi bi-eye-slash"},KO=["innerHTML"],GO={key:0,class:"mb-4"},YO={for:"password_again",class:"form-label text-primary"},XO={key:0,class:"text-danger"},ZO={class:"input-group"},QO=["type","placeholder","minlength"],JO={key:0,class:"bi bi-eye"},e2={key:1,class:"bi bi-eye-slash"},t2=["innerHTML"],n2={class:"mb-3 text-center"},s2=["data-sitekey"],i2={key:1,class:"mb-4 text-center"},r2={key:2,class:"d-flex mb-4"},o2={key:3},a2={key:0},l2=["for","innerHTML"],c2={class:"input-group"},d2=["innerHTML"],h2=["required","onUpdate:modelValue","multiple"],u2=["value","innerHTML"],f2=["id","name","type","onUpdate:modelValue","placeholder","required"],m2=["innerHTML"],p2=["innerHTML"],g2={key:0,class:"form-check"},b2=["id","name","onUpdate:modelValue","required"],y2=["for","innerHTML"],E2={key:4,class:"mt-4"},_2=["innerHTML"],w2={class:"mt-4 d-flex justify-content-between"},k2={key:0,class:"bi bi-person-plus mx-1"},N2={key:1,class:"bi bi-arrow-right-square mx-1"},T2={key:5,class:"mt-3 text-center"},A2=["innerHTML"],C2={class:"mt-2 text-end"};function S2(t,e,n,i,r,o){return t.auth&&t.auth.visible?(s.openBlock(),s.createElementBlock("div",CO,[s.createElementVNode("div",{class:"row d-flex justify-content-center align-items-center min-vh-100",onClick:e[16]||(e[16]=s.withModifiers((...a)=>t.close&&t.close(...a),["stop"]))},[s.createElementVNode("div",SO,[s.createElementVNode("div",{class:"card shadow p-4 position-relative bg-light",onClick:e[15]||(e[15]=s.withModifiers(()=>{},["stop"]))},[s.createElementVNode("button",{type:"button",class:"btn position-absolute top-0 end-0 p-0 m-2",onClick:e[0]||(e[0]=s.withModifiers((...a)=>t.close&&t.close(...a),["stop"]))},e[17]||(e[17]=[s.createElementVNode("i",{class:"bi bi-x px-1 text-muted"},null,-1)])),s.createElementVNode("h1",OO,[t.auth.panel=="forgot"?(s.openBlock(),s.createElementBlock("span",LO," Elfelejtett jelsz ")):s.createCommentVNode("",!0),t.auth.panel=="registration"?(s.openBlock(),s.createElementBlock("span",BO," Regisztrci ")):s.createCommentVNode("",!0),t.auth.panel=="help"?(s.openBlock(),s.createElementBlock("span",VO," Segtsg ")):s.createCommentVNode("",!0),t.auth.panel=="login"?(s.openBlock(),s.createElementBlock("span",IO," Bejelentkezs ")):s.createCommentVNode("",!0)]),t.auth.panel=="help"?(s.openBlock(),s.createElementBlock("div",xO,[s.createElementVNode("div",{innerHTML:t.settings.help,class:"mb-4"},null,8,DO),s.createElementVNode("div",vO,[t.auth.panel!="login"?(s.openBlock(),s.createElementBlock("button",{key:0,type:"button",onClick:e[1]||(e[1]=s.withModifiers((...a)=>t.toggleClear&&t.toggleClear(...a),["stop"])),class:"btn btn-secondary w-100 me-1"},e[18]||(e[18]=[s.createElementVNode("i",{class:"bi bi-arrow-left-square mx-1"},null,-1),s.createTextVNode(" Vissza ")]))):s.createCommentVNode("",!0)])])):(s.openBlock(),s.createElementBlock("form",{key:1,onSubmit:e[13]||(e[13]=s.withModifiers(a=>t.handleSubmit(),["prevent"])),onClick:e[14]||(e[14]=s.withModifiers(()=>{},["stop"]))},[s.createElementVNode("div",$O,[s.createElementVNode("label",MO,s.toDisplayString(t.settings.username.label),1),s.createElementVNode("div",RO,[t.settings.username.icon?(s.openBlock(),s.createElementBlock("span",{key:0,class:s.normalizeClass(["input-group-text",{"rounded-bottom-0":t.settings.username.help}])},[s.createElementVNode("i",{class:s.normalizeClass([t.settings.username.icon])},null,2)],2)):s.createCommentVNode("",!0),s.withDirectives(s.createElementVNode("input",{id:"email",name:"email",type:t.settings.username.type,"onUpdate:modelValue":e[2]||(e[2]=a=>t.username=a),class:s.normalizeClass(["form-control",{"rounded-bottom-0":t.settings.username.help}]),placeholder:t.settings.username.placeholder,required:""},null,10,qO),[[s.vModelDynamic,t.username]])]),t.settings.username.help?(s.openBlock(),s.createElementBlock("small",{key:0,class:"d-block border border-top-0 rounded-bottom bg-light p-2 text-muted",innerHTML:t.settings.username.help},null,8,PO)):s.createCommentVNode("",!0)]),t.auth.panel!="forgot"?(s.openBlock(),s.createElementBlock(s.Fragment,{key:0},[s.createElementVNode("div",jO,[s.createElementVNode("label",FO,s.toDisplayString(t.settings.password.label),1),s.createElementVNode("div",UO,[t.settings.password.icon?(s.openBlock(),s.createElementBlock("span",{key:0,class:s.normalizeClass(["input-group-text",{"rounded-bottom-0":t.auth.panel=="registration"&&t.settings.password.help}])},[s.createElementVNode("i",{class:s.normalizeClass([t.settings.password.icon])},null,2)],2)):s.createCommentVNode("",!0),s.withDirectives(s.createElementVNode("input",{id:"password",name:"password",type:t.settings.password.type,"onUpdate:modelValue":e[3]||(e[3]=a=>t.password=a),class:s.normalizeClass(["form-control",{"rounded-bottom-0":t.auth.panel=="registration"&&t.settings.password.help}]),placeholder:t.settings.password.placeholder,pattern:t.settings.password.pattern,minlength:t.auth.panel=="registration"?t.settings.password.minlength:1,required:""},null,10,HO),[[s.vModelDynamic,t.password]]),t.auth.panel=="registration"?(s.openBlock(),s.createElementBlock("span",{key:1,class:s.normalizeClass(["input-group-text",{"rounded-bottom-0":t.auth.panel=="registration"&&t.settings.password.help}])},[s.createElementVNode("small",{class:s.normalizeClass(["",{"text-success":t.password.length>=t.settings.password.minlength,"text-danger":t.password.length<t.settings.password.minlength}])},s.toDisplayString(t.password.length),3)],2)):s.createCommentVNode("",!0),s.createElementVNode("span",{class:s.normalizeClass(["cursor-pointer input-group-text",{"rounded-bottom-0":t.auth.panel=="registration"&&t.settings.password.help}]),onClick:e[4]||(e[4]=s.withModifiers(a=>t.toggleType("password"),["stop"]))},[t.settings.password.type=="password"?(s.openBlock(),s.createElementBlock("i",zO)):(s.openBlock(),s.createElementBlock("i",WO))],2)]),t.auth.panel=="registration"&&t.settings.password.help?(s.openBlock(),s.createElementBlock("small",{key:0,class:"d-block border border-top-0 rounded-bottom bg-light p-2 text-muted",innerHTML:t.settings.password.help},null,8,KO)):s.createCommentVNode("",!0)]),t.auth.panel==="registration"?(s.openBlock(),s.createElementBlock("div",GO,[s.createElementVNode("label",YO,[s.createTextVNode(s.toDisplayString(t.settings.password_again.label)+" ",1),t.password_again.length>0&&t.password_again!=t.password?(s.openBlock(),s.createElementBlock("small",XO," ( a kt jelsz nem egyezik ) ")):s.createCommentVNode("",!0)]),s.createElementVNode("div",ZO,[t.settings.password.icon?(s.openBlock(),s.createElementBlock("span",{key:0,class:s.normalizeClass(["input-group-text",{"rounded-bottom-0":t.settings.password_again.help}])},[s.createElementVNode("i",{class:s.normalizeClass([t.settings.password_again.icon])},null,2)],2)):s.createCommentVNode("",!0),s.withDirectives(s.createElementVNode("input",{id:"password_again",name:"password_again",type:t.settings.password_again.type,"onUpdate:modelValue":e[5]||(e[5]=a=>t.password_again=a),class:s.normalizeClass(["form-control",{"rounded-bottom-0":t.settings.password_again.help}]),placeholder:t.settings.password_again.placeholder,minlength:t.settings.password.minlength,required:""},null,10,QO),[[s.vModelDynamic,t.password_again]]),s.createElementVNode("span",{class:s.normalizeClass(["input-group-text",{"rounded-bottom-0":t.settings.password_again.help}])},[s.createElementVNode("small",{class:s.normalizeClass(["",{"text-success":t.password_again.length>=t.settings.password.minlength,"text-danger":t.password_again.length<t.settings.password.minlength}])},s.toDisplayString(t.password_again.length),3)],2),s.createElementVNode("span",{class:s.normalizeClass(["cursor-pointer input-group-text",{"rounded-bottom-0":t.auth.panel=="registration"&&t.settings.password_again.help}]),onClick:e[6]||(e[6]=s.withModifiers(a=>t.toggleType("password_again"),["stop"]))},[t.settings.password_again.type=="password"?(s.openBlock(),s.createElementBlock("i",JO)):(s.openBlock(),s.createElementBlock("i",e2))],2)]),t.auth.panel=="registration"&&t.settings.password_again.help?(s.openBlock(),s.createElementBlock("small",{key:0,class:"d-block border border-top-0 rounded-bottom bg-light p-2 text-muted",innerHTML:t.settings.password_again.help},null,8,t2)):s.createCommentVNode("",!0)])):s.createCommentVNode("",!0),s.createElementVNode("div",n2,[s.createElementVNode("div",{class:"g-recaptcha","data-sitekey":t.recaptchaSiteKey,onClick:e[7]||(e[7]=s.withModifiers((...a)=>t.onCaptchaClick&&t.onCaptchaClick(...a),["stop"]))},null,8,s2)])],64)):s.createCommentVNode("",!0),t.auth.panel=="login"?(s.openBlock(),s.createElementBlock("div",i2,[s.createElementVNode("button",{type:"button",class:"btn btn-link p-0 text-decoration-none text-nowrap",onClick:e[8]||(e[8]=s.withModifiers((...a)=>t.toggleForgotPassword&&t.toggleForgotPassword(...a),["stop"]))}," Elfelejtetted a jelszavad? "),t.settings.help?(s.openBlock(),s.createElementBlock("button",{key:0,type:"button",class:"btn btn-link p-0 text-decoration-none text-nowrap",onClick:e[9]||(e[9]=s.withModifiers((...a)=>t.toggleHelp&&t.toggleHelp(...a),["stop"]))}," Segtsgre van szksged? ")):s.createCommentVNode("",!0)])):s.createCommentVNode("",!0),t.auth.panel=="forgot"?(s.openBlock(),s.createElementBlock("div",r2,e[19]||(e[19]=[s.createElementVNode("small",{class:"text-muted"}," A megadott e-mail cmre ( amennyiben az szerepel az adatbzisunkban ) egy levelet kldnk, melyben az j jelsz ignylse linkre kattintva egy weboldalra jutsz. Ott tudod megadni az j jelszavadat. Az e-mailben szerepl link csak 1 rig rvnyes. ",-1)]))):s.createCommentVNode("",!0),t.auth.panel=="registration"?(s.openBlock(),s.createElementBlock("div",o2,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(t.settings.inputs,(a,c)=>(s.openBlock(),s.createElementBlock("div",{key:c,class:"mb-4"},[a.hidden?s.createCommentVNode("",!0):(s.openBlock(),s.createElementBlock("div",a2,[s.createElementVNode("label",{for:c,class:"form-label text-primary",innerHTML:t.getValueOrFunction(a.label)},null,8,l2),s.createElementVNode("div",c2,[a.prefix?(s.openBlock(),s.createElementBlock("span",{key:0,class:s.normalizeClass(["input-group-text",{"rounded-bottom-0":a.help}]),innerHTML:t.getValueOrFunction(a.prefix)},null,10,d2)):s.createCommentVNode("",!0),a.type=="select"?s.withDirectives((s.openBlock(),s.createElementBlock("select",{key:1,class:"form-select",required:a.required,"onUpdate:modelValue":l=>t.inputs[c]=l,multiple:a.multiple},[e[20]||(e[20]=s.createElementVNode("option",null,null,-1)),(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(a.options,l=>(s.openBlock(),s.createElementBlock("option",{key:l,value:l.value,innerHTML:t.getValueOrFunction(l.label)},null,8,u2))),128))],8,h2)),[[s.vModelSelect,t.inputs[c]]]):s.withDirectives((s.openBlock(),s.createElementBlock("input",{key:2,id:c,name:c,type:a.type,"onUpdate:modelValue":l=>t.inputs[c]=l,class:s.normalizeClass(["form-control",{"rounded-bottom-0":a.help}]),placeholder:a.placeholder,required:a.required},null,10,f2)),[[s.vModelDynamic,t.inputs[c]]]),a.suffix?(s.openBlock(),s.createElementBlock("span",{key:3,class:s.normalizeClass(["input-group-text",{"rounded-bottom-0":a.help}]),innerHTML:t.getValueOrFunction(a.suffix)},null,10,m2)):s.createCommentVNode("",!0)]),a.help?(s.openBlock(),s.createElementBlock("small",{key:0,class:"d-block border border-top-0 rounded-bottom bg-light p-2 text-muted",innerHTML:t.getValueOrFunction(a.help)},null,8,p2)):s.createCommentVNode("",!0)]))]))),128))])):s.createCommentVNode("",!0),(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(t.settings.accepts,a=>(s.openBlock(),s.createElementBlock("div",{key:a},[a.panels.indexOf(t.auth.panel)>=0?(s.openBlock(),s.createElementBlock("div",g2,[s.withDirectives(s.createElementVNode("input",{type:"checkbox",class:"form-check-input",id:"accept_"+a.name,name:"accept_"+a.name,"onUpdate:modelValue":c=>t.accepts[a.name]=c,required:a.required},null,8,b2),[[s.vModelCheckbox,t.accepts[a.name]]]),s.createElementVNode("label",{class:"form-check-label",for:"accept_"+a.name,innerHTML:t.getValueOrFunction(a.label)},null,8,y2)])):s.createCommentVNode("",!0)]))),128)),t.auth.panel=="registration"&&t.settings.registration?(s.openBlock(),s.createElementBlock("div",E2,[t.settings.registration.help?(s.openBlock(),s.createElementBlock("div",{key:0,innerHTML:t.getValueOrFunction(t.settings.registration.help)},null,8,_2)):s.createCommentVNode("",!0)])):s.createCommentVNode("",!0),s.createElementVNode("div",w2,[t.auth.panel!="login"?(s.openBlock(),s.createElementBlock("button",{key:0,type:"button",onClick:e[10]||(e[10]=s.withModifiers((...a)=>t.toggleClear&&t.toggleClear(...a),["stop"])),class:"btn btn-secondary w-100 me-2 text-nowrap"},e[21]||(e[21]=[s.createElementVNode("i",{class:"bi bi-arrow-left-square mx-1"},null,-1),s.createTextVNode(" Bejelentkezs ")]))):s.createCommentVNode("",!0),t.auth.panel=="login"?(s.openBlock(),s.createElementBlock("button",{key:1,type:"button",class:"btn btn-warning w-100 me-2 text-nowrap",onClick:e[11]||(e[11]=s.withModifiers((...a)=>t.toggleNewRegistration&&t.toggleNewRegistration(...a),["stop"]))},e[22]||(e[22]=[s.createElementVNode("i",{class:"bi bi-person-plus mx-1"},null,-1),s.createTextVNode(" Regisztrci ")]))):s.createCommentVNode("",!0),s.createElementVNode("button",{type:"submit",class:s.normalizeClass(["btn w-100 text-nowrap",{"btn-primary":t.auth.panel!="registration","btn-warning":t.auth.panel=="registration"}])},[s.createTextVNode(s.toDisplayString(t.auth.panel=="forgot"?"j jelsz krse":t.auth.panel=="registration"?"Regisztrci":"Bejelentkezs")+" ",1),t.auth.panel=="registration"?(s.openBlock(),s.createElementBlock("i",k2)):(s.openBlock(),s.createElementBlock("i",N2))],2)]),t.responseMessage?(s.openBlock(),s.createElementBlock("div",T2,[s.createElementVNode("div",{class:s.normalizeClass({"text-danger":!t.responseOk,"text-success":t.responseOk}),innerHTML:t.responseMessage},null,10,A2)])):s.createCommentVNode("",!0),s.createElementVNode("div",C2,[s.createElementVNode("button",{type:"button",onClick:e[12]||(e[12]=s.withModifiers((...a)=>t.close&&t.close(...a),["stop"])),class:"btn btn-light border w-100 me-1"},e[23]||(e[23]=[s.createElementVNode("i",{class:"bi bi-x-square mx-1"},null,-1),s.createTextVNode(" Mgsem ")]))])],32))])])])])):s.createCommentVNode("",!0)}const du=ot(AO,[["render",S2]]);bo();const O2={name:"VuUserButton",props:{modelValue:Object,panel:String},data(){return{auth:{},settings:{}}},watch:{modelValue(t,e){t!=e&&(this.auth=t,this.$forceUpdate())}},computed:{},methods:{getValueOrFunction(t,e){return pn(t,e,this.settings,this)},dropdownAction(t,e){e&&e.stopPropagation();let n={dropdown:t,settings:this.settings};if(t.action){t.action(n,this);return}},updateAuth(){this.$emit("update:modelValue",this.auth)},togglePanel(){this.auth.visible=!this.auth.visible,this.auth.panel=this.panel?this.panel:"login",this.updateAuth()},logout(){this.auth.visible=!1,this.auth.user=null,this.auth.header=null,this.auth.success=!1,localStorage.removeItem("vu-header"),localStorage.removeItem("vu-user"),this.updateAuth()}},created(){window.VuSettings&&window.VuSettings.button&&window.VuSettings.button[this.panel]&&(this.settings=window.VuSettings.button[this.panel])},mounted(){}},L2={key:0,class:"vua-user-button d-inline-block"},B2={key:0,class:"dropdown"},V2=["innerHTML"],I2={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"userDropdown"},x2=["onClick","innerHTML"],D2={key:1,class:"d-inline-block"},v2=["innerHTML"];function $2(t,e,n,i,r,o){return!t.auth.user&&t.panel!="login"||t.panel=="login"?(s.openBlock(),s.createElementBlock("div",L2,[t.auth.user?(s.openBlock(),s.createElementBlock("div",B2,[s.createElementVNode("button",{class:s.normalizeClass(["dropdown-toggle",[t.settings.class]]),type:"button",id:"userDropdown","data-bs-toggle":"dropdown","aria-expanded":"false"},[s.createElementVNode("span",{innerHTML:t.getValueOrFunction(t.settings.label)},null,8,V2)],2),s.createElementVNode("ul",I2,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(t.settings.dropdowns,a=>(s.openBlock(),s.createElementBlock("li",{key:a,class:s.normalizeClass([a.class]),onClick:c=>t.dropdownAction(a),innerHTML:t.getValueOrFunction(a.label)},null,10,x2))),128))])])):(s.openBlock(),s.createElementBlock("div",D2,[s.createElementVNode("button",{class:s.normalizeClass([t.settings.class]),type:"button",onClick:e[0]||(e[0]=(...a)=>t.togglePanel&&t.togglePanel(...a))},[t.settings.icon?(s.openBlock(),s.createElementBlock("i",{key:0,class:s.normalizeClass([t.settings.icon])},null,2)):s.createCommentVNode("",!0),s.createElementVNode("span",{innerHTML:t.getValueOrFunction(t.settings.label)},null,8,v2)],2)]))])):s.createCommentVNode("",!0)}const hu=ot(O2,[["render",$2]]),M2={install(t){t.component("VuAdmin",cu),t.component("VuAuth",du),t.component("VuUserButton",hu)}};fe.VuAdmin=cu,fe.VuAuth=du,fe.VuUserButton=hu,fe.default=M2,Object.defineProperties(fe,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
