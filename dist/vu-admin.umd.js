(function(W,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],o):(W=typeof globalThis<"u"?globalThis:W||self,o(W.VuAdmin={},W.Vue))})(this,function(W,o){"use strict";var BC=Object.defineProperty;var IC=(W,o,X)=>o in W?BC(W,o,{enumerable:!0,configurable:!0,writable:!0,value:X}):W[o]=X;var L=(W,o,X)=>IC(W,typeof o!="symbol"?o+"":o,X);var X="top",Nt="bottom",At="right",ft="left",mi="auto",Bn=[X,Nt,At,ft],Je="start",In="end",dl="clippingParents",vr="viewport",Dn="popper",hl="reference",Sr=Bn.reduce(function(n,t){return n.concat([t+"-"+Je,t+"-"+In])},[]),Or=[].concat(Bn,[mi]).reduce(function(n,t){return n.concat([t,t+"-"+Je,t+"-"+In])},[]),ul="beforeRead",fl="read",pl="afterRead",ml="beforeMain",gl="main",bl="afterMain",yl="beforeWrite",El="write",_l="afterWrite",Tl=[ul,fl,pl,ml,gl,bl,yl,El,_l];function Jt(n){return n?(n.nodeName||"").toLowerCase():null}function wt(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function tn(n){var t=wt(n).Element;return n instanceof t||n instanceof Element}function vt(n){var t=wt(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function Lr(n){if(typeof ShadowRoot>"u")return!1;var t=wt(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function fu(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var s=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];!vt(r)||!Jt(r)||(Object.assign(r.style,s),Object.keys(i).forEach(function(a){var d=i[a];d===!1?r.removeAttribute(a):r.setAttribute(a,d===!0?"":d)}))})}function pu(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(s){var i=t.elements[s],r=t.attributes[s]||{},a=Object.keys(t.styles.hasOwnProperty(s)?t.styles[s]:e[s]),d=a.reduce(function(l,c){return l[c]="",l},{});!vt(i)||!Jt(i)||(Object.assign(i.style,d),Object.keys(r).forEach(function(l){i.removeAttribute(l)}))})}}const xr={name:"applyStyles",enabled:!0,phase:"write",fn:fu,effect:pu,requires:["computeStyles"]};function te(n){return n.split("-")[0]}var en=Math.max,gi=Math.min,Rn=Math.round;function Br(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Nl(){return!/^((?!chrome|android).)*safari/i.test(Br())}function Vn(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var s=n.getBoundingClientRect(),i=1,r=1;t&&vt(n)&&(i=n.offsetWidth>0&&Rn(s.width)/n.offsetWidth||1,r=n.offsetHeight>0&&Rn(s.height)/n.offsetHeight||1);var a=tn(n)?wt(n):window,d=a.visualViewport,l=!Nl()&&e,c=(s.left+(l&&d?d.offsetLeft:0))/i,u=(s.top+(l&&d?d.offsetTop:0))/r,p=s.width/i,m=s.height/r;return{width:p,height:m,top:u,right:c+p,bottom:u+m,left:c,x:c,y:u}}function Ir(n){var t=Vn(n),e=n.offsetWidth,s=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:s}}function Al(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&Lr(e)){var s=t;do{if(s&&n.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function pe(n){return wt(n).getComputedStyle(n)}function mu(n){return["table","td","th"].indexOf(Jt(n))>=0}function Be(n){return((tn(n)?n.ownerDocument:n.document)||window.document).documentElement}function bi(n){return Jt(n)==="html"?n:n.assignedSlot||n.parentNode||(Lr(n)?n.host:null)||Be(n)}function wl(n){return!vt(n)||pe(n).position==="fixed"?null:n.offsetParent}function gu(n){var t=/firefox/i.test(Br()),e=/Trident/i.test(Br());if(e&&vt(n)){var s=pe(n);if(s.position==="fixed")return null}var i=bi(n);for(Lr(i)&&(i=i.host);vt(i)&&["html","body"].indexOf(Jt(i))<0;){var r=pe(i);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return i;i=i.parentNode}return null}function _s(n){for(var t=wt(n),e=wl(n);e&&mu(e)&&pe(e).position==="static";)e=wl(e);return e&&(Jt(e)==="html"||Jt(e)==="body"&&pe(e).position==="static")?t:e||gu(n)||t}function Dr(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Ts(n,t,e){return en(n,gi(t,e))}function bu(n,t,e){var s=Ts(n,t,e);return s>e?e:s}function kl(){return{top:0,right:0,bottom:0,left:0}}function Cl(n){return Object.assign({},kl(),n)}function vl(n,t){return t.reduce(function(e,s){return e[s]=n,e},{})}var yu=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,Cl(typeof t!="number"?t:vl(t,Bn))};function Eu(n){var t,e=n.state,s=n.name,i=n.options,r=e.elements.arrow,a=e.modifiersData.popperOffsets,d=te(e.placement),l=Dr(d),c=[ft,At].indexOf(d)>=0,u=c?"height":"width";if(!(!r||!a)){var p=yu(i.padding,e),m=Ir(r),g=l==="y"?X:ft,y=l==="y"?Nt:At,E=e.rects.reference[u]+e.rects.reference[l]-a[l]-e.rects.popper[u],_=a[l]-e.rects.reference[l],T=_s(r),w=T?l==="y"?T.clientHeight||0:T.clientWidth||0:0,k=E/2-_/2,v=p[g],S=w-m[u]-p[y],O=w/2-m[u]/2+k,D=Ts(v,O,S),M=l;e.modifiersData[s]=(t={},t[M]=D,t.centerOffset=D-O,t)}}function _u(n){var t=n.state,e=n.options,s=e.element,i=s===void 0?"[data-popper-arrow]":s;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||Al(t.elements.popper,i)&&(t.elements.arrow=i))}const Sl={name:"arrow",enabled:!0,phase:"main",fn:Eu,effect:_u,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Mn(n){return n.split("-")[1]}var Tu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nu(n,t){var e=n.x,s=n.y,i=t.devicePixelRatio||1;return{x:Rn(e*i)/i||0,y:Rn(s*i)/i||0}}function Ol(n){var t,e=n.popper,s=n.popperRect,i=n.placement,r=n.variation,a=n.offsets,d=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,p=n.isFixed,m=a.x,g=m===void 0?0:m,y=a.y,E=y===void 0?0:y,_=typeof u=="function"?u({x:g,y:E}):{x:g,y:E};g=_.x,E=_.y;var T=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),k=ft,v=X,S=window;if(c){var O=_s(e),D="clientHeight",M="clientWidth";if(O===wt(e)&&(O=Be(e),pe(O).position!=="static"&&d==="absolute"&&(D="scrollHeight",M="scrollWidth")),O=O,i===X||(i===ft||i===At)&&r===In){v=Nt;var H=p&&O===S&&S.visualViewport?S.visualViewport.height:O[D];E-=H-s.height,E*=l?1:-1}if(i===ft||(i===X||i===Nt)&&r===In){k=At;var z=p&&O===S&&S.visualViewport?S.visualViewport.width:O[M];g-=z-s.width,g*=l?1:-1}}var Y=Object.assign({position:d},c&&Tu),tt=u===!0?Nu({x:g,y:E},wt(e)):{x:g,y:E};if(g=tt.x,E=tt.y,l){var Z;return Object.assign({},Y,(Z={},Z[v]=w?"0":"",Z[k]=T?"0":"",Z.transform=(S.devicePixelRatio||1)<=1?"translate("+g+"px, "+E+"px)":"translate3d("+g+"px, "+E+"px, 0)",Z))}return Object.assign({},Y,(t={},t[v]=w?E+"px":"",t[k]=T?g+"px":"",t.transform="",t))}function Au(n){var t=n.state,e=n.options,s=e.gpuAcceleration,i=s===void 0?!0:s,r=e.adaptive,a=r===void 0?!0:r,d=e.roundOffsets,l=d===void 0?!0:d,c={placement:te(t.placement),variation:Mn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Ol(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ol(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Rr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Au,data:{}};var yi={passive:!0};function wu(n){var t=n.state,e=n.instance,s=n.options,i=s.scroll,r=i===void 0?!0:i,a=s.resize,d=a===void 0?!0:a,l=wt(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach(function(u){u.addEventListener("scroll",e.update,yi)}),d&&l.addEventListener("resize",e.update,yi),function(){r&&c.forEach(function(u){u.removeEventListener("scroll",e.update,yi)}),d&&l.removeEventListener("resize",e.update,yi)}}const Vr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wu,data:{}};var ku={left:"right",right:"left",bottom:"top",top:"bottom"};function Ei(n){return n.replace(/left|right|bottom|top/g,function(t){return ku[t]})}var Cu={start:"end",end:"start"};function Ll(n){return n.replace(/start|end/g,function(t){return Cu[t]})}function Mr(n){var t=wt(n),e=t.pageXOffset,s=t.pageYOffset;return{scrollLeft:e,scrollTop:s}}function qr(n){return Vn(Be(n)).left+Mr(n).scrollLeft}function vu(n,t){var e=wt(n),s=Be(n),i=e.visualViewport,r=s.clientWidth,a=s.clientHeight,d=0,l=0;if(i){r=i.width,a=i.height;var c=Nl();(c||!c&&t==="fixed")&&(d=i.offsetLeft,l=i.offsetTop)}return{width:r,height:a,x:d+qr(n),y:l}}function Su(n){var t,e=Be(n),s=Mr(n),i=(t=n.ownerDocument)==null?void 0:t.body,r=en(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=en(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),d=-s.scrollLeft+qr(n),l=-s.scrollTop;return pe(i||e).direction==="rtl"&&(d+=en(e.clientWidth,i?i.clientWidth:0)-r),{width:r,height:a,x:d,y:l}}function $r(n){var t=pe(n),e=t.overflow,s=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+i+s)}function xl(n){return["html","body","#document"].indexOf(Jt(n))>=0?n.ownerDocument.body:vt(n)&&$r(n)?n:xl(bi(n))}function Ns(n,t){var e;t===void 0&&(t=[]);var s=xl(n),i=s===((e=n.ownerDocument)==null?void 0:e.body),r=wt(s),a=i?[r].concat(r.visualViewport||[],$r(s)?s:[]):s,d=t.concat(a);return i?d:d.concat(Ns(bi(a)))}function Pr(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Ou(n,t){var e=Vn(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function Bl(n,t,e){return t===vr?Pr(vu(n,e)):tn(t)?Ou(t,e):Pr(Su(Be(n)))}function Lu(n){var t=Ns(bi(n)),e=["absolute","fixed"].indexOf(pe(n).position)>=0,s=e&&vt(n)?_s(n):n;return tn(s)?t.filter(function(i){return tn(i)&&Al(i,s)&&Jt(i)!=="body"}):[]}function xu(n,t,e,s){var i=t==="clippingParents"?Lu(n):[].concat(t),r=[].concat(i,[e]),a=r[0],d=r.reduce(function(l,c){var u=Bl(n,c,s);return l.top=en(u.top,l.top),l.right=gi(u.right,l.right),l.bottom=gi(u.bottom,l.bottom),l.left=en(u.left,l.left),l},Bl(n,a,s));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function Il(n){var t=n.reference,e=n.element,s=n.placement,i=s?te(s):null,r=s?Mn(s):null,a=t.x+t.width/2-e.width/2,d=t.y+t.height/2-e.height/2,l;switch(i){case X:l={x:a,y:t.y-e.height};break;case Nt:l={x:a,y:t.y+t.height};break;case At:l={x:t.x+t.width,y:d};break;case ft:l={x:t.x-e.width,y:d};break;default:l={x:t.x,y:t.y}}var c=i?Dr(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(r){case Je:l[c]=l[c]-(t[u]/2-e[u]/2);break;case In:l[c]=l[c]+(t[u]/2-e[u]/2);break}}return l}function qn(n,t){t===void 0&&(t={});var e=t,s=e.placement,i=s===void 0?n.placement:s,r=e.strategy,a=r===void 0?n.strategy:r,d=e.boundary,l=d===void 0?dl:d,c=e.rootBoundary,u=c===void 0?vr:c,p=e.elementContext,m=p===void 0?Dn:p,g=e.altBoundary,y=g===void 0?!1:g,E=e.padding,_=E===void 0?0:E,T=Cl(typeof _!="number"?_:vl(_,Bn)),w=m===Dn?hl:Dn,k=n.rects.popper,v=n.elements[y?w:m],S=xu(tn(v)?v:v.contextElement||Be(n.elements.popper),l,u,a),O=Vn(n.elements.reference),D=Il({reference:O,element:k,strategy:"absolute",placement:i}),M=Pr(Object.assign({},k,D)),H=m===Dn?M:O,z={top:S.top-H.top+T.top,bottom:H.bottom-S.bottom+T.bottom,left:S.left-H.left+T.left,right:H.right-S.right+T.right},Y=n.modifiersData.offset;if(m===Dn&&Y){var tt=Y[i];Object.keys(z).forEach(function(Z){var Vt=[At,Nt].indexOf(Z)>=0?1:-1,Mt=[X,Nt].indexOf(Z)>=0?"y":"x";z[Z]+=tt[Mt]*Vt})}return z}function Bu(n,t){t===void 0&&(t={});var e=t,s=e.placement,i=e.boundary,r=e.rootBoundary,a=e.padding,d=e.flipVariations,l=e.allowedAutoPlacements,c=l===void 0?Or:l,u=Mn(s),p=u?d?Sr:Sr.filter(function(y){return Mn(y)===u}):Bn,m=p.filter(function(y){return c.indexOf(y)>=0});m.length===0&&(m=p);var g=m.reduce(function(y,E){return y[E]=qn(n,{placement:E,boundary:i,rootBoundary:r,padding:a})[te(E)],y},{});return Object.keys(g).sort(function(y,E){return g[y]-g[E]})}function Iu(n){if(te(n)===mi)return[];var t=Ei(n);return[Ll(n),t,Ll(t)]}function Du(n){var t=n.state,e=n.options,s=n.name;if(!t.modifiersData[s]._skip){for(var i=e.mainAxis,r=i===void 0?!0:i,a=e.altAxis,d=a===void 0?!0:a,l=e.fallbackPlacements,c=e.padding,u=e.boundary,p=e.rootBoundary,m=e.altBoundary,g=e.flipVariations,y=g===void 0?!0:g,E=e.allowedAutoPlacements,_=t.options.placement,T=te(_),w=T===_,k=l||(w||!y?[Ei(_)]:Iu(_)),v=[_].concat(k).reduce(function(Xt,$){return Xt.concat(te($)===mi?Bu(t,{placement:$,boundary:u,rootBoundary:p,padding:c,flipVariations:y,allowedAutoPlacements:E}):$)},[]),S=t.rects.reference,O=t.rects.popper,D=new Map,M=!0,H=v[0],z=0;z<v.length;z++){var Y=v[z],tt=te(Y),Z=Mn(Y)===Je,Vt=[X,Nt].indexOf(tt)>=0,Mt=Vt?"width":"height",it=qn(t,{placement:Y,boundary:u,rootBoundary:p,altBoundary:m,padding:c}),mt=Vt?Z?At:ft:Z?Nt:X;S[Mt]>O[Mt]&&(mt=Ei(mt));var We=Ei(mt),Yt=[];if(r&&Yt.push(it[tt]<=0),d&&Yt.push(it[mt]<=0,it[We]<=0),Yt.every(function(Xt){return Xt})){H=Y,M=!1;break}D.set(Y,Yt)}if(M)for(var P=y?3:1,En=function($){var le=v.find(function(Ke){var et=D.get(Ke);if(et)return et.slice(0,$).every(function(Ge){return Ge})});if(le)return H=le,"break"},we=P;we>0;we--){var ct=En(we);if(ct==="break")break}t.placement!==H&&(t.modifiersData[s]._skip=!0,t.placement=H,t.reset=!0)}}const Dl={name:"flip",enabled:!0,phase:"main",fn:Du,requiresIfExists:["offset"],data:{_skip:!1}};function Rl(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function Vl(n){return[X,At,Nt,ft].some(function(t){return n[t]>=0})}function Ru(n){var t=n.state,e=n.name,s=t.rects.reference,i=t.rects.popper,r=t.modifiersData.preventOverflow,a=qn(t,{elementContext:"reference"}),d=qn(t,{altBoundary:!0}),l=Rl(a,s),c=Rl(d,i,r),u=Vl(l),p=Vl(c);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":p})}const Ml={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ru};function Vu(n,t,e){var s=te(n),i=[ft,X].indexOf(s)>=0?-1:1,r=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,a=r[0],d=r[1];return a=a||0,d=(d||0)*i,[ft,At].indexOf(s)>=0?{x:d,y:a}:{x:a,y:d}}function Mu(n){var t=n.state,e=n.options,s=n.name,i=e.offset,r=i===void 0?[0,0]:i,a=Or.reduce(function(u,p){return u[p]=Vu(p,t.rects,r),u},{}),d=a[t.placement],l=d.x,c=d.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[s]=a}const ql={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Mu};function qu(n){var t=n.state,e=n.name;t.modifiersData[e]=Il({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const jr={name:"popperOffsets",enabled:!0,phase:"read",fn:qu,data:{}};function $u(n){return n==="x"?"y":"x"}function Pu(n){var t=n.state,e=n.options,s=n.name,i=e.mainAxis,r=i===void 0?!0:i,a=e.altAxis,d=a===void 0?!1:a,l=e.boundary,c=e.rootBoundary,u=e.altBoundary,p=e.padding,m=e.tether,g=m===void 0?!0:m,y=e.tetherOffset,E=y===void 0?0:y,_=qn(t,{boundary:l,rootBoundary:c,padding:p,altBoundary:u}),T=te(t.placement),w=Mn(t.placement),k=!w,v=Dr(T),S=$u(v),O=t.modifiersData.popperOffsets,D=t.rects.reference,M=t.rects.popper,H=typeof E=="function"?E(Object.assign({},t.rects,{placement:t.placement})):E,z=typeof H=="number"?{mainAxis:H,altAxis:H}:Object.assign({mainAxis:0,altAxis:0},H),Y=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,tt={x:0,y:0};if(O){if(r){var Z,Vt=v==="y"?X:ft,Mt=v==="y"?Nt:At,it=v==="y"?"height":"width",mt=O[v],We=mt+_[Vt],Yt=mt-_[Mt],P=g?-M[it]/2:0,En=w===Je?D[it]:M[it],we=w===Je?-M[it]:-D[it],ct=t.elements.arrow,Xt=g&&ct?Ir(ct):{width:0,height:0},$=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:kl(),le=$[Vt],Ke=$[Mt],et=Ts(0,D[it],Xt[it]),Ge=k?D[it]/2-P-et-le-z.mainAxis:En-et-le-z.mainAxis,ls=k?-D[it]/2+P+et+Ke+z.mainAxis:we+et+Ke+z.mainAxis,ke=t.elements.arrow&&_s(t.elements.arrow),_n=ke?v==="y"?ke.clientTop||0:ke.clientLeft||0:0,Tn=(Z=Y==null?void 0:Y[v])!=null?Z:0,Nn=mt+Ge-Tn-_n,cs=mt+ls-Tn,Ye=Ts(g?gi(We,Nn):We,mt,g?en(Yt,cs):Yt);O[v]=Ye,tt[v]=Ye-mt}if(d){var An,Js=v==="x"?X:ft,ti=v==="x"?Nt:At,yt=O[S],ce=S==="y"?"height":"width",wn=yt+_[Js],kn=yt-_[ti],Et=[X,ft].indexOf(T)!==-1,Ce=(An=Y==null?void 0:Y[S])!=null?An:0,ds=Et?wn:yt-D[ce]-M[ce]-Ce+z.altAxis,de=Et?yt+D[ce]+M[ce]-Ce-z.altAxis:kn,ve=g&&Et?bu(ds,yt,de):Ts(g?ds:wn,yt,g?de:kn);O[S]=ve,tt[S]=ve-yt}t.modifiersData[s]=tt}}const $l={name:"preventOverflow",enabled:!0,phase:"main",fn:Pu,requiresIfExists:["offset"]};function ju(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Fu(n){return n===wt(n)||!vt(n)?Mr(n):ju(n)}function Uu(n){var t=n.getBoundingClientRect(),e=Rn(t.width)/n.offsetWidth||1,s=Rn(t.height)/n.offsetHeight||1;return e!==1||s!==1}function Hu(n,t,e){e===void 0&&(e=!1);var s=vt(t),i=vt(t)&&Uu(t),r=Be(t),a=Vn(n,i,e),d={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(s||!s&&!e)&&((Jt(t)!=="body"||$r(r))&&(d=Fu(t)),vt(t)?(l=Vn(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=qr(r))),{x:a.left+d.scrollLeft-l.x,y:a.top+d.scrollTop-l.y,width:a.width,height:a.height}}function zu(n){var t=new Map,e=new Set,s=[];n.forEach(function(r){t.set(r.name,r)});function i(r){e.add(r.name);var a=[].concat(r.requires||[],r.requiresIfExists||[]);a.forEach(function(d){if(!e.has(d)){var l=t.get(d);l&&i(l)}}),s.push(r)}return n.forEach(function(r){e.has(r.name)||i(r)}),s}function Wu(n){var t=zu(n);return Tl.reduce(function(e,s){return e.concat(t.filter(function(i){return i.phase===s}))},[])}function Ku(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function Gu(n){var t=n.reduce(function(e,s){var i=e[s.name];return e[s.name]=i?Object.assign({},i,s,{options:Object.assign({},i.options,s.options),data:Object.assign({},i.data,s.data)}):s,e},{});return Object.keys(t).map(function(e){return t[e]})}var Pl={placement:"bottom",modifiers:[],strategy:"absolute"};function jl(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function _i(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,s=e===void 0?[]:e,i=t.defaultOptions,r=i===void 0?Pl:i;return function(d,l,c){c===void 0&&(c=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Pl,r),modifiersData:{},elements:{reference:d,popper:l},attributes:{},styles:{}},p=[],m=!1,g={state:u,setOptions:function(T){var w=typeof T=="function"?T(u.options):T;E(),u.options=Object.assign({},r,u.options,w),u.scrollParents={reference:tn(d)?Ns(d):d.contextElement?Ns(d.contextElement):[],popper:Ns(l)};var k=Wu(Gu([].concat(s,u.options.modifiers)));return u.orderedModifiers=k.filter(function(v){return v.enabled}),y(),g.update()},forceUpdate:function(){if(!m){var T=u.elements,w=T.reference,k=T.popper;if(jl(w,k)){u.rects={reference:Hu(w,_s(k),u.options.strategy==="fixed"),popper:Ir(k)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(z){return u.modifiersData[z.name]=Object.assign({},z.data)});for(var v=0;v<u.orderedModifiers.length;v++){if(u.reset===!0){u.reset=!1,v=-1;continue}var S=u.orderedModifiers[v],O=S.fn,D=S.options,M=D===void 0?{}:D,H=S.name;typeof O=="function"&&(u=O({state:u,options:M,name:H,instance:g})||u)}}}},update:Ku(function(){return new Promise(function(_){g.forceUpdate(),_(u)})}),destroy:function(){E(),m=!0}};if(!jl(d,l))return g;g.setOptions(c).then(function(_){!m&&c.onFirstUpdate&&c.onFirstUpdate(_)});function y(){u.orderedModifiers.forEach(function(_){var T=_.name,w=_.options,k=w===void 0?{}:w,v=_.effect;if(typeof v=="function"){var S=v({state:u,name:T,instance:g,options:k}),O=function(){};p.push(S||O)}})}function E(){p.forEach(function(_){return _()}),p=[]}return g}}var Yu=_i(),Xu=[Vr,jr,Rr,xr],Zu=_i({defaultModifiers:Xu}),Qu=[Vr,jr,Rr,xr,ql,Dl,$l,Sl,Ml],Fr=_i({defaultModifiers:Qu});const Fl=Object.freeze(Object.defineProperty({__proto__:null,afterMain:bl,afterRead:pl,afterWrite:_l,applyStyles:xr,arrow:Sl,auto:mi,basePlacements:Bn,beforeMain:ml,beforeRead:ul,beforeWrite:yl,bottom:Nt,clippingParents:dl,computeStyles:Rr,createPopper:Fr,createPopperBase:Yu,createPopperLite:Zu,detectOverflow:qn,end:In,eventListeners:Vr,flip:Dl,hide:Ml,left:ft,main:gl,modifierPhases:Tl,offset:ql,placements:Or,popper:Dn,popperGenerator:_i,popperOffsets:jr,preventOverflow:$l,read:fl,reference:hl,right:At,start:Je,top:X,variationPlacements:Sr,viewport:vr,write:El},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Ie=new Map,Ur={set(n,t,e){Ie.has(n)||Ie.set(n,new Map);const s=Ie.get(n);if(!s.has(t)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(t,e)},get(n,t){return Ie.has(n)&&Ie.get(n).get(t)||null},remove(n,t){if(!Ie.has(n))return;const e=Ie.get(n);e.delete(t),e.size===0&&Ie.delete(n)}},Ju=1e6,tf=1e3,Hr="transitionend",Ul=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),n),ef=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),nf=n=>{do n+=Math.floor(Math.random()*Ju);while(document.getElementById(n));return n},sf=n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const s=Number.parseFloat(t),i=Number.parseFloat(e);return!s&&!i?0:(t=t.split(",")[0],e=e.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(e))*tf)},Hl=n=>{n.dispatchEvent(new Event(Hr))},me=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),De=n=>me(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(Ul(n)):null,$n=n=>{if(!me(n)||n.getClientRects().length===0)return!1;const t=getComputedStyle(n).getPropertyValue("visibility")==="visible",e=n.closest("details:not([open])");if(!e)return t;if(e!==n){const s=n.closest("summary");if(s&&s.parentNode!==e||s===null)return!1}return t},Re=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",zl=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?zl(n.parentNode):null},Ti=()=>{},As=n=>{n.offsetHeight},Wl=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,zr=[],rf=n=>{document.readyState==="loading"?(zr.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of zr)t()}),zr.push(n)):n()},St=()=>document.documentElement.dir==="rtl",Ot=n=>{rf(()=>{const t=Wl();if(t){const e=n.NAME,s=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=s,n.jQueryInterface)}})},bt=(n,t=[],e=n)=>typeof n=="function"?n(...t):e,Kl=(n,t,e=!0)=>{if(!e){bt(n);return}const i=sf(t)+5;let r=!1;const a=({target:d})=>{d===t&&(r=!0,t.removeEventListener(Hr,a),bt(n))};t.addEventListener(Hr,a),setTimeout(()=>{r||Hl(t)},i)},Wr=(n,t,e,s)=>{const i=n.length;let r=n.indexOf(t);return r===-1?!e&&s?n[i-1]:n[0]:(r+=e?1:-1,s&&(r=(r+i)%i),n[Math.max(0,Math.min(r,i-1))])},of=/[^.]*(?=\..*)\.|.*/,af=/\..*/,lf=/::\d+$/,Kr={};let Gl=1;const Yl={mouseenter:"mouseover",mouseleave:"mouseout"},cf=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Xl(n,t){return t&&`${t}::${Gl++}`||n.uidEvent||Gl++}function Zl(n){const t=Xl(n);return n.uidEvent=t,Kr[t]=Kr[t]||{},Kr[t]}function df(n,t){return function e(s){return Yr(s,{delegateTarget:n}),e.oneOff&&C.off(n,s.type,t),t.apply(n,[s])}}function hf(n,t,e){return function s(i){const r=n.querySelectorAll(t);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(const d of r)if(d===a)return Yr(i,{delegateTarget:a}),s.oneOff&&C.off(n,i.type,t,e),e.apply(a,[i])}}function Ql(n,t,e=null){return Object.values(n).find(s=>s.callable===t&&s.delegationSelector===e)}function Jl(n,t,e){const s=typeof t=="string",i=s?e:t||e;let r=ec(n);return cf.has(r)||(r=n),[s,i,r]}function tc(n,t,e,s,i){if(typeof t!="string"||!n)return;let[r,a,d]=Jl(t,e,s);t in Yl&&(a=(y=>function(E){if(!E.relatedTarget||E.relatedTarget!==E.delegateTarget&&!E.delegateTarget.contains(E.relatedTarget))return y.call(this,E)})(a));const l=Zl(n),c=l[d]||(l[d]={}),u=Ql(c,a,r?e:null);if(u){u.oneOff=u.oneOff&&i;return}const p=Xl(a,t.replace(of,"")),m=r?hf(n,e,a):df(n,a);m.delegationSelector=r?e:null,m.callable=a,m.oneOff=i,m.uidEvent=p,c[p]=m,n.addEventListener(d,m,r)}function Gr(n,t,e,s,i){const r=Ql(t[e],s,i);r&&(n.removeEventListener(e,r,!!i),delete t[e][r.uidEvent])}function uf(n,t,e,s){const i=t[e]||{};for(const[r,a]of Object.entries(i))r.includes(s)&&Gr(n,t,e,a.callable,a.delegationSelector)}function ec(n){return n=n.replace(af,""),Yl[n]||n}const C={on(n,t,e,s){tc(n,t,e,s,!1)},one(n,t,e,s){tc(n,t,e,s,!0)},off(n,t,e,s){if(typeof t!="string"||!n)return;const[i,r,a]=Jl(t,e,s),d=a!==t,l=Zl(n),c=l[a]||{},u=t.startsWith(".");if(typeof r<"u"){if(!Object.keys(c).length)return;Gr(n,l,a,r,i?e:null);return}if(u)for(const p of Object.keys(l))uf(n,l,p,t.slice(1));for(const[p,m]of Object.entries(c)){const g=p.replace(lf,"");(!d||t.includes(g))&&Gr(n,l,a,m.callable,m.delegationSelector)}},trigger(n,t,e){if(typeof t!="string"||!n)return null;const s=Wl(),i=ec(t),r=t!==i;let a=null,d=!0,l=!0,c=!1;r&&s&&(a=s.Event(t,e),s(n).trigger(a),d=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented());const u=Yr(new Event(t,{bubbles:d,cancelable:!0}),e);return c&&u.preventDefault(),l&&n.dispatchEvent(u),u.defaultPrevented&&a&&a.preventDefault(),u}};function Yr(n,t={}){for(const[e,s]of Object.entries(t))try{n[e]=s}catch{Object.defineProperty(n,e,{configurable:!0,get(){return s}})}return n}function nc(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Xr(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const ge={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${Xr(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${Xr(t)}`)},getDataAttributes(n){if(!n)return{};const t={},e=Object.keys(n.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of e){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=nc(n.dataset[s])}return t},getDataAttribute(n,t){return nc(n.getAttribute(`data-bs-${Xr(t)}`))}};class ws{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const s=me(e)?ge.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...me(e)?ge.getDataAttributes(e):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[s,i]of Object.entries(e)){const r=t[s],a=me(r)?"element":ef(r);if(!new RegExp(i).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${a}" but expected type "${i}".`)}}}const ff="5.3.3";class $t extends ws{constructor(t,e){super(),t=De(t),t&&(this._element=t,this._config=this._getConfig(e),Ur.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ur.remove(this._element,this.constructor.DATA_KEY),C.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,s=!0){Kl(t,e,s)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Ur.get(De(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,typeof e=="object"?e:null)}static get VERSION(){return ff}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Zr=n=>{let t=n.getAttribute("data-bs-target");if(!t||t==="#"){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&e!=="#"?e.trim():null}return t?t.split(",").map(e=>Ul(e)).join(","):null},V={find(n,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,n))},findOne(n,t=document.documentElement){return Element.prototype.querySelector.call(t,n)},children(n,t){return[].concat(...n.children).filter(e=>e.matches(t))},parents(n,t){const e=[];let s=n.parentNode.closest(t);for(;s;)e.push(s),s=s.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!Re(e)&&$n(e))},getSelectorFromElement(n){const t=Zr(n);return t&&V.findOne(t)?t:null},getElementFromSelector(n){const t=Zr(n);return t?V.findOne(t):null},getMultipleElementsFromSelector(n){const t=Zr(n);return t?V.find(t):[]}},Ni=(n,t="hide")=>{const e=`click.dismiss${n.EVENT_KEY}`,s=n.NAME;C.on(document,e,`[data-bs-dismiss="${s}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Re(this))return;const r=V.getElementFromSelector(this)||this.closest(`.${s}`);n.getOrCreateInstance(r)[t]()})},pf="alert",sc=".bs.alert",mf=`close${sc}`,gf=`closed${sc}`,bf="fade",yf="show";class Ai extends $t{static get NAME(){return pf}close(){if(C.trigger(this._element,mf).defaultPrevented)return;this._element.classList.remove(yf);const e=this._element.classList.contains(bf);this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),C.trigger(this._element,gf),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=Ai.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Ni(Ai,"close"),Ot(Ai);const Ef="button",_f=".bs.button",Tf=".data-api",Nf="active",ic='[data-bs-toggle="button"]',Af=`click${_f}${Tf}`;class wi extends $t{static get NAME(){return Ef}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Nf))}static jQueryInterface(t){return this.each(function(){const e=wi.getOrCreateInstance(this);t==="toggle"&&e[t]()})}}C.on(document,Af,ic,n=>{n.preventDefault();const t=n.target.closest(ic);wi.getOrCreateInstance(t).toggle()}),Ot(wi);const wf="swipe",Pn=".bs.swipe",kf=`touchstart${Pn}`,Cf=`touchmove${Pn}`,vf=`touchend${Pn}`,Sf=`pointerdown${Pn}`,Of=`pointerup${Pn}`,Lf="touch",xf="pen",Bf="pointer-event",If=40,Df={endCallback:null,leftCallback:null,rightCallback:null},Rf={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ki extends ws{constructor(t,e){super(),this._element=t,!(!t||!ki.isSupported())&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Df}static get DefaultType(){return Rf}static get NAME(){return wf}dispose(){C.off(this._element,Pn)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),bt(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=If)return;const e=t/this._deltaX;this._deltaX=0,e&&bt(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(C.on(this._element,Sf,t=>this._start(t)),C.on(this._element,Of,t=>this._end(t)),this._element.classList.add(Bf)):(C.on(this._element,kf,t=>this._start(t)),C.on(this._element,Cf,t=>this._move(t)),C.on(this._element,vf,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===xf||t.pointerType===Lf)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Vf="carousel",Ve=".bs.carousel",rc=".data-api",Mf="ArrowLeft",qf="ArrowRight",$f=500,ks="next",jn="prev",Fn="left",Ci="right",Pf=`slide${Ve}`,Qr=`slid${Ve}`,jf=`keydown${Ve}`,Ff=`mouseenter${Ve}`,Uf=`mouseleave${Ve}`,Hf=`dragstart${Ve}`,zf=`load${Ve}${rc}`,Wf=`click${Ve}${rc}`,oc="carousel",vi="active",Kf="slide",Gf="carousel-item-end",Yf="carousel-item-start",Xf="carousel-item-next",Zf="carousel-item-prev",ac=".active",lc=".carousel-item",Qf=ac+lc,Jf=".carousel-item img",tp=".carousel-indicators",ep="[data-bs-slide], [data-bs-slide-to]",np='[data-bs-ride="carousel"]',sp={[Mf]:Ci,[qf]:Fn},ip={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},rp={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Cs extends $t{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=V.findOne(tp,this._element),this._addEventListeners(),this._config.ride===oc&&this.cycle()}static get Default(){return ip}static get DefaultType(){return rp}static get NAME(){return Vf}next(){this._slide(ks)}nextWhenVisible(){!document.hidden&&$n(this._element)&&this.next()}prev(){this._slide(jn)}pause(){this._isSliding&&Hl(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){C.one(this._element,Qr,()=>this.cycle());return}this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding){C.one(this._element,Qr,()=>this.to(t));return}const s=this._getItemIndex(this._getActive());if(s===t)return;const i=t>s?ks:jn;this._slide(i,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&C.on(this._element,jf,t=>this._keydown(t)),this._config.pause==="hover"&&(C.on(this._element,Ff,()=>this.pause()),C.on(this._element,Uf,()=>this._maybeEnableCycle())),this._config.touch&&ki.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of V.find(Jf,this._element))C.on(s,Hf,i=>i.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(Fn)),rightCallback:()=>this._slide(this._directionToOrder(Ci)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),$f+this._config.interval))}};this._swipeHelper=new ki(this._element,e)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=sp[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=V.findOne(ac,this._indicatorsElement);e.classList.remove(vi),e.removeAttribute("aria-current");const s=V.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);s&&(s.classList.add(vi),s.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const s=this._getActive(),i=t===ks,r=e||Wr(this._getItems(),s,i,this._config.wrap);if(r===s)return;const a=this._getItemIndex(r),d=g=>C.trigger(this._element,g,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(s),to:a});if(d(Pf).defaultPrevented||!s||!r)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=r;const u=i?Yf:Gf,p=i?Xf:Zf;r.classList.add(p),As(r),s.classList.add(u),r.classList.add(u);const m=()=>{r.classList.remove(u,p),r.classList.add(vi),s.classList.remove(vi,p,u),this._isSliding=!1,d(Qr)};this._queueCallback(m,s,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(Kf)}_getActive(){return V.findOne(Qf,this._element)}_getItems(){return V.find(lc,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return St()?t===Fn?jn:ks:t===Fn?ks:jn}_orderToDirection(t){return St()?t===jn?Fn:Ci:t===jn?Ci:Fn}static jQueryInterface(t){return this.each(function(){const e=Cs.getOrCreateInstance(this,t);if(typeof t=="number"){e.to(t);return}if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}C.on(document,Wf,ep,function(n){const t=V.getElementFromSelector(this);if(!t||!t.classList.contains(oc))return;n.preventDefault();const e=Cs.getOrCreateInstance(t),s=this.getAttribute("data-bs-slide-to");if(s){e.to(s),e._maybeEnableCycle();return}if(ge.getDataAttribute(this,"slide")==="next"){e.next(),e._maybeEnableCycle();return}e.prev(),e._maybeEnableCycle()}),C.on(window,zf,()=>{const n=V.find(np);for(const t of n)Cs.getOrCreateInstance(t)}),Ot(Cs);const op="collapse",vs=".bs.collapse",ap=".data-api",lp=`show${vs}`,cp=`shown${vs}`,dp=`hide${vs}`,hp=`hidden${vs}`,up=`click${vs}${ap}`,Jr="show",Un="collapse",Si="collapsing",fp="collapsed",pp=`:scope .${Un} .${Un}`,mp="collapse-horizontal",gp="width",bp="height",yp=".collapse.show, .collapse.collapsing",to='[data-bs-toggle="collapse"]',Ep={parent:null,toggle:!0},_p={parent:"(null|element)",toggle:"boolean"};class Ss extends $t{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const s=V.find(to);for(const i of s){const r=V.getSelectorFromElement(i),a=V.find(r).filter(d=>d===this._element);r!==null&&a.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ep}static get DefaultType(){return _p}static get NAME(){return op}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(yp).filter(d=>d!==this._element).map(d=>Ss.getOrCreateInstance(d,{toggle:!1}))),t.length&&t[0]._isTransitioning||C.trigger(this._element,lp).defaultPrevented)return;for(const d of t)d.hide();const s=this._getDimension();this._element.classList.remove(Un),this._element.classList.add(Si),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Si),this._element.classList.add(Un,Jr),this._element.style[s]="",C.trigger(this._element,cp)},a=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[s]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||C.trigger(this._element,dp).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,As(this._element),this._element.classList.add(Si),this._element.classList.remove(Un,Jr);for(const i of this._triggerArray){const r=V.getElementFromSelector(i);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(Si),this._element.classList.add(Un),C.trigger(this._element,hp)};this._element.style[e]="",this._queueCallback(s,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Jr)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=De(t.parent),t}_getDimension(){return this._element.classList.contains(mp)?gp:bp}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(to);for(const e of t){const s=V.getElementFromSelector(e);s&&this._addAriaAndCollapsedClass([e],this._isShown(s))}}_getFirstLevelChildren(t){const e=V.find(pp,this._config.parent);return V.find(t,this._config.parent).filter(s=>!e.includes(s))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const s of t)s.classList.toggle(fp,!e),s.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return typeof t=="string"&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const s=Ss.getOrCreateInstance(this,e);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t]()}})}}C.on(document,up,to,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const t of V.getMultipleElementsFromSelector(this))Ss.getOrCreateInstance(t,{toggle:!1}).toggle()}),Ot(Ss);const cc="dropdown",nn=".bs.dropdown",eo=".data-api",Tp="Escape",dc="Tab",Np="ArrowUp",hc="ArrowDown",Ap=2,wp=`hide${nn}`,kp=`hidden${nn}`,Cp=`show${nn}`,vp=`shown${nn}`,uc=`click${nn}${eo}`,fc=`keydown${nn}${eo}`,Sp=`keyup${nn}${eo}`,Hn="show",Op="dropup",Lp="dropend",xp="dropstart",Bp="dropup-center",Ip="dropdown-center",sn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Dp=`${sn}.${Hn}`,Oi=".dropdown-menu",Rp=".navbar",Vp=".navbar-nav",Mp=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",qp=St()?"top-end":"top-start",$p=St()?"top-start":"top-end",Pp=St()?"bottom-end":"bottom-start",jp=St()?"bottom-start":"bottom-end",Fp=St()?"left-start":"right-start",Up=St()?"right-start":"left-start",Hp="top",zp="bottom",Wp={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Kp={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ee extends $t{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=V.next(this._element,Oi)[0]||V.prev(this._element,Oi)[0]||V.findOne(Oi,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Wp}static get DefaultType(){return Kp}static get NAME(){return cc}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Re(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!C.trigger(this._element,Cp,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Vp))for(const s of[].concat(...document.body.children))C.on(s,"mouseover",Ti);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Hn),this._element.classList.add(Hn),C.trigger(this._element,vp,t)}}hide(){if(Re(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!C.trigger(this._element,wp,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))C.off(s,"mouseover",Ti);this._popper&&this._popper.destroy(),this._menu.classList.remove(Hn),this._element.classList.remove(Hn),this._element.setAttribute("aria-expanded","false"),ge.removeDataAttribute(this._menu,"popper"),C.trigger(this._element,kp,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!me(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${cc.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof Fl>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:me(this._config.reference)?t=De(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=Fr(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Hn)}_getPlacement(){const t=this._parent;if(t.classList.contains(Lp))return Fp;if(t.classList.contains(xp))return Up;if(t.classList.contains(Bp))return Hp;if(t.classList.contains(Ip))return zp;const e=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Op)?e?$p:qp:e?jp:Pp}_detectNavbar(){return this._element.closest(Rp)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ge.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...bt(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:e}){const s=V.find(Mp,this._menu).filter(i=>$n(i));s.length&&Wr(s,e,t===hc,!s.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=ee.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(t.button===Ap||t.type==="keyup"&&t.key!==dc)return;const e=V.find(Dp);for(const s of e){const i=ee.getInstance(s);if(!i||i._config.autoClose===!1)continue;const r=t.composedPath(),a=r.includes(i._menu);if(r.includes(i._element)||i._config.autoClose==="inside"&&!a||i._config.autoClose==="outside"&&a||i._menu.contains(t.target)&&(t.type==="keyup"&&t.key===dc||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const d={relatedTarget:i._element};t.type==="click"&&(d.clickEvent=t),i._completeHide(d)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),s=t.key===Tp,i=[Np,hc].includes(t.key);if(!i&&!s||e&&!s)return;t.preventDefault();const r=this.matches(sn)?this:V.prev(this,sn)[0]||V.next(this,sn)[0]||V.findOne(sn,t.delegateTarget.parentNode),a=ee.getOrCreateInstance(r);if(i){t.stopPropagation(),a.show(),a._selectMenuItem(t);return}a._isShown()&&(t.stopPropagation(),a.hide(),r.focus())}}C.on(document,fc,sn,ee.dataApiKeydownHandler),C.on(document,fc,Oi,ee.dataApiKeydownHandler),C.on(document,uc,ee.clearMenus),C.on(document,Sp,ee.clearMenus),C.on(document,uc,sn,function(n){n.preventDefault(),ee.getOrCreateInstance(this).toggle()}),Ot(ee);const pc="backdrop",Gp="fade",mc="show",gc=`mousedown.bs.${pc}`,Yp={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Xp={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class bc extends ws{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Yp}static get DefaultType(){return Xp}static get NAME(){return pc}show(t){if(!this._config.isVisible){bt(t);return}this._append();const e=this._getElement();this._config.isAnimated&&As(e),e.classList.add(mc),this._emulateAnimation(()=>{bt(t)})}hide(t){if(!this._config.isVisible){bt(t);return}this._getElement().classList.remove(mc),this._emulateAnimation(()=>{this.dispose(),bt(t)})}dispose(){this._isAppended&&(C.off(this._element,gc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Gp),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=De(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),C.on(t,gc,()=>{bt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){Kl(t,this._getElement(),this._config.isAnimated)}}const Zp="focustrap",Li=".bs.focustrap",Qp=`focusin${Li}`,Jp=`keydown.tab${Li}`,tm="Tab",em="forward",yc="backward",nm={autofocus:!0,trapElement:null},sm={autofocus:"boolean",trapElement:"element"};class Ec extends ws{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return nm}static get DefaultType(){return sm}static get NAME(){return Zp}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),C.off(document,Li),C.on(document,Qp,t=>this._handleFocusin(t)),C.on(document,Jp,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,C.off(document,Li))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const s=V.focusableChildren(e);s.length===0?e.focus():this._lastTabNavDirection===yc?s[s.length-1].focus():s[0].focus()}_handleKeydown(t){t.key===tm&&(this._lastTabNavDirection=t.shiftKey?yc:em)}}const _c=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Tc=".sticky-top",xi="padding-right",Nc="margin-right";class no{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,xi,e=>e+t),this._setElementAttributes(_c,xi,e=>e+t),this._setElementAttributes(Tc,Nc,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,xi),this._resetElementAttributes(_c,xi),this._resetElementAttributes(Tc,Nc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,s){const i=this.getWidth(),r=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+i)return;this._saveInitialAttribute(a,e);const d=window.getComputedStyle(a).getPropertyValue(e);a.style.setProperty(e,`${s(Number.parseFloat(d))}px`)};this._applyManipulationCallback(t,r)}_saveInitialAttribute(t,e){const s=t.style.getPropertyValue(e);s&&ge.setDataAttribute(t,e,s)}_resetElementAttributes(t,e){const s=i=>{const r=ge.getDataAttribute(i,e);if(r===null){i.style.removeProperty(e);return}ge.removeDataAttribute(i,e),i.style.setProperty(e,r)};this._applyManipulationCallback(t,s)}_applyManipulationCallback(t,e){if(me(t)){e(t);return}for(const s of V.find(t,this._element))e(s)}}const im="modal",Lt=".bs.modal",rm=".data-api",om="Escape",am=`hide${Lt}`,lm=`hidePrevented${Lt}`,Ac=`hidden${Lt}`,wc=`show${Lt}`,cm=`shown${Lt}`,dm=`resize${Lt}`,hm=`click.dismiss${Lt}`,um=`mousedown.dismiss${Lt}`,fm=`keydown.dismiss${Lt}`,pm=`click${Lt}${rm}`,kc="modal-open",mm="fade",Cc="show",so="modal-static",gm=".modal.show",bm=".modal-dialog",ym=".modal-body",Em='[data-bs-toggle="modal"]',_m={backdrop:!0,focus:!0,keyboard:!0},Tm={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class rn extends $t{constructor(t,e){super(t,e),this._dialog=V.findOne(bm,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new no,this._addEventListeners()}static get Default(){return _m}static get DefaultType(){return Tm}static get NAME(){return im}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||C.trigger(this._element,wc,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(kc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||C.trigger(this._element,am).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Cc),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){C.off(window,Lt),C.off(this._dialog,Lt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new bc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ec({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=V.findOne(ym,this._dialog);e&&(e.scrollTop=0),As(this._element),this._element.classList.add(Cc);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,C.trigger(this._element,cm,{relatedTarget:t})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){C.on(this._element,fm,t=>{if(t.key===om){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),C.on(window,dm,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),C.on(this._element,um,t=>{C.one(this._element,hm,e=>{if(!(this._element!==t.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(kc),this._resetAdjustments(),this._scrollBar.reset(),C.trigger(this._element,Ac)})}_isAnimated(){return this._element.classList.contains(mm)}_triggerBackdropTransition(){if(C.trigger(this._element,lm).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(so)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(so),this._queueCallback(()=>{this._element.classList.remove(so),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),s=e>0;if(s&&!t){const i=St()?"paddingLeft":"paddingRight";this._element.style[i]=`${e}px`}if(!s&&t){const i=St()?"paddingRight":"paddingLeft";this._element.style[i]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const s=rn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t](e)}})}}C.on(document,pm,Em,function(n){const t=V.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),C.one(t,wc,i=>{i.defaultPrevented||C.one(t,Ac,()=>{$n(this)&&this.focus()})});const e=V.findOne(gm);e&&rn.getInstance(e).hide(),rn.getOrCreateInstance(t).toggle(this)}),Ni(rn),Ot(rn);const Nm="offcanvas",be=".bs.offcanvas",vc=".data-api",Am=`load${be}${vc}`,wm="Escape",Sc="show",Oc="showing",Lc="hiding",km="offcanvas-backdrop",xc=".offcanvas.show",Cm=`show${be}`,vm=`shown${be}`,Sm=`hide${be}`,Bc=`hidePrevented${be}`,Ic=`hidden${be}`,Om=`resize${be}`,Lm=`click${be}${vc}`,xm=`keydown.dismiss${be}`,Bm='[data-bs-toggle="offcanvas"]',Im={backdrop:!0,keyboard:!0,scroll:!1},Dm={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Me extends $t{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Im}static get DefaultType(){return Dm}static get NAME(){return Nm}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||C.trigger(this._element,Cm,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new no().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Oc);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Sc),this._element.classList.remove(Oc),C.trigger(this._element,vm,{relatedTarget:t})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||C.trigger(this._element,Sm).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Lc),this._backdrop.hide();const e=()=>{this._element.classList.remove(Sc,Lc),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new no().reset(),C.trigger(this._element,Ic)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){C.trigger(this._element,Bc);return}this.hide()},e=!!this._config.backdrop;return new bc({className:km,isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?t:null})}_initializeFocusTrap(){return new Ec({trapElement:this._element})}_addEventListeners(){C.on(this._element,xm,t=>{if(t.key===wm){if(this._config.keyboard){this.hide();return}C.trigger(this._element,Bc)}})}static jQueryInterface(t){return this.each(function(){const e=Me.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}C.on(document,Lm,Bm,function(n){const t=V.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Re(this))return;C.one(t,Ic,()=>{$n(this)&&this.focus()});const e=V.findOne(xc);e&&e!==t&&Me.getInstance(e).hide(),Me.getOrCreateInstance(t).toggle(this)}),C.on(window,Am,()=>{for(const n of V.find(xc))Me.getOrCreateInstance(n).show()}),C.on(window,Om,()=>{for(const n of V.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Me.getOrCreateInstance(n).hide()}),Ni(Me),Ot(Me);const Dc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Rm=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Vm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Mm=(n,t)=>{const e=n.nodeName.toLowerCase();return t.includes(e)?Rm.has(e)?!!Vm.test(n.nodeValue):!0:t.filter(s=>s instanceof RegExp).some(s=>s.test(e))};function qm(n,t,e){if(!n.length)return n;if(e&&typeof e=="function")return e(n);const i=new window.DOMParser().parseFromString(n,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const a of r){const d=a.nodeName.toLowerCase();if(!Object.keys(t).includes(d)){a.remove();continue}const l=[].concat(...a.attributes),c=[].concat(t["*"]||[],t[d]||[]);for(const u of l)Mm(u,c)||a.removeAttribute(u.nodeName)}return i.body.innerHTML}const $m="TemplateFactory",Pm={allowList:Dc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},jm={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Fm={entry:"(string|element|function|null)",selector:"(string|element)"};class Um extends ws{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Pm}static get DefaultType(){return jm}static get NAME(){return $m}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(t,r,i);const e=t.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&e.classList.add(...s.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,s]of Object.entries(t))super._typeCheckConfig({selector:e,entry:s},Fm)}_setContent(t,e,s){const i=V.findOne(s,t);if(i){if(e=this._resolvePossibleFunction(e),!e){i.remove();return}if(me(e)){this._putElementInTemplate(De(e),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(e);return}i.textContent=e}}_maybeSanitize(t){return this._config.sanitize?qm(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return bt(t,[this])}_putElementInTemplate(t,e){if(this._config.html){e.innerHTML="",e.append(t);return}e.textContent=t.textContent}}const Hm="tooltip",zm=new Set(["sanitize","allowList","sanitizeFn"]),io="fade",Wm="modal",Bi="show",Km=".tooltip-inner",Rc=`.${Wm}`,Vc="hide.bs.modal",Os="hover",ro="focus",Gm="click",Ym="manual",Xm="hide",Zm="hidden",Qm="show",Jm="shown",tg="inserted",eg="click",ng="focusin",sg="focusout",ig="mouseenter",rg="mouseleave",og={AUTO:"auto",TOP:"top",RIGHT:St()?"left":"right",BOTTOM:"bottom",LEFT:St()?"right":"left"},ag={allowList:Dc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},lg={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let Ii=class hu extends $t{constructor(t,e){if(typeof Fl>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ag}static get DefaultType(){return lg}static get NAME(){return Hm}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),C.off(this._element.closest(Rc),Vc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=C.trigger(this._element,this.constructor.eventName(Qm)),s=(zl(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!s)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),C.trigger(this._element,this.constructor.eventName(tg))),this._popper=this._createPopper(i),i.classList.add(Bi),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))C.on(d,"mouseover",Ti);const a=()=>{C.trigger(this._element,this.constructor.eventName(Jm)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||C.trigger(this._element,this.constructor.eventName(Xm)).defaultPrevented)return;if(this._getTipElement().classList.remove(Bi),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))C.off(i,"mouseover",Ti);this._activeTrigger[Gm]=!1,this._activeTrigger[ro]=!1,this._activeTrigger[Os]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),C.trigger(this._element,this.constructor.eventName(Zm)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(io,Bi),e.classList.add(`bs-${this.constructor.NAME}-auto`);const s=nf(this.constructor.NAME).toString();return e.setAttribute("id",s),this._isAnimated()&&e.classList.add(io),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Um({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Km]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(io)}_isShown(){return this.tip&&this.tip.classList.contains(Bi)}_createPopper(t){const e=bt(this._config.placement,[this,t,this._element]),s=og[e.toUpperCase()];return Fr(this._element,t,this._getPopperConfig(s))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_resolvePossibleFunction(t){return bt(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...e,...bt(this._config.popperConfig,[e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if(e==="click")C.on(this._element,this.constructor.eventName(eg),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(e!==Ym){const s=e===Os?this.constructor.eventName(ig):this.constructor.eventName(ng),i=e===Os?this.constructor.eventName(rg):this.constructor.eventName(sg);C.on(this._element,s,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger[r.type==="focusin"?ro:Os]=!0,a._enter()}),C.on(this._element,i,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger[r.type==="focusout"?ro:Os]=a._element.contains(r.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},C.on(this._element.closest(Rc),Vc,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=ge.getDataAttributes(this._element);for(const s of Object.keys(e))zm.has(s)&&delete e[s];return t={...e,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:De(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,s]of Object.entries(this._config))this.constructor.Default[e]!==s&&(t[e]=s);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=hu.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}};Ot(Ii);const cg="popover",dg=".popover-header",hg=".popover-body",ug={...Ii.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},fg={...Ii.DefaultType,content:"(null|string|element|function)"};class oo extends Ii{static get Default(){return ug}static get DefaultType(){return fg}static get NAME(){return cg}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[dg]:this._getTitle(),[hg]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=oo.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}Ot(oo);const pg="scrollspy",ao=".bs.scrollspy",mg=".data-api",gg=`activate${ao}`,Mc=`click${ao}`,bg=`load${ao}${mg}`,yg="dropdown-item",zn="active",Eg='[data-bs-spy="scroll"]',lo="[href]",_g=".nav, .list-group",qc=".nav-link",Tg=`${qc}, .nav-item > ${qc}, .list-group-item`,Ng=".dropdown",Ag=".dropdown-toggle",wg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},kg={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Di extends $t{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return wg}static get DefaultType(){return kg}static get NAME(){return pg}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=De(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(C.off(this._config.target,Mc),C.on(this._config.target,Mc,lo,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const s=this._rootElement||window,i=e.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:i,behavior:"smooth"});return}s.scrollTop=i}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),t)}_observerCallback(t){const e=a=>this._targetLinks.get(`#${a.target.id}`),s=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(e(a))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const a of t){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(a));continue}const d=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&d){if(s(a),!i)return;continue}!r&&!d&&s(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=V.find(lo,this._config.target);for(const e of t){if(!e.hash||Re(e))continue;const s=V.findOne(decodeURI(e.hash),this._element);$n(s)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,s))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(zn),this._activateParents(t),C.trigger(this._element,gg,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(yg)){V.findOne(Ag,t.closest(Ng)).classList.add(zn);return}for(const e of V.parents(t,_g))for(const s of V.prev(e,Tg))s.classList.add(zn)}_clearActiveClass(t){t.classList.remove(zn);const e=V.find(`${lo}.${zn}`,t);for(const s of e)s.classList.remove(zn)}static jQueryInterface(t){return this.each(function(){const e=Di.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}C.on(window,bg,()=>{for(const n of V.find(Eg))Di.getOrCreateInstance(n)}),Ot(Di);const Cg="tab",on=".bs.tab",vg=`hide${on}`,Sg=`hidden${on}`,Og=`show${on}`,Lg=`shown${on}`,xg=`click${on}`,Bg=`keydown${on}`,Ig=`load${on}`,Dg="ArrowLeft",$c="ArrowRight",Rg="ArrowUp",Pc="ArrowDown",co="Home",jc="End",an="active",Fc="fade",ho="show",Vg="dropdown",Uc=".dropdown-toggle",Mg=".dropdown-menu",uo=`:not(${Uc})`,qg='.list-group, .nav, [role="tablist"]',$g=".nav-item, .list-group-item",Pg=`.nav-link${uo}, .list-group-item${uo}, [role="tab"]${uo}`,Hc='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',fo=`${Pg}, ${Hc}`,jg=`.${an}[data-bs-toggle="tab"], .${an}[data-bs-toggle="pill"], .${an}[data-bs-toggle="list"]`;class Wn extends $t{constructor(t){super(t),this._parent=this._element.closest(qg),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),C.on(this._element,Bg,e=>this._keydown(e)))}static get NAME(){return Cg}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),s=e?C.trigger(e,vg,{relatedTarget:t}):null;C.trigger(t,Og,{relatedTarget:e}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){if(!t)return;t.classList.add(an),this._activate(V.getElementFromSelector(t));const s=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(ho);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),C.trigger(t,Lg,{relatedTarget:e})};this._queueCallback(s,t,t.classList.contains(Fc))}_deactivate(t,e){if(!t)return;t.classList.remove(an),t.blur(),this._deactivate(V.getElementFromSelector(t));const s=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(ho);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),C.trigger(t,Sg,{relatedTarget:e})};this._queueCallback(s,t,t.classList.contains(Fc))}_keydown(t){if(![Dg,$c,Rg,Pc,co,jc].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(i=>!Re(i));let s;if([co,jc].includes(t.key))s=e[t.key===co?0:e.length-1];else{const i=[$c,Pc].includes(t.key);s=Wr(e,t.target,i,!0)}s&&(s.focus({preventScroll:!0}),Wn.getOrCreateInstance(s).show())}_getChildren(){return V.find(fo,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const s of e)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),s=this._getOuterElement(t);t.setAttribute("aria-selected",e),s!==t&&this._setAttributeIfNotExists(s,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=V.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const s=this._getOuterElement(t);if(!s.classList.contains(Vg))return;const i=(r,a)=>{const d=V.findOne(r,s);d&&d.classList.toggle(a,e)};i(Uc,an),i(Mg,ho),s.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,s){t.hasAttribute(e)||t.setAttribute(e,s)}_elemIsActive(t){return t.classList.contains(an)}_getInnerElement(t){return t.matches(fo)?t:V.findOne(fo,t)}_getOuterElement(t){return t.closest($g)||t}static jQueryInterface(t){return this.each(function(){const e=Wn.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}C.on(document,xg,Hc,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Re(this)&&Wn.getOrCreateInstance(this).show()}),C.on(window,Ig,()=>{for(const n of V.find(jg))Wn.getOrCreateInstance(n)}),Ot(Wn);const Fg="toast",qe=".bs.toast",Ug=`mouseover${qe}`,Hg=`mouseout${qe}`,zg=`focusin${qe}`,Wg=`focusout${qe}`,Kg=`hide${qe}`,Gg=`hidden${qe}`,Yg=`show${qe}`,Xg=`shown${qe}`,Zg="fade",zc="hide",Ri="show",Vi="showing",Qg={animation:"boolean",autohide:"boolean",delay:"number"},Jg={animation:!0,autohide:!0,delay:5e3};class Mi extends $t{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Jg}static get DefaultType(){return Qg}static get NAME(){return Fg}show(){if(C.trigger(this._element,Yg).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Zg);const e=()=>{this._element.classList.remove(Vi),C.trigger(this._element,Xg),this._maybeScheduleHide()};this._element.classList.remove(zc),As(this._element),this._element.classList.add(Ri,Vi),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown()||C.trigger(this._element,Kg).defaultPrevented)return;const e=()=>{this._element.classList.add(zc),this._element.classList.remove(Vi,Ri),C.trigger(this._element,Gg)};this._element.classList.add(Vi),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ri),super.dispose()}isShown(){return this._element.classList.contains(Ri)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=e;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=e;break}}if(e){this._clearTimeout();return}const s=t.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){C.on(this._element,Ug,t=>this._onInteraction(t,!0)),C.on(this._element,Hg,t=>this._onInteraction(t,!1)),C.on(this._element,zg,t=>this._onInteraction(t,!0)),C.on(this._element,Wg,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=Mi.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Ni(Mi),Ot(Mi);function Wc(n,t){for(const e in t)t[e]instanceof Object&&e in n&&Object.assign(t[e],Wc(n[e],t[e]));return Object.assign(n||{},t)}function Kc(n,t,e,s){try{return typeof n=="function"?n(t,e,s):n}catch{return null}}async function Ls(n,t){try{return{data:await n.json(),error:null}}catch(e){return{data:void 0,error:e}}}function ln(n,t,e){return t.options||(t.options={}),t.options.headers||(t.options.headers={}),n!="GET"&&(t.options.headers["Content-Type"]||(t.options.headers["Content-Type"]="application/json")),t.auth&&(t.auth.type=="Basic"&&t.auth.user&&(t.options.headers.Authorization="Basic "+btoa(t.auth.user+":"+t.auth.password)),t.auth.type=="Bearer"&&t.auth.token&&(t.options.headers.Authorization="Bearer "+t.auth.token),t.auth.type=="Cookie"&&(t.options.credentials="include")),t.options.body=void 0,t.options.method=n,e&&Object.assign(t.options,e),t.debug&&console.log("FETCH OPTIONS",t.options),t.options}function cn(n,t,e,s){let i=!1,r=Object.assign({},s||{});return s&&(s.filter&&(r.filter=JSON.stringify(s.filter)),s.order&&(r.order=JSON.stringify(s.order)),i=Object.keys(r).length),t.url+(e?"/"+e:"")+(i?"?"+new URLSearchParams(r).toString():"")}function Gc(n,t="-"){return n.toString().normalize("NFKD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\_/g,"-").replace(/\-\-+/g,"-").replace(/\-$/g,"")}function tb(n){let t=[];for(let e of n)t.push(qi(e));return t}function qi(n,t="",e={}){for(let s in n){let i=t?t+"."+s:s;typeof n[s]=="object"&&!Array.isArray(n[s])?qi(n[s],i,e):e[i]=n[s]}return e}function eb(n){let t={};for(let e in n){let s=e.split(".");s.reduce((i,r,a)=>i[r]||(i[r]=isNaN(Number(s[a+1]))?s.length-1===a?n[e]:{}:[]),t)}return t}function po(n,t,e,s){const i=(r,a)=>!r||!a?r:r.replace(/{\s*(.*?)\s*}/g,(d,l)=>a[l]?a[l]:"");return!t||(s=s||document.documentElement.lang,!s||!t[s])||!t[s][n]?i(n,e):i(t[s][n])}function nb(n,t,e=";"){const s=t.map(r=>r.title?r.title:r.name.charAt(0).toUpperCase()+r.name.slice(1)).join(e),i=n.map(r=>t.map(a=>{let d=r[a.name];return a.template?a.template(d,r,n):d!==void 0?d:""}).join(e));return[s,...i].join(`
`)}function sb(n,t="export.csv"){n="\uFEFF"+n;const e=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=t,i.click(),URL.revokeObjectURL(s)}function ib(n){return[...new Set(n)]}function rb(n,t){n.indexOf(t)>=0?n.splice(n.indexOf(t),1):n.push(t)}function ob(n,t){for(let e of t)n.indexOf(e.value)<0&&n.push(e.value)}function ab(n,t){for(let e of t)n.indexOf(e.value)<0?n.push(e.value):n.splice(n.indexOf(e.value),1)}function lb(n){n.length=0}var Yc=typeof global=="object"&&global&&global.Object===Object&&global,cb=typeof self=="object"&&self&&self.Object===Object&&self,ne=Yc||cb||Function("return this")(),$e=ne.Symbol,Xc=Object.prototype,db=Xc.hasOwnProperty,hb=Xc.toString,xs=$e?$e.toStringTag:void 0;function ub(n){var t=db.call(n,xs),e=n[xs];try{n[xs]=void 0;var s=!0}catch{}var i=hb.call(n);return s&&(t?n[xs]=e:delete n[xs]),i}var fb=Object.prototype,pb=fb.toString;function mb(n){return pb.call(n)}var gb="[object Null]",bb="[object Undefined]",Zc=$e?$e.toStringTag:void 0;function Kn(n){return n==null?n===void 0?bb:gb:Zc&&Zc in Object(n)?ub(n):mb(n)}function ye(n){return n!=null&&typeof n=="object"}var dn=Array.isArray;function Pe(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}function Qc(n){return n}var yb="[object AsyncFunction]",Eb="[object Function]",_b="[object GeneratorFunction]",Tb="[object Proxy]";function mo(n){if(!Pe(n))return!1;var t=Kn(n);return t==Eb||t==_b||t==yb||t==Tb}var go=ne["__core-js_shared__"],Jc=function(){var n=/[^.]+$/.exec(go&&go.keys&&go.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Nb(n){return!!Jc&&Jc in n}var Ab=Function.prototype,wb=Ab.toString;function hn(n){if(n!=null){try{return wb.call(n)}catch{}try{return n+""}catch{}}return""}var kb=/[\\^$.*+?()[\]{}|]/g,Cb=/^\[object .+?Constructor\]$/,vb=Function.prototype,Sb=Object.prototype,Ob=vb.toString,Lb=Sb.hasOwnProperty,xb=RegExp("^"+Ob.call(Lb).replace(kb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Bb(n){if(!Pe(n)||Nb(n))return!1;var t=mo(n)?xb:Cb;return t.test(hn(n))}function Ib(n,t){return n==null?void 0:n[t]}function un(n,t){var e=Ib(n,t);return Bb(e)?e:void 0}var bo=un(ne,"WeakMap"),td=Object.create,Db=function(){function n(){}return function(t){if(!Pe(t))return{};if(td)return td(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();function Rb(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}function ed(n,t){var e=-1,s=n.length;for(t||(t=Array(s));++e<s;)t[e]=n[e];return t}var Vb=800,Mb=16,qb=Date.now;function $b(n){var t=0,e=0;return function(){var s=qb(),i=Mb-(s-e);if(e=s,i>0){if(++t>=Vb)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}function Pb(n){return function(){return n}}var $i=function(){try{var n=un(Object,"defineProperty");return n({},"",{}),n}catch{}}(),jb=$i?function(n,t){return $i(n,"toString",{configurable:!0,enumerable:!1,value:Pb(t),writable:!0})}:Qc,Fb=$b(jb);function Ub(n,t){for(var e=-1,s=n==null?0:n.length;++e<s&&t(n[e],e,n)!==!1;);return n}var Hb=9007199254740991,zb=/^(?:0|[1-9]\d*)$/;function nd(n,t){var e=typeof n;return t=t??Hb,!!t&&(e=="number"||e!="symbol"&&zb.test(n))&&n>-1&&n%1==0&&n<t}function yo(n,t,e){t=="__proto__"&&$i?$i(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function Bs(n,t){return n===t||n!==n&&t!==t}var Wb=Object.prototype,Kb=Wb.hasOwnProperty;function sd(n,t,e){var s=n[t];(!(Kb.call(n,t)&&Bs(s,e))||e===void 0&&!(t in n))&&yo(n,t,e)}function Is(n,t,e,s){var i=!e;e||(e={});for(var r=-1,a=t.length;++r<a;){var d=t[r],l=void 0;l===void 0&&(l=n[d]),i?yo(e,d,l):sd(e,d,l)}return e}var id=Math.max;function Gb(n,t,e){return t=id(t===void 0?n.length-1:t,0),function(){for(var s=arguments,i=-1,r=id(s.length-t,0),a=Array(r);++i<r;)a[i]=s[t+i];i=-1;for(var d=Array(t+1);++i<t;)d[i]=s[i];return d[t]=e(a),Rb(n,this,d)}}function Yb(n,t){return Fb(Gb(n,t,Qc),n+"")}var Xb=9007199254740991;function rd(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Xb}function Pi(n){return n!=null&&rd(n.length)&&!mo(n)}function Zb(n,t,e){if(!Pe(e))return!1;var s=typeof t;return(s=="number"?Pi(e)&&nd(t,e.length):s=="string"&&t in e)?Bs(e[t],n):!1}function Qb(n){return Yb(function(t,e){var s=-1,i=e.length,r=i>1?e[i-1]:void 0,a=i>2?e[2]:void 0;for(r=n.length>3&&typeof r=="function"?(i--,r):void 0,a&&Zb(e[0],e[1],a)&&(r=i<3?void 0:r,i=1),t=Object(t);++s<i;){var d=e[s];d&&n(t,d,s,r)}return t})}var Jb=Object.prototype;function Eo(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||Jb;return n===e}function t1(n,t){for(var e=-1,s=Array(n);++e<n;)s[e]=t(e);return s}var e1="[object Arguments]";function od(n){return ye(n)&&Kn(n)==e1}var ad=Object.prototype,n1=ad.hasOwnProperty,s1=ad.propertyIsEnumerable,_o=od(function(){return arguments}())?od:function(n){return ye(n)&&n1.call(n,"callee")&&!s1.call(n,"callee")};function i1(){return!1}var ld=typeof W=="object"&&W&&!W.nodeType&&W,cd=ld&&typeof module=="object"&&module&&!module.nodeType&&module,r1=cd&&cd.exports===ld,dd=r1?ne.Buffer:void 0,o1=dd?dd.isBuffer:void 0,Ds=o1||i1,a1="[object Arguments]",l1="[object Array]",c1="[object Boolean]",d1="[object Date]",h1="[object Error]",u1="[object Function]",f1="[object Map]",p1="[object Number]",m1="[object Object]",g1="[object RegExp]",b1="[object Set]",y1="[object String]",E1="[object WeakMap]",_1="[object ArrayBuffer]",T1="[object DataView]",N1="[object Float32Array]",A1="[object Float64Array]",w1="[object Int8Array]",k1="[object Int16Array]",C1="[object Int32Array]",v1="[object Uint8Array]",S1="[object Uint8ClampedArray]",O1="[object Uint16Array]",L1="[object Uint32Array]",G={};G[N1]=G[A1]=G[w1]=G[k1]=G[C1]=G[v1]=G[S1]=G[O1]=G[L1]=!0,G[a1]=G[l1]=G[_1]=G[c1]=G[T1]=G[d1]=G[h1]=G[u1]=G[f1]=G[p1]=G[m1]=G[g1]=G[b1]=G[y1]=G[E1]=!1;function x1(n){return ye(n)&&rd(n.length)&&!!G[Kn(n)]}function To(n){return function(t){return n(t)}}var hd=typeof W=="object"&&W&&!W.nodeType&&W,Rs=hd&&typeof module=="object"&&module&&!module.nodeType&&module,B1=Rs&&Rs.exports===hd,No=B1&&Yc.process,Gn=function(){try{var n=Rs&&Rs.require&&Rs.require("util").types;return n||No&&No.binding&&No.binding("util")}catch{}}(),ud=Gn&&Gn.isTypedArray,Ao=ud?To(ud):x1,I1=Object.prototype,D1=I1.hasOwnProperty;function fd(n,t){var e=dn(n),s=!e&&_o(n),i=!e&&!s&&Ds(n),r=!e&&!s&&!i&&Ao(n),a=e||s||i||r,d=a?t1(n.length,String):[],l=d.length;for(var c in n)(t||D1.call(n,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||nd(c,l)))&&d.push(c);return d}function pd(n,t){return function(e){return n(t(e))}}var R1=pd(Object.keys,Object),V1=Object.prototype,M1=V1.hasOwnProperty;function q1(n){if(!Eo(n))return R1(n);var t=[];for(var e in Object(n))M1.call(n,e)&&e!="constructor"&&t.push(e);return t}function wo(n){return Pi(n)?fd(n):q1(n)}function $1(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}var P1=Object.prototype,j1=P1.hasOwnProperty;function F1(n){if(!Pe(n))return $1(n);var t=Eo(n),e=[];for(var s in n)s=="constructor"&&(t||!j1.call(n,s))||e.push(s);return e}function Vs(n){return Pi(n)?fd(n,!0):F1(n)}var Ms=un(Object,"create");function U1(){this.__data__=Ms?Ms(null):{},this.size=0}function H1(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var z1="__lodash_hash_undefined__",W1=Object.prototype,K1=W1.hasOwnProperty;function G1(n){var t=this.__data__;if(Ms){var e=t[n];return e===z1?void 0:e}return K1.call(t,n)?t[n]:void 0}var Y1=Object.prototype,X1=Y1.hasOwnProperty;function Z1(n){var t=this.__data__;return Ms?t[n]!==void 0:X1.call(t,n)}var Q1="__lodash_hash_undefined__";function J1(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=Ms&&t===void 0?Q1:t,this}function fn(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var s=n[t];this.set(s[0],s[1])}}fn.prototype.clear=U1,fn.prototype.delete=H1,fn.prototype.get=G1,fn.prototype.has=Z1,fn.prototype.set=J1;function ty(){this.__data__=[],this.size=0}function ji(n,t){for(var e=n.length;e--;)if(Bs(n[e][0],t))return e;return-1}var ey=Array.prototype,ny=ey.splice;function sy(n){var t=this.__data__,e=ji(t,n);if(e<0)return!1;var s=t.length-1;return e==s?t.pop():ny.call(t,e,1),--this.size,!0}function iy(n){var t=this.__data__,e=ji(t,n);return e<0?void 0:t[e][1]}function ry(n){return ji(this.__data__,n)>-1}function oy(n,t){var e=this.__data__,s=ji(e,n);return s<0?(++this.size,e.push([n,t])):e[s][1]=t,this}function Ee(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var s=n[t];this.set(s[0],s[1])}}Ee.prototype.clear=ty,Ee.prototype.delete=sy,Ee.prototype.get=iy,Ee.prototype.has=ry,Ee.prototype.set=oy;var qs=un(ne,"Map");function ay(){this.size=0,this.__data__={hash:new fn,map:new(qs||Ee),string:new fn}}function ly(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function Fi(n,t){var e=n.__data__;return ly(t)?e[typeof t=="string"?"string":"hash"]:e.map}function cy(n){var t=Fi(this,n).delete(n);return this.size-=t?1:0,t}function dy(n){return Fi(this,n).get(n)}function hy(n){return Fi(this,n).has(n)}function uy(n,t){var e=Fi(this,n),s=e.size;return e.set(n,t),this.size+=e.size==s?0:1,this}function pn(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var s=n[t];this.set(s[0],s[1])}}pn.prototype.clear=ay,pn.prototype.delete=cy,pn.prototype.get=dy,pn.prototype.has=hy,pn.prototype.set=uy;function md(n,t){for(var e=-1,s=t.length,i=n.length;++e<s;)n[i+e]=t[e];return n}var ko=pd(Object.getPrototypeOf,Object),fy="[object Object]",py=Function.prototype,my=Object.prototype,gd=py.toString,gy=my.hasOwnProperty,by=gd.call(Object);function yy(n){if(!ye(n)||Kn(n)!=fy)return!1;var t=ko(n);if(t===null)return!0;var e=gy.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&gd.call(e)==by}function Ey(){this.__data__=new Ee,this.size=0}function _y(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}function Ty(n){return this.__data__.get(n)}function Ny(n){return this.__data__.has(n)}var Ay=200;function wy(n,t){var e=this.__data__;if(e instanceof Ee){var s=e.__data__;if(!qs||s.length<Ay-1)return s.push([n,t]),this.size=++e.size,this;e=this.__data__=new pn(s)}return e.set(n,t),this.size=e.size,this}function se(n){var t=this.__data__=new Ee(n);this.size=t.size}se.prototype.clear=Ey,se.prototype.delete=_y,se.prototype.get=Ty,se.prototype.has=Ny,se.prototype.set=wy;function ky(n,t){return n&&Is(t,wo(t),n)}function Cy(n,t){return n&&Is(t,Vs(t),n)}var bd=typeof W=="object"&&W&&!W.nodeType&&W,yd=bd&&typeof module=="object"&&module&&!module.nodeType&&module,vy=yd&&yd.exports===bd,Ed=vy?ne.Buffer:void 0,_d=Ed?Ed.allocUnsafe:void 0;function Td(n,t){if(t)return n.slice();var e=n.length,s=_d?_d(e):new n.constructor(e);return n.copy(s),s}function Sy(n,t){for(var e=-1,s=n==null?0:n.length,i=0,r=[];++e<s;){var a=n[e];t(a,e,n)&&(r[i++]=a)}return r}function Nd(){return[]}var Oy=Object.prototype,Ly=Oy.propertyIsEnumerable,Ad=Object.getOwnPropertySymbols,Co=Ad?function(n){return n==null?[]:(n=Object(n),Sy(Ad(n),function(t){return Ly.call(n,t)}))}:Nd;function xy(n,t){return Is(n,Co(n),t)}var By=Object.getOwnPropertySymbols,wd=By?function(n){for(var t=[];n;)md(t,Co(n)),n=ko(n);return t}:Nd;function Iy(n,t){return Is(n,wd(n),t)}function kd(n,t,e){var s=t(n);return dn(n)?s:md(s,e(n))}function vo(n){return kd(n,wo,Co)}function Dy(n){return kd(n,Vs,wd)}var So=un(ne,"DataView"),Oo=un(ne,"Promise"),Lo=un(ne,"Set"),Cd="[object Map]",Ry="[object Object]",vd="[object Promise]",Sd="[object Set]",Od="[object WeakMap]",Ld="[object DataView]",Vy=hn(So),My=hn(qs),qy=hn(Oo),$y=hn(Lo),Py=hn(bo),Pt=Kn;(So&&Pt(new So(new ArrayBuffer(1)))!=Ld||qs&&Pt(new qs)!=Cd||Oo&&Pt(Oo.resolve())!=vd||Lo&&Pt(new Lo)!=Sd||bo&&Pt(new bo)!=Od)&&(Pt=function(n){var t=Kn(n),e=t==Ry?n.constructor:void 0,s=e?hn(e):"";if(s)switch(s){case Vy:return Ld;case My:return Cd;case qy:return vd;case $y:return Sd;case Py:return Od}return t});var jy=Object.prototype,Fy=jy.hasOwnProperty;function Uy(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&Fy.call(n,"index")&&(e.index=n.index,e.input=n.input),e}var Ui=ne.Uint8Array;function xo(n){var t=new n.constructor(n.byteLength);return new Ui(t).set(new Ui(n)),t}function Hy(n,t){var e=t?xo(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}var zy=/\w*$/;function Wy(n){var t=new n.constructor(n.source,zy.exec(n));return t.lastIndex=n.lastIndex,t}var xd=$e?$e.prototype:void 0,Bd=xd?xd.valueOf:void 0;function Ky(n){return Bd?Object(Bd.call(n)):{}}function Id(n,t){var e=t?xo(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var Gy="[object Boolean]",Yy="[object Date]",Xy="[object Map]",Zy="[object Number]",Qy="[object RegExp]",Jy="[object Set]",tE="[object String]",eE="[object Symbol]",nE="[object ArrayBuffer]",sE="[object DataView]",iE="[object Float32Array]",rE="[object Float64Array]",oE="[object Int8Array]",aE="[object Int16Array]",lE="[object Int32Array]",cE="[object Uint8Array]",dE="[object Uint8ClampedArray]",hE="[object Uint16Array]",uE="[object Uint32Array]";function fE(n,t,e){var s=n.constructor;switch(t){case nE:return xo(n);case Gy:case Yy:return new s(+n);case sE:return Hy(n,e);case iE:case rE:case oE:case aE:case lE:case cE:case dE:case hE:case uE:return Id(n,e);case Xy:return new s;case Zy:case tE:return new s(n);case Qy:return Wy(n);case Jy:return new s;case eE:return Ky(n)}}function Dd(n){return typeof n.constructor=="function"&&!Eo(n)?Db(ko(n)):{}}var pE="[object Map]";function mE(n){return ye(n)&&Pt(n)==pE}var Rd=Gn&&Gn.isMap,gE=Rd?To(Rd):mE,bE="[object Set]";function yE(n){return ye(n)&&Pt(n)==bE}var Vd=Gn&&Gn.isSet,EE=Vd?To(Vd):yE,_E=1,TE=2,NE=4,Md="[object Arguments]",AE="[object Array]",wE="[object Boolean]",kE="[object Date]",CE="[object Error]",qd="[object Function]",vE="[object GeneratorFunction]",SE="[object Map]",OE="[object Number]",$d="[object Object]",LE="[object RegExp]",xE="[object Set]",BE="[object String]",IE="[object Symbol]",DE="[object WeakMap]",RE="[object ArrayBuffer]",VE="[object DataView]",ME="[object Float32Array]",qE="[object Float64Array]",$E="[object Int8Array]",PE="[object Int16Array]",jE="[object Int32Array]",FE="[object Uint8Array]",UE="[object Uint8ClampedArray]",HE="[object Uint16Array]",zE="[object Uint32Array]",K={};K[Md]=K[AE]=K[RE]=K[VE]=K[wE]=K[kE]=K[ME]=K[qE]=K[$E]=K[PE]=K[jE]=K[SE]=K[OE]=K[$d]=K[LE]=K[xE]=K[BE]=K[IE]=K[FE]=K[UE]=K[HE]=K[zE]=!0,K[CE]=K[qd]=K[DE]=!1;function Hi(n,t,e,s,i,r){var a,d=t&_E,l=t&TE,c=t&NE;if(a!==void 0)return a;if(!Pe(n))return n;var u=dn(n);if(u){if(a=Uy(n),!d)return ed(n,a)}else{var p=Pt(n),m=p==qd||p==vE;if(Ds(n))return Td(n,d);if(p==$d||p==Md||m&&!i){if(a=l||m?{}:Dd(n),!d)return l?Iy(n,Cy(a,n)):xy(n,ky(a,n))}else{if(!K[p])return i?n:{};a=fE(n,p,d)}}r||(r=new se);var g=r.get(n);if(g)return g;r.set(n,a),EE(n)?n.forEach(function(_){a.add(Hi(_,t,e,_,n,r))}):gE(n)&&n.forEach(function(_,T){a.set(T,Hi(_,t,e,T,n,r))});var y=c?l?Dy:vo:l?Vs:wo,E=u?void 0:y(n);return Ub(E||n,function(_,T){E&&(T=_,_=n[T]),sd(a,T,Hi(_,t,e,T,n,r))}),a}var WE=1,KE=4;function Yn(n){return Hi(n,WE|KE)}var GE="__lodash_hash_undefined__";function YE(n){return this.__data__.set(n,GE),this}function XE(n){return this.__data__.has(n)}function zi(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new pn;++t<e;)this.add(n[t])}zi.prototype.add=zi.prototype.push=YE,zi.prototype.has=XE;function ZE(n,t){for(var e=-1,s=n==null?0:n.length;++e<s;)if(t(n[e],e,n))return!0;return!1}function QE(n,t){return n.has(t)}var JE=1,t_=2;function Pd(n,t,e,s,i,r){var a=e&JE,d=n.length,l=t.length;if(d!=l&&!(a&&l>d))return!1;var c=r.get(n),u=r.get(t);if(c&&u)return c==t&&u==n;var p=-1,m=!0,g=e&t_?new zi:void 0;for(r.set(n,t),r.set(t,n);++p<d;){var y=n[p],E=t[p];if(s)var _=a?s(E,y,p,t,n,r):s(y,E,p,n,t,r);if(_!==void 0){if(_)continue;m=!1;break}if(g){if(!ZE(t,function(T,w){if(!QE(g,w)&&(y===T||i(y,T,e,s,r)))return g.push(w)})){m=!1;break}}else if(!(y===E||i(y,E,e,s,r))){m=!1;break}}return r.delete(n),r.delete(t),m}function e_(n){var t=-1,e=Array(n.size);return n.forEach(function(s,i){e[++t]=[i,s]}),e}function n_(n){var t=-1,e=Array(n.size);return n.forEach(function(s){e[++t]=s}),e}var s_=1,i_=2,r_="[object Boolean]",o_="[object Date]",a_="[object Error]",l_="[object Map]",c_="[object Number]",d_="[object RegExp]",h_="[object Set]",u_="[object String]",f_="[object Symbol]",p_="[object ArrayBuffer]",m_="[object DataView]",jd=$e?$e.prototype:void 0,Bo=jd?jd.valueOf:void 0;function g_(n,t,e,s,i,r,a){switch(e){case m_:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case p_:return!(n.byteLength!=t.byteLength||!r(new Ui(n),new Ui(t)));case r_:case o_:case c_:return Bs(+n,+t);case a_:return n.name==t.name&&n.message==t.message;case d_:case u_:return n==t+"";case l_:var d=e_;case h_:var l=s&s_;if(d||(d=n_),n.size!=t.size&&!l)return!1;var c=a.get(n);if(c)return c==t;s|=i_,a.set(n,t);var u=Pd(d(n),d(t),s,i,r,a);return a.delete(n),u;case f_:if(Bo)return Bo.call(n)==Bo.call(t)}return!1}var b_=1,y_=Object.prototype,E_=y_.hasOwnProperty;function __(n,t,e,s,i,r){var a=e&b_,d=vo(n),l=d.length,c=vo(t),u=c.length;if(l!=u&&!a)return!1;for(var p=l;p--;){var m=d[p];if(!(a?m in t:E_.call(t,m)))return!1}var g=r.get(n),y=r.get(t);if(g&&y)return g==t&&y==n;var E=!0;r.set(n,t),r.set(t,n);for(var _=a;++p<l;){m=d[p];var T=n[m],w=t[m];if(s)var k=a?s(w,T,m,t,n,r):s(T,w,m,n,t,r);if(!(k===void 0?T===w||i(T,w,e,s,r):k)){E=!1;break}_||(_=m=="constructor")}if(E&&!_){var v=n.constructor,S=t.constructor;v!=S&&"constructor"in n&&"constructor"in t&&!(typeof v=="function"&&v instanceof v&&typeof S=="function"&&S instanceof S)&&(E=!1)}return r.delete(n),r.delete(t),E}var T_=1,Fd="[object Arguments]",Ud="[object Array]",Wi="[object Object]",N_=Object.prototype,Hd=N_.hasOwnProperty;function A_(n,t,e,s,i,r){var a=dn(n),d=dn(t),l=a?Ud:Pt(n),c=d?Ud:Pt(t);l=l==Fd?Wi:l,c=c==Fd?Wi:c;var u=l==Wi,p=c==Wi,m=l==c;if(m&&Ds(n)){if(!Ds(t))return!1;a=!0,u=!1}if(m&&!u)return r||(r=new se),a||Ao(n)?Pd(n,t,e,s,i,r):g_(n,t,l,e,s,i,r);if(!(e&T_)){var g=u&&Hd.call(n,"__wrapped__"),y=p&&Hd.call(t,"__wrapped__");if(g||y){var E=g?n.value():n,_=y?t.value():t;return r||(r=new se),i(E,_,e,s,r)}}return m?(r||(r=new se),__(n,t,e,s,i,r)):!1}function zd(n,t,e,s,i){return n===t?!0:n==null||t==null||!ye(n)&&!ye(t)?n!==n&&t!==t:A_(n,t,e,s,zd,i)}function w_(n){return function(t,e,s){for(var i=-1,r=Object(t),a=s(t),d=a.length;d--;){var l=a[++i];if(e(r[l],l,r)===!1)break}return t}}var k_=w_();function Io(n,t,e){(e!==void 0&&!Bs(n[t],e)||e===void 0&&!(t in n))&&yo(n,t,e)}function C_(n){return ye(n)&&Pi(n)}function Do(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}function v_(n){return Is(n,Vs(n))}function S_(n,t,e,s,i,r,a){var d=Do(n,e),l=Do(t,e),c=a.get(l);if(c){Io(n,e,c);return}var u=r?r(d,l,e+"",n,t,a):void 0,p=u===void 0;if(p){var m=dn(l),g=!m&&Ds(l),y=!m&&!g&&Ao(l);u=l,m||g||y?dn(d)?u=d:C_(d)?u=ed(d):g?(p=!1,u=Td(l,!0)):y?(p=!1,u=Id(l,!0)):u=[]:yy(l)||_o(l)?(u=d,_o(d)?u=v_(d):(!Pe(d)||mo(d))&&(u=Dd(l))):p=!1}p&&(a.set(l,u),i(u,l,s,r,a),a.delete(l)),Io(n,e,u)}function Wd(n,t,e,s,i){n!==t&&k_(t,function(r,a){if(i||(i=new se),Pe(r))S_(n,t,a,e,Wd,s,i);else{var d=s?s(Do(n,a),r,a+"",n,t,i):void 0;d===void 0&&(d=r),Io(n,a,d)}},Vs)}function Ro(n,t){return zd(n,t)}var je=Qb(function(n,t,e){Wd(n,t,e)}),I=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(I||{});class ie{constructor(t,e,s={}){this.attrName=t,this.keyName=e;const i=I.TYPE&I.ATTRIBUTE;this.scope=s.scope!=null?s.scope&I.LEVEL|i:I.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class Xn extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const Kd=class ll{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let s=null;try{s=t.parentNode}catch{return null}return this.find(s,e)}return null}create(t,e,s){const i=this.query(e);if(i==null)throw new Xn(`Unable to create ${e} blot`);const r=i,a=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:r.create(s),d=new r(t,a,s);return ll.blots.set(d.domNode,d),d}find(t,e=!1){return ll.find(t,e)}query(t,e=I.ANY){let s;return typeof t=="string"?s=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?s=this.types.text:typeof t=="number"?t&I.LEVEL&I.BLOCK?s=this.types.block:t&I.LEVEL&I.INLINE&&(s=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(i=>(s=this.classes[i],!!s)),s=s||this.tags[t.tagName]),s==null?null:"scope"in s&&e&I.LEVEL&s.scope&&e&I.TYPE&s.scope?s:null}register(...t){return t.map(e=>{const s="blotName"in e,i="attrName"in e;if(!s&&!i)throw new Xn("Invalid definition");if(s&&e.blotName==="abstract")throw new Xn("Cannot register abstract class");const r=s?e.blotName:i?e.attrName:void 0;return this.types[r]=e,i?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):s&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(a=>a.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(a=>{(this.tags[a]==null||e.className==null)&&(this.tags[a]=e)}))),e})}};Kd.blots=new WeakMap;let Zn=Kd;function Gd(n,t){return(n.getAttribute("class")||"").split(/\s+/).filter(e=>e.indexOf(`${t}-`)===0)}class O_ extends ie{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){Gd(t,this.keyName).forEach(e=>{t.classList.remove(e)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(Gd(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const jt=O_;function Vo(n){const t=n.split("-"),e=t.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return t[0]+e}class L_ extends ie{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return this.canAdd(t,e)?(t.style[Vo(this.keyName)]=e,!0):!1}remove(t){t.style[Vo(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[Vo(this.keyName)];return this.canAdd(t,e)?e:""}}const Fe=L_;class x_{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=Zn.find(this.domNode);if(t==null)return;const e=ie.keys(this.domNode),s=jt.keys(this.domNode),i=Fe.keys(this.domNode);e.concat(s).concat(i).forEach(r=>{const a=t.scroll.query(r,I.ATTRIBUTE);a instanceof ie&&(this.attributes[a.attrName]=a)})}copy(t){Object.keys(this.attributes).forEach(e=>{const s=this.attributes[e].value(this.domNode);t.format(e,s)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}}const Ki=x_,Yd=class{constructor(t,e){this.scroll=t,this.domNode=e,Zn.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new Xn("Blot definition missing tagName");let e,s;return Array.isArray(this.tagName)?(typeof t=="string"?(s=t.toUpperCase(),parseInt(s,10).toString()===s&&(s=parseInt(s,10))):typeof t=="number"&&(s=t),typeof s=="number"?e=document.createElement(this.tagName[s-1]):s&&this.tagName.indexOf(s)>-1?e=document.createElement(s):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),Zn.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,s,i){const r=this.isolate(t,e);if(this.scroll.query(s,I.BLOT)!=null&&i)r.wrap(s,i);else if(this.scroll.query(s,I.ATTRIBUTE)!=null){const a=this.scroll.create(this.statics.scope);r.wrap(a),a.format(s,i)}}insertAt(t,e,s){const i=s==null?this.scroll.create("text",e):this.scroll.create(e,s),r=this.split(t);this.parent.insertBefore(i,r||void 0)}isolate(t,e){const s=this.split(t);if(s==null)throw new Error("Attempt to isolate at end");return s.split(e),s}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const s=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),s}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const s=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new Xn(`Cannot wrap ${t}`);return s.appendChild(this),s}};Yd.blotName="abstract";let Xd=Yd;const Zd=class extends Xd{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let s=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(s+=1),[this.parent.domNode,s]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Zd.scope=I.INLINE_BLOT;const at=Zd;class B_{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let s=e();for(;s&&t>0;)t-=1,s=e();return s}contains(t){const e=this.iterator();let s=e();for(;s;){if(s===t)return!0;s=e()}return!1}indexOf(t){const e=this.iterator();let s=e(),i=0;for(;s;){if(s===t)return i;i+=1,s=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,s=this.head;for(;s!=null;){if(s===t)return e;e+=s.length(),s=s.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const s=this.iterator();let i=s();for(;i;){const r=i.length();if(t<r||e&&t===r&&(i.next==null||i.next.length()!==0))return[i,t];t-=r,i=s()}return[null,0]}forEach(t){const e=this.iterator();let s=e();for(;s;)t(s),s=e()}forEachAt(t,e,s){if(e<=0)return;const[i,r]=this.find(t);let a=t-r;const d=this.iterator(i);let l=d();for(;l&&a<t+e;){const c=l.length();t>a?s(l,t-a,Math.min(e,a+c-t)):s(l,0,Math.min(c,t+e-a)),a+=c,l=d()}}map(t){return this.reduce((e,s)=>(e.push(t(s)),e),[])}reduce(t,e){const s=this.iterator();let i=s();for(;i;)e=t(e,i),i=s();return e}}function Qd(n,t){const e=t.find(n);if(e)return e;try{return t.create(n)}catch{const s=t.create(I.INLINE);return Array.from(n.childNodes).forEach(i=>{s.domNode.appendChild(i)}),n.parentNode&&n.parentNode.replaceChild(s.domNode,n),s.attach(),s}}const Jd=class Qe extends Xd{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,Qe.uiClass&&this.uiNode.classList.add(Qe.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new B_,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=Qd(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof Xn)return;throw e}})}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,(s,i,r)=>{s.deleteAt(i,r)})}descendant(t,e=0){const[s,i]=this.children.find(e);return t.blotName==null&&t(s)||t.blotName!=null&&s instanceof t?[s,i]:s instanceof Qe?s.descendant(t,i):[null,-1]}descendants(t,e=0,s=Number.MAX_VALUE){let i=[],r=s;return this.children.forEachAt(e,s,(a,d,l)=>{(t.blotName==null&&t(a)||t.blotName!=null&&a instanceof t)&&i.push(a),a instanceof Qe&&(i=i.concat(a.descendants(t,d,r))),r-=l}),i}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(e=>{t||this.statics.allowedChildren.some(s=>e instanceof s)||(e.statics.scope===I.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof Qe?e.unwrap():e.remove())})}formatAt(t,e,s,i){this.children.forEachAt(t,e,(r,a,d)=>{r.formatAt(a,d,s,i)})}insertAt(t,e,s){const[i,r]=this.children.find(t);if(i)i.insertAt(r,e,s);else{const a=s==null?this.scroll.create("text",e):this.scroll.create(e,s);this.appendChild(a)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let s=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(s=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(t.domNode,s),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(s=>{t.insertBefore(s,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[s,i]=this.children.find(t,e),r=[[this,t]];return s instanceof Qe?r.concat(s.path(i,e)):(s!=null&&r.push([s,i]),r)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const s=typeof t=="string"?this.scroll.create(t,e):t;return s instanceof Qe&&this.moveChildren(s),super.replaceWith(s)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(t,this.length(),(i,r,a)=>{const d=i.split(r,e);d!=null&&s.appendChild(d)}),s}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const s=[],i=[];t.forEach(r=>{r.target===this.domNode&&r.type==="childList"&&(s.push(...r.addedNodes),i.push(...r.removedNodes))}),i.forEach(r=>{if(r.parentNode!=null&&r.tagName!=="IFRAME"&&document.body.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const a=this.scroll.find(r);a!=null&&(a.domNode.parentNode==null||a.domNode.parentNode===this.domNode)&&a.detach()}),s.filter(r=>r.parentNode===this.domNode&&r!==this.uiNode).sort((r,a)=>r===a?0:r.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(r=>{let a=null;r.nextSibling!=null&&(a=this.scroll.find(r.nextSibling));const d=Qd(r,this.scroll);(d.next!==a||d.next==null)&&(d.parent!=null&&d.parent.removeChild(this),this.insertBefore(d,a||void 0))}),this.enforceAllowedChildren()}};Jd.uiClass="";const Ft=Jd;function I_(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(n[e]!==t[e])return!1;return!0}const Qn=class Es extends Ft{static create(t){return super.create(t)}static formats(t,e){const s=e.query(Es.blotName);if(!(s!=null&&t.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new Ki(this.domNode)}format(t,e){if(t===this.statics.blotName&&!e)this.children.forEach(s=>{s instanceof Es||(s=s.wrap(Es.blotName,!0)),this.attributes.copy(s)}),this.unwrap();else{const s=this.scroll.query(t,I.INLINE);if(s==null)return;s instanceof ie?this.attributes.attribute(s,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,s,i){this.formats()[s]!=null||this.scroll.query(s,I.ATTRIBUTE)?this.isolate(t,e).format(s,i):super.formatAt(t,e,s,i)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const s=this.next;s instanceof Es&&s.prev===this&&I_(e,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(t,e){const s=super.replaceWith(t,e);return this.attributes.copy(s),s}update(t,e){super.update(t,e),t.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(t,e){const s=super.wrap(t,e);return s instanceof Es&&this.attributes.move(s),s}};Qn.allowedChildren=[Qn,at],Qn.blotName="inline",Qn.scope=I.INLINE_BLOT,Qn.tagName="SPAN";const Mo=Qn,Jn=class cl extends Ft{static create(t){return super.create(t)}static formats(t,e){const s=e.query(cl.blotName);if(!(s!=null&&t.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new Ki(this.domNode)}format(t,e){const s=this.scroll.query(t,I.BLOCK);s!=null&&(s instanceof ie?this.attributes.attribute(s,e):t===this.statics.blotName&&!e?this.replaceWith(cl.blotName):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,s,i){this.scroll.query(s,I.BLOCK)!=null?this.format(s,i):super.formatAt(t,e,s,i)}insertAt(t,e,s){if(s==null||this.scroll.query(e,I.INLINE)!=null)super.insertAt(t,e,s);else{const i=this.split(t);if(i!=null){const r=this.scroll.create(e,s);i.parent.insertBefore(r,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const s=super.replaceWith(t,e);return this.attributes.copy(s),s}update(t,e){super.update(t,e),t.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};Jn.blotName="block",Jn.scope=I.BLOCK_BLOT,Jn.tagName="P",Jn.allowedChildren=[Mo,Jn,at];const $s=Jn,qo=class extends Ft{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,s,i){super.formatAt(t,e,s,i),this.enforceAllowedChildren()}insertAt(t,e,s){super.insertAt(t,e,s),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};qo.blotName="container",qo.scope=I.BLOCK_BLOT;const Gi=qo;class D_ extends at{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,s,i){t===0&&e===this.length()?this.format(s,i):super.formatAt(t,e,s,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const kt=D_,R_={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},V_=100,ts=class extends Ft{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(s=>{this.update(s)}),this.observer.observe(this.domNode,R_),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const s=this.registry.find(t,e);return s?s.scroll===this?s:e?this.find(s.scroll.domNode.parentNode,!0):null:null}query(t,e=I.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach(s=>{s.remove()}):super.deleteAt(t,e)}formatAt(t,e,s,i){this.update(),super.formatAt(t,e,s,i)}insertAt(t,e,s){this.update(),super.insertAt(t,e,s)}optimize(t=[],e={}){super.optimize(e);const s=e.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)t.push(i.pop());const r=(l,c=!0)=>{l==null||l===this||l.domNode.parentNode!=null&&(s.has(l.domNode)||s.set(l.domNode,[]),c&&r(l.parent))},a=l=>{s.has(l.domNode)&&(l instanceof Ft&&l.children.forEach(a),s.delete(l.domNode),l.optimize(e))};let d=t;for(let l=0;d.length>0;l+=1){if(l>=V_)throw new Error("[Parchment] Maximum optimize iterations reached");for(d.forEach(c=>{const u=this.find(c.target,!0);u!=null&&(u.domNode===c.target&&(c.type==="childList"?(r(this.find(c.previousSibling,!1)),Array.from(c.addedNodes).forEach(p=>{const m=this.find(p,!1);r(m,!1),m instanceof Ft&&m.children.forEach(g=>{r(g,!1)})})):c.type==="attributes"&&r(u.prev)),r(u))}),this.children.forEach(a),d=Array.from(this.observer.takeRecords()),i=d.slice();i.length>0;)t.push(i.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const s=new WeakMap;t.map(i=>{const r=this.find(i.target,!0);return r==null?null:s.has(r.domNode)?(s.get(r.domNode).push(i),null):(s.set(r.domNode,[i]),r)}).forEach(i=>{i!=null&&i!==this&&s.has(i.domNode)&&i.update(s.get(i.domNode)||[],e)}),e.mutationsMap=s,s.has(this.domNode)&&super.update(s.get(this.domNode),e),this.optimize(t,e)}};ts.blotName="scroll",ts.defaultChild=$s,ts.allowedChildren=[$s,Gi],ts.scope=I.BLOCK_BLOT,ts.tagName="DIV";const $o=ts,Po=class uu extends at{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,s){s==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,s)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof uu&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(t,e){t.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Po.blotName="text",Po.scope=I.INLINE_BLOT;const Yi=Po,M_=Object.freeze(Object.defineProperty({__proto__:null,Attributor:ie,AttributorStore:Ki,BlockBlot:$s,ClassAttributor:jt,ContainerBlot:Gi,EmbedBlot:kt,InlineBlot:Mo,LeafBlot:at,ParentBlot:Ft,Registry:Zn,Scope:I,ScrollBlot:$o,StyleAttributor:Fe,TextBlot:Yi},Symbol.toStringTag,{value:"Module"}));var Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function th(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jo={exports:{}},Ct=-1,pt=1,J=0;function Ps(n,t,e,s,i){if(n===t)return n?[[J,n]]:[];if(e!=null){var r=W_(n,t,e);if(r)return r}var a=Fo(n,t),d=n.substring(0,a);n=n.substring(a),t=t.substring(a),a=Xi(n,t);var l=n.substring(n.length-a);n=n.substring(0,n.length-a),t=t.substring(0,t.length-a);var c=q_(n,t);return d&&c.unshift([J,d]),l&&c.push([J,l]),Uo(c,i),s&&j_(c),c}function q_(n,t){var e;if(!n)return[[pt,t]];if(!t)return[[Ct,n]];var s=n.length>t.length?n:t,i=n.length>t.length?t:n,r=s.indexOf(i);if(r!==-1)return e=[[pt,s.substring(0,r)],[J,i],[pt,s.substring(r+i.length)]],n.length>t.length&&(e[0][0]=e[2][0]=Ct),e;if(i.length===1)return[[Ct,n],[pt,t]];var a=P_(n,t);if(a){var d=a[0],l=a[1],c=a[2],u=a[3],p=a[4],m=Ps(d,c),g=Ps(l,u);return m.concat([[J,p]],g)}return $_(n,t)}function $_(n,t){for(var e=n.length,s=t.length,i=Math.ceil((e+s)/2),r=i,a=2*i,d=new Array(a),l=new Array(a),c=0;c<a;c++)d[c]=-1,l[c]=-1;d[r+1]=0,l[r+1]=0;for(var u=e-s,p=u%2!==0,m=0,g=0,y=0,E=0,_=0;_<i;_++){for(var T=-_+m;T<=_-g;T+=2){var w=r+T,k;T===-_||T!==_&&d[w-1]<d[w+1]?k=d[w+1]:k=d[w-1]+1;for(var v=k-T;k<e&&v<s&&n.charAt(k)===t.charAt(v);)k++,v++;if(d[w]=k,k>e)g+=2;else if(v>s)m+=2;else if(p){var S=r+u-T;if(S>=0&&S<a&&l[S]!==-1){var O=e-l[S];if(k>=O)return eh(n,t,k,v)}}}for(var D=-_+y;D<=_-E;D+=2){var S=r+D,O;D===-_||D!==_&&l[S-1]<l[S+1]?O=l[S+1]:O=l[S-1]+1;for(var M=O-D;O<e&&M<s&&n.charAt(e-O-1)===t.charAt(s-M-1);)O++,M++;if(l[S]=O,O>e)E+=2;else if(M>s)y+=2;else if(!p){var w=r+u-D;if(w>=0&&w<a&&d[w]!==-1){var k=d[w],v=r+k-w;if(O=e-O,k>=O)return eh(n,t,k,v)}}}}return[[Ct,n],[pt,t]]}function eh(n,t,e,s){var i=n.substring(0,e),r=t.substring(0,s),a=n.substring(e),d=t.substring(s),l=Ps(i,r),c=Ps(a,d);return l.concat(c)}function Fo(n,t){if(!n||!t||n.charAt(0)!==t.charAt(0))return 0;for(var e=0,s=Math.min(n.length,t.length),i=s,r=0;e<i;)n.substring(r,i)==t.substring(r,i)?(e=i,r=e):s=i,i=Math.floor((s-e)/2+e);return oh(n.charCodeAt(i-1))&&i--,i}function nh(n,t){var e=n.length,s=t.length;if(e==0||s==0)return 0;e>s?n=n.substring(e-s):e<s&&(t=t.substring(0,e));var i=Math.min(e,s);if(n==t)return i;for(var r=0,a=1;;){var d=n.substring(i-a),l=t.indexOf(d);if(l==-1)return r;a+=l,(l==0||n.substring(i-a)==t.substring(0,a))&&(r=a,a++)}}function Xi(n,t){if(!n||!t||n.slice(-1)!==t.slice(-1))return 0;for(var e=0,s=Math.min(n.length,t.length),i=s,r=0;e<i;)n.substring(n.length-i,n.length-r)==t.substring(t.length-i,t.length-r)?(e=i,r=e):s=i,i=Math.floor((s-e)/2+e);return ah(n.charCodeAt(n.length-i))&&i--,i}function P_(n,t){var e=n.length>t.length?n:t,s=n.length>t.length?t:n;if(e.length<4||s.length*2<e.length)return null;function i(g,y,E){for(var _=g.substring(E,E+Math.floor(g.length/4)),T=-1,w="",k,v,S,O;(T=y.indexOf(_,T+1))!==-1;){var D=Fo(g.substring(E),y.substring(T)),M=Xi(g.substring(0,E),y.substring(0,T));w.length<M+D&&(w=y.substring(T-M,T)+y.substring(T,T+D),k=g.substring(0,E-M),v=g.substring(E+D),S=y.substring(0,T-M),O=y.substring(T+D))}return w.length*2>=g.length?[k,v,S,O,w]:null}var r=i(e,s,Math.ceil(e.length/4)),a=i(e,s,Math.ceil(e.length/2)),d;if(!r&&!a)return null;a?r?d=r[4].length>a[4].length?r:a:d=a:d=r;var l,c,u,p;n.length>t.length?(l=d[0],c=d[1],u=d[2],p=d[3]):(u=d[0],p=d[1],l=d[2],c=d[3]);var m=d[4];return[l,c,u,p,m]}function j_(n){for(var t=!1,e=[],s=0,i=null,r=0,a=0,d=0,l=0,c=0;r<n.length;)n[r][0]==J?(e[s++]=r,a=l,d=c,l=0,c=0,i=n[r][1]):(n[r][0]==pt?l+=n[r][1].length:c+=n[r][1].length,i&&i.length<=Math.max(a,d)&&i.length<=Math.max(l,c)&&(n.splice(e[s-1],0,[Ct,i]),n[e[s-1]+1][0]=pt,s--,s--,r=s>0?e[s-1]:-1,a=0,d=0,l=0,c=0,i=null,t=!0)),r++;for(t&&Uo(n),H_(n),r=1;r<n.length;){if(n[r-1][0]==Ct&&n[r][0]==pt){var u=n[r-1][1],p=n[r][1],m=nh(u,p),g=nh(p,u);m>=g?(m>=u.length/2||m>=p.length/2)&&(n.splice(r,0,[J,p.substring(0,m)]),n[r-1][1]=u.substring(0,u.length-m),n[r+1][1]=p.substring(m),r++):(g>=u.length/2||g>=p.length/2)&&(n.splice(r,0,[J,u.substring(0,g)]),n[r-1][0]=pt,n[r-1][1]=p.substring(0,p.length-g),n[r+1][0]=Ct,n[r+1][1]=u.substring(g),r++),r++}r++}}var sh=/[^a-zA-Z0-9]/,ih=/\s/,rh=/[\r\n]/,F_=/\n\r?\n$/,U_=/^\r?\n\r?\n/;function H_(n){function t(g,y){if(!g||!y)return 6;var E=g.charAt(g.length-1),_=y.charAt(0),T=E.match(sh),w=_.match(sh),k=T&&E.match(ih),v=w&&_.match(ih),S=k&&E.match(rh),O=v&&_.match(rh),D=S&&g.match(F_),M=O&&y.match(U_);return D||M?5:S||O?4:T&&!k&&v?3:k||v?2:T||w?1:0}for(var e=1;e<n.length-1;){if(n[e-1][0]==J&&n[e+1][0]==J){var s=n[e-1][1],i=n[e][1],r=n[e+1][1],a=Xi(s,i);if(a){var d=i.substring(i.length-a);s=s.substring(0,s.length-a),i=d+i.substring(0,i.length-a),r=d+r}for(var l=s,c=i,u=r,p=t(s,i)+t(i,r);i.charAt(0)===r.charAt(0);){s+=i.charAt(0),i=i.substring(1)+r.charAt(0),r=r.substring(1);var m=t(s,i)+t(i,r);m>=p&&(p=m,l=s,c=i,u=r)}n[e-1][1]!=l&&(l?n[e-1][1]=l:(n.splice(e-1,1),e--),n[e][1]=c,u?n[e+1][1]=u:(n.splice(e+1,1),e--))}e++}}function Uo(n,t){n.push([J,""]);for(var e=0,s=0,i=0,r="",a="",d;e<n.length;){if(e<n.length-1&&!n[e][1]){n.splice(e,1);continue}switch(n[e][0]){case pt:i++,a+=n[e][1],e++;break;case Ct:s++,r+=n[e][1],e++;break;case J:var l=e-i-s-1;if(t){if(l>=0&&ch(n[l][1])){var c=n[l][1].slice(-1);if(n[l][1]=n[l][1].slice(0,-1),r=c+r,a=c+a,!n[l][1]){n.splice(l,1),e--;var u=l-1;n[u]&&n[u][0]===pt&&(i++,a=n[u][1]+a,u--),n[u]&&n[u][0]===Ct&&(s++,r=n[u][1]+r,u--),l=u}}if(lh(n[e][1])){var c=n[e][1].charAt(0);n[e][1]=n[e][1].slice(1),r+=c,a+=c}}if(e<n.length-1&&!n[e][1]){n.splice(e,1);break}if(r.length>0||a.length>0){r.length>0&&a.length>0&&(d=Fo(a,r),d!==0&&(l>=0?n[l][1]+=a.substring(0,d):(n.splice(0,0,[J,a.substring(0,d)]),e++),a=a.substring(d),r=r.substring(d)),d=Xi(a,r),d!==0&&(n[e][1]=a.substring(a.length-d)+n[e][1],a=a.substring(0,a.length-d),r=r.substring(0,r.length-d)));var p=i+s;r.length===0&&a.length===0?(n.splice(e-p,p),e=e-p):r.length===0?(n.splice(e-p,p,[pt,a]),e=e-p+1):a.length===0?(n.splice(e-p,p,[Ct,r]),e=e-p+1):(n.splice(e-p,p,[Ct,r],[pt,a]),e=e-p+2)}e!==0&&n[e-1][0]===J?(n[e-1][1]+=n[e][1],n.splice(e,1)):e++,i=0,s=0,r="",a="";break}}n[n.length-1][1]===""&&n.pop();var m=!1;for(e=1;e<n.length-1;)n[e-1][0]===J&&n[e+1][0]===J&&(n[e][1].substring(n[e][1].length-n[e-1][1].length)===n[e-1][1]?(n[e][1]=n[e-1][1]+n[e][1].substring(0,n[e][1].length-n[e-1][1].length),n[e+1][1]=n[e-1][1]+n[e+1][1],n.splice(e-1,1),m=!0):n[e][1].substring(0,n[e+1][1].length)==n[e+1][1]&&(n[e-1][1]+=n[e+1][1],n[e][1]=n[e][1].substring(n[e+1][1].length)+n[e+1][1],n.splice(e+1,1),m=!0)),e++;m&&Uo(n,t)}function oh(n){return n>=55296&&n<=56319}function ah(n){return n>=56320&&n<=57343}function lh(n){return ah(n.charCodeAt(0))}function ch(n){return oh(n.charCodeAt(n.length-1))}function z_(n){for(var t=[],e=0;e<n.length;e++)n[e][1].length>0&&t.push(n[e]);return t}function Ho(n,t,e,s){return ch(n)||lh(s)?null:z_([[J,n],[Ct,t],[pt,e],[J,s]])}function W_(n,t,e){var s=typeof e=="number"?{index:e,length:0}:e.oldRange,i=typeof e=="number"?null:e.newRange,r=n.length,a=t.length;if(s.length===0&&(i===null||i.length===0)){var d=s.index,l=n.slice(0,d),c=n.slice(d),u=i?i.index:null;t:{var p=d+a-r;if(u!==null&&u!==p||p<0||p>a)break t;var m=t.slice(0,p),g=t.slice(p);if(g!==c)break t;var y=Math.min(d,p),E=l.slice(0,y),_=m.slice(0,y);if(E!==_)break t;var T=l.slice(y),w=m.slice(y);return Ho(E,T,w,c)}t:{if(u!==null&&u!==d)break t;var k=d,m=t.slice(0,k),g=t.slice(k);if(m!==l)break t;var v=Math.min(r-k,a-k),S=c.slice(c.length-v),O=g.slice(g.length-v);if(S!==O)break t;var T=c.slice(0,c.length-v),w=g.slice(0,g.length-v);return Ho(l,T,w,S)}}if(s.length>0&&i&&i.length===0)t:{var E=n.slice(0,s.index),S=n.slice(s.index+s.length),y=E.length,v=S.length;if(a<y+v)break t;var _=t.slice(0,y),O=t.slice(a-v);if(E!==_||S!==O)break t;var T=n.slice(y,r-v),w=t.slice(y,a-v);return Ho(E,T,w,S)}return null}function Zi(n,t,e,s){return Ps(n,t,e,s,!0)}Zi.INSERT=pt,Zi.DELETE=Ct,Zi.EQUAL=J;var K_=Zi,Qi={exports:{}};Qi.exports,function(n,t){var e=200,s="__lodash_hash_undefined__",i=9007199254740991,r="[object Arguments]",a="[object Array]",d="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",y="[object Object]",E="[object Promise]",_="[object RegExp]",T="[object Set]",w="[object String]",k="[object Symbol]",v="[object WeakMap]",S="[object ArrayBuffer]",O="[object DataView]",D="[object Float32Array]",M="[object Float64Array]",H="[object Int8Array]",z="[object Int16Array]",Y="[object Int32Array]",tt="[object Uint8Array]",Z="[object Uint8ClampedArray]",Vt="[object Uint16Array]",Mt="[object Uint32Array]",it=/[\\^$.*+?()[\]{}|]/g,mt=/\w*$/,We=/^\[object .+?Constructor\]$/,Yt=/^(?:0|[1-9]\d*)$/,P={};P[r]=P[a]=P[S]=P[O]=P[d]=P[l]=P[D]=P[M]=P[H]=P[z]=P[Y]=P[m]=P[g]=P[y]=P[_]=P[T]=P[w]=P[k]=P[tt]=P[Z]=P[Vt]=P[Mt]=!0,P[c]=P[u]=P[v]=!1;var En=typeof Ue=="object"&&Ue&&Ue.Object===Object&&Ue,we=typeof self=="object"&&self&&self.Object===Object&&self,ct=En||we||Function("return this")(),Xt=t&&!t.nodeType&&t,$=Xt&&!0&&n&&!n.nodeType&&n,le=$&&$.exports===Xt;function Ke(h,f){return h.set(f[0],f[1]),h}function et(h,f){return h.add(f),h}function Ge(h,f){for(var b=-1,N=h?h.length:0;++b<N&&f(h[b],b,h)!==!1;);return h}function ls(h,f){for(var b=-1,N=f.length,q=h.length;++b<N;)h[q+b]=f[b];return h}function ke(h,f,b,N){for(var q=-1,R=h?h.length:0;++q<R;)b=f(b,h[q],q,h);return b}function _n(h,f){for(var b=-1,N=Array(h);++b<h;)N[b]=f(b);return N}function Tn(h,f){return h==null?void 0:h[f]}function Nn(h){var f=!1;if(h!=null&&typeof h.toString!="function")try{f=!!(h+"")}catch{}return f}function cs(h){var f=-1,b=Array(h.size);return h.forEach(function(N,q){b[++f]=[q,N]}),b}function Ye(h,f){return function(b){return h(f(b))}}function An(h){var f=-1,b=Array(h.size);return h.forEach(function(N){b[++f]=N}),b}var Js=Array.prototype,ti=Function.prototype,yt=Object.prototype,ce=ct["__core-js_shared__"],wn=function(){var h=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),kn=ti.toString,Et=yt.hasOwnProperty,Ce=yt.toString,ds=RegExp("^"+kn.call(Et).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),de=le?ct.Buffer:void 0,ve=ct.Symbol,ei=ct.Uint8Array,qt=Ye(Object.getPrototypeOf,Object),hr=Object.create,ur=yt.propertyIsEnumerable,wa=Js.splice,ni=Object.getOwnPropertySymbols,hs=de?de.isBuffer:void 0,fr=Ye(Object.keys,Object),us=Qt(ct,"DataView"),Cn=Qt(ct,"Map"),Zt=Qt(ct,"Promise"),fs=Qt(ct,"Set"),si=Qt(ct,"WeakMap"),vn=Qt(Object,"create"),ii=gt(us),Sn=gt(Cn),ri=gt(Zt),oi=gt(fs),ai=gt(si),Xe=ve?ve.prototype:void 0,pr=Xe?Xe.valueOf:void 0;function Se(h){var f=-1,b=h?h.length:0;for(this.clear();++f<b;){var N=h[f];this.set(N[0],N[1])}}function ka(){this.__data__=vn?vn(null):{}}function Ca(h){return this.has(h)&&delete this.__data__[h]}function va(h){var f=this.__data__;if(vn){var b=f[h];return b===s?void 0:b}return Et.call(f,h)?f[h]:void 0}function mr(h){var f=this.__data__;return vn?f[h]!==void 0:Et.call(f,h)}function li(h,f){var b=this.__data__;return b[h]=vn&&f===void 0?s:f,this}Se.prototype.clear=ka,Se.prototype.delete=Ca,Se.prototype.get=va,Se.prototype.has=mr,Se.prototype.set=li;function rt(h){var f=-1,b=h?h.length:0;for(this.clear();++f<b;){var N=h[f];this.set(N[0],N[1])}}function Sa(){this.__data__=[]}function Oa(h){var f=this.__data__,b=ms(f,h);if(b<0)return!1;var N=f.length-1;return b==N?f.pop():wa.call(f,b,1),!0}function La(h){var f=this.__data__,b=ms(f,h);return b<0?void 0:f[b][1]}function xa(h){return ms(this.__data__,h)>-1}function Ba(h,f){var b=this.__data__,N=ms(b,h);return N<0?b.push([h,f]):b[N][1]=f,this}rt.prototype.clear=Sa,rt.prototype.delete=Oa,rt.prototype.get=La,rt.prototype.has=xa,rt.prototype.set=Ba;function dt(h){var f=-1,b=h?h.length:0;for(this.clear();++f<b;){var N=h[f];this.set(N[0],N[1])}}function Ia(){this.__data__={hash:new Se,map:new(Cn||rt),string:new Se}}function Da(h){return Ln(this,h).delete(h)}function Ra(h){return Ln(this,h).get(h)}function Va(h){return Ln(this,h).has(h)}function Ma(h,f){return Ln(this,h).set(h,f),this}dt.prototype.clear=Ia,dt.prototype.delete=Da,dt.prototype.get=Ra,dt.prototype.has=Va,dt.prototype.set=Ma;function _t(h){this.__data__=new rt(h)}function qa(){this.__data__=new rt}function $a(h){return this.__data__.delete(h)}function Pa(h){return this.__data__.get(h)}function ja(h){return this.__data__.has(h)}function Fa(h,f){var b=this.__data__;if(b instanceof rt){var N=b.__data__;if(!Cn||N.length<e-1)return N.push([h,f]),this;b=this.__data__=new dt(N)}return b.set(h,f),this}_t.prototype.clear=qa,_t.prototype.delete=$a,_t.prototype.get=Pa,_t.prototype.has=ja,_t.prototype.set=Fa;function ps(h,f){var b=ui(h)||bs(h)?_n(h.length,String):[],N=b.length,q=!!N;for(var R in h)Et.call(h,R)&&!(q&&(R=="length"||nl(R,N)))&&b.push(R);return b}function gr(h,f,b){var N=h[f];(!(Et.call(h,f)&&Tr(N,b))||b===void 0&&!(f in h))&&(h[f]=b)}function ms(h,f){for(var b=h.length;b--;)if(Tr(h[b][0],f))return b;return-1}function he(h,f){return h&&hi(f,pi(f),h)}function ci(h,f,b,N,q,R,F){var j;if(N&&(j=R?N(h,q,R,F):N(h)),j!==void 0)return j;if(!fe(h))return h;var Q=ui(h);if(Q){if(j=tl(h),!f)return Za(h,j)}else{var U=Le(h),ht=U==u||U==p;if(Nr(h))return gs(h,f);if(U==y||U==r||ht&&!R){if(Nn(h))return R?h:{};if(j=ue(ht?{}:h),!f)return Qa(h,he(j,h))}else{if(!P[U])return R?h:{};j=el(h,U,ci,f)}}F||(F=new _t);var Tt=F.get(h);if(Tt)return Tt;if(F.set(h,j),!Q)var nt=b?Ja(h):pi(h);return Ge(nt||h,function(ut,ot){nt&&(ot=ut,ut=h[ot]),gr(j,ot,ci(ut,f,b,N,ot,h,F))}),j}function Ua(h){return fe(h)?hr(h):{}}function Ha(h,f,b){var N=f(h);return ui(h)?N:ls(N,b(h))}function za(h){return Ce.call(h)}function Wa(h){if(!fe(h)||il(h))return!1;var f=fi(h)||Nn(h)?ds:We;return f.test(gt(h))}function Ka(h){if(!Er(h))return fr(h);var f=[];for(var b in Object(h))Et.call(h,b)&&b!="constructor"&&f.push(b);return f}function gs(h,f){if(f)return h.slice();var b=new h.constructor(h.length);return h.copy(b),b}function di(h){var f=new h.constructor(h.byteLength);return new ei(f).set(new ei(h)),f}function On(h,f){var b=f?di(h.buffer):h.buffer;return new h.constructor(b,h.byteOffset,h.byteLength)}function br(h,f,b){var N=f?b(cs(h),!0):cs(h);return ke(N,Ke,new h.constructor)}function yr(h){var f=new h.constructor(h.source,mt.exec(h));return f.lastIndex=h.lastIndex,f}function Ga(h,f,b){var N=f?b(An(h),!0):An(h);return ke(N,et,new h.constructor)}function Ya(h){return pr?Object(pr.call(h)):{}}function Xa(h,f){var b=f?di(h.buffer):h.buffer;return new h.constructor(b,h.byteOffset,h.length)}function Za(h,f){var b=-1,N=h.length;for(f||(f=Array(N));++b<N;)f[b]=h[b];return f}function hi(h,f,b,N){b||(b={});for(var q=-1,R=f.length;++q<R;){var F=f[q],j=void 0;gr(b,F,j===void 0?h[F]:j)}return b}function Qa(h,f){return hi(h,Oe(h),f)}function Ja(h){return Ha(h,pi,Oe)}function Ln(h,f){var b=h.__data__;return sl(f)?b[typeof f=="string"?"string":"hash"]:b.map}function Qt(h,f){var b=Tn(h,f);return Wa(b)?b:void 0}var Oe=ni?Ye(ni,Object):ol,Le=za;(us&&Le(new us(new ArrayBuffer(1)))!=O||Cn&&Le(new Cn)!=m||Zt&&Le(Zt.resolve())!=E||fs&&Le(new fs)!=T||si&&Le(new si)!=v)&&(Le=function(h){var f=Ce.call(h),b=f==y?h.constructor:void 0,N=b?gt(b):void 0;if(N)switch(N){case ii:return O;case Sn:return m;case ri:return E;case oi:return T;case ai:return v}return f});function tl(h){var f=h.length,b=h.constructor(f);return f&&typeof h[0]=="string"&&Et.call(h,"index")&&(b.index=h.index,b.input=h.input),b}function ue(h){return typeof h.constructor=="function"&&!Er(h)?Ua(qt(h)):{}}function el(h,f,b,N){var q=h.constructor;switch(f){case S:return di(h);case d:case l:return new q(+h);case O:return On(h,N);case D:case M:case H:case z:case Y:case tt:case Z:case Vt:case Mt:return Xa(h,N);case m:return br(h,N,b);case g:case w:return new q(h);case _:return yr(h);case T:return Ga(h,N,b);case k:return Ya(h)}}function nl(h,f){return f=f??i,!!f&&(typeof h=="number"||Yt.test(h))&&h>-1&&h%1==0&&h<f}function sl(h){var f=typeof h;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?h!=="__proto__":h===null}function il(h){return!!wn&&wn in h}function Er(h){var f=h&&h.constructor,b=typeof f=="function"&&f.prototype||yt;return h===b}function gt(h){if(h!=null){try{return kn.call(h)}catch{}try{return h+""}catch{}}return""}function _r(h){return ci(h,!0,!0)}function Tr(h,f){return h===f||h!==h&&f!==f}function bs(h){return rl(h)&&Et.call(h,"callee")&&(!ur.call(h,"callee")||Ce.call(h)==r)}var ui=Array.isArray;function ys(h){return h!=null&&Ar(h.length)&&!fi(h)}function rl(h){return wr(h)&&ys(h)}var Nr=hs||al;function fi(h){var f=fe(h)?Ce.call(h):"";return f==u||f==p}function Ar(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=i}function fe(h){var f=typeof h;return!!h&&(f=="object"||f=="function")}function wr(h){return!!h&&typeof h=="object"}function pi(h){return ys(h)?ps(h):Ka(h)}function ol(){return[]}function al(){return!1}n.exports=_r}(Qi,Qi.exports);var dh=Qi.exports,Ji={exports:{}};Ji.exports,function(n,t){var e=200,s="__lodash_hash_undefined__",i=1,r=2,a=9007199254740991,d="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",p="[object Date]",m="[object Error]",g="[object Function]",y="[object GeneratorFunction]",E="[object Map]",_="[object Number]",T="[object Null]",w="[object Object]",k="[object Promise]",v="[object Proxy]",S="[object RegExp]",O="[object Set]",D="[object String]",M="[object Symbol]",H="[object Undefined]",z="[object WeakMap]",Y="[object ArrayBuffer]",tt="[object DataView]",Z="[object Float32Array]",Vt="[object Float64Array]",Mt="[object Int8Array]",it="[object Int16Array]",mt="[object Int32Array]",We="[object Uint8Array]",Yt="[object Uint8ClampedArray]",P="[object Uint16Array]",En="[object Uint32Array]",we=/[\\^$.*+?()[\]{}|]/g,ct=/^\[object .+?Constructor\]$/,Xt=/^(?:0|[1-9]\d*)$/,$={};$[Z]=$[Vt]=$[Mt]=$[it]=$[mt]=$[We]=$[Yt]=$[P]=$[En]=!0,$[d]=$[l]=$[Y]=$[u]=$[tt]=$[p]=$[m]=$[g]=$[E]=$[_]=$[w]=$[S]=$[O]=$[D]=$[z]=!1;var le=typeof Ue=="object"&&Ue&&Ue.Object===Object&&Ue,Ke=typeof self=="object"&&self&&self.Object===Object&&self,et=le||Ke||Function("return this")(),Ge=t&&!t.nodeType&&t,ls=Ge&&!0&&n&&!n.nodeType&&n,ke=ls&&ls.exports===Ge,_n=ke&&le.process,Tn=function(){try{return _n&&_n.binding&&_n.binding("util")}catch{}}(),Nn=Tn&&Tn.isTypedArray;function cs(h,f){for(var b=-1,N=h==null?0:h.length,q=0,R=[];++b<N;){var F=h[b];f(F,b,h)&&(R[q++]=F)}return R}function Ye(h,f){for(var b=-1,N=f.length,q=h.length;++b<N;)h[q+b]=f[b];return h}function An(h,f){for(var b=-1,N=h==null?0:h.length;++b<N;)if(f(h[b],b,h))return!0;return!1}function Js(h,f){for(var b=-1,N=Array(h);++b<h;)N[b]=f(b);return N}function ti(h){return function(f){return h(f)}}function yt(h,f){return h.has(f)}function ce(h,f){return h==null?void 0:h[f]}function wn(h){var f=-1,b=Array(h.size);return h.forEach(function(N,q){b[++f]=[q,N]}),b}function kn(h,f){return function(b){return h(f(b))}}function Et(h){var f=-1,b=Array(h.size);return h.forEach(function(N){b[++f]=N}),b}var Ce=Array.prototype,ds=Function.prototype,de=Object.prototype,ve=et["__core-js_shared__"],ei=ds.toString,qt=de.hasOwnProperty,hr=function(){var h=/[^.]+$/.exec(ve&&ve.keys&&ve.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),ur=de.toString,wa=RegExp("^"+ei.call(qt).replace(we,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ni=ke?et.Buffer:void 0,hs=et.Symbol,fr=et.Uint8Array,us=de.propertyIsEnumerable,Cn=Ce.splice,Zt=hs?hs.toStringTag:void 0,fs=Object.getOwnPropertySymbols,si=ni?ni.isBuffer:void 0,vn=kn(Object.keys,Object),ii=Oe(et,"DataView"),Sn=Oe(et,"Map"),ri=Oe(et,"Promise"),oi=Oe(et,"Set"),ai=Oe(et,"WeakMap"),Xe=Oe(Object,"create"),pr=gt(ii),Se=gt(Sn),ka=gt(ri),Ca=gt(oi),va=gt(ai),mr=hs?hs.prototype:void 0,li=mr?mr.valueOf:void 0;function rt(h){var f=-1,b=h==null?0:h.length;for(this.clear();++f<b;){var N=h[f];this.set(N[0],N[1])}}function Sa(){this.__data__=Xe?Xe(null):{},this.size=0}function Oa(h){var f=this.has(h)&&delete this.__data__[h];return this.size-=f?1:0,f}function La(h){var f=this.__data__;if(Xe){var b=f[h];return b===s?void 0:b}return qt.call(f,h)?f[h]:void 0}function xa(h){var f=this.__data__;return Xe?f[h]!==void 0:qt.call(f,h)}function Ba(h,f){var b=this.__data__;return this.size+=this.has(h)?0:1,b[h]=Xe&&f===void 0?s:f,this}rt.prototype.clear=Sa,rt.prototype.delete=Oa,rt.prototype.get=La,rt.prototype.has=xa,rt.prototype.set=Ba;function dt(h){var f=-1,b=h==null?0:h.length;for(this.clear();++f<b;){var N=h[f];this.set(N[0],N[1])}}function Ia(){this.__data__=[],this.size=0}function Da(h){var f=this.__data__,b=gs(f,h);if(b<0)return!1;var N=f.length-1;return b==N?f.pop():Cn.call(f,b,1),--this.size,!0}function Ra(h){var f=this.__data__,b=gs(f,h);return b<0?void 0:f[b][1]}function Va(h){return gs(this.__data__,h)>-1}function Ma(h,f){var b=this.__data__,N=gs(b,h);return N<0?(++this.size,b.push([h,f])):b[N][1]=f,this}dt.prototype.clear=Ia,dt.prototype.delete=Da,dt.prototype.get=Ra,dt.prototype.has=Va,dt.prototype.set=Ma;function _t(h){var f=-1,b=h==null?0:h.length;for(this.clear();++f<b;){var N=h[f];this.set(N[0],N[1])}}function qa(){this.size=0,this.__data__={hash:new rt,map:new(Sn||dt),string:new rt}}function $a(h){var f=Qt(this,h).delete(h);return this.size-=f?1:0,f}function Pa(h){return Qt(this,h).get(h)}function ja(h){return Qt(this,h).has(h)}function Fa(h,f){var b=Qt(this,h),N=b.size;return b.set(h,f),this.size+=b.size==N?0:1,this}_t.prototype.clear=qa,_t.prototype.delete=$a,_t.prototype.get=Pa,_t.prototype.has=ja,_t.prototype.set=Fa;function ps(h){var f=-1,b=h==null?0:h.length;for(this.__data__=new _t;++f<b;)this.add(h[f])}function gr(h){return this.__data__.set(h,s),this}function ms(h){return this.__data__.has(h)}ps.prototype.add=ps.prototype.push=gr,ps.prototype.has=ms;function he(h){var f=this.__data__=new dt(h);this.size=f.size}function ci(){this.__data__=new dt,this.size=0}function Ua(h){var f=this.__data__,b=f.delete(h);return this.size=f.size,b}function Ha(h){return this.__data__.get(h)}function za(h){return this.__data__.has(h)}function Wa(h,f){var b=this.__data__;if(b instanceof dt){var N=b.__data__;if(!Sn||N.length<e-1)return N.push([h,f]),this.size=++b.size,this;b=this.__data__=new _t(N)}return b.set(h,f),this.size=b.size,this}he.prototype.clear=ci,he.prototype.delete=Ua,he.prototype.get=Ha,he.prototype.has=za,he.prototype.set=Wa;function Ka(h,f){var b=bs(h),N=!b&&Tr(h),q=!b&&!N&&ys(h),R=!b&&!N&&!q&&wr(h),F=b||N||q||R,j=F?Js(h.length,String):[],Q=j.length;for(var U in h)qt.call(h,U)&&!(F&&(U=="length"||q&&(U=="offset"||U=="parent")||R&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||el(U,Q)))&&j.push(U);return j}function gs(h,f){for(var b=h.length;b--;)if(_r(h[b][0],f))return b;return-1}function di(h,f,b){var N=f(h);return bs(h)?N:Ye(N,b(h))}function On(h){return h==null?h===void 0?H:T:Zt&&Zt in Object(h)?Le(h):Er(h)}function br(h){return fe(h)&&On(h)==d}function yr(h,f,b,N,q){return h===f?!0:h==null||f==null||!fe(h)&&!fe(f)?h!==h&&f!==f:Ga(h,f,b,N,yr,q)}function Ga(h,f,b,N,q,R){var F=bs(h),j=bs(f),Q=F?l:ue(h),U=j?l:ue(f);Q=Q==d?w:Q,U=U==d?w:U;var ht=Q==w,Tt=U==w,nt=Q==U;if(nt&&ys(h)){if(!ys(f))return!1;F=!0,ht=!1}if(nt&&!ht)return R||(R=new he),F||wr(h)?hi(h,f,b,N,q,R):Qa(h,f,Q,b,N,q,R);if(!(b&i)){var ut=ht&&qt.call(h,"__wrapped__"),ot=Tt&&qt.call(f,"__wrapped__");if(ut||ot){var Ze=ut?h.value():h,xe=ot?f.value():f;return R||(R=new he),q(Ze,xe,b,N,R)}}return nt?(R||(R=new he),Ja(h,f,b,N,q,R)):!1}function Ya(h){if(!Ar(h)||sl(h))return!1;var f=Nr(h)?wa:ct;return f.test(gt(h))}function Xa(h){return fe(h)&&fi(h.length)&&!!$[On(h)]}function Za(h){if(!il(h))return vn(h);var f=[];for(var b in Object(h))qt.call(h,b)&&b!="constructor"&&f.push(b);return f}function hi(h,f,b,N,q,R){var F=b&i,j=h.length,Q=f.length;if(j!=Q&&!(F&&Q>j))return!1;var U=R.get(h);if(U&&R.get(f))return U==f;var ht=-1,Tt=!0,nt=b&r?new ps:void 0;for(R.set(h,f),R.set(f,h);++ht<j;){var ut=h[ht],ot=f[ht];if(N)var Ze=F?N(ot,ut,ht,f,h,R):N(ut,ot,ht,h,f,R);if(Ze!==void 0){if(Ze)continue;Tt=!1;break}if(nt){if(!An(f,function(xe,xn){if(!yt(nt,xn)&&(ut===xe||q(ut,xe,b,N,R)))return nt.push(xn)})){Tt=!1;break}}else if(!(ut===ot||q(ut,ot,b,N,R))){Tt=!1;break}}return R.delete(h),R.delete(f),Tt}function Qa(h,f,b,N,q,R,F){switch(b){case tt:if(h.byteLength!=f.byteLength||h.byteOffset!=f.byteOffset)return!1;h=h.buffer,f=f.buffer;case Y:return!(h.byteLength!=f.byteLength||!R(new fr(h),new fr(f)));case u:case p:case _:return _r(+h,+f);case m:return h.name==f.name&&h.message==f.message;case S:case D:return h==f+"";case E:var j=wn;case O:var Q=N&i;if(j||(j=Et),h.size!=f.size&&!Q)return!1;var U=F.get(h);if(U)return U==f;N|=r,F.set(h,f);var ht=hi(j(h),j(f),N,q,R,F);return F.delete(h),ht;case M:if(li)return li.call(h)==li.call(f)}return!1}function Ja(h,f,b,N,q,R){var F=b&i,j=Ln(h),Q=j.length,U=Ln(f),ht=U.length;if(Q!=ht&&!F)return!1;for(var Tt=Q;Tt--;){var nt=j[Tt];if(!(F?nt in f:qt.call(f,nt)))return!1}var ut=R.get(h);if(ut&&R.get(f))return ut==f;var ot=!0;R.set(h,f),R.set(f,h);for(var Ze=F;++Tt<Q;){nt=j[Tt];var xe=h[nt],xn=f[nt];if(N)var du=F?N(xn,xe,nt,f,h,R):N(xe,xn,nt,h,f,R);if(!(du===void 0?xe===xn||q(xe,xn,b,N,R):du)){ot=!1;break}Ze||(Ze=nt=="constructor")}if(ot&&!Ze){var kr=h.constructor,Cr=f.constructor;kr!=Cr&&"constructor"in h&&"constructor"in f&&!(typeof kr=="function"&&kr instanceof kr&&typeof Cr=="function"&&Cr instanceof Cr)&&(ot=!1)}return R.delete(h),R.delete(f),ot}function Ln(h){return di(h,pi,tl)}function Qt(h,f){var b=h.__data__;return nl(f)?b[typeof f=="string"?"string":"hash"]:b.map}function Oe(h,f){var b=ce(h,f);return Ya(b)?b:void 0}function Le(h){var f=qt.call(h,Zt),b=h[Zt];try{h[Zt]=void 0;var N=!0}catch{}var q=ur.call(h);return N&&(f?h[Zt]=b:delete h[Zt]),q}var tl=fs?function(h){return h==null?[]:(h=Object(h),cs(fs(h),function(f){return us.call(h,f)}))}:ol,ue=On;(ii&&ue(new ii(new ArrayBuffer(1)))!=tt||Sn&&ue(new Sn)!=E||ri&&ue(ri.resolve())!=k||oi&&ue(new oi)!=O||ai&&ue(new ai)!=z)&&(ue=function(h){var f=On(h),b=f==w?h.constructor:void 0,N=b?gt(b):"";if(N)switch(N){case pr:return tt;case Se:return E;case ka:return k;case Ca:return O;case va:return z}return f});function el(h,f){return f=f??a,!!f&&(typeof h=="number"||Xt.test(h))&&h>-1&&h%1==0&&h<f}function nl(h){var f=typeof h;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?h!=="__proto__":h===null}function sl(h){return!!hr&&hr in h}function il(h){var f=h&&h.constructor,b=typeof f=="function"&&f.prototype||de;return h===b}function Er(h){return ur.call(h)}function gt(h){if(h!=null){try{return ei.call(h)}catch{}try{return h+""}catch{}}return""}function _r(h,f){return h===f||h!==h&&f!==f}var Tr=br(function(){return arguments}())?br:function(h){return fe(h)&&qt.call(h,"callee")&&!us.call(h,"callee")},bs=Array.isArray;function ui(h){return h!=null&&fi(h.length)&&!Nr(h)}var ys=si||al;function rl(h,f){return yr(h,f)}function Nr(h){if(!Ar(h))return!1;var f=On(h);return f==g||f==y||f==c||f==v}function fi(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=a}function Ar(h){var f=typeof h;return h!=null&&(f=="object"||f=="function")}function fe(h){return h!=null&&typeof h=="object"}var wr=Nn?ti(Nn):Xa;function pi(h){return ui(h)?Ka(h):Za(h)}function ol(){return[]}function al(){return!1}n.exports=rl}(Ji,Ji.exports);var hh=Ji.exports,zo={};Object.defineProperty(zo,"__esModule",{value:!0});const G_=dh,Y_=hh;var Wo;(function(n){function t(r={},a={},d=!1){typeof r!="object"&&(r={}),typeof a!="object"&&(a={});let l=G_(a);d||(l=Object.keys(l).reduce((c,u)=>(l[u]!=null&&(c[u]=l[u]),c),{}));for(const c in r)r[c]!==void 0&&a[c]===void 0&&(l[c]=r[c]);return Object.keys(l).length>0?l:void 0}n.compose=t;function e(r={},a={}){typeof r!="object"&&(r={}),typeof a!="object"&&(a={});const d=Object.keys(r).concat(Object.keys(a)).reduce((l,c)=>(Y_(r[c],a[c])||(l[c]=a[c]===void 0?null:a[c]),l),{});return Object.keys(d).length>0?d:void 0}n.diff=e;function s(r={},a={}){r=r||{};const d=Object.keys(a).reduce((l,c)=>(a[c]!==r[c]&&r[c]!==void 0&&(l[c]=a[c]),l),{});return Object.keys(r).reduce((l,c)=>(r[c]!==a[c]&&a[c]===void 0&&(l[c]=null),l),d)}n.invert=s;function i(r,a,d=!1){if(typeof r!="object")return a;if(typeof a!="object")return;if(!d)return a;const l=Object.keys(a).reduce((c,u)=>(r[u]===void 0&&(c[u]=a[u]),c),{});return Object.keys(l).length>0?l:void 0}n.transform=i})(Wo||(Wo={})),zo.default=Wo;var tr={};Object.defineProperty(tr,"__esModule",{value:!0});var Ko;(function(n){function t(e){return typeof e.delete=="number"?e.delete:typeof e.retain=="number"?e.retain:typeof e.retain=="object"&&e.retain!==null?1:typeof e.insert=="string"?e.insert.length:1}n.length=t})(Ko||(Ko={})),tr.default=Ko;var Go={};Object.defineProperty(Go,"__esModule",{value:!0});const uh=tr;class X_{constructor(t){this.ops=t,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(t){t||(t=1/0);const e=this.ops[this.index];if(e){const s=this.offset,i=uh.default.length(e);if(t>=i-s?(t=i-s,this.index+=1,this.offset=0):this.offset+=t,typeof e.delete=="number")return{delete:t};{const r={};return e.attributes&&(r.attributes=e.attributes),typeof e.retain=="number"?r.retain=t:typeof e.retain=="object"&&e.retain!==null?r.retain=e.retain:typeof e.insert=="string"?r.insert=e.insert.substr(s,t):r.insert=e.insert,r}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?uh.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const t=this.ops[this.index];return t?typeof t.delete=="number"?"delete":typeof t.retain=="number"||typeof t.retain=="object"&&t.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const t=this.offset,e=this.index,s=this.next(),i=this.ops.slice(this.index);return this.offset=t,this.index=e,[s].concat(i)}}else return[]}}Go.default=X_,function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const e=K_,s=dh,i=hh,r=zo;t.AttributeMap=r.default;const a=tr;t.Op=a.default;const d=Go;t.OpIterator=d.default;const l="\0",c=(p,m)=>{if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);if(typeof m!="object"||m===null)throw new Error(`cannot retain a ${typeof m}`);const g=Object.keys(p)[0];if(!g||g!==Object.keys(m)[0])throw new Error(`embed types not matched: ${g} != ${Object.keys(m)[0]}`);return[g,p[g],m[g]]};class u{constructor(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]}static registerEmbed(m,g){this.handlers[m]=g}static unregisterEmbed(m){delete this.handlers[m]}static getHandler(m){const g=this.handlers[m];if(!g)throw new Error(`no handlers for embed type "${m}"`);return g}insert(m,g){const y={};return typeof m=="string"&&m.length===0?this:(y.insert=m,g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(y.attributes=g),this.push(y))}delete(m){return m<=0?this:this.push({delete:m})}retain(m,g){if(typeof m=="number"&&m<=0)return this;const y={retain:m};return g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(y.attributes=g),this.push(y)}push(m){let g=this.ops.length,y=this.ops[g-1];if(m=s(m),typeof y=="object"){if(typeof m.delete=="number"&&typeof y.delete=="number")return this.ops[g-1]={delete:y.delete+m.delete},this;if(typeof y.delete=="number"&&m.insert!=null&&(g-=1,y=this.ops[g-1],typeof y!="object"))return this.ops.unshift(m),this;if(i(m.attributes,y.attributes)){if(typeof m.insert=="string"&&typeof y.insert=="string")return this.ops[g-1]={insert:y.insert+m.insert},typeof m.attributes=="object"&&(this.ops[g-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof y.retain=="number")return this.ops[g-1]={retain:y.retain+m.retain},typeof m.attributes=="object"&&(this.ops[g-1].attributes=m.attributes),this}}return g===this.ops.length?this.ops.push(m):this.ops.splice(g,0,m),this}chop(){const m=this.ops[this.ops.length-1];return m&&typeof m.retain=="number"&&!m.attributes&&this.ops.pop(),this}filter(m){return this.ops.filter(m)}forEach(m){this.ops.forEach(m)}map(m){return this.ops.map(m)}partition(m){const g=[],y=[];return this.forEach(E=>{(m(E)?g:y).push(E)}),[g,y]}reduce(m,g){return this.ops.reduce(m,g)}changeLength(){return this.reduce((m,g)=>g.insert?m+a.default.length(g):g.delete?m-g.delete:m,0)}length(){return this.reduce((m,g)=>m+a.default.length(g),0)}slice(m=0,g=1/0){const y=[],E=new d.default(this.ops);let _=0;for(;_<g&&E.hasNext();){let T;_<m?T=E.next(m-_):(T=E.next(g-_),y.push(T)),_+=a.default.length(T)}return new u(y)}compose(m){const g=new d.default(this.ops),y=new d.default(m.ops),E=[],_=y.peek();if(_!=null&&typeof _.retain=="number"&&_.attributes==null){let w=_.retain;for(;g.peekType()==="insert"&&g.peekLength()<=w;)w-=g.peekLength(),E.push(g.next());_.retain-w>0&&y.next(_.retain-w)}const T=new u(E);for(;g.hasNext()||y.hasNext();)if(y.peekType()==="insert")T.push(y.next());else if(g.peekType()==="delete")T.push(g.next());else{const w=Math.min(g.peekLength(),y.peekLength()),k=g.next(w),v=y.next(w);if(v.retain){const S={};if(typeof k.retain=="number")S.retain=typeof v.retain=="number"?w:v.retain;else if(typeof v.retain=="number")k.retain==null?S.insert=k.insert:S.retain=k.retain;else{const D=k.retain==null?"insert":"retain",[M,H,z]=c(k[D],v.retain),Y=u.getHandler(M);S[D]={[M]:Y.compose(H,z,D==="retain")}}const O=r.default.compose(k.attributes,v.attributes,typeof k.retain=="number");if(O&&(S.attributes=O),T.push(S),!y.hasNext()&&i(T.ops[T.ops.length-1],S)){const D=new u(g.rest());return T.concat(D).chop()}}else typeof v.delete=="number"&&(typeof k.retain=="number"||typeof k.retain=="object"&&k.retain!==null)&&T.push(v)}return T.chop()}concat(m){const g=new u(this.ops.slice());return m.ops.length>0&&(g.push(m.ops[0]),g.ops=g.ops.concat(m.ops.slice(1))),g}diff(m,g){if(this.ops===m.ops)return new u;const y=[this,m].map(k=>k.map(v=>{if(v.insert!=null)return typeof v.insert=="string"?v.insert:l;const S=k===m?"on":"with";throw new Error("diff() called "+S+" non-document")}).join("")),E=new u,_=e(y[0],y[1],g,!0),T=new d.default(this.ops),w=new d.default(m.ops);return _.forEach(k=>{let v=k[1].length;for(;v>0;){let S=0;switch(k[0]){case e.INSERT:S=Math.min(w.peekLength(),v),E.push(w.next(S));break;case e.DELETE:S=Math.min(v,T.peekLength()),T.next(S),E.delete(S);break;case e.EQUAL:S=Math.min(T.peekLength(),w.peekLength(),v);const O=T.next(S),D=w.next(S);i(O.insert,D.insert)?E.retain(S,r.default.diff(O.attributes,D.attributes)):E.push(D).delete(S);break}v-=S}}),E.chop()}eachLine(m,g=`
`){const y=new d.default(this.ops);let E=new u,_=0;for(;y.hasNext();){if(y.peekType()!=="insert")return;const T=y.peek(),w=a.default.length(T)-y.peekLength(),k=typeof T.insert=="string"?T.insert.indexOf(g,w)-w:-1;if(k<0)E.push(y.next());else if(k>0)E.push(y.next(k));else{if(m(E,y.next(1).attributes||{},_)===!1)return;_+=1,E=new u}}E.length()>0&&m(E,{},_)}invert(m){const g=new u;return this.reduce((y,E)=>{if(E.insert)g.delete(a.default.length(E));else{if(typeof E.retain=="number"&&E.attributes==null)return g.retain(E.retain),y+E.retain;if(E.delete||typeof E.retain=="number"){const _=E.delete||E.retain;return m.slice(y,y+_).forEach(w=>{E.delete?g.push(w):E.retain&&E.attributes&&g.retain(a.default.length(w),r.default.invert(E.attributes,w.attributes))}),y+_}else if(typeof E.retain=="object"&&E.retain!==null){const _=m.slice(y,y+1),T=new d.default(_.ops).next(),[w,k,v]=c(E.retain,T.insert),S=u.getHandler(w);return g.retain({[w]:S.invert(k,v)},r.default.invert(E.attributes,T.attributes)),y+1}}return y},0),g.chop()}transform(m,g=!1){if(g=!!g,typeof m=="number")return this.transformPosition(m,g);const y=m,E=new d.default(this.ops),_=new d.default(y.ops),T=new u;for(;E.hasNext()||_.hasNext();)if(E.peekType()==="insert"&&(g||_.peekType()!=="insert"))T.retain(a.default.length(E.next()));else if(_.peekType()==="insert")T.push(_.next());else{const w=Math.min(E.peekLength(),_.peekLength()),k=E.next(w),v=_.next(w);if(k.delete)continue;if(v.delete)T.push(v);else{const S=k.retain,O=v.retain;let D=typeof O=="object"&&O!==null?O:w;if(typeof S=="object"&&S!==null&&typeof O=="object"&&O!==null){const M=Object.keys(S)[0];if(M===Object.keys(O)[0]){const H=u.getHandler(M);H&&(D={[M]:H.transform(S[M],O[M],g)})}}T.retain(D,r.default.transform(k.attributes,v.attributes,g))}}return T.chop()}transformPosition(m,g=!1){g=!!g;const y=new d.default(this.ops);let E=0;for(;y.hasNext()&&E<=m;){const _=y.peekLength(),T=y.peekType();if(y.next(),T==="delete"){m-=Math.min(_,m-E);continue}else T==="insert"&&(E<m||!g)&&(m+=_);E+=_}return m}}u.Op=a.default,u.OpIterator=d.default,u.AttributeMap=r.default,u.handlers={},t.default=u,n.exports=u,n.exports.default=u}(jo,jo.exports);var xt=jo.exports;const B=th(xt);class Ut extends kt{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Ut.blotName="break",Ut.tagName="BR";let Ht=class extends Yi{};function er(n){return n.replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[t])}const ae=class ae extends Mo{static compare(t,e){const s=ae.order.indexOf(t),i=ae.order.indexOf(e);return s>=0||i>=0?s-i:t===e?0:t<e?-1:1}formatAt(t,e,s,i){if(ae.compare(this.statics.blotName,s)<0&&this.scroll.query(s,I.BLOT)){const r=this.isolate(t,e);i&&r.wrap(s,i)}else super.formatAt(t,e,s,i)}optimize(t){if(super.optimize(t),this.parent instanceof ae&&ae.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}};L(ae,"allowedChildren",[ae,Ut,kt,Ht]),L(ae,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let re=ae;const fh=1;class st extends $s{constructor(){super(...arguments);L(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=ph(this)),this.cache.delta}deleteAt(e,s){super.deleteAt(e,s),this.cache={}}formatAt(e,s,i,r){s<=0||(this.scroll.query(i,I.BLOCK)?e+s===this.length()&&this.format(i,r):super.formatAt(e,Math.min(s,this.length()-e-1),i,r),this.cache={})}insertAt(e,s,i){if(i!=null){super.insertAt(e,s,i),this.cache={};return}if(s.length===0)return;const r=s.split(`
`),a=r.shift();a.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});let d=this;r.reduce((l,c)=>(d=d.split(l,!0),d.insertAt(0,c),c.length),e+a.length)}insertBefore(e,s){const{head:i}=this.children;super.insertBefore(e,s),i instanceof Ut&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+fh),this.cache.length}moveChildren(e,s){super.moveChildren(e,s),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s&&(e===0||e>=this.length()-fh)){const r=this.clone();return e===0?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}const i=super.split(e,s);return this.cache={},i}}st.blotName="block",st.tagName="P",st.defaultChild=Ut,st.allowedChildren=[Ut,re,kt,Ht];class Bt extends kt{attach(){super.attach(),this.attributes=new Ki(this.domNode)}delta(){return new B().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const s=this.scroll.query(t,I.BLOCK_ATTRIBUTE);s!=null&&this.attributes.attribute(s,e)}formatAt(t,e,s,i){this.format(s,i)}insertAt(t,e,s){if(s!=null){super.insertAt(t,e,s);return}const i=e.split(`
`),r=i.pop(),a=i.map(l=>{const c=this.scroll.create(st.blotName);return c.insertAt(0,l),c}),d=this.split(t);a.forEach(l=>{this.parent.insertBefore(l,d)}),r&&this.parent.insertBefore(this.scroll.create("text",r),d)}}Bt.scope=I.BLOCK_BLOT;function ph(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(at).reduce((e,s)=>s.length()===0?e:e.insert(s.value(),It(s,{},t)),new B).insert(`
`,It(n))}function It(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(t={...t,...n.formats()},e&&delete t["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?t:It(n.parent,t,e)}const Rt=class Rt extends kt{static value(){}constructor(t,e,s){super(t,e),this.selection=s,this.textNode=document.createTextNode(Rt.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let s=this,i=0;for(;s!=null&&s.statics.scope!==I.BLOCK_BLOT;)i+=s.offset(s.parent),s=s.parent;s!=null&&(this.savedLength=Rt.CONTENTS.length,s.optimize(),s.formatAt(i,Rt.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof Ht?this.prev:null,s=e?e.length():0,i=this.next instanceof Ht?this.next:null,r=i?i.text:"",{textNode:a}=this,d=a.data.split(Rt.CONTENTS).join("");a.data=Rt.CONTENTS;let l;if(e)l=e,(d||i)&&(e.insertAt(e.length(),d+r),i&&i.remove());else if(i)l=i,i.insertAt(0,d);else{const c=document.createTextNode(d);l=this.scroll.create(c),this.parent.insertBefore(l,this)}if(this.remove(),t){const c=(m,g)=>e&&m===e.domNode?g:m===a?s+g-1:i&&m===i.domNode?s+d.length+g:null,u=c(t.start.node,t.start.offset),p=c(t.end.node,t.end.offset);if(u!==null&&p!==null)return{startNode:l.domNode,startOffset:u,endNode:l.domNode,endOffset:p}}return null}update(t,e){if(t.some(s=>s.type==="characterData"&&s.target===this.textNode)){const s=this.restore();s&&(e.range=s)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if(e.domNode.tagName==="A"){this.savedLength=Rt.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}};L(Rt,"blotName","cursor"),L(Rt,"className","ql-cursor"),L(Rt,"tagName","span"),L(Rt,"CONTENTS","\uFEFF");let es=Rt;var mh={exports:{}};(function(n){var t=Object.prototype.hasOwnProperty,e="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(e=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function r(l,c,u,p,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new i(u,p||l,m),y=e?e+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],g]:l._events[y].push(g):(l._events[y]=g,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new s:delete l._events[c]}function d(){this._events=new s,this._eventsCount=0}d.prototype.eventNames=function(){var c=[],u,p;if(this._eventsCount===0)return c;for(p in u=this._events)t.call(u,p)&&c.push(e?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},d.prototype.listeners=function(c){var u=e?e+c:c,p=this._events[u];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,g=p.length,y=new Array(g);m<g;m++)y[m]=p[m].fn;return y},d.prototype.listenerCount=function(c){var u=e?e+c:c,p=this._events[u];return p?p.fn?1:p.length:0},d.prototype.emit=function(c,u,p,m,g,y){var E=e?e+c:c;if(!this._events[E])return!1;var _=this._events[E],T=arguments.length,w,k;if(_.fn){switch(_.once&&this.removeListener(c,_.fn,void 0,!0),T){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,u),!0;case 3:return _.fn.call(_.context,u,p),!0;case 4:return _.fn.call(_.context,u,p,m),!0;case 5:return _.fn.call(_.context,u,p,m,g),!0;case 6:return _.fn.call(_.context,u,p,m,g,y),!0}for(k=1,w=new Array(T-1);k<T;k++)w[k-1]=arguments[k];_.fn.apply(_.context,w)}else{var v=_.length,S;for(k=0;k<v;k++)switch(_[k].once&&this.removeListener(c,_[k].fn,void 0,!0),T){case 1:_[k].fn.call(_[k].context);break;case 2:_[k].fn.call(_[k].context,u);break;case 3:_[k].fn.call(_[k].context,u,p);break;case 4:_[k].fn.call(_[k].context,u,p,m);break;default:if(!w)for(S=1,w=new Array(T-1);S<T;S++)w[S-1]=arguments[S];_[k].fn.apply(_[k].context,w)}}return!0},d.prototype.on=function(c,u,p){return r(this,c,u,p,!1)},d.prototype.once=function(c,u,p){return r(this,c,u,p,!0)},d.prototype.removeListener=function(c,u,p,m){var g=e?e+c:c;if(!this._events[g])return this;if(!u)return a(this,g),this;var y=this._events[g];if(y.fn)y.fn===u&&(!m||y.once)&&(!p||y.context===p)&&a(this,g);else{for(var E=0,_=[],T=y.length;E<T;E++)(y[E].fn!==u||m&&!y[E].once||p&&y[E].context!==p)&&_.push(y[E]);_.length?this._events[g]=_.length===1?_[0]:_:a(this,g)}return this},d.prototype.removeAllListeners=function(c){var u;return c?(u=e?e+c:c,this._events[u]&&a(this,u)):(this._events=new s,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=e,d.EventEmitter=d,n.exports=d})(mh);var Z_=mh.exports;const Q_=th(Z_),Yo=new WeakMap,Xo=["error","warn","log","info"];let Zo="warn";function gh(n){if(Zo&&Xo.indexOf(n)<=Xo.indexOf(Zo)){for(var t=arguments.length,e=new Array(t>1?t-1:0),s=1;s<t;s++)e[s-1]=arguments[s];console[n](...e)}}function _e(n){return Xo.reduce((t,e)=>(t[e]=gh.bind(console,e,n),t),{})}_e.level=n=>{Zo=n},gh.level=_e.level;const Qo=_e("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(n=>{document.addEventListener(n,function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const r=Yo.get(i);r&&r.emitter&&r.emitter.handleDOM(...e)})})});class x extends Q_{constructor(){super(),this.domListeners={},this.on("error",Qo.error)}emit(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return Qo.log.call(Qo,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];(this.domListeners[t.type]||[]).forEach(r=>{let{node:a,handler:d}=r;(t.target===a||a.contains(t.target))&&d(t,...s)})}listenDOM(t,e,s){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:s})}}L(x,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),L(x,"sources",{API:"api",SILENT:"silent",USER:"user"});const Jo=_e("quill:selection");class mn{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=e}}class J_{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new mn(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,x.sources.USER),1)}),this.emitter.on(x.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const s=this.getNativeRange();s!=null&&s.start.node!==this.cursor.textNode&&this.emitter.once(x.events.SCROLL_UPDATE,(i,r)=>{try{this.root.contains(s.start.node)&&this.root.contains(s.end.node)&&this.setNativeRange(s.start.node,s.start.offset,s.end.node,s.end.offset);const a=r.some(d=>d.type==="characterData"||d.type==="childList"||d.type==="attributes"&&d.target===this.root);this.update(a?x.sources.SILENT:i)}catch{}})}),this.emitter.on(x.events.SCROLL_OPTIMIZE,(s,i)=>{if(i.range){const{startNode:r,startOffset:a,endNode:d,endOffset:l}=i.range;this.setNativeRange(r,a,d,l),this.update(x.sources.SILENT)}}),this.update(x.sources.SILENT)}handleComposition(){this.emitter.on(x.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(x.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(x.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const s=this.getNativeRange();if(!(s==null||!s.native.collapsed||this.scroll.query(t,I.BLOCK))){if(s.start.node!==this.cursor.textNode){const i=this.scroll.find(s.start.node,!1);if(i==null)return;if(i instanceof at){const r=i.split(s.start.offset);i.parent.insertBefore(this.cursor,r)}else i.insertBefore(this.cursor,s.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const s=this.scroll.length();t=Math.min(t,s-1),e=Math.min(t+e,s-1)-t;let i,[r,a]=this.scroll.leaf(t);if(r==null)return null;if(e>0&&a===r.length()){const[u]=this.scroll.leaf(t+1);if(u){const[p]=this.scroll.line(t),[m]=this.scroll.line(t+1);p===m&&(r=u,a=0)}}[i,a]=r.position(a,!0);const d=document.createRange();if(e>0)return d.setStart(i,a),[r,a]=this.scroll.leaf(t+e),r==null?null:([i,a]=r.position(a,!0),d.setEnd(i,a),d.getBoundingClientRect());let l="left",c;if(i instanceof Text){if(!i.data.length)return null;a<i.data.length?(d.setStart(i,a),d.setEnd(i,a+1)):(d.setStart(i,a-1),d.setEnd(i,a),l="right"),c=d.getBoundingClientRect()}else{if(!(r.domNode instanceof Element))return null;c=r.domNode.getBoundingClientRect(),a>0&&(l="right")}return{bottom:c.top+c.height,height:c.height,left:c[l],right:c[l],top:c.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const s=this.normalizeNative(e);return Jo.info("getNativeRange",s),s}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();return e==null?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&ta(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const s=e.map(a=>{const[d,l]=a,c=this.scroll.find(d,!0),u=c.offset(this.scroll);return l===0?u:c instanceof at?u+c.index(d,l):u+c.length()}),i=Math.min(Math.max(...s),this.scroll.length()-1),r=Math.min(i,...s);return new mn(r,i-r)}normalizeNative(t){if(!ta(this.root,t.startContainer)||!t.collapsed&&!ta(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(s=>{let{node:i,offset:r}=s;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>r)i=i.childNodes[r],r=0;else if(i.childNodes.length===r)i=i.lastChild,i instanceof Text?r=i.data.length:i.childNodes.length>0?r=i.childNodes.length:r=i.childNodes.length+1;else break;s.node=i,s.offset=r}),e}rangeToNative(t){const e=this.scroll.length(),s=(i,r)=>{i=Math.min(e-1,i);const[a,d]=this.scroll.leaf(i);return a?a.position(d,r):[null,-1]};return[...s(t.index,!1),...s(t.index+t.length,!0)]}setNativeRange(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Jo.info("setNativeRange",t,e,s,i),t!=null&&(this.root.parentNode==null||t.parentNode==null||s.parentNode==null))return;const a=document.getSelection();if(a!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:d}=this.getNativeRange()||{};if(d==null||r||t!==d.startContainer||e!==d.startOffset||s!==d.endContainer||i!==d.endOffset){t instanceof Element&&t.tagName==="BR"&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),s instanceof Element&&s.tagName==="BR"&&(i=Array.from(s.parentNode.childNodes).indexOf(s),s=s.parentNode);const l=document.createRange();l.setStart(t,e),l.setEnd(s,i),a.removeAllRanges(),a.addRange(l)}}else a.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.sources.API;if(typeof e=="string"&&(s=e,e=!1),Jo.info("setRange",t),t!=null){const i=this.rangeToNative(t);this.setNativeRange(...i,e)}else this.setNativeRange(null);this.update(s)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x.sources.USER;const e=this.lastRange,[s,i]=this.getRange();if(this.lastRange=s,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!Ro(e,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const a=this.cursor.restore();a&&this.setNativeRange(a.startNode,a.startOffset,a.endNode,a.endOffset)}const r=[x.events.SELECTION_CHANGE,Yn(this.lastRange),Yn(e),t];this.emitter.emit(x.events.EDITOR_CHANGE,...r),t!==x.sources.SILENT&&this.emitter.emit(...r)}}}function ta(n,t){try{t.parentNode}catch{return!1}return n.contains(t)}const t0=/^[ -~]*$/;class e0{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const s=bh(t),i=new B;return s0(s.ops.slice()).reduce((a,d)=>{const l=xt.Op.length(d);let c=d.attributes||{},u=!1,p=!1;if(d.insert!=null){if(i.retain(l),typeof d.insert=="string"){const y=d.insert;p=!y.endsWith(`
`)&&(e<=a||!!this.scroll.descendant(Bt,a)[0]),this.scroll.insertAt(a,y);const[E,_]=this.scroll.line(a);let T=je({},It(E));if(E instanceof st){const[w]=E.descendant(at,_);w&&(T=je(T,It(w)))}c=xt.AttributeMap.diff(T,c)||{}}else if(typeof d.insert=="object"){const y=Object.keys(d.insert)[0];if(y==null)return a;const E=this.scroll.query(y,I.INLINE)!=null;if(E)(e<=a||this.scroll.descendant(Bt,a)[0])&&(p=!0);else if(a>0){const[_,T]=this.scroll.descendant(at,a-1);_ instanceof Ht?_.value()[T]!==`
`&&(u=!0):_ instanceof kt&&_.statics.scope===I.INLINE_BLOT&&(u=!0)}if(this.scroll.insertAt(a,y,d.insert[y]),E){const[_]=this.scroll.descendant(at,a);if(_){const T=je({},It(_));c=xt.AttributeMap.diff(T,c)||{}}}}e+=l}else if(i.push(d),d.retain!==null&&typeof d.retain=="object"){const y=Object.keys(d.retain)[0];if(y==null)return a;this.scroll.updateEmbedAt(a,y,d.retain[y])}Object.keys(c).forEach(y=>{this.scroll.formatAt(a,l,y,c[y])});const m=u?1:0,g=p?1:0;return e+=m+g,i.retain(m),i.delete(g),a+l+m+g},0),i.reduce((a,d)=>typeof d.delete=="number"?(this.scroll.deleteAt(a,d.delete),a):a+xt.Op.length(d),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(s)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new B().retain(t).delete(e))}formatLine(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(s).forEach(r=>{this.scroll.lines(t,Math.max(e,1)).forEach(a=>{a.format(r,s[r])})}),this.scroll.optimize();const i=new B().retain(t).retain(e,Yn(s));return this.update(i)}formatText(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(s).forEach(r=>{this.scroll.formatAt(t,e,r,s[r])});const i=new B().retain(t).retain(e,Yn(s));return this.update(i)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new B)}getFormat(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=[],i=[];e===0?this.scroll.path(t).forEach(d=>{const[l]=d;l instanceof st?s.push(l):l instanceof at&&i.push(l)}):(s=this.scroll.lines(t,e),i=this.scroll.descendants(at,t,e));const[r,a]=[s,i].map(d=>{const l=d.shift();if(l==null)return{};let c=It(l);for(;Object.keys(c).length>0;){const u=d.shift();if(u==null)return c;c=n0(It(u),c)}return c});return{...r,...a}}getHTML(t,e){const[s,i]=this.scroll.line(t);if(s){const r=s.length();return s.length()>=i+e&&!(i===0&&e===r)?js(s,i,e,!0):js(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(s=>typeof s.insert=="string").map(s=>s.insert).join("")}insertContents(t,e){const s=bh(e),i=new B().retain(t).concat(s);return this.scroll.insertContents(t,s),this.update(i)}insertEmbed(t,e,s){return this.scroll.insertAt(t,e,s),this.update(new B().retain(t).insert({[e]:s}))}insertText(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,e),Object.keys(s).forEach(i=>{this.scroll.formatAt(t,e.length,i,s[i])}),this.update(new B().retain(t).insert(e,Yn(s)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==st.blotName)return!1;const e=t;return e.children.length>1?!1:e.children.head instanceof Ut}removeFormat(t,e){const s=this.getText(t,e),[i,r]=this.scroll.line(t+e);let a=0,d=new B;i!=null&&(a=i.length()-r,d=i.delta().slice(r,r+a-1).insert(`
`));const c=this.getContents(t,e+a).diff(new B().insert(s).concat(d)),u=new B().retain(t).concat(c);return this.applyDelta(u)}update(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(t0)&&this.scroll.find(e[0].target)){const r=this.scroll.find(e[0].target),a=It(r),d=r.offset(this.scroll),l=e[0].oldValue.replace(es.CONTENTS,""),c=new B().insert(l),u=new B().insert(r.value()),p=s&&{oldRange:yh(s.oldRange,-d),newRange:yh(s.newRange,-d)};t=new B().retain(d).concat(c.diff(u,p)).reduce((g,y)=>y.insert?g.insert(y.insert,a):g.push(y),new B),this.delta=i.compose(t)}else this.delta=this.getDelta(),(!t||!Ro(i.compose(t),this.delta))&&(t=i.diff(this.delta,s));return t}}function ns(n,t,e){if(n.length===0){const[g]=ea(e.pop());return t<=0?`</li></${g}>`:`</li></${g}>${ns([],t-1,e)}`}const[{child:s,offset:i,length:r,indent:a,type:d},...l]=n,[c,u]=ea(d);if(a>t)return e.push(d),a===t+1?`<${c}><li${u}>${js(s,i,r)}${ns(l,a,e)}`:`<${c}><li>${ns(n,t+1,e)}`;const p=e[e.length-1];if(a===t&&d===p)return`</li><li${u}>${js(s,i,r)}${ns(l,a,e)}`;const[m]=ea(e.pop());return`</li></${m}>${ns(n,t-1,e)}`}function js(n,t,e){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(t,e);if(n instanceof Ht)return er(n.value().slice(t,t+e));if(n instanceof Ft){if(n.statics.blotName==="list-container"){const c=[];return n.children.forEachAt(t,e,(u,p,m)=>{const g="formats"in u&&typeof u.formats=="function"?u.formats():{};c.push({child:u,offset:p,length:m,indent:g.indent||0,type:g.list})}),ns(c,-1,[])}const i=[];if(n.children.forEachAt(t,e,(c,u,p)=>{i.push(js(c,u,p))}),s||n.statics.blotName==="list")return i.join("");const{outerHTML:r,innerHTML:a}=n.domNode,[d,l]=r.split(`>${a}<`);return d==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${l}`:`${d}>${i.join("")}<${l}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function n0(n,t){return Object.keys(t).reduce((e,s)=>{if(n[s]==null)return e;const i=t[s];return i===n[s]?e[s]=i:Array.isArray(i)?i.indexOf(n[s])<0?e[s]=i.concat([n[s]]):e[s]=i:e[s]=[i,n[s]],e},{})}function ea(n){const t=n==="ordered"?"ol":"ul";switch(n){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function bh(n){return n.reduce((t,e)=>{if(typeof e.insert=="string"){const s=e.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(s,e.attributes)}return t.push(e)},new B)}function yh(n,t){let{index:e,length:s}=n;return new mn(e+t,s)}function s0(n){const t=[];return n.forEach(e=>{typeof e.insert=="string"?e.insert.split(`
`).forEach((i,r)=>{r&&t.push({insert:`
`,attributes:e.attributes}),i&&t.push({insert:i,attributes:e.attributes})}):t.push(e)}),t}class zt{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=e}}L(zt,"DEFAULTS",{});const nr="\uFEFF";class na extends kt{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(s=>{this.contentNode.appendChild(s)}),this.leftGuard=document.createTextNode(nr),this.rightGuard=document.createTextNode(nr),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e=null,s;const i=t.data.split(nr).join("");if(t===this.leftGuard)if(this.prev instanceof Ht){const r=this.prev.length();this.prev.insertAt(r,i),e={startNode:this.prev.domNode,startOffset:r+i.length}}else s=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(s),this),e={startNode:s,startOffset:i.length};else t===this.rightGuard&&(this.next instanceof Ht?(this.next.insertAt(0,i),e={startNode:this.next.domNode,startOffset:i.length}):(s=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(s),this.next),e={startNode:s,startOffset:i.length}));return t.data=nr,e}update(t,e){t.forEach(s=>{if(s.type==="characterData"&&(s.target===this.leftGuard||s.target===this.rightGuard)){const i=this.restore(s.target);i&&(e.range=i)}})}}class i0{constructor(t,e){L(this,"isComposing",!1);this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof na)&&(this.emitter.emit(x.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(x.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(x.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(x.events.COMPOSITION_END,t),this.isComposing=!1}}const Zs=class Zs{constructor(t,e){L(this,"modules",{});this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}};L(Zs,"DEFAULTS",{modules:{}}),L(Zs,"themes",{default:Zs});let ss=Zs;const r0=n=>n.parentElement||n.getRootNode().host||null,o0=n=>{const t=n.getBoundingClientRect(),e="offsetWidth"in n&&Math.abs(t.width)/n.offsetWidth||1,s="offsetHeight"in n&&Math.abs(t.height)/n.offsetHeight||1;return{top:t.top,right:t.left+n.clientWidth*e,bottom:t.top+n.clientHeight*s,left:t.left}},sr=n=>{const t=parseInt(n,10);return Number.isNaN(t)?0:t},Eh=(n,t,e,s,i,r)=>n<e&&t>s?0:n<e?-(e-n+i):t>s?t-n>s-e?n+i-e:t-s+r:0,a0=(n,t)=>{var r,a,d;const e=n.ownerDocument;let s=t,i=n;for(;i;){const l=i===e.body,c=l?{top:0,right:((r=window.visualViewport)==null?void 0:r.width)??e.documentElement.clientWidth,bottom:((a=window.visualViewport)==null?void 0:a.height)??e.documentElement.clientHeight,left:0}:o0(i),u=getComputedStyle(i),p=Eh(s.left,s.right,c.left,c.right,sr(u.scrollPaddingLeft),sr(u.scrollPaddingRight)),m=Eh(s.top,s.bottom,c.top,c.bottom,sr(u.scrollPaddingTop),sr(u.scrollPaddingBottom));if(p||m)if(l)(d=e.defaultView)==null||d.scrollBy(p,m);else{const{scrollLeft:g,scrollTop:y}=i;m&&(i.scrollTop+=m),p&&(i.scrollLeft+=p);const E=i.scrollLeft-g,_=i.scrollTop-y;s={left:s.left-E,top:s.top-_,right:s.right-E,bottom:s.bottom-_}}i=l||u.position==="fixed"?null:r0(i)}},l0=100,c0=["block","break","cursor","inline","scroll","text"],d0=(n,t,e)=>{const s=new Zn;return c0.forEach(i=>{const r=t.query(i);r&&s.register(r)}),n.forEach(i=>{let r=t.query(i);r||e.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let a=0;for(;r;)if(s.register(r),r="blotName"in r?r.requiredContainer??null:null,a+=1,a>l0){e.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),s},is=_e("quill"),ir=new Zn;Ft.uiClass="ql-ui";const Gt=class Gt{static debug(t){t===!0&&(t="log"),_e.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Yo.get(t)||ir.find(t,e)}static import(t){return this.imports[t]==null&&is.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],e=!!(!(arguments.length<=1)&&arguments[1]),s="attrName"in t?t.attrName:t.blotName;typeof s=="string"?this.register(`formats/${s}`,t,e):Object.keys(t).forEach(i=>{this.register(i,t[i],e)})}else{const t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],s=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!s&&is.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!="boolean"&&e.blotName!=="abstract"&&ir.register(e),typeof e.register=="function"&&e.register(ir)}}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=h0(t,e),this.container=this.options.container,this.container==null){is.error("Invalid Quill container",t);return}this.options.debug&&Gt.debug(this.options.debug);const s=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Yo.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new x;const i=$o.blotName,r=this.options.registry.query(i);if(!r||!("blotName"in r))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new r(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new e0(this.scroll),this.selection=new J_(this.scroll,this.emitter),this.composition=new i0(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(x.events.EDITOR_CHANGE,a=>{a===x.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(x.events.SCROLL_UPDATE,(a,d)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),u=l&&c?{oldRange:l,newRange:c}:void 0;Wt.call(this,()=>this.editor.update(null,d,u),a)}),this.emitter.on(x.events.SCROLL_EMBED_UPDATE,(a,d)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),u=l&&c?{oldRange:l,newRange:c}:void 0;Wt.call(this,()=>{const p=new B().retain(a.offset(this)).retain({[a.statics.blotName]:d});return this.editor.update(p,[],u)},Gt.sources.USER)}),s){const a=this.clipboard.convert({html:`${s}<p><br></p>`,text:`
`});this.setContents(a)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const s=t;t=document.createElement("div"),t.classList.add(s)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,s){return[t,e,,s]=Te(t,e,s),Wt.call(this,()=>this.editor.deleteText(t,e),s,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.sources.API;return Wt.call(this,()=>{const i=this.getSelection(!0);let r=new B;if(i==null)return r;if(this.scroll.query(t,I.BLOCK))r=this.editor.formatLine(i.index,i.length,{[t]:e});else{if(i.length===0)return this.selection.format(t,e),r;r=this.editor.formatText(i.index,i.length,{[t]:e})}return this.setSelection(i,x.sources.SILENT),r},s)}formatLine(t,e,s,i,r){let a;return[t,e,a,r]=Te(t,e,s,i,r),Wt.call(this,()=>this.editor.formatLine(t,e,a),r,t,0)}formatText(t,e,s,i,r){let a;return[t,e,a,r]=Te(t,e,s,i,r),Wt.call(this,()=>this.editor.formatText(t,e,a),r,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=null;if(typeof t=="number"?s=this.selection.getBounds(t,e):s=this.selection.getBounds(t.index,t.length),!s)return null;const i=this.container.getBoundingClientRect();return{bottom:s.bottom-i.top,height:s.height,left:s.left-i.left,right:s.right-i.left,top:s.top-i.top,width:s.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,e]=Te(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=Te(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=Te(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,s){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Gt.sources.API;return Wt.call(this,()=>this.editor.insertEmbed(t,e,s),i,t)}insertText(t,e,s,i,r){let a;return[t,,a,r]=Te(t,0,s,i,r),Wt.call(this,()=>this.editor.insertText(t,e,a),r,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,s){return[t,e,,s]=Te(t,e,s),Wt.call(this,()=>this.editor.removeFormat(t,e),s,t)}scrollRectIntoView(t){a0(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x.sources.API;return Wt.call(this,()=>{t=new B(t);const s=this.getLength(),i=this.editor.deleteText(0,s),r=this.editor.insertContents(0,t),a=this.editor.deleteText(this.getLength()-1,1);return i.compose(r).compose(a)},e)}setSelection(t,e,s){t==null?this.selection.setRange(null,e||Gt.sources.API):([t,e,,s]=Te(t,e,s),this.selection.setRange(new mn(Math.max(0,t),e),s),s!==x.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x.sources.API;const s=new B().insert(t);return this.setContents(s,e)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x.sources.API;return Wt.call(this,()=>(t=new B(t),this.editor.applyDelta(t)),e,!0)}};L(Gt,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:ir,theme:"default"}),L(Gt,"events",x.events),L(Gt,"sources",x.sources),L(Gt,"version","2.0.2"),L(Gt,"imports",{delta:B,parchment:M_,"core/module":zt,"core/theme":ss});let A=Gt;function _h(n){return typeof n=="string"?document.querySelector(n):n}function sa(n){return Object.entries(n??{}).reduce((t,e)=>{let[s,i]=e;return{...t,[s]:i===!0?{}:i}},{})}function Th(n){return Object.fromEntries(Object.entries(n).filter(t=>t[1]!==void 0))}function h0(n,t){const e=_h(n);if(!e)throw new Error("Invalid Quill container");const i=!t.theme||t.theme===A.DEFAULTS.theme?ss:A.import(`themes/${t.theme}`);if(!i)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:r,...a}=A.DEFAULTS,{modules:d,...l}=i.DEFAULTS;let c=sa(t.modules);c!=null&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const u=je({},sa(r),sa(d),c),p={...a,...Th(l),...Th(t)};let m=t.registry;return m?t.formats&&is.warn('Ignoring "formats" option because "registry" is specified'):m=t.formats?d0(t.formats,p.registry,is):p.registry,{...p,registry:m,container:e,theme:i,modules:Object.entries(u).reduce((g,y)=>{let[E,_]=y;if(!_)return g;const T=A.import(`modules/${E}`);return T==null?(is.error(`Cannot load ${E} module. Are you sure you registered it?`),g):{...g,[E]:je({},T.DEFAULTS||{},_)}},{}),bounds:_h(p.bounds)}}function Wt(n,t,e,s){if(!this.isEnabled()&&t===x.sources.USER&&!this.allowReadOnlyEdits)return new B;let i=e==null?null:this.getSelection();const r=this.editor.delta,a=n();if(i!=null&&(e===!0&&(e=i.index),s==null?i=Nh(i,a,t):s!==0&&(i=Nh(i,e,s,t)),this.setSelection(i,x.sources.SILENT)),a.length()>0){const d=[x.events.TEXT_CHANGE,a,r,t];this.emitter.emit(x.events.EDITOR_CHANGE,...d),t!==x.sources.SILENT&&this.emitter.emit(...d)}return a}function Te(n,t,e,s,i){let r={};return typeof n.index=="number"&&typeof n.length=="number"?typeof t!="number"?(i=s,s=e,e=t,t=n.length,n=n.index):(t=n.length,n=n.index):typeof t!="number"&&(i=s,s=e,e=t,t=0),typeof e=="object"?(r=e,i=s):typeof e=="string"&&(s!=null?r[e]=s:i=e),i=i||x.sources.API,[n,t,r,i]}function Nh(n,t,e,s){const i=typeof e=="number"?e:0;if(n==null)return null;let r,a;return t&&typeof t.transformPosition=="function"?[r,a]=[n.index,n.index+n.length].map(d=>t.transformPosition(d,s!==x.sources.USER)):[r,a]=[n.index,n.index+n.length].map(d=>d<t||d===t&&s===x.sources.USER?d:i>=0?d+i:Math.max(t,d+i)),new mn(r,a-r)}class gn extends Gi{}function Ah(n){return n instanceof st||n instanceof Bt}function wh(n){return typeof n.updateContent=="function"}class rs extends $o{constructor(t,e,s){let{emitter:i}=s;super(t,e),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",r=>this.handleDragStart(r))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(x.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(x.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(x.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[s,i]=this.line(t),[r]=this.line(t+e);if(super.deleteAt(t,e),r!=null&&s!==r&&i>0){if(s instanceof Bt||r instanceof Bt){this.optimize();return}const a=r.children.head instanceof Ut?null:r.children.head;s.moveChildren(r,a),s.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,s,i){super.formatAt(t,e,s,i),this.optimize()}insertAt(t,e,s){if(t>=this.length())if(s==null||this.scroll.query(e,I.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),s==null&&e.endsWith(`
`)?i.insertAt(0,e.slice(0,-1),s):i.insertAt(0,e,s)}else{const i=this.scroll.create(e,s);this.appendChild(i)}else super.insertAt(t,e,s);this.optimize()}insertBefore(t,e){if(t.statics.scope===I.INLINE_BLOT){const s=this.scroll.create(this.statics.defaultChild.blotName);s.appendChild(t),super.insertBefore(s,e)}else super.insertBefore(t,e)}insertContents(t,e){const s=this.deltaToRenderBlocks(e.concat(new B().insert(`
`))),i=s.pop();if(i==null)return;this.batchStart();const r=s.shift();if(r){const l=r.type==="block"&&(r.delta.length()===0||!this.descendant(Bt,t)[0]&&t<this.length()),c=r.type==="block"?r.delta:new B().insert({[r.key]:r.value});ia(this,t,c);const u=r.type==="block"?1:0,p=t+c.length()+u;l&&this.insertAt(p-1,`
`);const m=It(this.line(t)[0]),g=xt.AttributeMap.diff(m,r.attributes)||{};Object.keys(g).forEach(y=>{this.formatAt(p-1,1,y,g[y])}),t=p}let[a,d]=this.children.find(t);if(s.length&&(a&&(a=a.split(d),d=0),s.forEach(l=>{if(l.type==="block"){const c=this.createBlock(l.attributes,a||void 0);ia(c,0,l.delta)}else{const c=this.create(l.key,l.value);this.insertBefore(c,a||void 0),Object.keys(l.attributes).forEach(u=>{c.format(u,l.attributes[u])})}})),i.type==="block"&&i.delta.length()){const l=a?a.offset(a.scroll)+d:this.length();ia(this,l,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[s,i]=e;return s instanceof at?[s,i]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(Ah,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const s=(i,r,a)=>{let d=[],l=a;return i.children.forEachAt(r,a,(c,u,p)=>{Ah(c)?d.push(c):c instanceof Gi&&(d=d.concat(s(c,u,l))),l-=p}),d};return s(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(x.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=x.sources.USER;typeof t=="string"&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(s=>{let{target:i}=s;const r=this.find(i,!0);return r&&!wh(r)}),t.length>0&&this.emitter.emit(x.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(x.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,s){const[i]=this.descendant(r=>r instanceof Bt,t);i&&i.statics.blotName===e&&wh(i)&&i.updateContent(s)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let s=new B;return t.forEach(i=>{const r=i==null?void 0:i.insert;if(r)if(typeof r=="string"){const a=r.split(`
`);a.slice(0,-1).forEach(l=>{s.insert(l,i.attributes),e.push({type:"block",delta:s,attributes:i.attributes??{}}),s=new B});const d=a[a.length-1];d&&s.insert(d,i.attributes)}else{const a=Object.keys(r)[0];if(!a)return;this.query(a,I.INLINE)?s.push(i):(s.length()&&e.push({type:"block",delta:s,attributes:{}}),s=new B,e.push({type:"blockEmbed",key:a,value:r[a],attributes:i.attributes??{}}))}}),s.length()&&e.push({type:"block",delta:s,attributes:{}}),e}createBlock(t,e){let s;const i={};Object.entries(t).forEach(d=>{let[l,c]=d;this.query(l,I.BLOCK&I.BLOT)!=null?s=l:i[l]=c});const r=this.create(s||this.statics.defaultChild.blotName,s?t[s]:void 0);this.insertBefore(r,e||void 0);const a=r.length();return Object.entries(i).forEach(d=>{let[l,c]=d;r.formatAt(0,a,l,c)}),r}}L(rs,"blotName","scroll"),L(rs,"className","ql-editor"),L(rs,"tagName","DIV"),L(rs,"defaultChild",st),L(rs,"allowedChildren",[st,Bt,gn]);function ia(n,t,e){e.reduce((s,i)=>{const r=xt.Op.length(i);let a=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const d=i.insert;n.insertAt(s,d);const[l]=n.descendant(at,s),c=It(l);a=xt.AttributeMap.diff(c,a)||{}}else if(typeof i.insert=="object"){const d=Object.keys(i.insert)[0];if(d==null)return s;if(n.insertAt(s,d,i.insert[d]),n.scroll.query(d,I.INLINE)!=null){const[c]=n.descendant(at,s),u=It(c);a=xt.AttributeMap.diff(u,a)||{}}}}return Object.keys(a).forEach(d=>{n.formatAt(s,r,d,a[d])}),s+r},t)}const ra={scope:I.BLOCK,whitelist:["right","center","justify"]},u0=new ie("align","align",ra),kh=new jt("align","ql-align",ra),Ch=new Fe("align","text-align",ra);class vh extends Fe{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):e}}const f0=new jt("color","ql-color",{scope:I.INLINE}),oa=new vh("color","color",{scope:I.INLINE}),p0=new jt("background","ql-bg",{scope:I.INLINE}),aa=new vh("background","background-color",{scope:I.INLINE});class bn extends gn{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(s=>s.length()<=1?"":s.domNode.innerText).join(`
`).slice(t,t+e)}html(t,e){return`<pre>
${er(this.code(t,e))}
</pre>`}}class lt extends st{static register(){A.register(bn)}}L(lt,"TAB","  ");class la extends re{}la.blotName="code",la.tagName="CODE",lt.blotName="code-block",lt.className="ql-code-block",lt.tagName="DIV",bn.blotName="code-block-container",bn.className="ql-code-block-container",bn.tagName="DIV",bn.allowedChildren=[lt],lt.allowedChildren=[Ht,Ut,es],lt.requiredContainer=bn;const ca={scope:I.BLOCK,whitelist:["rtl"]},Sh=new ie("direction","dir",ca),Oh=new jt("direction","ql-direction",ca),Lh=new Fe("direction","direction",ca),xh={scope:I.INLINE,whitelist:["serif","monospace"]},Bh=new jt("font","ql-font",xh);class m0 extends Fe{value(t){return super.value(t).replace(/["']/g,"")}}const Ih=new m0("font","font-family",xh),Dh=new jt("size","ql-size",{scope:I.INLINE,whitelist:["small","large","huge"]}),Rh=new Fe("size","font-size",{scope:I.INLINE,whitelist:["10px","18px","32px"]}),g0=_e("quill:keyboard"),b0=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class rr extends zt{static match(t,e){return["altKey","ctrlKey","metaKey","shiftKey"].some(s=>!!e[s]!==t[s]&&e[s]!==null)?!1:e.key===t.key||e.key===t.which}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(s=>{this.options.bindings[s]&&this.addBinding(this.options.bindings[s])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=E0(t);if(i==null){g0.warn("Attempted to add invalid keyboard binding",i);return}typeof e=="function"&&(e={handler:e}),typeof s=="function"&&(s={handler:s}),(Array.isArray(i.key)?i.key:[i.key]).forEach(a=>{const d={...i,key:a,...e,...s};this.bindings[d.key]=this.bindings[d.key]||[],this.bindings[d.key].push(d)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const i=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(T=>rr.match(t,T));if(i.length===0)return;const r=A.find(t.target,!0);if(r&&r.scroll!==this.quill.scroll)return;const a=this.quill.getSelection();if(a==null||!this.quill.hasFocus())return;const[d,l]=this.quill.getLine(a.index),[c,u]=this.quill.getLeaf(a.index),[p,m]=a.length===0?[c,u]:this.quill.getLeaf(a.index+a.length),g=c instanceof Yi?c.value().slice(0,u):"",y=p instanceof Yi?p.value().slice(m):"",E={collapsed:a.length===0,empty:a.length===0&&d.length()<=1,format:this.quill.getFormat(a),line:d,offset:l,prefix:g,suffix:y,event:t};i.some(T=>{if(T.collapsed!=null&&T.collapsed!==E.collapsed||T.empty!=null&&T.empty!==E.empty||T.offset!=null&&T.offset!==E.offset)return!1;if(Array.isArray(T.format)){if(T.format.every(w=>E.format[w]==null))return!1}else if(typeof T.format=="object"&&!Object.keys(T.format).every(w=>T.format[w]===!0?E.format[w]!=null:T.format[w]===!1?E.format[w]==null:Ro(T.format[w],E.format[w])))return!1;return T.prefix!=null&&!T.prefix.test(E.prefix)||T.suffix!=null&&!T.suffix.test(E.suffix)?!1:T.handler.call(this,a,E,T)!==!0})&&t.preventDefault()})}handleBackspace(t,e){const s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let i={};const[r]=this.quill.getLine(t.index);let a=new B().retain(t.index-s).delete(s);if(e.offset===0){const[d]=this.quill.getLine(t.index-1);if(d&&!(d.statics.blotName==="block"&&d.length()<=1)){const c=r.formats(),u=this.quill.getFormat(t.index-1,1);if(i=xt.AttributeMap.diff(c,u)||{},Object.keys(i).length>0){const p=new B().retain(t.index+r.length()-2).retain(1,i);a=a.compose(p)}}}this.quill.updateContents(a,A.sources.USER),this.quill.focus()}handleDelete(t,e){const s=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-s)return;let i={};const[r]=this.quill.getLine(t.index);let a=new B().retain(t.index).delete(s);if(e.offset>=r.length()-1){const[d]=this.quill.getLine(t.index+1);if(d){const l=r.formats(),c=this.quill.getFormat(t.index,1);i=xt.AttributeMap.diff(l,c)||{},Object.keys(i).length>0&&(a=a.retain(d.length()-1).retain(1,i))}}this.quill.updateContents(a,A.sources.USER),this.quill.focus()}handleDeleteRange(t){ha({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const s=Object.keys(e.format).reduce((r,a)=>(this.quill.scroll.query(a,I.BLOCK)&&!Array.isArray(e.format[a])&&(r[a]=e.format[a]),r),{}),i=new B().retain(t.index).delete(t.length).insert(`
`,s);this.quill.updateContents(i,A.sources.USER),this.quill.setSelection(t.index+1,A.sources.SILENT),this.quill.focus()}}const y0={bindings:{bold:da("bold"),italic:da("italic"),underline:da("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",A.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",A.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,t){t.format.indent!=null?this.quill.format("indent","-1",A.sources.USER):t.format.list!=null&&this.quill.format("list",!1,A.sources.USER)}},"indent code-block":Vh(!0),"outdent code-block":Vh(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,A.sources.USER)}},tab:{key:"Tab",handler(n,t){if(t.format.table)return!0;this.quill.history.cutoff();const e=new B().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(e,A.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,A.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,A.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,t){const e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(n.index,n.length,e,A.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[t,e]=this.quill.getLine(n.index),s={...t.formats(),list:"checked"},i=new B().retain(n.index).insert(`
`,s).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,A.sources.USER),this.quill.setSelection(n.index+1,A.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,t){const[e,s]=this.quill.getLine(n.index),i=new B().retain(n.index).insert(`
`,t.format).retain(e.length()-s-1).retain(1,{header:null});this.quill.updateContents(i,A.sources.USER),this.quill.setSelection(n.index+1,A.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const t=this.quill.getModule("table");if(t){const[e,s,i,r]=t.getTable(n),a=_0(e,s,i,r);if(a==null)return;let d=e.offset();if(a<0){const l=new B().retain(d).insert(`
`);this.quill.updateContents(l,A.sources.USER),this.quill.setSelection(n.index+1,n.length,A.sources.SILENT)}else if(a>0){d+=e.length();const l=new B().retain(d).insert(`
`);this.quill.updateContents(l,A.sources.USER),this.quill.setSelection(d,A.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,t){const{event:e,line:s}=t,i=s.offset(this.quill.scroll);e.shiftKey?this.quill.setSelection(i-1,A.sources.USER):this.quill.setSelection(i+s.length(),A.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,t){if(this.quill.scroll.query("list")==null)return!0;const{length:e}=t.prefix,[s,i]=this.quill.getLine(n.index);if(i>e)return!0;let r;switch(t.prefix.trim()){case"[]":case"[ ]":r="unchecked";break;case"[x]":r="checked";break;case"-":case"*":r="bullet";break;default:r="ordered"}this.quill.insertText(n.index," ",A.sources.USER),this.quill.history.cutoff();const a=new B().retain(n.index-i).delete(e+1).retain(s.length()-2-i).retain(1,{list:r});return this.quill.updateContents(a,A.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-e,A.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[t,e]=this.quill.getLine(n.index);let s=2,i=t;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,s-=1,s<=0){const r=new B().retain(n.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(r,A.sources.USER),this.quill.setSelection(n.index-1,A.sources.SILENT),!1}return!0}},"embed left":or("ArrowLeft",!1),"embed left shift":or("ArrowLeft",!0),"embed right":or("ArrowRight",!1),"embed right shift":or("ArrowRight",!0),"table down":Mh(!1),"table up":Mh(!0)}};rr.DEFAULTS=y0;function Vh(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(t,e){let{event:s}=e;const i=this.quill.scroll.query("code-block"),{TAB:r}=i;if(t.length===0&&!s.shiftKey){this.quill.insertText(t.index,r,A.sources.USER),this.quill.setSelection(t.index+r.length,A.sources.SILENT);return}const a=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:d,length:l}=t;a.forEach((c,u)=>{n?(c.insertAt(0,r),u===0?d+=r.length:l+=r.length):c.domNode.textContent.startsWith(r)&&(c.deleteAt(0,r.length),u===0?d-=r.length:l-=r.length)}),this.quill.update(A.sources.USER),this.quill.setSelection(d,l,A.sources.SILENT)}}}function or(n,t){return{key:n,shiftKey:t,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(s){let{index:i}=s;n==="ArrowRight"&&(i+=s.length+1);const[r]=this.quill.getLeaf(i);return r instanceof kt?(n==="ArrowLeft"?t?this.quill.setSelection(s.index-1,s.length+1,A.sources.USER):this.quill.setSelection(s.index-1,A.sources.USER):t?this.quill.setSelection(s.index,s.length+1,A.sources.USER):this.quill.setSelection(s.index+s.length+1,A.sources.USER),!1):!0}}}function da(n){return{key:n[0],shortKey:!0,handler(t,e){this.quill.format(n,!e.format[n],A.sources.USER)}}}function Mh(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){const s=n?"prev":"next",i=e.line,r=i.parent[s];if(r!=null){if(r.statics.blotName==="table-row"){let a=r.children.head,d=i;for(;d.prev!=null;)d=d.prev,a=a.next;const l=a.offset(this.quill.scroll)+Math.min(e.offset,a.length()-1);this.quill.setSelection(l,0,A.sources.USER)}}else{const a=i.table()[s];a!=null&&(n?this.quill.setSelection(a.offset(this.quill.scroll)+a.length()-1,0,A.sources.USER):this.quill.setSelection(a.offset(this.quill.scroll),0,A.sources.USER))}return!1}}}function E0(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=Yn(n);else return null;return n.shortKey&&(n[b0]=n.shortKey,delete n.shortKey),n}function ha(n){let{quill:t,range:e}=n;const s=t.getLines(e);let i={};if(s.length>1){const r=s[0].formats(),a=s[s.length-1].formats();i=xt.AttributeMap.diff(a,r)||{}}t.deleteText(e,A.sources.USER),Object.keys(i).length>0&&t.formatLine(e.index,1,i,A.sources.USER),t.setSelection(e.index,A.sources.SILENT)}function _0(n,t,e,s){return t.prev==null&&t.next==null?e.prev==null&&e.next==null?s===0?-1:1:e.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const T0=/font-weight:\s*normal/,N0=["P","OL","UL"],qh=n=>n&&N0.includes(n.tagName),A0=n=>{Array.from(n.querySelectorAll("br")).filter(t=>qh(t.previousElementSibling)&&qh(t.nextElementSibling)).forEach(t=>{var e;(e=t.parentNode)==null||e.removeChild(t)})},w0=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var e;return(e=t.getAttribute("style"))==null?void 0:e.match(T0)}).forEach(t=>{var s;const e=n.createDocumentFragment();e.append(...t.childNodes),(s=t.parentNode)==null||s.replaceChild(e,t)})};function k0(n){n.querySelector('[id^="docs-internal-guid-"]')&&(w0(n),A0(n))}const C0=/\bmso-list:[^;]*ignore/i,v0=/\bmso-list:[^;]*\bl(\d+)/i,S0=/\bmso-list:[^;]*\blevel(\d+)/i,O0=(n,t)=>{const e=n.getAttribute("style"),s=e==null?void 0:e.match(v0);if(!s)return null;const i=Number(s[1]),r=e==null?void 0:e.match(S0),a=r?Number(r[1]):1,d=new RegExp(`@list l${i}:level${a}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),l=t.match(d),c=l&&l[1]==="bullet"?"bullet":"ordered";return{id:i,indent:a,type:c,element:n}},L0=n=>{var a,d;const t=Array.from(n.querySelectorAll("[style*=mso-list]")),e=[],s=[];t.forEach(l=>{(l.getAttribute("style")||"").match(C0)?e.push(l):s.push(l)}),e.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)});const i=n.documentElement.innerHTML,r=s.map(l=>O0(l,i)).filter(l=>l);for(;r.length;){const l=[];let c=r.shift();for(;c;)l.push(c),c=r.length&&((a=r[0])==null?void 0:a.element)===c.element.nextElementSibling&&r[0].id===c.id?r.shift():null;const u=document.createElement("ul");l.forEach(g=>{const y=document.createElement("li");y.setAttribute("data-list",g.type),g.indent>1&&y.setAttribute("class",`ql-indent-${g.indent-1}`),y.innerHTML=g.element.innerHTML,u.appendChild(y)});const p=(d=l[0])==null?void 0:d.element,{parentNode:m}=p??{};p&&(m==null||m.replaceChild(u,p)),l.slice(1).forEach(g=>{let{element:y}=g;m==null||m.removeChild(y)})}};function x0(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&L0(n)}const B0=[x0,k0],I0=n=>{n.documentElement&&B0.forEach(t=>{t(n)})},D0=_e("quill:clipboard"),R0=[[Node.TEXT_NODE,K0],[Node.TEXT_NODE,Fh],["br",P0],[Node.ELEMENT_NODE,Fh],[Node.ELEMENT_NODE,$0],[Node.ELEMENT_NODE,q0],[Node.ELEMENT_NODE,z0],["li",U0],["ol, ul",H0],["pre",j0],["tr",W0],["b",fa("bold")],["i",fa("italic")],["strike",fa("strike")],["style",F0]],V0=[u0,Sh].reduce((n,t)=>(n[t.keyName]=t,n),{}),$h=[Ch,aa,oa,Lh,Ih,Rh].reduce((n,t)=>(n[t.keyName]=t,n),{});class Ph extends zt{constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",s=>this.onCaptureCopy(s,!1)),this.quill.root.addEventListener("cut",s=>this.onCaptureCopy(s,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],R0.concat(this.options.matchers??[]).forEach(s=>{let[i,r]=s;this.addMatcher(i,r)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:s}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[lt.blotName])return new B().insert(s||"",{[lt.blotName]:i[lt.blotName]});if(!e)return new B().insert(s||"",i);const r=this.convertHTML(e);return Fs(r,`
`)&&(r.ops[r.ops.length-1].attributes==null||i.table)?r.compose(new B().retain(r.length()-1).delete(1)):r}normalizeHTML(t){I0(t)}convertHTML(t){const e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);const s=e.body,i=new WeakMap,[r,a]=this.prepareMatching(s,i);return ua(this.quill.scroll,s,r,a,i)}dangerouslyPasteHTML(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A.sources.API;if(typeof t=="string"){const i=this.convert({html:t,text:""});this.quill.setContents(i,e),this.quill.setSelection(0,A.sources.SILENT)}else{const i=this.convert({html:e,text:""});this.quill.updateContents(new B().retain(t).concat(i),s),this.quill.setSelection(t+i.length(),A.sources.SILENT)}}onCaptureCopy(t){var a,d;let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[s]=this.quill.selection.getRange();if(s==null)return;const{html:i,text:r}=this.onCopy(s,e);(a=t.clipboardData)==null||a.setData("text/plain",r),(d=t.clipboardData)==null||d.setData("text/html",i),e&&ha({range:s,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(e=>e[0]!=="#").join(`
`)}onCapturePaste(t){var a,d,l,c,u;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(e==null)return;const s=(a=t.clipboardData)==null?void 0:a.getData("text/html");let i=(d=t.clipboardData)==null?void 0:d.getData("text/plain");if(!s&&!i){const p=(l=t.clipboardData)==null?void 0:l.getData("text/uri-list");p&&(i=this.normalizeURIList(p))}const r=Array.from(((c=t.clipboardData)==null?void 0:c.files)||[]);if(!s&&r.length>0){this.quill.uploader.upload(e,r);return}if(s&&r.length>0){const p=new DOMParser().parseFromString(s,"text/html");if(p.body.childElementCount===1&&((u=p.body.firstElementChild)==null?void 0:u.tagName)==="IMG"){this.quill.uploader.upload(e,r);return}}this.onPaste(e,{html:s,text:i})}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:s,html:i}=e;const r=this.quill.getFormat(t.index),a=this.convert({text:s,html:i},r);D0.log("onPaste",a,{text:s,html:i});const d=new B().retain(t.index).delete(t.length).concat(a);this.quill.updateContents(d,A.sources.USER),this.quill.setSelection(d.length()-t.length,A.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const s=[],i=[];return this.matchers.forEach(r=>{const[a,d]=r;switch(a){case Node.TEXT_NODE:i.push(d);break;case Node.ELEMENT_NODE:s.push(d);break;default:Array.from(t.querySelectorAll(a)).forEach(l=>{if(e.has(l)){const c=e.get(l);c==null||c.push(d)}else e.set(l,[d])});break}}),[s,i]}}L(Ph,"DEFAULTS",{matchers:[]});function yn(n,t,e,s){return s.query(t)?n.reduce((i,r)=>{if(!r.insert)return i;if(r.attributes&&r.attributes[t])return i.push(r);const a=e?{[t]:e}:{};return i.insert(r.insert,{...a,...r.attributes})},new B):n}function Fs(n,t){let e="";for(let s=n.ops.length-1;s>=0&&e.length<t.length;--s){const i=n.ops[s];if(typeof i.insert!="string")break;e=i.insert+e}return e.slice(-1*t.length)===t}function He(n,t){if(!(n instanceof Element))return!1;const e=t.query(n);return e&&e.prototype instanceof kt?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function M0(n,t){return n.previousElementSibling&&n.nextElementSibling&&!He(n.previousElementSibling,t)&&!He(n.nextElementSibling,t)}const ar=new WeakMap;function jh(n){return n==null?!1:(ar.has(n)||(n.tagName==="PRE"?ar.set(n,!0):ar.set(n,jh(n.parentNode))),ar.get(n))}function ua(n,t,e,s,i){return t.nodeType===t.TEXT_NODE?s.reduce((r,a)=>a(t,r,n),new B):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((r,a)=>{let d=ua(n,a,e,s,i);return a.nodeType===t.ELEMENT_NODE&&(d=e.reduce((l,c)=>c(a,l,n),d),d=(i.get(a)||[]).reduce((l,c)=>c(a,l,n),d)),r.concat(d)},new B):new B}function fa(n){return(t,e,s)=>yn(e,n,!0,s)}function q0(n,t,e){const s=ie.keys(n),i=jt.keys(n),r=Fe.keys(n),a={};return s.concat(i).concat(r).forEach(d=>{let l=e.query(d,I.ATTRIBUTE);l!=null&&(a[l.attrName]=l.value(n),a[l.attrName])||(l=V0[d],l!=null&&(l.attrName===d||l.keyName===d)&&(a[l.attrName]=l.value(n)||void 0),l=$h[d],l!=null&&(l.attrName===d||l.keyName===d)&&(l=$h[d],a[l.attrName]=l.value(n)||void 0))}),Object.entries(a).reduce((d,l)=>{let[c,u]=l;return yn(d,c,u,e)},t)}function $0(n,t,e){const s=e.query(n);if(s==null)return t;if(s.prototype instanceof kt){const i={},r=s.value(n);if(r!=null)return i[s.blotName]=r,new B().insert(i,s.formats(n,e))}else if(s.prototype instanceof $s&&!Fs(t,`
`)&&t.insert(`
`),"blotName"in s&&"formats"in s&&typeof s.formats=="function")return yn(t,s.blotName,s.formats(n,e),e);return t}function P0(n,t){return Fs(t,`
`)||t.insert(`
`),t}function j0(n,t,e){const s=e.query("code-block"),i=s&&"formats"in s&&typeof s.formats=="function"?s.formats(n,e):!0;return yn(t,"code-block",i,e)}function F0(){return new B}function U0(n,t,e){const s=e.query(n);if(s==null||s.blotName!=="list"||!Fs(t,`
`))return t;let i=-1,r=n.parentNode;for(;r!=null;)["OL","UL"].includes(r.tagName)&&(i+=1),r=r.parentNode;return i<=0?t:t.reduce((a,d)=>d.insert?d.attributes&&typeof d.attributes.indent=="number"?a.push(d):a.insert(d.insert,{indent:i,...d.attributes||{}}):a,new B)}function H0(n,t,e){const s=n;let i=s.tagName==="OL"?"ordered":"bullet";const r=s.getAttribute("data-checked");return r&&(i=r==="true"?"checked":"unchecked"),yn(t,"list",i,e)}function Fh(n,t,e){if(!Fs(t,`
`)){if(He(n,e)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&n.nextSibling){let s=n.nextSibling;for(;s!=null;){if(He(s,e))return t.insert(`
`);const i=e.query(s);if(i&&i.prototype instanceof Bt)return t.insert(`
`);s=s.firstChild}}}return t}function z0(n,t,e){var r;const s={},i=n.style||{};return i.fontStyle==="italic"&&(s.italic=!0),i.textDecoration==="underline"&&(s.underline=!0),i.textDecoration==="line-through"&&(s.strike=!0),((r=i.fontWeight)!=null&&r.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(s.bold=!0),t=Object.entries(s).reduce((a,d)=>{let[l,c]=d;return yn(a,l,c,e)},t),parseFloat(i.textIndent||0)>0?new B().insert("	").concat(t):t}function W0(n,t,e){var i,r;const s=((i=n.parentElement)==null?void 0:i.tagName)==="TABLE"?n.parentElement:(r=n.parentElement)==null?void 0:r.parentElement;if(s!=null){const d=Array.from(s.querySelectorAll("tr")).indexOf(n)+1;return yn(t,"table",d,e)}return t}function K0(n,t,e){var i;let s=n.data;if(((i=n.parentElement)==null?void 0:i.tagName)==="O:P")return t.insert(s.trim());if(!jh(n)){if(s.trim().length===0&&s.includes(`
`)&&!M0(n,e))return t;const r=(a,d)=>{const l=d.replace(/[^\u00a0]/g,"");return l.length<1&&a?" ":l};s=s.replace(/\r\n/g," ").replace(/\n/g," "),s=s.replace(/\s\s+/g,r.bind(r,!0)),(n.previousSibling==null&&n.parentElement!=null&&He(n.parentElement,e)||n.previousSibling instanceof Element&&He(n.previousSibling,e))&&(s=s.replace(/^\s+/,r.bind(r,!1))),(n.nextSibling==null&&n.parentElement!=null&&He(n.parentElement,e)||n.nextSibling instanceof Element&&He(n.nextSibling,e))&&(s=s.replace(/\s+$/,r.bind(r,!1)))}return t.insert(s)}class Uh extends zt{constructor(e,s){super(e,s);L(this,"lastRecorded",0);L(this,"ignoreChange",!1);L(this,"stack",{undo:[],redo:[]});L(this,"currentRange",null);this.quill.on(A.events.EDITOR_CHANGE,(i,r,a,d)=>{i===A.events.SELECTION_CHANGE?r&&d!==A.sources.SILENT&&(this.currentRange=r):i===A.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||d===A.sources.USER?this.record(r,a):this.transform(r)),this.currentRange=pa(this.currentRange,r))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(e,s){if(this.stack[e].length===0)return;const i=this.stack[e].pop();if(!i)return;const r=this.quill.getContents(),a=i.delta.invert(r);this.stack[s].push({delta:a,range:pa(i.range,a)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,A.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,s){if(e.ops.length===0)return;this.stack.redo=[];let i=e.invert(s),r=this.currentRange;const a=Date.now();if(this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0){const d=this.stack.undo.pop();d&&(i=i.compose(d.delta),r=d.range)}else this.lastRecorded=a;i.length()!==0&&(this.stack.undo.push({delta:i,range:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){Hh(this.stack.undo,e),Hh(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,A.sources.USER);else{const s=Y0(this.quill.scroll,e.delta);this.quill.setSelection(s,A.sources.USER)}}}L(Uh,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function Hh(n,t){let e=t;for(let s=n.length-1;s>=0;s-=1){const i=n[s];n[s]={delta:e.transform(i.delta,!0),range:i.range&&pa(i.range,e)},e=i.delta.transform(e),n[s].delta.length()===0&&n.splice(s,1)}}function G0(n,t){const e=t.ops[t.ops.length-1];return e==null?!1:e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null?Object.keys(e.attributes).some(s=>n.query(s,I.BLOCK)!=null):!1}function Y0(n,t){const e=t.reduce((i,r)=>i+(r.delete||0),0);let s=t.length()-e;return G0(n,t)&&(s-=1),s}function pa(n,t){if(!n)return n;const e=t.transformPosition(n.index),s=t.transformPosition(n.index+n.length);return{index:e,length:s-e}}class zh extends zt{constructor(t,e){super(t,e),t.root.addEventListener("drop",s=>{var a;s.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(s.clientX,s.clientY);else if(document.caretPositionFromPoint){const d=document.caretPositionFromPoint(s.clientX,s.clientY);i=document.createRange(),i.setStart(d.offsetNode,d.offset),i.setEnd(d.offsetNode,d.offset)}const r=i&&t.selection.normalizeNative(i);if(r){const d=t.selection.normalizedToRange(r);(a=s.dataTransfer)!=null&&a.files&&this.upload(d,s.dataTransfer.files)}})}upload(t,e){const s=[];Array.from(e).forEach(i=>{var r;i&&((r=this.options.mimetypes)!=null&&r.includes(i.type))&&s.push(i)}),s.length>0&&this.options.handler.call(this,t,s)}}zh.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,t){if(!this.quill.scroll.query("image"))return;const e=t.map(s=>new Promise(i=>{const r=new FileReader;r.onload=()=>{i(r.result)},r.readAsDataURL(s)}));Promise.all(e).then(s=>{const i=s.reduce((r,a)=>r.insert({image:a}),new B().retain(n.index).delete(n.length));this.quill.updateContents(i,x.sources.USER),this.quill.setSelection(n.index+s.length,x.sources.SILENT)})}};const X0=["insertText","insertReplacementText"];class Z0 extends zt{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",s=>{this.handleBeforeInput(s)}),/Android/i.test(navigator.userAgent)||t.on(A.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){ha({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(e){const s=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new B().retain(t.index).insert(e,s),A.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,A.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!X0.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===!0)return;const s=Q0(t);if(s==null)return;const i=this.quill.selection.normalizeNative(e),r=i?this.quill.selection.normalizedToRange(i):null;r&&this.replaceText(r,s)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function Q0(n){var t;return typeof n.data=="string"?n.data:(t=n.dataTransfer)!=null&&t.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const J0=/Mac/i.test(navigator.platform),tT=100,eT=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||J0&&n.key==="a"&&n.ctrlKey===!0);class nT extends zt{constructor(e,s){super(e,s);L(this,"isListening",!1);L(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,s){let{line:i,event:r}=s;if(!(i instanceof Ft)||!i.uiNode)return!0;const a=getComputedStyle(i.domNode).direction==="rtl";return a&&r.key!=="ArrowRight"||!a&&r.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(r.shiftKey?1:0),A.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&eT(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+tT,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const s=e.getRangeAt(0);if(s.collapsed!==!0||s.startOffset!==0)return;const i=this.quill.scroll.find(s.startContainer);if(!(i instanceof Ft)||!i.uiNode)return;const r=document.createRange();r.setStartAfter(i.uiNode),r.setEndAfter(i.uiNode),e.removeAllRanges(),e.addRange(r)}}A.register({"blots/block":st,"blots/block/embed":Bt,"blots/break":Ut,"blots/container":gn,"blots/cursor":es,"blots/embed":na,"blots/inline":re,"blots/scroll":rs,"blots/text":Ht,"modules/clipboard":Ph,"modules/history":Uh,"modules/keyboard":rr,"modules/uploader":zh,"modules/input":Z0,"modules/uiNode":nT});class sT extends jt{add(t,e){let s=0;if(e==="+1"||e==="-1"){const i=this.value(t)||0;s=e==="+1"?i+1:i-1}else typeof e=="number"&&(s=e);return s===0?(this.remove(t),!0):super.add(t,s.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}const iT=new sT("indent","ql-indent",{scope:I.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class ma extends st{}L(ma,"blotName","blockquote"),L(ma,"tagName","blockquote");class ga extends st{static formats(t){return this.tagName.indexOf(t.tagName)+1}}L(ga,"blotName","header"),L(ga,"tagName",["H1","H2","H3","H4","H5","H6"]);class Us extends gn{}Us.blotName="list-container",Us.tagName="OL";class Hs extends st{static create(t){const e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){A.register(Us)}constructor(t,e){super(t,e);const s=e.ownerDocument.createElement("span"),i=r=>{if(!t.isEnabled())return;const a=this.statics.formats(e,t);a==="checked"?(this.format("list","unchecked"),r.preventDefault()):a==="unchecked"&&(this.format("list","checked"),r.preventDefault())};s.addEventListener("mousedown",i),s.addEventListener("touchstart",i),this.attachUI(s)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}}Hs.blotName="list",Hs.tagName="LI",Us.allowedChildren=[Hs],Hs.requiredContainer=Us;class zs extends re{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}L(zs,"blotName","bold"),L(zs,"tagName",["STRONG","B"]);class ba extends zs{}L(ba,"blotName","italic"),L(ba,"tagName",["EM","I"]);class ze extends re{static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return Wh(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t!==this.statics.blotName||!e?super.format(t,e):this.domNode.setAttribute("href",this.constructor.sanitize(e))}}L(ze,"blotName","link"),L(ze,"tagName","A"),L(ze,"SANITIZED_URL","about:blank"),L(ze,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Wh(n,t){const e=document.createElement("a");e.href=n;const s=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(s)>-1}class ya extends re{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}L(ya,"blotName","script"),L(ya,"tagName",["SUB","SUP"]);class Ea extends zs{}L(Ea,"blotName","strike"),L(Ea,"tagName",["S","STRIKE"]);class _a extends re{}L(_a,"blotName","underline"),L(_a,"tagName","U");class lr extends na{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return typeof t=="string"&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}L(lr,"blotName","formula"),L(lr,"className","ql-formula"),L(lr,"tagName","SPAN");const Kh=["alt","height","width"];class Ta extends kt{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return Kh.reduce((e,s)=>(t.hasAttribute(s)&&(e[s]=t.getAttribute(s)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return Wh(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){Kh.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}L(Ta,"blotName","image"),L(Ta,"tagName","IMG");const Gh=["height","width"];class cr extends Bt{static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return Gh.reduce((e,s)=>(t.hasAttribute(s)&&(e[s]=t.getAttribute(s)),e),{})}static sanitize(t){return ze.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){Gh.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}L(cr,"blotName","video"),L(cr,"className","ql-video"),L(cr,"tagName","IFRAME");const Ws=new jt("code-token","hljs",{scope:I.INLINE});class Ne extends re{static formats(t,e){for(;t!=null&&t!==e.domNode;){if(t.classList&&t.classList.contains(lt.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,s){super(t,e,s),Ws.add(this.domNode,s)}format(t,e){t!==Ne.blotName?super.format(t,e):e?Ws.add(this.domNode,e):(Ws.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Ws.value(this.domNode)||this.unwrap()}}Ne.blotName="code-token",Ne.className="ql-token";class Dt extends lt{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),Ne.blotName,!1),super.replaceWith(t,e)}}class Ks extends bn{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===Dt.blotName&&(this.forceNext=!0,this.children.forEach(s=>{s.format(t,e)}))}formatAt(t,e,s,i){s===Dt.blotName&&(this.forceNext=!0),super.formatAt(t,e,s,i)}highlight(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(a=>a!==this.uiNode).map(a=>a.textContent).join(`
`)}
`,r=Dt.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const a=this.children.reduce((l,c)=>l.concat(ph(c,!1)),new B),d=t(i,r);a.diff(d).reduce((l,c)=>{let{retain:u,attributes:p}=c;return u?(p&&Object.keys(p).forEach(m=>{[Dt.blotName,Ne.blotName].includes(m)&&this.formatAt(l,u,m,p[m])}),l+u):l},0)}this.cachedText=i,this.forceNext=!1}}html(t,e){const[s]=this.children.find(t);return`<pre data-language="${s?Dt.formats(s.domNode):"plain"}">
${er(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const e=Dt.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}Ks.allowedChildren=[Dt],Dt.requiredContainer=Ks,Dt.allowedChildren=[Ne,es,Ht,Ut];const rT=(n,t,e)=>{if(typeof n.versionString=="string"){const s=n.versionString.split(".")[0];if(parseInt(s,10)>=11)return n.highlight(e,{language:t}).value}return n.highlight(t,e).value};class Yh extends zt{static register(){A.register(Ne,!0),A.register(Dt,!0),A.register(Ks,!0)}constructor(t,e){if(super(t,e),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((s,i)=>{let{key:r}=i;return s[r]=!0,s},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(A.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof Ks))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(s=>{let{key:i,label:r}=s;const a=e.ownerDocument.createElement("option");a.textContent=r,a.setAttribute("value",i),e.appendChild(a)}),e.addEventListener("change",()=>{t.format(Dt.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(e),t.children.head&&(e.value=Dt.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(A.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(A.sources.USER);const s=this.quill.getSelection();(t==null?this.quill.scroll.descendants(Ks):[t]).forEach(r=>{r.highlight(this.highlightBlot,e)}),this.quill.update(A.sources.SILENT),s!=null&&this.quill.setSelection(s,A.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(e=this.languages[e]?e:"plain",e==="plain")return er(t).split(`
`).reduce((i,r,a)=>(a!==0&&i.insert(`
`,{[lt.blotName]:e}),i.insert(r)),new B);const s=this.quill.root.ownerDocument.createElement("div");return s.classList.add(lt.className),s.innerHTML=rT(this.options.hljs,e,t),ua(this.quill.scroll,s,[(i,r)=>{const a=Ws.value(i);return a?r.compose(new B().retain(r.length(),{[Ne.blotName]:a})):r}],[(i,r)=>i.data.split(`
`).reduce((a,d,l)=>(l!==0&&a.insert(`
`,{[lt.blotName]:e}),a.insert(d)),r)],new WeakMap)}}Yh.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Qs=class Qs extends st{static create(t){const e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",Na()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===Qs.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};L(Qs,"blotName","table"),L(Qs,"tagName","TD");let Kt=Qs;class Ae extends gn{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),e=this.children.tail.formats(),s=this.next.children.head.formats(),i=this.next.children.tail.formats();return t.table===e.table&&t.table===s.table&&t.table===i.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(e.next==null)return;const s=e.formats(),i=e.next.formats();if(s.table!==i.table){const r=this.splitAfter(e);r&&r.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}L(Ae,"blotName","table-row"),L(Ae,"tagName","TR");class oe extends gn{}L(oe,"blotName","table-body"),L(oe,"tagName","TBODY");class os extends gn{balanceCells(){const t=this.descendants(Ae),e=t.reduce((s,i)=>Math.max(i.children.length,s),0);t.forEach(s=>{new Array(e-s.children.length).fill(0).forEach(()=>{let i;s.children.head!=null&&(i=Kt.formats(s.children.head.domNode));const r=this.scroll.create(Kt.blotName,i);s.appendChild(r),r.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){const[e]=this.descendant(oe);e==null||e.children.head==null||e.children.forEach(s=>{const i=s.children.at(t);i!=null&&i.remove()})}insertColumn(t){const[e]=this.descendant(oe);e==null||e.children.head==null||e.children.forEach(s=>{const i=s.children.at(t),r=Kt.formats(s.children.head.domNode),a=this.scroll.create(Kt.blotName,r);s.insertBefore(a,i)})}insertRow(t){const[e]=this.descendant(oe);if(e==null||e.children.head==null)return;const s=Na(),i=this.scroll.create(Ae.blotName);e.children.head.children.forEach(()=>{const a=this.scroll.create(Kt.blotName,s);i.appendChild(a)});const r=e.children.at(t);e.insertBefore(i,r)}rows(){const t=this.children.head;return t==null?[]:t.children.map(e=>e)}}L(os,"blotName","table-container"),L(os,"tagName","TABLE"),os.allowedChildren=[oe],oe.requiredContainer=os,oe.allowedChildren=[Ae],Ae.requiredContainer=oe,Ae.allowedChildren=[Kt],Kt.requiredContainer=Ae;function Na(){return`row-${Math.random().toString(36).slice(2,6)}`}class oT extends zt{static register(){A.register(Kt),A.register(Ae),A.register(oe),A.register(os)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(os).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,e]=this.getTable();e!=null&&(t.deleteColumn(e.cellOffset()),this.quill.update(A.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(A.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove(),this.quill.update(A.sources.USER),this.quill.setSelection(e,A.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,s]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==Kt.blotName)return[null,null,null,-1];const i=e.parent;return[i.parent.parent,i,e,s]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[s,i,r]=this.getTable(e);if(r==null)return;const a=r.cellOffset();s.insertColumn(a+t),this.quill.update(A.sources.USER);let d=i.rowOffset();t===0&&(d+=1),this.quill.setSelection(e.index+d,e.length,A.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[s,i,r]=this.getTable(e);if(r==null)return;const a=i.rowOffset();s.insertRow(a+t),this.quill.update(A.sources.USER),t>0?this.quill.setSelection(e,A.sources.SILENT):this.quill.setSelection(e.index+i.children.length,e.length,A.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const s=this.quill.getSelection();if(s==null)return;const i=new Array(t).fill(0).reduce(r=>{const a=new Array(e).fill(`
`).join("");return r.insert(a,{table:Na()})},new B().retain(s.index));this.quill.updateContents(i,A.sources.USER),this.quill.setSelection(s.index,A.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(A.events.SCROLL_OPTIMIZE,t=>{t.some(e=>["TD","TR","TBODY","TABLE"].includes(e.target.tagName)?(this.quill.once(A.events.TEXT_CHANGE,(s,i,r)=>{r===A.sources.USER&&this.balanceTables()}),!0):!1)})}}const Xh=_e("quill:toolbar");class Aa extends zt{constructor(t,e){var s,i;if(super(t,e),Array.isArray(this.options.container)){const r=document.createElement("div");r.setAttribute("role","toolbar"),aT(r,this.options.container),(i=(s=t.container)==null?void 0:s.parentNode)==null||i.insertBefore(r,t.container),this.container=r}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Xh.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(r=>{var d;const a=(d=this.options.handlers)==null?void 0:d[r];a&&this.addHandler(r,a)}),Array.from(this.container.querySelectorAll("button, select")).forEach(r=>{this.attach(r)}),this.quill.on(A.events.EDITOR_CHANGE,()=>{const[r]=this.quill.selection.getRange();this.update(r)})}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(i=>i.indexOf("ql-")===0);if(!e)return;if(e=e.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[e]==null&&this.quill.scroll.query(e)==null){Xh.warn("ignoring attaching to nonexistent format",e,t);return}const s=t.tagName==="SELECT"?"change":"click";t.addEventListener(s,i=>{let r;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const d=t.options[t.selectedIndex];d.hasAttribute("selected")?r=!1:r=d.value||!1}else t.classList.contains("ql-active")?r=!1:r=t.value||!t.hasAttribute("value"),i.preventDefault();this.quill.focus();const[a]=this.quill.selection.getRange();if(this.handlers[e]!=null)this.handlers[e].call(this,r);else if(this.quill.scroll.query(e).prototype instanceof kt){if(r=prompt(`Enter ${e}`),!r)return;this.quill.updateContents(new B().retain(a.index).delete(a.length).insert({[e]:r}),A.sources.USER)}else this.quill.format(e,r,A.sources.USER);this.update(a)}),this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach(s=>{const[i,r]=s;if(r.tagName==="SELECT"){let a=null;if(t==null)a=null;else if(e[i]==null)a=r.querySelector("option[selected]");else if(!Array.isArray(e[i])){let d=e[i];typeof d=="string"&&(d=d.replace(/"/g,'\\"')),a=r.querySelector(`option[value="${d}"]`)}a==null?(r.value="",r.selectedIndex=-1):a.selected=!0}else if(t==null)r.classList.remove("ql-active"),r.setAttribute("aria-pressed","false");else if(r.hasAttribute("value")){const a=e[i],d=a===r.getAttribute("value")||a!=null&&a.toString()===r.getAttribute("value")||a==null&&!r.getAttribute("value");r.classList.toggle("ql-active",d),r.setAttribute("aria-pressed",d.toString())}else{const a=e[i]!=null;r.classList.toggle("ql-active",a),r.setAttribute("aria-pressed",a.toString())}})}}Aa.DEFAULTS={};function Zh(n,t,e){const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add(`ql-${t}`),s.setAttribute("aria-pressed","false"),e!=null?(s.value=e,s.setAttribute("aria-label",`${t}: ${e}`)):s.setAttribute("aria-label",t),n.appendChild(s)}function aT(n,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{const s=document.createElement("span");s.classList.add("ql-formats"),e.forEach(i=>{if(typeof i=="string")Zh(s,i);else{const r=Object.keys(i)[0],a=i[r];Array.isArray(a)?lT(s,r,a):Zh(s,r,a)}}),n.appendChild(s)})}function lT(n,t,e){const s=document.createElement("select");s.classList.add(`ql-${t}`),e.forEach(i=>{const r=document.createElement("option");i!==!1?r.setAttribute("value",String(i)):r.setAttribute("selected","selected"),s.appendChild(r)}),n.appendChild(s)}Aa.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(e=>{this.quill.scroll.query(e,I.INLINE)!=null&&this.quill.format(e,!1,A.sources.USER)})}else this.quill.removeFormat(n.index,n.length,A.sources.USER)},direction(n){const{align:t}=this.quill.getFormat();n==="rtl"&&t==null?this.quill.format("align","right",A.sources.USER):!n&&t==="right"&&this.quill.format("align",!1,A.sources.USER),this.quill.format("direction",n,A.sources.USER)},indent(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t),s=parseInt(e.indent||0,10);if(n==="+1"||n==="-1"){let i=n==="+1"?1:-1;e.direction==="rtl"&&(i*=-1),this.quill.format("indent",s+i,A.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,A.sources.USER)},list(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t);n==="check"?e.list==="checked"||e.list==="unchecked"?this.quill.format("list",!1,A.sources.USER):this.quill.format("list","unchecked",A.sources.USER):this.quill.format("list",n,A.sources.USER)}}};const cT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',dT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',hT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',uT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',fT='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',pT='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',mT='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',gT='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Qh='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Gs={align:{"":cT,center:dT,right:hT,justify:uT},background:fT,blockquote:pT,bold:mT,clean:gT,code:Qh,"code-block":Qh,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'},bT='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Jh=0;function tu(n,t){n.setAttribute(t,`${n.getAttribute(t)!=="true"}`)}class dr{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),tu(this.label,"aria-expanded"),tu(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const s=t.getAttribute("value");return s&&e.setAttribute("data-value",s),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(e,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=bT,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${Jh}`,Jh+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{const s=this.buildItem(e);t.appendChild(s),e.selected===!0&&this.selectItem(s)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=this.container.querySelector(".ql-selected");t!==s&&(s!=null&&s.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const s=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(s)}else this.selectItem(null);const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class eu extends dr{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(s=>{s.classList.add("ql-primary")})}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const s=this.label.querySelector(".ql-color-label"),i=t&&t.getAttribute("data-value")||"";s&&(s.tagName==="line"?s.style.stroke=i:s.style.fill=i)}}class nu extends dr{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(s=>{s.innerHTML=e[s.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const s=t||this.defaultItem;if(s!=null){if(this.label.innerHTML===s.innerHTML)return;this.label.innerHTML=s.innerHTML}}}const yT=n=>{const{overflowY:t}=getComputedStyle(n,null);return t!=="visible"&&t!=="clip"};class su{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,yT(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,s=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${s}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect();let a=0;if(r.right>i.right&&(a=i.right-r.right,this.root.style.left=`${e+a}px`),r.left<i.left&&(a=i.left-r.left,this.root.style.left=`${e+a}px`),r.bottom>i.bottom){const d=r.bottom-r.top,l=t.bottom-t.top+d;this.root.style.top=`${s-l}px`,this.root.classList.add("ql-flip")}return a}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const ET=[!1,"center","right","justify"],_T=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],TT=[!1,"serif","monospace"],NT=["1","2","3",!1],AT=["small",!1,"large","huge"];class Ys extends ss{constructor(t,e){super(t,e);const s=i=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",s);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(r=>{r.container.contains(i.target)||r.close()})};t.emitter.listenDOM("click",document.body,s)}addModule(t){const e=super.addModule(t);return t==="toolbar"&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(s=>{(s.getAttribute("class")||"").split(/\s+/).forEach(r=>{if(r.startsWith("ql-")&&(r=r.slice(3),e[r]!=null))if(r==="direction")s.innerHTML=e[r][""]+e[r].rtl;else if(typeof e[r]=="string")s.innerHTML=e[r];else{const a=s.value||"";a!=null&&e[r][a]&&(s.innerHTML=e[r][a])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&Xs(i,ET),typeof e.align=="object"))return new nu(i,e.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const r=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&Xs(i,_T,r==="background"?"#ffffff":"#000000"),new eu(i,e[r])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?Xs(i,TT):i.classList.contains("ql-header")?Xs(i,NT):i.classList.contains("ql-size")&&Xs(i,AT)),new dr(i)});const s=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(x.events.EDITOR_CHANGE,s)}}Ys.DEFAULTS=je({},ss.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class iu extends su{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;e!=null?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const s=this.quill.getBounds(this.quill.selection.savedRange);s!=null&&this.position(s),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,x.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,x.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=wT(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(e!=null){const s=e.index+e.length;this.quill.insertEmbed(s,this.root.getAttribute("data-mode"),t,x.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(s+1," ",x.sources.USER),this.quill.setSelection(s+2,x.sources.USER)}break}}this.textbox.value="",this.hide()}}function wT(n){let t=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:n}function Xs(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(s=>{const i=document.createElement("option");s===e?i.setAttribute("selected","selected"):i.setAttribute("value",String(s)),n.appendChild(i)})}const kT=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class ru extends iu{constructor(t,e){super(t,e),this.quill.on(x.events.EDITOR_CHANGE,(s,i,r,a)=>{if(s===x.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&a===x.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const d=this.quill.getLines(i.index,i.length);if(d.length===1){const l=this.quill.getBounds(i);l!=null&&this.position(l)}else{const l=d[d.length-1],c=this.quill.getIndex(l),u=Math.min(l.length()-1,i.index+i.length-c),p=this.quill.getBounds(new mn(c,u));p!=null&&this.position(p)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(x.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);e!=null&&this.position(e)}},1)})}cancel(){this.show()}position(t){const e=super.position(t),s=this.root.querySelector(".ql-tooltip-arrow");return s.style.marginLeft="",e!==0&&(s.style.marginLeft=`${-1*e-s.offsetWidth/2}px`),e}}L(ru,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class ou extends Ys{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=kT),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new ru(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),Gs),this.buildPickers(t.container.querySelectorAll("select"),Gs))}}ou.DEFAULTS=je({},Ys.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,A.sources.USER)}}}}});const CT=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class au extends iu{constructor(){super(...arguments);L(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const s=this.linkRange;this.restoreFocus(),this.quill.formatText(s,"link",!1,x.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(x.events.SELECTION_CHANGE,(e,s,i)=>{if(e!=null){if(e.length===0&&i===x.sources.USER){const[r,a]=this.quill.scroll.descendant(ze,e.index);if(r!=null){this.linkRange=new mn(e.index-a,r.length());const d=ze.formats(r.domNode);this.preview.textContent=d,this.preview.setAttribute("href",d),this.show();const l=this.quill.getBounds(this.linkRange);l!=null&&this.position(l);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}L(au,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class lu extends Ys{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=CT),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),Gs),this.buildPickers(t.container.querySelectorAll("select"),Gs),this.tooltip=new au(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,s)=>{t.handlers.link.call(t,!s.format.link)}))}}lu.DEFAULTS=je({},Ys.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0&&(e=`mailto:${e}`);const{tooltip:s}=this.quill.theme;s.edit("link",e)}else this.quill.format("link",!1,A.sources.USER)}}}}}),A.register({"attributors/attribute/direction":Sh,"attributors/class/align":kh,"attributors/class/background":p0,"attributors/class/color":f0,"attributors/class/direction":Oh,"attributors/class/font":Bh,"attributors/class/size":Dh,"attributors/style/align":Ch,"attributors/style/background":aa,"attributors/style/color":oa,"attributors/style/direction":Lh,"attributors/style/font":Ih,"attributors/style/size":Rh},!0),A.register({"formats/align":kh,"formats/direction":Oh,"formats/indent":iT,"formats/background":aa,"formats/color":oa,"formats/font":Bh,"formats/size":Dh,"formats/blockquote":ma,"formats/code-block":lt,"formats/header":ga,"formats/list":Hs,"formats/bold":zs,"formats/code":la,"formats/italic":ba,"formats/link":ze,"formats/script":ya,"formats/strike":Ea,"formats/underline":_a,"formats/formula":lr,"formats/image":Ta,"formats/video":cr,"modules/syntax":Yh,"modules/table":oT,"modules/toolbar":Aa,"themes/bubble":ou,"themes/snow":lu,"ui/icons":Gs,"ui/picker":dr,"ui/icon-picker":nu,"ui/color-picker":eu,"ui/tooltip":su},!0);const as=(n,t)=>{const e=n.__vccOpts||n;for(const[s,i]of t)e[s]=i;return e},vT={props:["modelValue"],mounted(){this.initQuillEditor()},watch:{modelValue(n){n||(n=""),this.quill.root.innerHTML!=n&&(this.quill.root.innerHTML=n)}},methods:{initQuillEditor(){this.quill=new A(this.$refs.editor,{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],["link","image"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["clean"]]},formats:["bold","italic","underline","strike","link","image","list","indent","align"]}),this.modelValue?this.quill.root.innerHTML=this.modelValue:this.quill.root.innerHTML="",this.quill.on("text-change",()=>{this.$emit("update:modelValue",this.quill.root.innerHTML)})}}},ST={class:"ql-editor-container"},OT={class:"",ref:"editor"};function LT(n,t,e,s,i,r){return o.openBlock(),o.createElementBlock("div",ST,[o.createElementVNode("div",OT,null,512)])}const xT=as(vT,[["render",LT],["__scopeId","data-v-443c4edc"]]),BT={props:{modelValue:Array,params:Object},data:function(){return{files:[],editfile:null,count:0,bytes:0,wait:!1,uploadEvent:null}},created(){let n=Math.round(Math.random()*1e5);this.uploadId="image_upload_"+n},mounted(){this.editfile=this.modelValue,this.editfile||(this.editfile=[])},watch:{modelValue(n){n==null?this.reset():this.files=n}},methods:{round(n){return n<1024?n+" Byte":n<1048576?(n/1024).toFixed(0)+" KB":n<1073741824?(n/1048576).toFixed(2)+" MB":(n/1073741824).toFixed(2)+" GB"},extension(n){return n.split(".").reverse()[0]},detect(n){n.bytes=0,n.types={},n.title=n.name.split(".").slice(0,-1).join("."),n.original={size:n.size,type:n.type,modified:n.lastModified,name:n.name}},async createThumbnail(n,t){const e=document.createElement("video"),s=new FileReader;s.onload=i=>{e.src=i.target.result,e.addEventListener("loadeddata",()=>{e.currentTime=e.duration*Math.random(),n.video=e}),e.addEventListener("seeked",()=>{this.forEachPresets(n,e),n.loaded=!0,this.bytes+=n.bytes})},s.readAsDataURL(n)},seekRandom(n){n.video&&(n.video.currentTime=n.video.duration*Math.random())},async handleFileChange(n){this.uploadEvent=n,this.count=this.files?this.files.length:0,this.wait=!0;let t=["video/mpeg","video/mp4"];for(let e of n.target.files)this.count++,this.count<=this.params.limit&&(this.files.push(e),this.detect(e),t.indexOf(e.type)>=0?await this.createThumbnail(e):await this.resizeImage(e));this.$emit("update:modelValue",this.files),this.wait=!1,this.uploadEvent.target.value=""},forEachPresets(n,t,e){const s=document.createElement("canvas"),i=s.getContext("2d");let r=!!t.videoWidth,a,d;r?(a=t.videoWidth,d=t.videoHeight):(a=t.width,d=t.height),n.original.width=a,n.original.height=d,n.uid=Math.round(Math.random()*9999999).toString(32)+Date.now().toString(32);for(let l in this.params.presets){let c=this.params.presets[l];c.key=l,a>c.width&&(d=Math.round(d*(c.width/a)),a=c.width),d>c.height&&(a=Math.round(a*(c.height/d)),d=c.height),s.width=a,s.height=d,i.drawImage(t,0,0,a,d),n.types[c.key]={width:a,height:d,convert:c.convert?c.convert:n.type,quality:c.quality?c.quality:.75},n.types[c.key].slug=Gc(n.title)+"-"+c.width+"x"+c.height+"-"+n.uid,n.types[c.key].data=s.toDataURL(n.types[c.key].convert,n.types[c.key].quality),n.types[c.key].extension=this.getExtension(n.types[c.key].convert),n.types[c.key].bytes=Math.round(n.types[c.key].data.length/1.31),n.bytes+=n.types[c.key].bytes,e&&e(c,n)}},async resizeImage(n){const t=await this.fileToBlob(n),e=await createImageBitmap(t);this.forEachPresets(n,e),n.loaded=!0,this.bytes+=n.bytes},fileToBlob(n){return new Promise(t=>{const e=new FileReader;e.onload=s=>{t(new Blob([s.target.result],{type:n.type}))},e.readAsArrayBuffer(n)})},slug(n){let t=this.files[n];for(let e in t.types){let s=t.types[e],i=this.params.presets[e];s.slug=Gc(t.title)+"-"+i.width+"x"+i.height}},download(n,t){let e=this.files[n].types[t.download],s=document.createElement("a");s.href=e.url,s.download=e.slug+"."+e.extension,s.click()},remove(n){confirm("Are you sure you want to remove?")&&(this.bytes-=this.files[n].bytes,this.files.splice(n,1),this.count=this.files.length)},resetConfirm(){confirm("Are you sure you want to remove all?")&&this.reset()},reset(){this.files=[],this.editfile={},this.count=0,this.bytes=0,this.wait=!1,this.$emit("update:modelValue",this.files)},getExtension(n){return{"image/webp":"webp","image/jpeg":"jpg","image/png":"png"}[n]}}},IT={class:""},DT={key:0,class:"vsa-image-editor p-2 text-center text-light"},RT={class:"row"},VT={class:"badge bg-dark text-light fw-light mx-1 text-uppercase"},MT={class:"badge bg-dark text-light fw-light mx-1"},qT={class:"badge bg-dark text-light fw-light mx-1"},$T=["src"],PT={class:"row g-1"},jT={class:"col-md-6"},FT={class:"col-md-6"},UT={class:"col-md-6"},HT=["href"],zT={key:1,class:"row g-1"},WT={class:"vsa-image-container border border-secondary rounded p-2 h-100 position-relative"},KT={key:0,class:"w-100 h-100 d-flex align-items-center"},GT={class:"vsa-image-info position-absolute start-0 bottom-0 end-0 p-2 text-center text-light"},YT={key:0,class:"badge bg-warning text-dark m-1"},XT={class:"badge bg-dark text-light fw-light mx-1 text-uppercase"},ZT={class:"badge bg-dark text-light fw-light mx-1"},QT={class:"badge bg-dark text-light fw-light mx-1"},JT={class:"bg-dark text-light rounded p-0 px-2 mb-1"},tN={class:"text-center mt-2"},eN=["onClick"],nN=["onClick"],sN=["href"],iN=["onClick"],rN=["onClick"],oN={key:0,class:"bi bi-film"},aN={key:1,class:"bi bi-image"},lN={class:"text-light fw-light text-nowrap"},cN={class:"vsa-image-frame w-100 text-center"},dN=["src","alt"],hN={key:1,class:"w-100 h-100 vsa-image-loading d-flex align-items-center justify-content-center"},uN={class:"row g-1"},fN={class:"col-12"},pN={class:"border border-secondary rounded p-2 h-100"},mN=["for"],gN={class:"fw-light"},bN={key:0,class:"fs-4"},yN={key:1,class:"fs-6 text-warning"},EN={class:"col-12"},_N={class:"border border-secondary rounded p-2 h-100"},TN={class:"text-center h-100 w-100 d-flex align-items-center justify-content-center"},NN={class:"fw-light"},AN={key:0,class:"mt-1"},wN={class:"badge bg-dark border border-secondary text-info mx-1"},kN={class:"badge bg-dark border border-secondary text-info mx-1"},CN={key:0,class:"badge bg-dark border border-secondary text-info mx-1"},vN={key:1,class:"mt-1"},SN={key:2},ON={class:"badge bg-dark border border-secondary text-info mx-1"},LN={class:"badge bg-dark border border-secondary text-info mx-1"},xN={class:"badge bg-dark border border-secondary text-info mx-1"},BN=["id","accept"];function IN(n,t,e,s,i,r){return o.openBlock(),o.createElementBlock("div",IT,[o.createElementVNode("div",{class:o.normalizeClass(["vsa-upload",{wait:n.wait}])},[n.editfile&&n.editfile.presets?(o.openBlock(),o.createElementBlock("div",DT,[o.createElementVNode("div",RT,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(n.editfile.types,(a,d)=>(o.openBlock(),o.createElementBlock("div",{class:"col-md-3",key:d},[o.createElementVNode("span",VT,o.toDisplayString(a.convert.replace(/.*\//,"")),1),o.createElementVNode("span",MT,o.toDisplayString(a.width)+" x "+o.toDisplayString(a.height),1),o.createElementVNode("span",qT,"~"+o.toDisplayString(this.round(a.bytes)),1),a?(o.openBlock(),o.createElementBlock("img",{key:0,class:"img-thumbnail rounded",src:a.url?a.url:a.data},null,8,$T)):o.createCommentVNode("",!0)]))),128))]),o.withDirectives(o.createElementVNode("input",{type:"text",class:"form-control form-control-sm w-100 mt-1","onUpdate:modelValue":t[0]||(t[0]=a=>n.editfile.title=a),onChange:t[1]||(t[1]=a=>n.slug(n.index))},null,544),[[o.vModelText,n.editfile.title]]),o.createElementVNode("div",PT,[o.createElementVNode("div",jT,[o.createElementVNode("button",{type:"button",class:"btn btn-sm btn-outline-danger mt-1 w-100",onClick:t[2]||(t[2]=a=>n.editfile=null)}," Close ")]),o.createElementVNode("div",FT,[o.createElementVNode("button",{type:"button",class:"btn btn-sm btn-outline-danger mt-1 w-100",onClick:t[3]||(t[3]=a=>n.remove(n.index))}," Remove ")]),o.createElementVNode("div",UT,[n.type&&!n.type.url?(o.openBlock(),o.createElementBlock("button",{key:0,type:"button",class:"btn btn-sm btn-outline-light mt-1 w-100",onClick:t[4]||(t[4]=a=>n.download(n.index,n.params))}," Download ")):o.createCommentVNode("",!0),n.type&&n.type.url?(o.openBlock(),o.createElementBlock("a",{key:1,type:"button",class:"btn btn-sm btn-outline-light mt-1 w-100",href:n.type.url}," Download ",8,HT)):o.createCommentVNode("",!0)])])])):o.createCommentVNode("",!0),n.files&&n.files.length?(o.openBlock(),o.createElementBlock("div",zT,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(n.files,(a,d)=>(o.openBlock(),o.createElementBlock("div",{class:"col-12 col-sm-12 col-md-6 col-lg-4 col-xl-3",key:d},[o.createElementVNode("div",WT,[a.types&&a.types[n.params.thumbnail]?(o.openBlock(),o.createElementBlock("div",KT,[o.createElementVNode("div",GT,[t[10]||(t[10]=o.createTextVNode(" {# ")),a.resized?(o.openBlock(),o.createElementBlock("span",YT,"resized")):o.createCommentVNode("",!0),t[11]||(t[11]=o.createTextVNode(" #} {# ")),(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(a.types,(l,c)=>(o.openBlock(),o.createElementBlock("div",{class:"",key:c},[o.createElementVNode("span",XT,o.toDisplayString(l.convert.replace("image/","")),1),o.createElementVNode("span",ZT,o.toDisplayString(l.width)+" x "+o.toDisplayString(l.height),1),o.createElementVNode("span",QT,"~"+o.toDisplayString(this.round(l.bytes)),1)]))),128)),t[12]||(t[12]=o.createTextVNode(" #} ")),o.createElementVNode("strong",JT,"#"+o.toDisplayString(d+1),1),o.createElementVNode("div",tN,[o.createElementVNode("button",{title:"Delete the image",type:"button",class:"btn btn-sm btn-outline-danger mx-1 d-inline-block",onClick:l=>n.remove(d)},t[7]||(t[7]=[o.createElementVNode("i",{class:"bi bi-trash"},null,-1)]),8,eN),a&&a.types&&a.uploaded?(o.openBlock(),o.createElementBlock("button",{key:0,title:"Download the image",type:"button",class:"btn btn-sm btn-outline-light mx-1",onClick:l=>n.download(d,n.params)},t[8]||(t[8]=[o.createElementVNode("i",{class:"bi bi-download"},null,-1)]),8,nN)):o.createCommentVNode("",!0),a&&a.types&&a.uploaded?(o.openBlock(),o.createElementBlock("a",{key:1,title:"Open in new tab",class:"btn btn-sm btn-outline-light mx-1",target:"_blank",href:a.types[n.params.download].url?a.types[n.params.download].url:a.types[n.params.download].data},t[9]||(t[9]=[o.createElementVNode("i",{class:"bi bi-box-arrow-up-right"},null,-1)]),8,sN)):o.createCommentVNode("",!0),a.video&&!a.uploaded?(o.openBlock(),o.createElementBlock("button",{key:2,type:"button",class:"btn btn-sm btn-outline-warning mx-1",onClick:l=>n.seekRandom(a)}," Seek ",8,iN)):o.createCommentVNode("",!0),n.params.editor?(o.openBlock(),o.createElementBlock("button",{key:3,type:"button",class:"btn btn-sm btn-outline-warning mx-1",onClick:l=>n.editfile=a},[a.video?(o.openBlock(),o.createElementBlock("i",oN)):(o.openBlock(),o.createElementBlock("i",aN))],8,rN)):o.createCommentVNode("",!0)]),o.createElementVNode("div",lN,o.toDisplayString(a.title),1)]),o.createElementVNode("div",cN,[o.createElementVNode("img",{class:"img-fluid rounded",src:a.types[n.params.thumbnail].url?a.types[n.params.thumbnail].url:a.types[n.params.thumbnail].data,alt:a.name},null,8,dN)])])):(o.openBlock(),o.createElementBlock("div",hN,t[13]||(t[13]=[o.createElementVNode("span",null,null,-1)])))])]))),128))])):o.createCommentVNode("",!0),o.createElementVNode("div",uN,[o.createElementVNode("div",fN,[o.createElementVNode("div",pN,[o.createElementVNode("label",{for:n.uploadId,class:o.normalizeClass([{disabled:n.files&&n.params.limit<=n.files.length},"btn btn-dark cursor-pointer h-100 w-100 d-flex align-items-center justify-content-center"])},[o.createElementVNode("span",null,[t[14]||(t[14]=o.createElementVNode("span",{class:"display-3 d-block"},"+",-1)),o.createElementVNode("small",gN,[n.files&&n.params.limit>n.files.length?(o.openBlock(),o.createElementBlock("div",bN,o.toDisplayString(n.params.text),1)):(o.openBlock(),o.createElementBlock("div",yN," You have reached the number of files you can upload "))])])],10,mN)])]),o.createElementVNode("div",EN,[o.createElementVNode("div",_N,[o.createElementVNode("div",TN,[o.createElementVNode("small",NN,[n.params.limit?(o.openBlock(),o.createElementBlock("div",AN,[t[15]||(t[15]=o.createTextVNode(" uploaded ")),o.createElementVNode("span",wN,o.toDisplayString(n.files.length),1),t[16]||(t[16]=o.createTextVNode(" / ")),o.createElementVNode("span",kN,o.toDisplayString(n.params.limit),1),this.bytes?(o.openBlock(),o.createElementBlock("span",CN,"~"+o.toDisplayString(this.round(this.bytes)),1)):o.createCommentVNode("",!0)])):o.createCommentVNode("",!0),n.params.accept?(o.openBlock(),o.createElementBlock("div",vN,[t[17]||(t[17]=o.createTextVNode(" accept only ")),(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(n.params.accept,a=>(o.openBlock(),o.createElementBlock("span",{class:"badge bg-dark border border-secondary text-info mx-1",key:a},o.toDisplayString(a.replace(/.*\//,"")),1))),128))])):o.createCommentVNode("",!0),n.params.presets?(o.openBlock(),o.createElementBlock("div",SN,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(n.params.presets,(a,d)=>(o.openBlock(),o.createElementBlock("div",{class:"mt-1",key:d},[t[18]||(t[18]=o.createTextVNode(" preset ")),o.createElementVNode("span",ON,o.toDisplayString(d),1),o.createElementVNode("span",LN,o.toDisplayString(a.width)+" x "+o.toDisplayString(a.height),1),o.createElementVNode("span",xN,o.toDisplayString(a.convert.replace(/.*\//,"")),1)]))),128))])):o.createCommentVNode("",!0),n.files.length?(o.openBlock(),o.createElementBlock("button",{key:3,type:"button",class:"btn btn-sm btn-danger mt-2 p-0 px-3",onClick:t[5]||(t[5]=(...a)=>n.resetConfirm&&n.resetConfirm(...a))}," remove all images ")):o.createCommentVNode("",!0)])])])])]),n.uploadId?(o.openBlock(),o.createElementBlock("input",{key:2,multiple:"",style:{opacity:"0",height:"1px",width:"1px"},id:n.uploadId,type:"file",accept:n.params.accept.join(","),onChange:t[6]||(t[6]=(...a)=>n.handleFileChange&&n.handleFileChange(...a))},null,40,BN)):o.createCommentVNode("",!0)],2)])}const DN={props:{modelValue:Object,group:Object,formid:String,settings:Object},data:function(){return{item:{}}},created(){},mounted(){this.item=this.modelValue},watch:{modelValue(n){this.item=this.modelValue}},methods:{getValueOrFunction(n,t){return Kc(n,t)},translate(n,t,e){return po(n,this.settings.translate,t,e||this.settings.language)},selectOptions(n,t){return typeof n=="function"?n(this.item,t,this):n},renderOptions(n,t,e){let s=[];if(!n||!n.length)return[];for(let i of n)s.push({value:i[t],label:i[e]?i[e]:i[t]});return s},insertAddress(n){this.item[n]||(this.item[n]=[]),this.item[n].push({country:void 0,zipcode:void 0,city:void 0,street_name:void 0,street_type:void 0,house_number:void 0})}},components:{HtmlEditor:xT,ImageUpload:as(BT,[["render",IN],["__scopeId","data-v-044c76f0"]])}},RN={class:"row m-1"},VN={class:"form-row-title mb-4 fw-lighter"},MN={key:0,class:"row"},qN={class:"form-group pb-3"},$N={key:0},PN={key:0,class:"form-label text-secondary mb-1"},jN={key:0,class:"badge text-secondary fw-light"},FN=["for","innerHTML"],UN={class:"input-group"},HN=["innerHTML"],zN=["name","id","onUpdate:modelValue","minlength","maxlength","placeholder","readonly","required"],WN=["name","id","onUpdate:modelValue","min","max","step","placeholder","readonly","required"],KN=["name","id","onUpdate:modelValue","readonly","required"],GN=["name","id","onUpdate:modelValue","minlength","maxlength","placeholder","readonly","required"],YN=["name","id","onUpdate:modelValue","readonly","required"],XN=["value"],ZN=["name","id","onUpdate:modelValue","rows","minlength","maxlength","placeholder","readonly","required"],QN=["innerHTML"],JN={key:3},tA={key:0},eA=["for"],nA=["name","id","onUpdate:modelValue"],sA=["onClick"],iA={key:4,class:"p-1"},rA=["innerHTML"];function oA(n,t,e,s,i,r){const a=o.resolveComponent("HtmlEditor"),d=o.resolveComponent("ImageUpload");return o.openBlock(),o.createElementBlock("div",RN,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(n.settings.form.groups,l=>(o.openBlock(),o.createElementBlock("div",{key:l,class:o.normalizeClass([l.class?l.class:"col-md-12"])},[o.createElementVNode("h2",VN,o.toDisplayString(l.title),1),n.item&&l.fields?(o.openBlock(),o.createElementBlock("div",MN,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(l.fields,c=>(o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass([c.class?c.class:"col-md-12"]),key:c},[o.createElementVNode("div",qN,[c.label!==null?(o.openBlock(),o.createElementBlock("span",$N,[["html","image"].indexOf(c.type)>=0?(o.openBlock(),o.createElementBlock("label",PN,[o.createTextVNode(o.toDisplayString(c.label?c.label:n.translate(c.name))+" ",1),c.maxlength?(o.openBlock(),o.createElementBlock("span",jN,o.toDisplayString(n.item[c.name]?n.item[c.name].length:0)+" / "+o.toDisplayString(c.maxlength),1)):o.createCommentVNode("",!0)])):(o.openBlock(),o.createElementBlock("label",{key:1,class:"form-label text-secondary mb-1",for:n.formid+"_"+c.name,innerHTML:n.getValueOrFunction(c.label?c.label:n.translate(c.name),{field:c,item:n.item})},null,8,FN))])):o.createCommentVNode("",!0),o.createElementVNode("div",UN,[c.prefix?(o.openBlock(),o.createElementBlock("span",{key:0,class:"input-group-text",innerHTML:c.prefix},null,8,HN)):o.createCommentVNode("",!0),c.type=="text"?o.withDirectives((o.openBlock(),o.createElementBlock("input",{key:1,class:o.normalizeClass(["form-control",[c.class]]),type:"text",name:c.name,id:n.formid+"_"+c.name,"onUpdate:modelValue":u=>n.item[c.name]=u,minlength:c.minlength,maxlength:c.maxlength,placeholder:c.placeholder?c.placeholder:"",readonly:c.readonly,required:c.required},null,10,zN)),[[o.vModelText,n.item[c.name]]]):o.createCommentVNode("",!0),c.type=="number"?o.withDirectives((o.openBlock(),o.createElementBlock("input",{key:2,class:o.normalizeClass(["form-control",[c.class]]),type:"number",name:c.name,id:n.formid+"_"+c.name,"onUpdate:modelValue":u=>n.item[c.name]=u,min:c.min,max:c.max,step:c.step,placeholder:c.placeholder?c.placeholder:"",readonly:c.readonly,required:c.required},null,10,WN)),[[o.vModelText,n.item[c.name]]]):o.createCommentVNode("",!0),c.type=="date"?o.withDirectives((o.openBlock(),o.createElementBlock("input",{key:3,class:o.normalizeClass(["form-control",[c.class]]),type:"date",name:c.name,id:n.formid+"_"+c.name,"onUpdate:modelValue":u=>n.item[c.name]=u,readonly:c.readonly,required:c.required},null,10,KN)),[[o.vModelText,n.item[c.name]]]):o.createCommentVNode("",!0),c.type=="email"?o.withDirectives((o.openBlock(),o.createElementBlock("input",{key:4,autocomplete:"on",class:o.normalizeClass(["form-control",[c.class]]),type:"email",name:c.name,id:n.formid+"_"+c.name,"onUpdate:modelValue":u=>n.item[c.name]=u,minlength:c.minlength,maxlength:c.maxlength,placeholder:c.placeholder?c.placeholder:"",readonly:c.readonly,required:c.required},null,10,GN)),[[o.vModelText,n.item[c.name]]]):o.createCommentVNode("",!0),c.type=="select"?o.withDirectives((o.openBlock(),o.createElementBlock("select",{key:5,class:o.normalizeClass(["form-select",[c.class]]),name:c.name,id:n.formid+"_"+c.name,"onUpdate:modelValue":u=>n.item[c.name]=u,readonly:c.readonly,required:c.required},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(n.selectOptions(c.options,c),u=>(o.openBlock(),o.createElementBlock("option",{class:"",key:u,value:u.value},o.toDisplayString(u.label?u.label:u.value),9,XN))),128))],10,YN)),[[o.vModelSelect,n.item[c.name]]]):o.createCommentVNode("",!0),c.type=="textarea"?o.withDirectives((o.openBlock(),o.createElementBlock("textarea",{key:6,class:o.normalizeClass(["form-control",[c.class]]),name:c.name,id:n.formid+"_"+c.name,"onUpdate:modelValue":u=>n.item[c.name]=u,rows:c.rows,minlength:c.minlength,maxlength:c.maxlength,placeholder:c.placeholder?c.placeholder:"",readonly:c.readonly,required:c.required},"        ",10,ZN)),[[o.vModelText,n.item[c.name]]]):o.createCommentVNode("",!0),c.suffix?(o.openBlock(),o.createElementBlock("span",{key:7,class:"input-group-text",innerHTML:c.suffix},null,8,QN)):o.createCommentVNode("",!0)]),c.type=="html"?(o.openBlock(),o.createBlock(a,{key:1,modelValue:n.item[c.name],"onUpdate:modelValue":u=>n.item[c.name]=u,class:o.normalizeClass([c.class])},null,8,["modelValue","onUpdate:modelValue","class"])):o.createCommentVNode("",!0),c.type=="image"?(o.openBlock(),o.createBlock(d,{key:2,modelValue:n.item[c.name],"onUpdate:modelValue":u=>n.item[c.name]=u,class:o.normalizeClass([c.class]),params:c.params},null,8,["modelValue","onUpdate:modelValue","class","params"])):o.createCommentVNode("",!0),c.type=="addresses"?(o.openBlock(),o.createElementBlock("span",JN,[n.item[c.name]?(o.openBlock(),o.createElementBlock("div",tA,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(n.item[c.name],u=>(o.openBlock(),o.createElementBlock("div",{key:u},[o.createTextVNode(o.toDisplayString(u)+" ",1),o.createElementVNode("label",{class:"form-label text-secondary mb-1",for:n.formid+"_"+c.name},o.toDisplayString(c.label),9,eA),o.withDirectives(o.createElementVNode("input",{class:"form-control",type:"text",name:c.name,id:n.formid+"_"+c.name,"onUpdate:modelValue":p=>u.country=p},null,8,nA),[[o.vModelText,u.country]])]))),128))])):o.createCommentVNode("",!0),o.createElementVNode("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:u=>n.insertAddress(c.name)}," Add ",8,sA)])):o.createCommentVNode("",!0),c.description?(o.openBlock(),o.createElementBlock("div",iA,[o.createElementVNode("i",{class:"text-muted",innerHTML:c.description},null,8,rA)])):o.createCommentVNode("",!0)])],2))),128))])):o.createCommentVNode("",!0)],2))),128))])}const aA=as(DN,[["render",oA],["__scopeId","data-v-77633bc8"]]),lA={name:"VuAdminTablePagination",emits:["setPage","setPageLimit","translate"],props:{config:Object,settings:Object,ui:Object},methods:{setPage(n){this.$emit("setPage",n)},setPageLimit(n){this.$emit("setPageLimit",n)},translate(n,t,e){return po(n,this.settings.translate,t,e||this.settings.language)},firstDisabled(){return this.config.pagination.page<=1},prevDisabled(){return this.config.pagination.page<=1},nextDisabled(){return this.config.pagination.pages?this.config.pagination.page+1>this.config.pagination.pages:this.config.pagination.items<this.config.pagination.limit},lastDisabled(){return this.config.pagination.page==this.config.pagination.pages}},components:{}},cA={key:0,"aria-label":"Page navigation",class:"mt-2 d-flex align-items-center justify-content-between"},dA={class:"dropdown d-inline-block m-1"},hA={type:"button",class:"btn btn-sm btn-secondary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},uA={class:"mx-1"},fA={key:0},pA={class:"dropdown-menu text-end"},mA=["onClick"],gA={class:"ms-2"},bA={key:0,class:"bi bi-check-circle-fill ms-2"},yA={key:1,class:"bi bi-circle ms-2"},EA={class:"spinner-border spinner-border-sm mx-2",role:"status"},_A={class:"pagination pagination-sm m-1"},TA={class:"page-item"},NA={"aria-hidden":"true"},AA={class:"page-item"},wA={"aria-hidden":"true"},kA=["onClick"],CA={class:"page-item"},vA={"aria-hidden":"true"},SA={"aria-hidden":"true"},OA={key:0,class:"page-item"},LA={"aria-hidden":"true"};function xA(n,t,e,s,i,r){return e.config.pagination.hidden?o.createCommentVNode("",!0):(o.openBlock(),o.createElementBlock("nav",cA,[o.createElementVNode("div",null,[o.createElementVNode("div",dA,[o.createElementVNode("button",hA,[o.withDirectives(o.createElementVNode("span",uA,[o.createElementVNode("strong",null,o.toDisplayString(e.config.pagination.from)+"-"+o.toDisplayString(e.config.pagination.to),1),e.config.pagination.total?(o.openBlock(),o.createElementBlock("span",fA," / "+o.toDisplayString(e.config.pagination.total),1)):o.createCommentVNode("",!0)],512),[[o.vShow,e.config.pagination.from>0]])]),o.createElementVNode("ul",pA,[o.createElementVNode("li",null,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.config.pagination.limits,a=>(o.openBlock(),o.createElementBlock("span",{class:o.normalizeClass(["dropdown-item cursor-pointer",{selected:e.config.pagination.limit==a}]),key:a,onClick:d=>r.setPageLimit(a)},[o.createElementVNode("strong",null,o.toDisplayString(a),1),o.createElementVNode("small",gA,o.toDisplayString(r.translate("row"))+"/"+o.toDisplayString(r.translate("page")),1),e.config.pagination.limit==a?(o.openBlock(),o.createElementBlock("i",bA)):o.createCommentVNode("",!0),e.config.pagination.limit!=a?(o.openBlock(),o.createElementBlock("i",yA)):o.createCommentVNode("",!0)],10,mA))),128))])])]),o.withDirectives(o.createElementVNode("div",EA,t[4]||(t[4]=[o.createElementVNode("span",{class:"visually-hidden"},"Loading...",-1)]),512),[[o.vShow,e.ui&&e.ui.wait.table]])]),o.createElementVNode("ul",_A,[o.createElementVNode("li",TA,[o.createElementVNode("a",{class:o.normalizeClass(["page-link cursor-pointer",{disabled:r.firstDisabled()}]),onClick:t[0]||(t[0]=a=>r.setPage(1)),"aria-label":"{{  translate('First')  }}"},[o.createElementVNode("span",NA,o.toDisplayString(r.translate("First")),1)],2)]),o.createElementVNode("li",AA,[o.createElementVNode("a",{class:o.normalizeClass(["page-link cursor-pointer",{disabled:r.prevDisabled()}]),onClick:t[1]||(t[1]=a=>r.setPage(e.config.pagination.page-1)),"aria-label":"{{  translate('Prev')  }}"},[o.createElementVNode("span",wA,o.toDisplayString(r.translate("Prev")),1)],2)]),(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.config.pagination.numbers,a=>(o.openBlock(),o.createElementBlock("li",{key:a,class:"page-item"},[o.createElementVNode("a",{class:o.normalizeClass(["page-link cursor-pointer",{disabled:a>e.config.pagination.pages,current:a==e.config.pagination.page}]),onClick:d=>r.setPage(a)},o.toDisplayString(a),11,kA)]))),128)),o.createElementVNode("li",CA,[o.createElementVNode("a",{class:o.normalizeClass(["page-link cursor-pointer",{disabled:r.nextDisabled()}]),onClick:t[2]||(t[2]=a=>r.setPage(e.config.pagination.page+1)),"aria-label":"{{  translate('Next')  }}"},[o.createElementVNode("span",vA,[o.createElementVNode("span",SA,o.toDisplayString(r.translate("Next")),1)])],2)]),e.config.pagination.total?(o.openBlock(),o.createElementBlock("li",OA,[o.createElementVNode("a",{class:o.normalizeClass(["page-link cursor-pointer",{disabled:r.lastDisabled()}]),onClick:t[3]||(t[3]=a=>r.setPage(e.config.pagination.total)),"aria-label":"{{  translate('Last')  }}"},[o.createElementVNode("span",LA,o.toDisplayString(r.translate("Last")),1)],2)])):o.createCommentVNode("",!0)])]))}const BA={name:"VuAdminTable",props:{settings:Object},components:{VuAdminFormGroup:aA,VuAdminTablePagination:as(lA,[["render",xA],["__scopeId","data-v-5ba01873"]])},data(){return{item:{},items:{},selected:[],details:[],bulkitem:{},bulkinputs:[],config:{pagination:{total:void 0,page:1,skip:0,limit:10,limits:[10,20,50,100],size:5,items:null,pages:null,numbers:[]},order:{},filter:{},orderIndex:1},ui:{wait:{table:!1,form:!1},block:{table:!1,form:!1}},modalId:null,modalElement:null,modalWindow:null,messages:{table:[],form:[]},message:{table:null,form:null},messageTimeOut:null}},created(){if(!this.settings.table)return!1;this.settings.table.pagination&&(this.config.pagination=Object.assign({},this.config.pagination,this.settings.table.pagination)),this.setPage(this.config.pagination.page,!1),this.settings.table.order&&(this.config.order=Object.assign({},this.config.order,this.settings.table.order)),this.settings.table.header||(this.settings.table.header={}),this.settings.api||(this.settings.api={}),this.settings.api=Object.assign({url:null,input:{},output:{},options:{}},this.settings.api),this.settings.table.api||(this.settings.table.api={}),this.settings.form||(this.settings.form={}),this.settings.form.api||(this.settings.form.api={}),this.settings.table.api=Object.assign({},this.settings.api,this.settings.table.api),this.settings.form.api=Object.assign({},this.settings.api,this.settings.form.api);let n=Math.round(Math.random()*1e5);this.formId="form_"+this.settings.entity+"_"+n,this.modalId="modal_"+this.settings.entity+"_"+n,this.resetTable()},mounted(){this.modalElement=document.getElementById(this.modalId),this.modalWindow=new rn(this.modalElement)},methods:{tableWait(n){this.ui.wait.table=!0,this.ui.block.table=n},tableNoWait(){this.ui.wait.table=!1,this.ui.block.table=!1},formWait(n){this.ui.wait.form=!0,this.ui.block.form=n},formNoWait(){this.ui.wait.form=!1,this.ui.block.form=!1},countFilters(){return this.settings.table.columns.filter(n=>n.filter&&!n.hidden).length},resetTable(){this.settings.table.pagination&&(this.config.pagination.limit=this.settings.table.pagination.limit),this.resetFilter(),this.resetOrder(!0)},resetFilter(n){if(this.settings.table.columns){for(let t of this.settings.table.columns)t.filter&&(t.filter.value=t.filter.default_value!==void 0?t.filter.default_value:t.filter.multiple?[]:void 0,t.filter.operator=t.filter.default_operator!==void 0?t.filter.default_operator:void 0);n&&(this.reloadTable(),this.calcPage())}},resetOrder(n){this.settings.table.order?this.config.order=Object.assign({},this.settings.table.order):this.config.order={},n&&(this.reloadTable(),this.calcPage())},reloadTable(n){this.fetchTable(n)},createItem(){this.item=this.settings.form.default?this.settings.form.default:{},this.modalWindow.show(),setTimeout(()=>{this.itemOriginal=Object.assign({},this.item)},100)},copyItem(){this.item[this.settings.pkey]=void 0,this.modalWindow.show(),setTimeout(()=>{this.itemOriginal=Object.assign({},this.item)},100)},calcPage(){if(!(this.config.pagination.items===null||this.config.pagination.items===void 0)){if(this.config.pagination.total!==null&&this.config.pagination.total!==void 0&&(this.config.pagination.pages=Math.ceil(this.config.pagination.total/this.config.pagination.limit)),this.config.pagination.pages!==null){let n=Math.floor((this.config.pagination.size-1)/2),t=this.config.pagination.page-n;this.config.pagination.page>this.config.pagination.pages&&(this.config.pagination.page=this.config.pagination.pages),this.config.pagination.page<1&&(this.config.pagination.page=1),t+this.config.pagination.size>this.config.pagination.pages&&(t=this.config.pagination.pages-this.config.pagination.size+1),t<1&&(t=1),this.config.pagination.numbers=Array.from({length:this.config.pagination.size},(e,s)=>t+s)}this.config.pagination.from=this.config.pagination.skip+1,this.config.pagination.to=this.config.pagination.skip+(this.config.pagination.items!==null?this.config.pagination.items:this.config.pagination.limit)}},setPage(n,t){t=t!==void 0?t:!0,n<1&&(n=1),this.config.pagination.pages!==null&&this.config.pagination.pages!==void 0&&n>this.config.pagination.pages&&(n=this.config.pagination.pages),this.config.pagination.skip=(n-1)*this.config.pagination.limit,this.config.pagination.page!=n&&t&&(this.config.pagination.page=n,this.reloadTable())},setPageLimit(n){n!=this.config.pagination.limit&&(this.config.pagination.limit=n,this.setPage(1),this.calcPage(),this.reloadTable())},getValueOrFunction(n,t){return Kc(n,t,this.settings,this)},getButtonClassByAction(n){switch(n){case"TABLE_RESET_ORDERS":case"TABLE_RESET_FILTERS":return"btn btn-sm btn-outline-secondary text-nowrap mx-1";case"TABLE_CLOSE_DETAILS":return"btn btn-sm btn-outline-secondary text-nowrap mx-1";case"TABLE_ROW_EDIT":return"btn btn-sm btn-secondary text-nowrap mx-1";case"FORM_SUBMIT":case"TABLE_ROW_SAVE":case"TABLE_BULK_SAVE":return"btn btn-sm btn-primary text-nowrap mx-1";case"FORM_DELETE":case"TABLE_ROW_DELETE":case"TABLE_BULK_DELETE":return"btn btn-sm btn-danger text-nowrap mx-1";case"TABLE_ROW_DETAIL":return"btn btn-sm btn-outline-secondary text-nowrap mx-1";case"TABLE_COLUMNS":return"btn btn-sm btn-outline-dark text-nowrap mx-1";case"TABLE_EXPORT":return"btn btn-sm btn-primary text-nowrap mx-1";default:return"btn btn-sm btn-outline-primary text-nowrap mx-1"}},getButtonIconClassByAction(n){switch(n){case"TABLE_RESET_ORDERS":case"TABLE_RESET_FILTERS":return"bi bi-x";case"TABLE_CLOSE_DETAILS":return"bi bi-chevron-compact-up";case"TABLE_ROW_EDIT":return"bi bi-pencil-square";case"FORM_SUBMIT":case"TABLE_ROW_SAVE":case"TABLE_BULK_SAVE":return"bi bi-save";case"FORM_DELETE":case"TABLE_ROW_DELETE":case"TABLE_BULK_DELETE":return"bi bi-trash";case"TABLE_ROW_DETAIL":return"bi bi-chevron-compact-down";case"TABLE_COLUMNS":return"bi bi-table";case"TABLE_EXPORT":return"bi bi-download";default:return"bi bi-question"}},tableCellValue(n,t,e,s){try{return n===void 0||t===void 0?void 0:s.value?s.value(n,t,e,s):t[n]!==void 0||!n.includes(".")?t[n]:n.split(".").reduce((i,r)=>i&&i[r],t)}catch(i){return i.message}},tableCellTemplate(n,t,e,s){try{return typeof n=="string"?n:n(t[s.name],t,e,s)}catch(i){return i.message}},tableAction(n,t,e,s){s&&s.stopPropagation();let i=n.action?n.action:n.click?n.click:null;if(i&&typeof i!="string"){i(t,this);return}switch(i){case"TABLE_ROW_SELECT":this.toggleSelected(t[this.settings.pkey]);break;case"TABLE_ROW_DETAIL":this.toggleDetail(t[this.settings.pkey]);break;case"TABLE_CLOSE_DETAILS":this.details=[];break;case"TABLE_RESET_ORDERS":this.resetOrder(!0);break;case"TABLE_RESET_FILTERS":this.resetFilter(!0);break;case"TABLE_ROW_EDIT":this.editItem(t);break;case"TABLE_ROW_SAVE":this.tableRowSave(t,n.params);break;case"FORM_SUBMIT":this.saveForm(t);break;case"___save":this.saveItem(t,()=>{this.addTableMessage(this.translate("Saved")+` <small>( ${this.settings.pkey}:  ${t[this.settings.pkey]} )</small>`,2500)},r=>{this.addTableMessage(r.message,3500,"danger")},n.params);break;case"FORM_CREATE":this.createItem(t,n.params);break;case"TABLE_ROW_DELETE":case"FORM_DELETE":this.deleteItem(t,n.params);break;case"TABLE_RELOAD":this.reloadTable(n.params);break;case"TABLE_EXPORT":this.exportTable(n.params);break}},tableBulkAction(n,t,e,s){if(s&&s.stopPropagation(),n&&typeof n!="string"){n(item,this);return}switch(n){case"TABLE_BULK_SAVE":this.saveBulk(()=>{this.addTableMessage(this.translate("Saved all selected items"),2500)});break;case"TABLE_BULK_DELETE":this.deleteItems(this.selected,i=>{this.selected=[]});break}},isSortable(n){return n.sortable===void 0||n.sortable},sortTable(n){if(this.config.order[n.name]&&this.config.order[n.name].fixed||!this.isSortable(n))return;this.config.order[n.name]===void 0||this.config.order[n.name]===null?this.config.order[n.name]={dir:"ASC",idx:this.config.orderIndex++}:this.config.order[n.name].dir==="ASC"?this.config.order[n.name]={dir:"DESC",idx:this.config.orderIndex++}:delete this.config.order[n.name],Object.entries(this.config.order).sort((e,s)=>e[1].idx-s[1].idx).forEach((e,s)=>{e[1].idx=s}),this.reloadTable()},getOrdersForFetch(){let n=[],t=!1;for(let e of Object.keys(this.config.order))t=!0,n[this.config.order[e].idx]={key:e,dir:this.config.order[e].dir};return t?n:null},getFiltersForFetch(){let n={},t=!1;for(let e of this.settings.table.columns)e.filter&&e.filter.value!==void 0&&(t=!0,n[e.name]={type:e.filter.type,value:e.filter.onchange?e.filter.onchange(e.filter):e.filter.value,operator:e.filter.operator});return t?n:null},getRelationsForFetch(){let n={};for(let t of this.settings.table.columns)t.relation&&this.settings.relations[t.relation.entity]&&(n[t.relation.entity]=Object.assign({},this.settings.relations[t.relation.entity]),n[t.relation.entity].columns=t.relation.columns);return n},async fetchTable(n){try{this.tableWait(!0),n=n||{},n.filter=this.getFiltersForFetch(),n.order=this.getOrdersForFetch(),this.config.pagination.page!==null&&this.config.pagination.page!==void 0&&(n.page=this.config.pagination.page),this.config.pagination.limit!==null&&this.config.pagination.limit!==void 0&&(n.limit=this.config.pagination.limit),n.page&&n.limit&&(n.skip=(n.page-1)*n.limit);let t=await this.fetchItems(this.settings,n,this.config);if(t===!1)return this.tableNoWait(),!1;let e=this.getRelationsForFetch();for(let s of Object.keys(e)){e[s].ids=[];for(let i of t){let r=i[e[s].local];r&&e[s].ids.push(r)}e[s].ids=ib(e[s].ids),await this.fetchRelation(e[s],t)}this.items=t,this.tableNoWait()}catch(t){console.error(t.message),this.addTableMessage(t.message,3500,"danger"),this.tableNoWait()}},async fetchItems(n,t,e){n.events&&n.events.beforeItemsLoad&&n.events.beforeItemsLoad(t,n);const s=await fetch(cn("GET",n.table.api,null,t),ln("GET",n.table.api)),i=await Ls(s),r=this.getResponseErrors(s,i.data);if(r){this.handleTableErrors(r);return}if(i.error){this.handleTableErrors(i.error);return}n.events&&n.events.afterItemsLoad&&n.events.afterItemsLoad(i.data,s);let a;n.table.api.input.items?a=typeof n.table.api.input.items=="string"?i.data[n.table.api.input.items]:n.table.api.input.items(i.data,s):a=i.data,e&&(n.table.api.input.total?e.pagination.total=typeof n.table.api.input.total=="string"?i.data[n.table.api.input.total]:n.table.api.input.total(i.data,s):i.data.total&&(e.pagination.total=i.data.total),e.pagination.items=a.length,this.calcPage());let d=tb(a);return this.convertIn(n.table.columns,d),d},async fetchRelation(n,t){try{let e={limit:0,list:"select",columns:n.columns?JSON.stringify(n.columns):void 0};if(n.ids&&n.ids.length){let l=(typeof n.ids[0]=="string"?"text":"number")==="string"?"'"+n.ids.join("','")+"'":n.ids.join(","),c={};c[n.foreign]={type:"array",value:n.ids,operator:"IN"},e.filter=JSON.stringify(c)}let s=window.VuEntities[n.entity];const i=await fetch(cn("GET",s.api,null,e),ln("GET",s.api));if(i.status!==200)throw new Error(this.translate("Response status: "+i.status));const r=await Ls(i);if(this.getResponseErrors(i,r.data)||!r.data)return;if(s.api.input.items?n.items=typeof s.api.input.items=="string"?r.data[s.api.input.items]:s.api.input.items(r.data,i):n.items=r.data,t&&t[0])for(let d of t)d[n.local]&&(d[n.entity]=n.items.find((l,c,u)=>l[n.foreign]===d[n.local]))}catch(e){console.error(e.message)}},async editItem(n){this.item=n,this.message.form=null,this.messages.form=[],this.modalWindow.show();let t=n[this.settings.pkey];this.fetchItem(t),setTimeout(()=>{},100)},async fetchItem(n){try{this.formWait(!0);const t=await fetch(cn("GET",this.settings.form.api,n),ln("GET",this.settings.api)).catch(r=>{}),e=await Ls(t);if(this.getResponseErrors(t,e.data,"form")||!e.data)return this.formNoWait(),!1;this.settings.events&&this.settings.events.afterItemLoad&&this.settings.events.afterItemLoad(e.data,t);for(let r of this.settings.form.groups)for(let a of r.fields)a.relation&&this.settings.relations[a.relation.entity]&&(a.relation=Object.assign({},this.settings.relations[a.relation.entity],a.relation),await this.fetchRelation(a.relation));let i;this.settings.form.api.input.item?i=typeof this.settings.form.api.input.item=="string"?e.data[this.settings.form.api.input.item]:this.settings.form.api.input.item(e.data,t):i=e.data,this.item=qi(i),this.itemOriginal=Object.assign({},i),this.formNoWait()}catch(t){console.error(t),this.formNoWait()}},async deleteItem(n,t){try{n||(n=this.item);let e=n[this.settings.pkey];if(!e||!confirm("Are you sure you want to delete this post"))return;this.formWait(!0),this.settings.events&&this.settings.events.beforeItemDelete&&this.settings.events.beforeItemDelete(n);const i=await fetch(cn("DELETE",this.settings.form.api,e,t),ln("DELETE",this.settings.api));if(i.status!==200)throw new Error(this.translate("Response status: "+i.status));let r=this.items.find(d=>d[this.settings.pkey]===e);console.log(r,e),r>=0&&this.items.splice(r,1),this.item&&(this.item={});const a=await i.json();this.settings.events&&this.settings.events.afterItemDelete&&this.settings.events.afterItemDelete(a,i),this.reloadTable(),this.formNoWait()}catch(e){console.error(e.message),this.formNoWait()}},async deleteItems(n,t){try{if(!n||!confirm(this.translate("Are you sure you want to delete all selected items?")))return;this.tableWait(!0);const s=await fetch(cn("DELETE",this.settings.table.api),ln("DELETE",this.settings.api,{body:JSON.stringify({ids:n})}));if(s.status!==200)throw new Error(this.translate("Response status: "+s.status));t&&t(s),this.reloadTable(),this.tableNoWait()}catch(e){console.error(e.message),this.tableNoWait()}},reloadItem(){let n=this.item[this.settings.pkey];this.fetchItem(n)},async submitItem(n){this.saveItem(this.item,t=>{let e={};this.settings.form.api.input.item?e=typeof this.settings.form.api.input.item=="string"?t[this.settings.form.api.input.item]:this.settings.form.api.input.item(t,response):e=t,e&&(this.addFormMessage(this.translate("Saved")+` <small>( ${this.settings.pkey}:  ${e[this.settings.pkey]} )</small>`,2500),this.item=qi(e),this.itemOriginal=Object.assign({},e)),n===!0&&this.modalWindow.hide(),this.reloadTable()},t=>{console.log(t),this.addFormMessage(t.message,14500,"danger")})},async submitAndClose(){let n=this.$refs.form;n.checkValidity()?this.submitItem(!0):n.reportValidity()},tableRowSave(n,t){this.tableWait(),this.saveItem(n,()=>{this.tableNoWait(),this.addTableMessage(this.translate("Saved")+` <small>( ${this.settings.pkey}:  ${n[this.settings.pkey]} )</small>`,2500)},(e,s,i,r)=>{this.tableNoWait(),this.handleTableErrors(e)},t)},submitForm(n,t,e,s){this.formWait(!0),this.saveItem(n,()=>{},()=>{},s)},handleTableErrors(n){if(console.log(n),n==null)return;const t=3500,e="danger";if(typeof n=="string"){this.addTableMessage(n,t,e);return}if(n.length>0)for(let s of n)this.addTableMessage(s.message,s.timeout,s.priority)},handleFormErrors(){if(errors==null)return;const n=3500,t="danger";if(typeof errors=="string"){this.addTableMessage(errors,n,t);return}if(errors.length>0)for(let e of errors)this.addTableMessage(e.message,e.timeout,e.priority)},async saveItem(n,t,e,s){try{s=s||{};let i={},r=n[this.settings.pkey];if(this.settings.form.api.output&&this.settings.form.api.output.fields)for(let p in n)this.settings.form.api.output.fields.includes(p)&&(i[p]=n[p]);else Object.assign(i,n);this.settings.events&&this.settings.events.beforeItemSave&&this.settings.events.beforeItemSave(i,s,n);let a;if(this.convertOut(this.settings.table.columns,[i]),(!this.settings.form.api.output.flatten||!r)&&(i=eb(i)),!this.settings.form.api.output.item)a=JSON.stringify(i);else if(typeof this.settings.form.api.output.item=="string"){let p={};p[this.settings.form.api.output.item]=i,a=JSON.stringify(p)}else a=JSON.stringify(this.settings.form.api.output.item(i,options));const d=r?"PUT":"POST",l=await fetch(cn(d,this.settings.form.api,r,s),ln(d,this.settings.form.api,{body:a})),c=await Ls(l),u=this.getResponseErrors(l,c.data);if(u){e&&e(u,n,s,l);return}if(c.error){e&&e(c.error,n,s,l);return}this.settings.events&&this.settings.events.afterItemSave&&this.settings.events.afterItemSave(c.data,s),t&&t(c.data,l)}catch(i){e&&e(i,n,s,response)}},async saveBulk(n){try{this.tableWait(!0);let t={};this.settings.events&&this.settings.events.beforeBulkSave&&this.settings.events.beforeBulkSave(this.bulkitem);for(let r in this.bulkitem)this.bulkinputs.indexOf(r)>=0&&this.settings.table.api.output.fields.includes(r)&&(t[r]=this.bulkitem[r]);this.convertOut(this.settings.table.columns,[t]);const e=await fetch(cn("PUT",this.settings.table.api),ln("PUT",this.settings.table.api,{body:JSON.stringify({item:t,ids:this.selected})})).catch(r=>{console.error(r.message),this.addTableMessage(r.message,3500,"danger",r)}),s=await Ls(e),i=this.getResponseErrors(e,s.data);if(this.tableNoWait(),i)return;n&&n(s.data),this.reloadTable()}catch(t){console.error(t.message),this.addTableMessage(t.message,3500,"danger",t),this.tableNoWait()}},getResponseErrors(n,t){let e=[];if(t&&t.errors)for(let s of t.errors)e.push({message:s.message,timeout:3500,priority:"danger"});else n.status>=400&&n.status<=511&&e.push({message:n.status+(n.statusText?" "+n.statusText:""),timeout:3500,priority:"danger"});return e.length>0?e:null},countHiddenColumns(){return this.settings.table.columns.filter(n=>n.hidden===!0).length},toggleColumn(n){n===!0?this.settings.table.columns.map(t=>{t.hidden=!1}):n===!1?this.settings.table.columns.map(t=>{t.hidden=!0}):n.hidden=!n.hidden},toggleSelectedAll(){this.selected.length?this.selected=[]:this.selected=this.items.map(n=>n[this.settings.pkey])},toggleSelected(n){let t=this.selected.indexOf(n);t>=0?this.selected.splice(t,1):this.selected.push(n)},toggleSelectedRowInPage(){if(this.haveSelectedRowInPage())for(let n of this.items){let t=this.selected.indexOf(n[this.settings.pkey]);t>=0&&this.selected.splice(t,1)}else for(let n of this.items)this.selected.indexOf(n[this.settings.pkey])<0&&this.selected.push(n[this.settings.pkey]);this.selected.length||(this.bulkitem={})},haveSelectedRowInPage(){if(!this.items||!this.items.length)return!1;for(let n of this.items)if(this.selected.indexOf(n[this.settings.pkey])>=0)return!0;return!1},toggleDetail(n){let t=this.details.indexOf(n);t>=0?this.details.splice(t,1):this.details.push(n)},dropdownSelectToggleOne(n,t){n.multiple?rb(n.value,t):n.value=n.value===t?null:t,this.reloadTable()},dropdownSelectAll(n,t){ob(n,t),this.reloadTable()},dropdownSelectInvert(n,t){ab(n,t),this.reloadTable()},dropdownSelectClear(n){typeof n!="object"?n.value=null:lb(n),this.reloadTable()},async exportTable(n){try{n.limit=this.config.pagination.total?this.config.pagination.total:0;let t=this.getFiltersForFetch(),e=this.getOrdersForFetch();this.selected.length>0&&(t[this.settings.pkey]={type:"string",value:this.selected,operator:"in"}),n.filter=t,n.order=e;let s=await this.fetchItems(this.settings,n,null,()=>{});this.settings.events&&this.settings.events.beforeItemsExport&&this.settings.events.beforeItemsExport(s);let i=nb(s,this.settings.table.exports[n.type].fields);sb(i,this.settings.entity+".csv")}catch(t){console.error(t.message),this.addTableMessage(t.message,3500,"danger")}},onRowInputChange(n,t,e,s){!t||!t.input||(t.input.onchange&&t.input.onchange(n,t,e),t.input.autosave&&(this.tableWait(),this.saveItem(e,()=>{this.tableNoWait(),this.addTableMessage(this.translate("Saved")+` <small>( ${this.settings.pkey}:  ${e[this.settings.pkey]} )</small>`,2500)},(i,r,a,d)=>{this.tableNoWait(),this.handleTableErrors(i)})))},onBulkInputChange(n,t,e){!e||!e.input||e.input.onchange&&e.input.onchange(n,e)},ifBulkInputClick(n){let t=this.bulkinputs.indexOf(n.name);t<0?this.bulkinputs.push(n.name):this.bulkinputs.splice(t,1),this.bulkitem[n.name]===void 0?this.bulkitem[n.name]=null:this.bulkitem[n.name]=void 0},addFormMessage(n,t,e,s){this.addMessage("form",n,t,e,s)},addTableMessage(n,t,e,s){this.addMessage("table",n,t,e,s)},addMessage(n,t,e,s,i){clearTimeout(this.messageTimeout);const r=Date.now()+Math.random().toString(36).substring(2,9);this.message[n]={uid:r,msg:t,timeout:e!==void 0?e:2500,datetime:new Date().toLocaleString("hu-HU"),priority:s||"secondary",details:i},this.messages[n].unshift(this.message[n]),clearTimeout(this.messageTimeOut),this.messageTimeOut=setTimeout(()=>{this.message[n]=null,this.messages[n].length>10&&this.messages[n].splice(10)},this.message[n].timeout)},translate(n,t,e){return po(n,this.settings.translate,t,e||this.settings.language)},convertIn(n,t){for(let e of n)if(e.convert&&e.convert.in)for(let s of t)s[e.name]=e.convert.in(s[e.name],s,e)},convertOut(n,t){for(let e of n)if(e.convert&&e.convert.out)for(let s of t)s[e.name]=e.convert.out(s[e.name],s,e)}}},IA={key:0},DA=["data-bs-theme"],RA={class:"vua-table-title"},VA={class:"d-flex align-items-center justify-content-between"},MA={class:"d-inline-block"},qA={key:0,class:"card-title d-inline-block mb-2"},$A={class:"spinner-border spinner-border-sm mx-2",role:"status"},PA={key:0,class:"d-inline-block"},jA={key:0,class:"d-inline-block px-1 mx-1"},FA=["innerHTML"],UA={class:"dropdown d-inline-block"},HA=["innerHTML"],zA={class:"dropdown-menu text-start"},WA={class:"me-2 text-muted"},KA=["innerHTML"],GA=["onClick"],YA={key:1,class:"dropdown d-inline-block"},XA={class:"mx-1"},ZA={key:0},QA={class:"dropdown-menu"},JA=["onClick"],tw={key:0,class:"bi bi-check-square-fill me-2"},ew={key:1,class:"bi bi-x-square me-2 text-danger"},nw={class:"badge text-secondary fw-normal"},sw={key:2,class:"dropdown d-inline-block"},iw={class:"mx-1"},rw={class:"dropdown-menu"},ow=["onClick"],aw={class:"vua-table-header"},lw=["width"],cw=["onClick"],dw=["innerHTML"],hw={key:0,class:"bi bi-arrow-down"},uw={key:1,class:"bi bi-arrow-up"},fw={key:0},pw=["disabled","onClick"],mw={key:0,class:"vua-table-filter"},gw=["width"],bw={key:0,class:"d-inline-block w-100 px-1"},yw={class:"bi bi-check-all"},Ew={class:"bi bi-x-lg"},_w={key:1,class:"input-group input-group-sm my-1"},Tw=["onUpdate:modelValue"],Nw=["disabled","onClick"],Aw={key:2,class:"input-group input-group-sm my-1"},ww=["onUpdate:modelValue","disabled"],kw={value:"="},Cw={value:">"},vw={value:">="},Sw={value:"<"},Ow={value:"<="},Lw=["onUpdate:modelValue","disabled"],xw=["value"],Bw=["onUpdate:modelValue","disabled","min","max"],Iw=["disabled","onClick"],Dw={key:3},Rw={key:0,class:"dropdown"},Vw={class:"btn btn-sm btn-secondary dropdown-toggle my-1",type:"button","data-bs-auto-close":"outside","data-bs-toggle":"dropdown","aria-expanded":"false"},Mw={class:"dropdown-menu"},qw=["onClick"],$w={key:0,class:"bi bi-check-square"},Pw={key:1,class:"bi bi-square"},jw={key:0},Fw={key:1},Uw=["onClick"],Hw={key:2},zw=["onClick"],Ww={key:3},Kw=["onClick"],Gw=["onUpdate:modelValue","multiple"],Yw=["value"],Xw={key:4,class:"input-group input-group-sm my-1"},Zw=["onUpdate:modelValue"],Qw={value:"="},Jw={value:">"},tk={value:">="},ek={value:"<"},nk={value:"<="},sk=["onUpdate:modelValue"],ik=["value"],rk=["type","onUpdate:modelValue"],ok=["disabled","onClick"],ak=["disabled","onClick"],lk={class:"align-middle"},ck=["data-label","width","onClick"],dk={key:0,class:"d-inline-block w-100 px-1"},hk=["innerHTML"],uk={key:1},fk=["innerHTML"],pk=["aria-valuenow","aria-valuemax"],mk={key:0},gk={key:4,class:"input-group input-group-sm"},bk=["innerHTML"],yk=["type","onChange","onUpdate:modelValue"],Ek=["onChange","onUpdate:modelValue"],_k=["value"],Tk=["innerHTML"],Nk={key:5},Ak=["disabled","onClick"],wk=["innerHTML"],kk={key:2},Ck={key:0},vk=["colspan"],Sk={class:"row g-3 align-items-center"},Ok={class:"col-form-label"},Lk=["type","onUpdate:modelValue","onChange"],xk=["onUpdate:modelValue","onChange"],Bk=["onUpdate:modelValue","onChange"],Ik=["value"],Dk=["innerHTML"],Rk={key:0,class:"bg-light text-dark"},Vk={key:0,class:"vua-table-bulk border-info"},Mk=["data-label","width"],qk={key:0,class:"d-inline-block w-100 px-1"},$k={key:1,class:"input-group input-group-sm my-1"},Pk=["type","disabled","onChange","onUpdate:modelValue"],jk=["disabled","onChange","onUpdate:modelValue"],Fk=["value"],Uk=["onClick"],Hk={key:0,class:"bi bi-square text-secondary"},zk={key:1,class:"bi bi-check-square"},Wk={key:2},Kk=["disabled","onClick"],Gk=["innerHTML"],Yk={key:2},Xk=["id"],Zk={class:"modal-dialog modal-xl"},Qk={class:"modal-content h-100"},Jk=["id","data-bs-theme"],tC={class:"modal-header"},eC={class:"modal-title"},nC=["innerHTML"],sC={key:1},iC={key:2},rC={key:0,class:"d-inline-block ms-3 mt-1"},oC=["innerHTML"],aC={class:"spinner-border spinner-border-sm mx-2",role:"status"},lC={key:0,class:"modal-header d-flex justify-content-between"},cC=["disabled"],dC=["disabled"],hC={key:0,class:"d-inline-block m-1"},uC={class:"dropdown d-inline-block"},fC=["innerHTML"],pC={class:"dropdown-menu text-start"},mC={class:"me-2 text-muted"},gC=["innerHTML"],bC={type:"button",class:"btn btn-sm btn-secondary m-1","data-bs-dismiss":"modal"},yC={type:"submit",class:"btn btn-sm btn-primary m-1"},EC={key:1,class:"modal-body custom-scroll"},_C={key:2,class:"modal-footer d-flex justify-content-between"},TC=["disabled"],NC=["disabled"],AC={type:"button",class:"btn btn-secondary m-1","data-bs-dismiss":"modal"},wC={type:"submit",class:"btn btn-primary m-1"},kC={key:1,class:"bg-light text-dark"};function CC(n,t,e,s,i,r){const a=o.resolveComponent("VuAdminTablePagination"),d=o.resolveComponent("VuAdminFormGroup");return e.settings&&e.settings.table?(o.openBlock(),o.createElementBlock("div",IA,[o.createElementVNode("div",{class:o.normalizeClass(["vua-table-container",[e.settings.class]]),"data-bs-theme":[e.settings.theme]},[o.createElementVNode("div",{class:o.normalizeClass(["vua-overlay",{blocked:i.ui.block.table}])},null,2),o.createElementVNode("div",RA,[o.createElementVNode("div",VA,[o.createElementVNode("div",MA,[e.settings.table.title?(o.openBlock(),o.createElementBlock("h5",qA,o.toDisplayString(e.settings.table.title),1)):o.createCommentVNode("",!0),o.withDirectives(o.createElementVNode("div",$A,t[26]||(t[26]=[o.createElementVNode("span",{class:"visually-hidden"},"Loading...",-1)]),512),[[o.vShow,i.ui.wait.table&&e.settings.table.title]])]),i.messages.table.length?(o.openBlock(),o.createElementBlock("div",PA,[i.message.table?(o.openBlock(),o.createElementBlock("small",jA,[o.createElementVNode("span",{class:o.normalizeClass(["text-"+i.message.table.priority])},[o.createElementVNode("span",{class:"fw-bold",innerHTML:i.message.table.msg},null,8,FA)],2)])):o.createCommentVNode("",!0),o.createElementVNode("div",UA,[o.createElementVNode("button",{class:o.normalizeClass(["btn btn-sm dropdown-toggle",["btn-"+i.messages.table[0].priority]]),type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",innerHTML:i.messages.table.length+" "+(i.messages.table.length>1?r.translate("messages"):r.translate("message"))},null,10,HA),o.createElementVNode("ul",zA,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(i.messages.table,l=>(o.openBlock(),o.createElementBlock("li",{key:l},[o.createElementVNode("span",{class:o.normalizeClass(["dropdown-item",["text-"+l.priority]])},[o.createElementVNode("small",WA,o.toDisplayString(l.datetime),1),o.createElementVNode("span",{class:"fw-bold",innerHTML:l.msg},null,8,KA)],2)]))),128))])])])):o.createCommentVNode("",!0)])]),e.settings.table.control?(o.openBlock(),o.createElementBlock("div",{key:0,class:o.normalizeClass(["vua-table-control",[e.settings.table.control.class]])},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.settings.table.control.buttons,l=>(o.openBlock(),o.createElementBlock("span",{key:l.action},[l.action!=="TABLE_COLUMNS"&&!l.dropdowns?(o.openBlock(),o.createElementBlock("button",{key:0,type:"button",class:o.normalizeClass([l.class?l.class:r.getButtonClassByAction(l.action)]),onClick:c=>r.tableAction(l,i.items,null,c)},[o.createElementVNode("i",{class:o.normalizeClass([l.icon!==void 0?r.getValueOrFunction(l.icon,{button:l,table:this}):r.getButtonIconClassByAction(l.action)])},null,2),o.createTextVNode(" "+o.toDisplayString(r.translate(l.title)),1)],10,GA)):o.createCommentVNode("",!0),l.action==="TABLE_COLUMNS"?(o.openBlock(),o.createElementBlock("div",YA,[o.createElementVNode("button",{type:"button",class:o.normalizeClass([[l.class?l.class:r.getButtonClassByAction(l.action)],"dropdown-toggle"]),"data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false"},[o.withDirectives(o.createElementVNode("span",XA,[o.createElementVNode("i",{class:o.normalizeClass([l.icon!==void 0?r.getValueOrFunction(l.icon,{button:l,table:this}):r.getButtonIconClassByAction(l.action)])},null,2),o.createTextVNode(" "+o.toDisplayString(r.translate(l.title))+" ",1),r.countHiddenColumns()?(o.openBlock(),o.createElementBlock("span",ZA," ( "+o.toDisplayString(r.countHiddenColumns())+" "+o.toDisplayString(r.translate("hidden"))+" ) ",1)):o.createCommentVNode("",!0)],512),[[o.vShow,e.settings.table.columns.length>0]])],2),o.createElementVNode("ul",QA,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.settings.table.columns,c=>(o.openBlock(),o.createElementBlock("li",{key:c},[o.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:u=>r.toggleColumn(c)},[c.hidden?o.createCommentVNode("",!0):(o.openBlock(),o.createElementBlock("i",tw)),c.hidden?(o.openBlock(),o.createElementBlock("i",ew)):o.createCommentVNode("",!0),o.createTextVNode(" "+o.toDisplayString(c.title)+" ",1),o.createElementVNode("small",nw,o.toDisplayString(c.name),1)],8,JA)]))),128)),t[27]||(t[27]=o.createElementVNode("li",null,[o.createElementVNode("hr",{class:"dropdown-divider"})],-1)),o.createElementVNode("li",null,[o.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:t[0]||(t[0]=c=>r.toggleColumn(!0))},o.toDisplayString(r.translate("Visible all")),1)]),o.createElementVNode("li",null,[o.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:t[1]||(t[1]=c=>r.toggleColumn(!1))},o.toDisplayString(r.translate("Hidden all")),1)])])])):o.createCommentVNode("",!0),l.dropdowns?(o.openBlock(),o.createElementBlock("div",sw,[o.createElementVNode("button",{type:"button",class:o.normalizeClass([[l.class],"dropdown-toggle"]),"data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false"},[o.createElementVNode("span",iw,[o.createElementVNode("i",{class:o.normalizeClass([l.icon!==void 0?r.getValueOrFunction(l.icon,{button:l,table:this}):r.getButtonIconClassByAction(l.action)])},null,2),o.createTextVNode(" "+o.toDisplayString(r.translate(l.title)),1)])],2),o.createElementVNode("ul",rw,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(l.dropdowns,c=>(o.openBlock(),o.createElementBlock("li",{key:c},[o.createElementVNode("span",{class:o.normalizeClass(["dropdown-item cursor-pointer",[c.class]]),onClick:u=>r.tableAction(c,i.items,null,u)},[c.icon?(o.openBlock(),o.createElementBlock("i",{key:0,class:o.normalizeClass([c.icon])},null,2)):o.createCommentVNode("",!0),o.createTextVNode(" "+o.toDisplayString(r.translate(c.title)),1)],10,ow)]))),128))])])):o.createCommentVNode("",!0)]))),128))],2)):o.createCommentVNode("",!0),e.settings.table?(o.openBlock(),o.createElementBlock("table",{key:1,class:o.normalizeClass(["table vua-table mb-0",[e.settings.table.class]])},[o.createElementVNode("thead",null,[o.createElementVNode("tr",aw,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.settings.table.columns,l=>(o.openBlock(),o.createElementBlock("th",{class:o.normalizeClass(["",[l.header?l.header.class:""]]),style:o.normalizeStyle([l.hidden?"display: none":""]),key:l,width:l.width},[o.createElementVNode("span",{class:o.normalizeClass(["d-inline-block no-select text-nowrap",{"cursor-pointer":r.isSortable(l)}]),onClick:c=>r.sortTable(l)},[o.createElementVNode("span",{innerHTML:l.header&&l.header.title!==void 0?r.translate(l.header.title):l.title?r.translate(l.title):r.translate(l.name)},null,8,dw),i.config.order[l.name]?(o.openBlock(),o.createElementBlock("span",{key:0,class:o.normalizeClass(["badge text-bg-light ms-1 p-badge",{"opacity-50":i.config.order[l.name].fixed}])},[i.config.order[l.name].dir==="ASC"?(o.openBlock(),o.createElementBlock("i",hw)):o.createCommentVNode("",!0),i.config.order[l.name].dir==="DESC"?(o.openBlock(),o.createElementBlock("i",uw)):o.createCommentVNode("",!0),o.createTextVNode(" "+o.toDisplayString(i.config.order[l.name].idx+1),1)],2)):o.createCommentVNode("",!0)],10,cw),l.header&&l.header.buttons?(o.openBlock(),o.createElementBlock("span",fw,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(l.header.buttons,c=>(o.openBlock(),o.createElementBlock("button",{key:c.action,type:"button",disabled:c.disabled!==void 0?r.getValueOrFunction(c.disabled):null,class:o.normalizeClass([c.class?c.class:r.getButtonClassByAction(c.action)]),onClick:u=>r.tableAction(c,i.items,null,u)},[o.createElementVNode("i",{class:o.normalizeClass([c.icon!==void 0?r.getValueOrFunction(c.icon,{button:c,column:l,table:this}):r.getButtonIconClassByAction(c.action)])},null,2),o.createTextVNode(" "+o.toDisplayString(r.translate(c.title)),1)],10,pw))),128))])):o.createCommentVNode("",!0)],14,lw))),128))]),r.countFilters()?(o.openBlock(),o.createElementBlock("tr",mw,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.settings.table.columns,l=>(o.openBlock(),o.createElementBlock("th",{style:o.normalizeStyle([l.hidden?"display: none":""]),key:l,width:l.width,class:o.normalizeClass([l.filter?l.filter.class:""])},[l.index&&l.click?(o.openBlock(),o.createElementBlock("div",bw,[o.createElementVNode("span",{class:o.normalizeClass(["cursor-pointer badge border badge-index-toggle py-1 px-2 me-1 my-2 w-100",{active:r.haveSelectedRowInPage()}]),onClick:t[2]||(t[2]=c=>r.toggleSelectedRowInPage())},[o.withDirectives(o.createElementVNode("i",yw,null,512),[[o.vShow,!r.haveSelectedRowInPage()]]),o.withDirectives(o.createElementVNode("i",Ew,null,512),[[o.vShow,r.haveSelectedRowInPage()]])],2)])):o.createCommentVNode("",!0),l.filter&&l.filter.type=="text"?(o.openBlock(),o.createElementBlock("div",_w,[o.withDirectives(o.createElementVNode("input",{type:"text",class:o.normalizeClass([{fixed:l.filter.fixed},"form-control form-control-sm"]),"onUpdate:modelValue":c=>l.filter.value=c,onKeyup:t[3]||(t[3]=o.withKeys(c=>r.reloadTable(),["enter"]))},null,42,Tw),[[o.vModelText,l.filter.value]]),l.filter.buttonx&&l.filter.buttonx!=!1?(o.openBlock(),o.createElementBlock("button",{key:0,class:o.normalizeClass(["btn btn-outline-secondary",{"opacity-25":!l.filter.value}]),disabled:!l.filter.value,onClick:c=>{l.filter.value=void 0,r.reloadTable()}},t[28]||(t[28]=[o.createElementVNode("i",{class:"bi bi-x"},null,-1)]),10,Nw)):o.createCommentVNode("",!0)])):o.createCommentVNode("",!0),l.filter&&l.filter.type=="number"?(o.openBlock(),o.createElementBlock("div",Aw,[l.filter.operators==!0?o.withDirectives((o.openBlock(),o.createElementBlock("select",{key:0,"onUpdate:modelValue":c=>l.filter.operator=c,disabled:l.filter.fixed,onChange:t[4]||(t[4]=c=>r.reloadTable()),class:"form-select form-select-sm pe-0"},[o.createElementVNode("option",kw,o.toDisplayString(r.translate("=")),1),o.createElementVNode("option",Cw,o.toDisplayString(r.translate(">")),1),o.createElementVNode("option",vw,o.toDisplayString(r.translate(">=")),1),o.createElementVNode("option",Sw,o.toDisplayString(r.translate("<")),1),o.createElementVNode("option",Ow,o.toDisplayString(r.translate("<=")),1)],40,ww)),[[o.vModelSelect,l.filter.operator]]):o.createCommentVNode("",!0),l.filter.operators&&l.filter.operators.length>0?o.withDirectives((o.openBlock(),o.createElementBlock("select",{key:1,"onUpdate:modelValue":c=>l.filter.operator=c,disabled:l.filter.fixed,onChange:t[5]||(t[5]=c=>r.reloadTable()),class:"form-select form-select-sm pe-0"},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(l.filter.operators,c=>(o.openBlock(),o.createElementBlock("option",{key:c,value:c.value},o.toDisplayString(c.label),9,xw))),128))],40,Lw)),[[o.vModelSelect,l.filter.operator]]):o.createCommentVNode("",!0),o.withDirectives(o.createElementVNode("input",{type:"number",class:o.normalizeClass(["form-control",{fixed:l.filter.fixed}]),"onUpdate:modelValue":c=>l.filter.value=c,disabled:l.filter.fixed,min:l.filter.min,max:l.filter.max,onChange:t[6]||(t[6]=c=>r.reloadTable()),onKeyup:t[7]||(t[7]=o.withKeys(c=>r.reloadTable(),["enter"]))},null,42,Bw),[[o.vModelText,l.filter.value]]),!l.filter.fixed&&l.filter.buttonx&&l.filter.buttonx!=!1?(o.openBlock(),o.createElementBlock("button",{key:2,class:o.normalizeClass(["btn btn-outline-secondary",{"opacity-25":!l.filter.value}]),disabled:!l.filter.value,onClick:c=>{l.filter.value=void 0,r.reloadTable()}},t[29]||(t[29]=[o.createElementVNode("i",{class:"bi bi-x"},null,-1)]),10,Iw)):o.createCommentVNode("",!0)])):o.createCommentVNode("",!0),l.filter&&l.filter.type=="select"?(o.openBlock(),o.createElementBlock("div",Dw,[l.filter.dropdown?(o.openBlock(),o.createElementBlock("div",Rw,[o.createElementVNode("button",Vw,o.toDisplayString(l.filter.multiple?l.filter.value.length+" selected":l.filter.value?l.filter.value:"not selected"),1),o.createElementVNode("ul",Mw,[o.createElementVNode("li",null,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(l.filter.options,c=>(o.openBlock(),o.createElementBlock("span",{key:c,class:o.normalizeClass(["dropdown-item cursor-pointer",{selected:l.filter.multiple?l.filter.value.indexOf(c.value)>=0:l.filter.value===c.value}]),onClick:u=>r.dropdownSelectToggleOne(l.filter,c.value)},[(l.filter.multiple?l.filter.value.indexOf(c.value)>=0:l.filter.value===c.value)?(o.openBlock(),o.createElementBlock("i",$w)):(o.openBlock(),o.createElementBlock("i",Pw)),o.createTextVNode(" "+o.toDisplayString(r.translate(c.label?c.label:c.value)),1)],10,qw))),128))]),l.filter.multiple?(o.openBlock(),o.createElementBlock("li",jw,t[30]||(t[30]=[o.createElementVNode("hr",{class:"dropdown-divider"},null,-1)]))):o.createCommentVNode("",!0),l.filter.multiple?(o.openBlock(),o.createElementBlock("li",Fw,[o.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:c=>r.dropdownSelectAll(l.filter.value,l.filter.options)},o.toDisplayString(r.translate("Select all")),9,Uw)])):o.createCommentVNode("",!0),l.filter.multiple?(o.openBlock(),o.createElementBlock("li",Hw,[o.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:c=>r.dropdownSelectClear(l.filter.value)},o.toDisplayString(r.translate("Unselect all")),9,zw)])):o.createCommentVNode("",!0),l.filter.multiple?(o.openBlock(),o.createElementBlock("li",Ww,[o.createElementVNode("span",{class:"dropdown-item cursor-pointer",onClick:c=>r.dropdownSelectInvert(l.filter.value,l.filter.options)},o.toDisplayString(r.translate("Invert all")),9,Kw)])):o.createCommentVNode("",!0)])])):o.withDirectives((o.openBlock(),o.createElementBlock("select",{key:1,"onUpdate:modelValue":c=>l.filter.value=c,onChange:t[8]||(t[8]=c=>r.reloadTable()),multiple:l.filter.multiple,class:"form-select form-select-sm pe-0 my-1"},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(l.filter.options,c=>(o.openBlock(),o.createElementBlock("option",{key:c,value:c.value},o.toDisplayString(r.translate(c.label?c.label:c.value)),9,Yw))),128))],40,Gw)),[[o.vModelSelect,l.filter.value]])])):o.createCommentVNode("",!0),l.filter&&(l.filter.type=="datetime-local"||l.filter.type=="date")?(o.openBlock(),o.createElementBlock("div",Xw,[l.filter.operators==!0?o.withDirectives((o.openBlock(),o.createElementBlock("select",{key:0,"onUpdate:modelValue":c=>l.filter.operator=c,onChange:t[9]||(t[9]=c=>r.reloadTable()),class:"form-select form-select-sm pe-0"},[o.createElementVNode("option",Qw,o.toDisplayString(r.translate("=")),1),o.createElementVNode("option",Jw,o.toDisplayString(r.translate(">")),1),o.createElementVNode("option",tk,o.toDisplayString(r.translate(">=")),1),o.createElementVNode("option",ek,o.toDisplayString(r.translate("<")),1),o.createElementVNode("option",nk,o.toDisplayString(r.translate("<=")),1)],40,Zw)),[[o.vModelSelect,l.filter.operator]]):o.createCommentVNode("",!0),l.filter.operators&&l.filter.operators.length>0?o.withDirectives((o.openBlock(),o.createElementBlock("select",{key:1,"onUpdate:modelValue":c=>l.filter.operator=c,onChange:t[10]||(t[10]=c=>r.reloadTable()),class:"form-select form-select-sm pe-0"},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(l.filter.operators,c=>(o.openBlock(),o.createElementBlock("option",{key:c,value:c.value},o.toDisplayString(r.translate(c.label)),9,ik))),128))],40,sk)),[[o.vModelSelect,l.filter.operator]]):o.createCommentVNode("",!0),o.withDirectives(o.createElementVNode("input",{type:l.filter.type,class:o.normalizeClass([{fixed:l.filter.fixed},"form-control form-control-sm"]),"onUpdate:modelValue":c=>l.filter.value=c,onChange:t[11]||(t[11]=c=>r.reloadTable()),onKeyup:t[12]||(t[12]=o.withKeys(c=>r.reloadTable(),["enter"]))},null,42,rk),[[o.vModelDynamic,l.filter.value]]),o.createElementVNode("button",{class:o.normalizeClass(["btn btn-outline-secondary",{"opacity-25":!l.filter.value}]),disabled:!l.filter.value,onClick:c=>{l.filter.value=void 0,r.reloadTable()}},t[31]||(t[31]=[o.createElementVNode("i",{class:"bi bi-x"},null,-1)]),10,ok)])):o.createCommentVNode("",!0),l.filter&&l.filter.buttons?(o.openBlock(),o.createElementBlock("span",{key:5,class:o.normalizeClass(r.getValueOrFunction(l.filter.buttons,{column:l}))},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(l.filter.buttons,c=>(o.openBlock(),o.createElementBlock("span",{key:c.action},[o.createElementVNode("button",{type:"button",disabled:c.disabled!==void 0?r.getValueOrFunction(c.disabled):null,class:o.normalizeClass([c.class?c.class:r.getButtonClassByAction(c.action)]),onClick:u=>r.tableAction(c,i.items,null,u)},[o.createElementVNode("i",{class:o.normalizeClass([c.icon!==void 0?r.getValueOrFunction(c.icon,{button:c,column:l,table:this}):r.getButtonIconClassByAction(c.action)])},null,2),o.createTextVNode(" "+o.toDisplayString(r.translate(c.title)),1)],10,ak)]))),128))],2)):o.createCommentVNode("",!0)],14,gw))),128))])):o.createCommentVNode("",!0)]),o.createElementVNode("tbody",null,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(this.items,(l,c)=>(o.openBlock(),o.createElementBlock(o.Fragment,{key:l.id},[o.createElementVNode("tr",lk,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.settings.table.columns,u=>(o.openBlock(),o.createElementBlock("td",{style:o.normalizeStyle([u.hidden?"display: none":""]),key:u.name,"data-label":u.title?u.title:r.translate(u.name),width:u.width,class:o.normalizeClass(r.getValueOrFunction(u.class,{column:u,item:l})),onClick:p=>r.tableAction(u,l,c,p)},[u.index?(o.openBlock(),o.createElementBlock("div",dk,[o.createElementVNode("span",{class:o.normalizeClass(["cursor-pointer badge border badge-index p-1 w-100",{selected:i.selected.indexOf(l[e.settings.pkey])>=0}]),innerHTML:c+1+(i.config.pagination.page-1)*i.config.pagination.limit},null,10,hk)])):o.createCommentVNode("",!0),!u.template&&!u.input&&!u.progressbar?(o.openBlock(),o.createElementBlock("span",uk,o.toDisplayString(r.tableCellValue(u.name,l,c,u)),1)):o.createCommentVNode("",!0),u.template?(o.openBlock(),o.createElementBlock("span",{key:2,innerHTML:r.tableCellTemplate(u.template,l,c,u)},null,8,fk)):o.createCommentVNode("",!0),u.progressbar?(o.openBlock(),o.createElementBlock("div",{key:3,class:"progress",role:"progressbar","aria-label":"Warning example","aria-valuenow":l[u.name],"aria-valuemax":u.progressbar.max},[o.createElementVNode("div",{class:o.normalizeClass(["progress-bar",[u.progressbar.class]]),style:o.normalizeStyle({width:Math.round(l[u.name]/u.progressbar.max*100)+"%"})},[u.progressbar.value?(o.openBlock(),o.createElementBlock("span",mk,o.toDisplayString(l[u.name]),1)):o.createCommentVNode("",!0)],6)],8,pk)):o.createCommentVNode("",!0),u.input?(o.openBlock(),o.createElementBlock("div",gk,[u.input.prefix?(o.openBlock(),o.createElementBlock("span",{key:0,class:"input-group-text",innerHTML:r.getValueOrFunction(u.input.prefix,{column:u,item:l})},null,8,bk)):o.createCommentVNode("",!0),["text","number","date","datetime-local"].indexOf(u.input.type)>=0?o.withDirectives((o.openBlock(),o.createElementBlock("input",{key:1,type:u.input.type,class:o.normalizeClass(["form-control form-control-sm",r.getValueOrFunction(u.input.class,{column:u,item:l})]),onChange:p=>r.onRowInputChange(l[u.name],u,l,c),"onUpdate:modelValue":p=>l[u.name]=p},null,42,yk)),[[o.vModelDynamic,l[u.name]]]):o.createCommentVNode("",!0),u.input.type=="select"?o.withDirectives((o.openBlock(),o.createElementBlock("select",{key:2,class:o.normalizeClass(["form-select form-select-sm pe-0",r.getValueOrFunction(u.input.class,{column:u,item:l})]),onChange:p=>r.onRowInputChange(l[u.name],u,l,c),"onUpdate:modelValue":p=>l[u.name]=p},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(u.input.options,p=>(o.openBlock(),o.createElementBlock("option",{value:p.value,key:p},o.toDisplayString(r.translate(p.label)),9,_k))),128))],42,Ek)),[[o.vModelSelect,l[u.name]]]):o.createCommentVNode("",!0),u.input.suffix?(o.openBlock(),o.createElementBlock("span",{key:3,class:"input-group-text",innerHTML:r.getValueOrFunction(u.input.suffix,{column:u,item:l})},null,8,Tk)):o.createCommentVNode("",!0)])):o.createCommentVNode("",!0),u.buttons?(o.openBlock(),o.createElementBlock("span",Nk,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(u.buttons,p=>(o.openBlock(),o.createElementBlock("span",{key:p.action},[o.createElementVNode("button",{type:"button",disabled:p.disabled!==void 0?r.getValueOrFunction(p.disabled):null,class:o.normalizeClass([p.class?r.getValueOrFunction(p.class,{button:p,column:u,item:l,table:this}):r.getButtonClassByAction(p.action)]),onClick:m=>r.tableAction(p,l,c,m)},[p.icon!==null?(o.openBlock(),o.createElementBlock("i",{key:0,class:o.normalizeClass([p.icon!==void 0?r.getValueOrFunction(p.icon,{button:p,column:u,item:l,table:this}):r.getButtonIconClassByAction(p.action)])},null,2)):o.createCommentVNode("",!0),p.template?(o.openBlock(),o.createElementBlock("span",{key:1,innerHTML:r.tableCellTemplate(p.template,l,c,u)},null,8,wk)):(o.openBlock(),o.createElementBlock("span",kk,o.toDisplayString(r.translate(p.title)),1))],10,Ak)]))),128))])):o.createCommentVNode("",!0)],14,ck))),128))]),e.settings.table.details&&i.details.indexOf(l[e.settings.pkey])>=0?(o.openBlock(),o.createElementBlock("tr",Ck,[o.createElementVNode("td",{class:o.normalizeClass([e.settings.table.details.class]),colspan:e.settings.table.columns.length},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.settings.table.details.fields,u=>(o.openBlock(),o.createElementBlock("div",{class:"m-0",key:u},[o.createElementVNode("div",Sk,[o.createElementVNode("div",{class:o.normalizeClass(["col text-end",[u.class]])},[o.createElementVNode("label",Ok,o.toDisplayString(u.label),1)],2),o.createElementVNode("div",{class:o.normalizeClass(["col",[u.input.class]])},[["select","textarea"].indexOf(u.input.type)<0?o.withDirectives((o.openBlock(),o.createElementBlock("input",{key:0,type:u.input.type,class:"form-control form-control-sm","onUpdate:modelValue":p=>l[u.name]=p,onChange:p=>r.onRowInputChange(l[u.name],u,l,c)},null,40,Lk)),[[o.vModelDynamic,l[u.name]]]):o.createCommentVNode("",!0),u.input.type=="textarea"?o.withDirectives((o.openBlock(),o.createElementBlock("textarea",{key:1,class:"form-control form-control-sm",rows:"3","onUpdate:modelValue":p=>l[u.name]=p,onChange:p=>r.onRowInputChange(l[u.name],u,l,c)},`\r
                    `,40,xk)),[[o.vModelText,l[u.name]]]):o.createCommentVNode("",!0),u.input.type=="select"?o.withDirectives((o.openBlock(),o.createElementBlock("select",{key:2,class:"form-select form-select-sm pe-0","onUpdate:modelValue":p=>l[u.name]=p,onChange:p=>r.onRowInputChange(l[u.name],u,l,c)},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(u.input.options,p=>(o.openBlock(),o.createElementBlock("option",{value:p.value,key:p},o.toDisplayString(r.translate(p.label)),9,Ik))),128))],40,Bk)),[[o.vModelSelect,l[u.name]]]):o.createCommentVNode("",!0)],2)])]))),128)),o.createElementVNode("span",{innerHTML:e.settings.table.details.raw(l)},null,8,Dk),e.settings.debug?(o.openBlock(),o.createElementBlock("pre",Rk,"                "+o.toDisplayString(l)+`
              `,1)):o.createCommentVNode("",!0)],10,vk)])):o.createCommentVNode("",!0)],64))),128))]),o.createElementVNode("tfoot",null,[i.selected.length>0?(o.openBlock(),o.createElementBlock("tr",Vk,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.settings.table.columns,l=>(o.openBlock(),o.createElementBlock("td",{style:o.normalizeStyle([l.hidden?"display: none":""]),key:l.name,"data-label":l.title,width:l.width,class:o.normalizeClass(l.class)},[l.index?(o.openBlock(),o.createElementBlock("div",qk,[o.createElementVNode("span",{class:"cursor-pointer d-inline-block badge border badge-index-toggle active py-1 px-2 me-1 my-2 w-100",onClick:t[13]||(t[13]=c=>r.toggleSelectedAll())},o.toDisplayString(i.selected.length),1)])):o.createCommentVNode("",!0),l.input&&l.bulk&&l.bulk.enabled?(o.openBlock(),o.createElementBlock("div",$k,[["text","number","date","datetime-local"].indexOf(l.input.type)>=0?o.withDirectives((o.openBlock(),o.createElementBlock("input",{key:0,type:l.input.type,class:o.normalizeClass(["form-control form-control-sm",l.input.class]),disabled:i.bulkinputs.indexOf(l.name)<0,onChange:c=>r.onBulkInputChange(i.bulkitem[l.name],i.bulkitem,l),"onUpdate:modelValue":c=>i.bulkitem[l.name]=c},null,42,Pk)),[[o.vModelDynamic,i.bulkitem[l.name]]]):o.createCommentVNode("",!0),l.input.type=="select"?o.withDirectives((o.openBlock(),o.createElementBlock("select",{key:1,class:o.normalizeClass(["form-select form-select-sm pe-0",l.input.class]),disabled:i.bulkinputs.indexOf(l.name)<0,onChange:c=>r.onBulkInputChange(i.bulkitem[l.name],i.bulkitem,l),"onUpdate:modelValue":c=>i.bulkitem[l.name]=c},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(l.input.options,c=>(o.openBlock(),o.createElementBlock("option",{value:c.value,key:c},o.toDisplayString(r.translate(c.label)),9,Fk))),128))],42,jk)),[[o.vModelSelect,i.bulkitem[l.name]]]):o.createCommentVNode("",!0),o.createElementVNode("span",{class:"input-group-text cursor-pointer",onClick:c=>r.ifBulkInputClick(l)},[i.bulkitem[l.name]===void 0?(o.openBlock(),o.createElementBlock("i",Hk)):(o.openBlock(),o.createElementBlock("i",zk))],8,Uk)])):o.createCommentVNode("",!0),l.bulk?(o.openBlock(),o.createElementBlock("span",Wk,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(l.bulk.buttons,c=>(o.openBlock(),o.createElementBlock("span",{key:c.action},[o.createElementVNode("button",{type:"button",class:o.normalizeClass([c.class?c.class:r.getButtonClassByAction(c.action)]),disabled:c.action==="save"&&!this.bulkinputs.length,onClick:u=>r.tableBulkAction(c.action,i.bulkitem,l,u)},[c.icon!==null?(o.openBlock(),o.createElementBlock("i",{key:0,class:o.normalizeClass([c.icon!==void 0?r.getValueOrFunction(c.icon,{button:c,column:l,table:this}):r.getButtonIconClassByAction(c.action)])},null,2)):o.createCommentVNode("",!0),c.template?(o.openBlock(),o.createElementBlock("span",{key:1,innerHTML:r.tableCellTemplate(c.template,i.bulkitem,null,l)},null,8,Gk)):(o.openBlock(),o.createElementBlock("span",Yk,o.toDisplayString(r.translate(c.title)),1))],10,Kk)]))),128))])):o.createCommentVNode("",!0)],14,Mk))),128))])):o.createCommentVNode("",!0)])],2)):o.createCommentVNode("",!0),o.createVNode(a,{settings:e.settings,config:i.config,ui:i.ui,onSetPage:r.setPage,onSetPageLimit:r.setPageLimit,onTranslate:r.translate},null,8,["settings","config","ui","onSetPage","onSetPageLimit","onTranslate"]),o.createElementVNode("div",{class:"modal shadow",id:i.modalId,tabindex:"-1"},[o.createElementVNode("div",Zk,[o.createElementVNode("div",Qk,[i.item?(o.openBlock(),o.createElementBlock("form",{key:0,ref:"form",id:n.formId,class:o.normalizeClass(["form",[e.settings.form.class,{wait:i.ui.wait.form}]]),onSubmit:t[25]||(t[25]=o.withModifiers((...l)=>r.submitItem&&r.submitItem(...l),["prevent"])),"data-bs-theme":[e.settings.theme]},[o.createElementVNode("div",{class:o.normalizeClass(["vua-overlay",{blocked:i.ui.block.form}])},null,2),o.createElementVNode("div",tC,[o.createElementVNode("h5",eC,[e.settings.form.title&&typeof e.settings.form.title=="function"?(o.openBlock(),o.createElementBlock("span",{key:0,innerHTML:e.settings.form.title(i.item,e.settings)},null,8,nC)):o.createCommentVNode("",!0),e.settings.form.title&&typeof e.settings.form.title=="string"?(o.openBlock(),o.createElementBlock("span",sC,o.toDisplayString(r.translate(e.settings.form.title)),1)):o.createCommentVNode("",!0),e.settings.form.title?o.createCommentVNode("",!0):(o.openBlock(),o.createElementBlock("span",iC,o.toDisplayString(r.translate("Edit")),1))]),i.message.form?(o.openBlock(),o.createElementBlock("span",rC,[o.createElementVNode("span",{class:o.normalizeClass(["text-"+i.message.form.priority])},[t[32]||(t[32]=o.createElementVNode("i",{class:"bi bi-envelope-fill me-2"},null,-1)),o.createElementVNode("span",{innerHTML:i.message.form.msg},null,8,oC)],2)])):o.createCommentVNode("",!0),o.withDirectives(o.createElementVNode("span",aC,t[33]||(t[33]=[o.createElementVNode("span",{class:"visually-hidden"},"Loading...",-1)]),512),[[o.vShow,i.ui.wait.form]]),t[34]||(t[34]=o.createElementVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),i.item?(o.openBlock(),o.createElementBlock("div",lC,[o.createElementVNode("div",null,[o.createElementVNode("button",{type:"button",class:"btn btn-sm btn-secondary m-1",onClick:t[14]||(t[14]=l=>r.reloadItem()),disabled:!i.item[e.settings.pkey]},[t[35]||(t[35]=o.createElementVNode("i",{class:"bi bi-arrow-clockwise"},null,-1)),o.createTextVNode(" "+o.toDisplayString(r.translate("Reload")),1)],8,cC),o.createElementVNode("button",{type:"button",class:"btn btn-sm btn-outline-warning m-1",onClick:t[15]||(t[15]=l=>r.createItem())},[t[36]||(t[36]=o.createElementVNode("i",{class:"bi bi-plus-circle"},null,-1)),o.createTextVNode(" "+o.toDisplayString(r.translate("New")),1)]),o.createElementVNode("button",{type:"button",class:"btn btn-sm btn-outline-warning m-1",onClick:t[16]||(t[16]=l=>r.copyItem())},[t[37]||(t[37]=o.createElementVNode("i",{class:"bi bi-copy"},null,-1)),o.createTextVNode(" "+o.toDisplayString(r.translate("Copy")),1)]),o.createElementVNode("button",{type:"button",class:"btn btn-sm btn-danger m-1",onClick:t[17]||(t[17]=l=>r.deleteItem()),disabled:!i.item[e.settings.pkey]},[t[38]||(t[38]=o.createElementVNode("i",{class:"bi bi-trash"},null,-1)),o.createTextVNode(" "+o.toDisplayString(r.translate("Delete")),1)],8,dC)]),o.createElementVNode("div",null,[i.messages.form.length?(o.openBlock(),o.createElementBlock("div",hC,[o.createElementVNode("div",uC,[o.createElementVNode("button",{class:o.normalizeClass(["btn btn-sm dropdown-toggle",["btn-"+i.messages.form[0].priority]]),type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",innerHTML:i.messages.form.length+" "+(i.messages.form.length>1?r.translate("messages"):r.translate("message"))},null,10,fC),o.createElementVNode("ul",pC,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(i.messages.form,l=>(o.openBlock(),o.createElementBlock("li",{key:l},[o.createElementVNode("span",{class:o.normalizeClass(["dropdown-item",["text-"+l.priority]])},[o.createElementVNode("small",mC,o.toDisplayString(l.datetime),1),o.createElementVNode("span",{innerHTML:l.msg},null,8,gC)],2)]))),128))])])])):o.createCommentVNode("",!0),o.createElementVNode("button",bC,[t[39]||(t[39]=o.createElementVNode("i",{class:"bi bi-x"},null,-1)),o.createTextVNode(" "+o.toDisplayString(r.translate("Close")),1)]),o.createElementVNode("button",yC,[t[40]||(t[40]=o.createElementVNode("i",{class:"bi bi-save"},null,-1)),o.createTextVNode(" "+o.toDisplayString(r.translate("Save")),1)]),o.createElementVNode("button",{type:"button",class:"btn btn-sm btn-success m-1",onClick:t[18]||(t[18]=(...l)=>r.submitAndClose&&r.submitAndClose(...l))},[t[41]||(t[41]=o.createElementVNode("i",{class:"bi bi-save"},null,-1)),o.createTextVNode(" "+o.toDisplayString(r.translate("Save and close")),1)])])])):o.createCommentVNode("",!0),e.settings.form?(o.openBlock(),o.createElementBlock("div",EC,[i.item&&e.settings.form.groups?(o.openBlock(),o.createBlock(d,{key:0,modelValue:i.item,"onUpdate:modelValue":t[19]||(t[19]=l=>i.item=l),formid:n.formId,settings:e.settings},null,8,["modelValue","formid","settings"])):o.createCommentVNode("",!0)])):o.createCommentVNode("",!0),i.item?(o.openBlock(),o.createElementBlock("div",_C,[o.createElementVNode("div",null,[o.createElementVNode("button",{type:"button",class:"btn btn-secondary m-1",onClick:t[20]||(t[20]=l=>r.reloadItem()),disabled:!i.item[e.settings.pkey]},[t[42]||(t[42]=o.createElementVNode("i",{class:"bi bi-arrow-clockwise"},null,-1)),o.createTextVNode(" "+o.toDisplayString(r.translate("Reload")),1)],8,TC),o.createElementVNode("button",{type:"button",class:"btn btn-outline-warning m-1",onClick:t[21]||(t[21]=l=>r.createItem())},[t[43]||(t[43]=o.createElementVNode("i",{class:"bi bi-plus-circle"},null,-1)),o.createTextVNode(" "+o.toDisplayString(r.translate("New")),1)]),o.createElementVNode("button",{type:"button",class:"btn btn-outline-warning m-1",onClick:t[22]||(t[22]=l=>r.copyItem())},[t[44]||(t[44]=o.createElementVNode("i",{class:"bi bi-copy"},null,-1)),o.createTextVNode(" "+o.toDisplayString(r.translate("Copy")),1)]),o.createElementVNode("button",{type:"button",class:"btn btn-danger m-1",onClick:t[23]||(t[23]=l=>r.deleteItem()),disabled:!i.item[e.settings.pkey]},[t[45]||(t[45]=o.createElementVNode("i",{class:"bi bi-trash"},null,-1)),o.createTextVNode(" "+o.toDisplayString(r.translate("Delete")),1)],8,NC)]),o.createElementVNode("div",null,[o.createElementVNode("button",AC,[t[46]||(t[46]=o.createElementVNode("i",{class:"bi bi-x"},null,-1)),o.createTextVNode(" "+o.toDisplayString(r.translate("Close")),1)]),o.createElementVNode("button",wC,[t[47]||(t[47]=o.createElementVNode("i",{class:"bi bi-save"},null,-1)),o.createTextVNode(" "+o.toDisplayString(r.translate("Save")),1)]),o.createElementVNode("button",{type:"button",class:"btn btn-success m-1",onClick:t[24]||(t[24]=(...l)=>r.submitAndClose&&r.submitAndClose(...l))},[t[48]||(t[48]=o.createElementVNode("i",{class:"bi bi-save"},null,-1)),o.createTextVNode(" "+o.toDisplayString(r.translate("Save and close")),1)])])])):o.createCommentVNode("",!0)],42,Jk)):o.createCommentVNode("",!0),e.settings.debug?(o.openBlock(),o.createElementBlock("pre",kC,"        "+o.toDisplayString(i.item)+`
      `,1)):o.createCommentVNode("",!0)])])],8,Xk)],10,DA)])):o.createCommentVNode("",!0)}const vC={name:"VuAdmin",props:{entity:{type:String,required:!0}},init:n=>{n&&console.log("",n)},data(){return{settings:void 0,defaults:{pkey:"id",theme:void 0,class:"my-1 p-3 rounded",init:null,language:document.documentElement?document.documentElement.lang:"hu",api:{auth:void 0,options:{},input:{item:void 0,items:void 0,total:void 0},output:{item:void 0,flatten:!0,fields:void 0}},translate:{hu:{Columns:"Oszlopok",All:"Mind",page:"oldal",row:"sor",hidden:"rejtett",First:"Els",Next:"Kvetkez",Prev:"Elz",Last:"Utols",Reload:"jratlts",New:"j",Active:"Aktv",Deleted:"Trlt",Copy:"Msols",Delete:"Trls",Close:"Bezr",Save:"Ments",Send:"Klds",Export:"Exportls","Select all":"Mind kivlaszt","Unselect all":"Mind trl","Invert all":"Kijellsek megfordtsa","Visible all":"Mind lthat","Hidden all":"Mind rejtett","Save and close":"Ment s bezr","=":"Egyenl",">":"Nagyobb",">=":"Nagyobb vagy egyenl","<":"Kisebb","<=":"Kisebb vagy egyenl","Are you sure you want to delete all selected items?":"Biztos hogy trlni akarod az sszes kivlasztott elemet?"}},events:{afterSettingsInit:void 0,beforeItemsLoad:void 0,afterItemsLoad:void 0,afterItemLoad:void 0,beforeItemSave:void 0,afterItemSave:void 0,beforeItemDelete:void 0,afterItemDelete:void 0,beforeBulkSave:void 0,afterBulkSave:void 0,beforeItemsExport:void 0},relations:{},table:{title:null,columns:[],pagination:{size:10,limit:10,limits:[10,20,50,100]},order:{},control:{},details:{},exports:{}},form:{}}}},created(){if(window.VuEntities&&window.VuEntities[this.entity]){if(this.settings=Wc(this.defaults,window.VuEntities[this.entity]),this.settings.entity=this.entity,!this.settings.theme){const n=document.documentElement.getAttribute("data-bs-theme");this.settings.theme=n||"light"}this.settings.events.afterSettingsInit&&this.settings.events.afterSettingsInit(this.settings)}else console.error(`Entity config (${this.entity}) not found`)},mounted(){},methods:{},components:{VuAdminTable:as(BA,[["render",CC],["__scopeId","data-v-63d54515"]])}},SC={key:0},OC=["data-bs-theme"];function LC(n,t,e,s,i,r){const a=o.resolveComponent("vu-admin-table");return e.entity&&i.settings?(o.openBlock(),o.createElementBlock("div",SC,[o.createElementVNode("div",{class:"vu-admin","data-bs-theme":[i.settings.theme]},[o.createVNode(a,{settings:i.settings},null,8,["settings"])],8,OC)])):o.createCommentVNode("",!0)}const cu=as(vC,[["render",LC]]),xC={install(n){n.component("VuAdmin",cu)}};W.VuAdmin=cu,W.default=xC,Object.defineProperties(W,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
